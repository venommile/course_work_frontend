__i18n__={i18n:{}},__i18n__.i18n.convert=function(e,t){var n=e.length;if(4==n&&1==t)return e[0];var r=t%100,i=t%10,o=2;return r>10&&r<=20?o=2:1==i?o=0:i>1&&i<5&&(o=1),4==n&&o++,e[o]},__i18n__.i18n.if=function(e,t,n){return e?t:n},__i18n__.i18n.index=function(e,t){return e[+t]},__i18n__.i18n.plural=function(e,t,n){return e>1?t:n},(function(e){function t(t){for(var n,r,o=t[0],a=t[1],s=0,u=[];s<o.length;s++)r=o[s],i[r]&&u.push(i[r][0]),i[r]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(c&&c(t);u.length;)u.shift()()}var n={},r={5:0},i={5:0};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[];r[e]?t.push(r[e]):0!==r[e]&&{0:1,1:1,2:1,3:1,6:1,10:1,11:1,12:1,13:1,14:1,15:1}[e]&&t.push(r[e]=new Promise(function(t,n){for(var i="_"+({0:"album2~photo2~remember-block",1:"album2~photo2",2:"access-folder-dialog",3:"album2",4:"albums2",6:"fotki-info-dialog",7:"grid-10",8:"grid-12",9:"grid-6",10:"journal",11:"listing",12:"photo2",13:"remember-block",14:"tuning-page",15:"version-dialog"}[e]||e)+".ru."+{0:"2062eb0b387134bb685e",1:"60b54ecddd6fcc5106c9",2:"ff1d8ea20faba8184562",3:"f229c2c68e32fa95d501",4:"31d6cfe0d16ae931b73c",6:"24c42041b2d8649902df",7:"31d6cfe0d16ae931b73c",8:"31d6cfe0d16ae931b73c",9:"31d6cfe0d16ae931b73c",10:"1b1572408bf20bd41b69",11:"ce59690c62d62ebe24de",12:"977f06b3751eb3956758",13:"db3090870438e743af8d",14:"c86f69cf05c26b8cff92",15:"354a398e8ae336fea0a1"}[e]+".css",a=o.p+i,s=document.getElementsByTagName("link"),u=0;u<s.length;u++){var c=(d=s[u]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(c===i||c===a))return t()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){var d;if((c=(d=l[u]).getAttribute("data-href"))===i||c===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var i=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");o.request=i,delete r[e],f.parentNode.removeChild(f),n(o)},f.href=a,document.getElementsByTagName("head")[0].appendChild(f)}).then((function(){r[e]=0})));var n=i[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise(function(t,r){n=i[e]=[t,r]});t.push(n[2]=a);var s,u=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=(function(e){return o.p+"_"+({0:"album2~photo2~remember-block",1:"album2~photo2",2:"access-folder-dialog",3:"album2",4:"albums2",6:"fotki-info-dialog",7:"grid-10",8:"grid-12",9:"grid-6",10:"journal",11:"listing",12:"photo2",13:"remember-block",14:"tuning-page",15:"version-dialog"}[e]||e)+".ru."+{0:"fd4b9e3eb85d9bebe30d",1:"3c159c50410a5bd2d88b",2:"2f300750db4af8d283c4",3:"dd7ab0ecb1994717ae2b",4:"1471cfb5b88996446f2b",6:"d476e00b3279b3d8960a",7:"f36943e72b777a403c4e",8:"80d687e0fd04ded2f7e9",9:"206b56d672da26d5347e",10:"72e85cd44e718a662bfd",11:"6402e5b3fc90b23f3bad",12:"47a7f726e27dd75c57b0",13:"ad35205c1c5dcd64ab3f",14:"1348982920cdb74129a4",15:"4e3f01f1d29bdebbade4"}[e]+".js"})(e),s=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+r+": "+o+")");a.type=r,a.request=o,n[1](a)}i[e]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:c})}),12e4);c.onerror=c.onload=s,u.appendChild(c)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var c=s;o(o.s=1808)})([(function(e,t){e.exports=React}),(function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return d})),n.d(t,"__createBinding",(function(){return f})),n.d(t,"__exportStar",(function(){return h})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return m})),n.d(t,"__spread",(function(){return v})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__spreadArray",(function(){return y})),n.d(t,"__await",(function(){return b})),n.d(t,"__asyncGenerator",(function(){return _})),n.d(t,"__asyncDelegator",(function(){return O})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return E})),n.d(t,"__importStar",(function(){return C})),n.d(t,"__importDefault",(function(){return x})),n.d(t,"__classPrivateFieldGet",(function(){return k})),n.d(t,"__classPrivateFieldSet",(function(){return T}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}}var f=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function h(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})})}function s(e,t){try{!(function(e){e.value instanceof b?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)})(i[e](t))}catch(e){l(o[0][3],e)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function O(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var S=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return S(t,e),t}function x(e){return e&&e.__esModule?e:{default:e}}function k(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function T(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}}),(function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){var r=n(847);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";e.exports=n(860)}),(function(e,t,n){var r=n(165).default,i=n(8);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){(function(e,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",d=500,f="__lodash_placeholder__",h=1,p=2,m=4,v=1,g=2,y=1,b=2,_=4,O=8,w=16,E=32,S=64,C=128,x=256,k=512,T=30,j="...",R=800,P=16,D=1,I=2,A=1/0,M=9007199254740991,N=1.7976931348623157e308,L=NaN,F=4294967295,B=F-1,U=F>>>1,z=[["ary",C],["bind",y],["bindKey",b],["curry",O],["curryRight",w],["flip",k],["partial",E],["partialRight",S],["rearg",x]],V="[object Arguments]",H="[object Array]",W="[object AsyncFunction]",G="[object Boolean]",q="[object Date]",$="[object DOMException]",Y="[object Error]",K="[object Function]",X="[object GeneratorFunction]",Z="[object Map]",J="[object Number]",Q="[object Null]",ee="[object Object]",te="[object Proxy]",ne="[object RegExp]",re="[object Set]",ie="[object String]",oe="[object Symbol]",ae="[object Undefined]",se="[object WeakMap]",ue="[object WeakSet]",ce="[object ArrayBuffer]",le="[object DataView]",de="[object Float32Array]",fe="[object Float64Array]",he="[object Int8Array]",pe="[object Int16Array]",me="[object Int32Array]",ve="[object Uint8Array]",ge="[object Uint8ClampedArray]",ye="[object Uint16Array]",be="[object Uint32Array]",_e=/\b__p \+= '';/g,Oe=/\b(__p \+=) '' \+/g,we=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ee=/&(?:amp|lt|gt|quot|#39);/g,Se=/[&<>"']/g,Ce=RegExp(Ee.source),xe=RegExp(Se.source),ke=/<%-([\s\S]+?)%>/g,Te=/<%([\s\S]+?)%>/g,je=/<%=([\s\S]+?)%>/g,Re=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pe=/^\w*$/,De=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ie=/[\\^$.*+?()[\]{}|]/g,Ae=RegExp(Ie.source),Me=/^\s+/,Ne=/\s/,Le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fe=/\{\n\/\* \[wrapped with (.+)\] \*/,Be=/,? & /,Ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ze=/[()=,{}\[\]\/\s]/,Ve=/\\(\\)?/g,He=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,We=/\w*$/,Ge=/^[-+]0x[0-9a-f]+$/i,qe=/^0b[01]+$/i,$e=/^\[object .+?Constructor\]$/,Ye=/^0o[0-7]+$/i,Ke=/^(?:0|[1-9]\d*)$/,Xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ze=/($^)/,Je=/['\n\r\u2028\u2029\\]/g,Qe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",et="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tt="[\\ud800-\\udfff]",nt="["+et+"]",rt="["+Qe+"]",it="\\d+",ot="[\\u2700-\\u27bf]",at="[a-z\\xdf-\\xf6\\xf8-\\xff]",st="[^\\ud800-\\udfff"+et+it+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ut="\\ud83c[\\udffb-\\udfff]",ct="[^\\ud800-\\udfff]",lt="(?:\\ud83c[\\udde6-\\uddff]){2}",dt="[\\ud800-\\udbff][\\udc00-\\udfff]",ft="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ht="(?:"+at+"|"+st+")",pt="(?:"+ft+"|"+st+")",mt="(?:"+rt+"|"+ut+")"+"?",vt="[\\ufe0e\\ufe0f]?"+mt+("(?:\\u200d(?:"+[ct,lt,dt].join("|")+")[\\ufe0e\\ufe0f]?"+mt+")*"),gt="(?:"+[ot,lt,dt].join("|")+")"+vt,yt="(?:"+[ct+rt+"?",rt,lt,dt,tt].join("|")+")",bt=RegExp("['’]","g"),_t=RegExp(rt,"g"),Ot=RegExp(ut+"(?="+ut+")|"+yt+vt,"g"),wt=RegExp([ft+"?"+at+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[nt,ft,"$"].join("|")+")",pt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[nt,ft+ht,"$"].join("|")+")",ft+"?"+ht+"+(?:['’](?:d|ll|m|re|s|t|ve))?",ft+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",it,gt].join("|"),"g"),Et=RegExp("[\\u200d\\ud800-\\udfff"+Qe+"\\ufe0e\\ufe0f]"),St=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ct=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xt=-1,kt={};kt[de]=kt[fe]=kt[he]=kt[pe]=kt[me]=kt[ve]=kt[ge]=kt[ye]=kt[be]=!0,kt[V]=kt[H]=kt[ce]=kt[G]=kt[le]=kt[q]=kt[Y]=kt[K]=kt[Z]=kt[J]=kt[ee]=kt[ne]=kt[re]=kt[ie]=kt[se]=!1;var Tt={};Tt[V]=Tt[H]=Tt[ce]=Tt[le]=Tt[G]=Tt[q]=Tt[de]=Tt[fe]=Tt[he]=Tt[pe]=Tt[me]=Tt[Z]=Tt[J]=Tt[ee]=Tt[ne]=Tt[re]=Tt[ie]=Tt[oe]=Tt[ve]=Tt[ge]=Tt[ye]=Tt[be]=!0,Tt[Y]=Tt[K]=Tt[se]=!1;var jt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Rt=parseFloat,Pt=parseInt,Dt="object"==typeof e&&e&&e.Object===Object&&e,It="object"==typeof self&&self&&self.Object===Object&&self,At=Dt||It||Function("return this")(),Mt=t&&!t.nodeType&&t,Nt=Mt&&"object"==typeof r&&r&&!r.nodeType&&r,Lt=Nt&&Nt.exports===Mt,Ft=Lt&&Dt.process,Bt=(function(){try{var e=Nt&&Nt.require&&Nt.require("util").types;return e||Ft&&Ft.binding&&Ft.binding("util")}catch(e){}})(),Ut=Bt&&Bt.isArrayBuffer,zt=Bt&&Bt.isDate,Vt=Bt&&Bt.isMap,Ht=Bt&&Bt.isRegExp,Wt=Bt&&Bt.isSet,Gt=Bt&&Bt.isTypedArray;function qt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function $t(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function Yt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Kt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Xt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Zt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Jt(e,t){return!!(null==e?0:e.length)&&cn(e,t,0)>-1}function Qt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function en(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function tn(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function nn(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function rn(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function on(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var an=hn("length");function sn(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function un(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function cn(e,t,n){return t==t?(function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1})(e,t,n):un(e,dn,n)}function ln(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function dn(e){return e!=e}function fn(e,t){var n=null==e?0:e.length;return n?vn(e,t)/n:L}function hn(e){return function(t){return null==t?o:t[e]}}function pn(e){return function(t){return null==e?o:e[t]}}function mn(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function vn(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function gn(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function yn(e){return e?e.slice(0,Mn(e)+1).replace(Me,""):e}function bn(e){return function(t){return e(t)}}function _n(e,t){return en(t,(function(t){return e[t]}))}function On(e,t){return e.has(t)}function wn(e,t){for(var n=-1,r=e.length;++n<r&&cn(t,e[n],0)>-1;);return n}function En(e,t){for(var n=e.length;n--&&cn(t,e[n],0)>-1;);return n}var Sn=pn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Cn=pn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function xn(e){return"\\"+jt[e]}function kn(e){return Et.test(e)}function Tn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function jn(e,t){return function(n){return e(t(n))}}function Rn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==f||(e[n]=f,o[i++]=n)}return o}function Pn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function In(e){return kn(e)?(function(e){var t=Ot.lastIndex=0;for(;Ot.test(e);)++t;return t})(e):an(e)}function An(e){return kn(e)?(function(e){return e.match(Ot)||[]})(e):(function(e){return e.split("")})(e)}function Mn(e){for(var t=e.length;t--&&Ne.test(e.charAt(t)););return t}var Nn=pn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ln=(function e(t){var n=(t=null==t?At:Ln.defaults(At.Object(),t,Ln.pick(At,Ct))).Array,r=t.Date,i=t.Error,Ne=t.Function,Qe=t.Math,et=t.Object,tt=t.RegExp,nt=t.String,rt=t.TypeError,it=n.prototype,ot=Ne.prototype,at=et.prototype,st=t["__core-js_shared__"],ut=ot.toString,ct=at.hasOwnProperty,lt=0,dt=(function(){var e=/[^.]+$/.exec(st&&st.keys&&st.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})(),ft=at.toString,ht=ut.call(et),pt=At._,mt=tt("^"+ut.call(ct).replace(Ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=Lt?t.Buffer:o,gt=t.Symbol,yt=t.Uint8Array,Ot=vt?vt.allocUnsafe:o,Et=jn(et.getPrototypeOf,et),jt=et.create,Dt=at.propertyIsEnumerable,It=it.splice,Mt=gt?gt.isConcatSpreadable:o,Nt=gt?gt.iterator:o,Ft=gt?gt.toStringTag:o,Bt=(function(){try{var e=Uo(et,"defineProperty");return e({},"",{}),e}catch(e){}})(),an=t.clearTimeout!==At.clearTimeout&&t.clearTimeout,pn=r&&r.now!==At.Date.now&&r.now,Fn=t.setTimeout!==At.setTimeout&&t.setTimeout,Bn=Qe.ceil,Un=Qe.floor,zn=et.getOwnPropertySymbols,Vn=vt?vt.isBuffer:o,Hn=t.isFinite,Wn=it.join,Gn=jn(et.keys,et),qn=Qe.max,$n=Qe.min,Yn=r.now,Kn=t.parseInt,Xn=Qe.random,Zn=it.reverse,Jn=Uo(t,"DataView"),Qn=Uo(t,"Map"),er=Uo(t,"Promise"),tr=Uo(t,"Set"),nr=Uo(t,"WeakMap"),rr=Uo(et,"create"),ir=nr&&new nr,or={},ar=fa(Jn),sr=fa(Qn),ur=fa(er),cr=fa(tr),lr=fa(nr),dr=gt?gt.prototype:o,fr=dr?dr.valueOf:o,hr=dr?dr.toString:o;function pr(e){if(js(e)&&!ys(e)&&!(e instanceof yr)){if(e instanceof gr)return e;if(ct.call(e,"__wrapped__"))return ha(e)}return new gr(e)}var mr=(function(){function e(){}return function(t){if(!Ts(t))return{};if(jt)return jt(t);e.prototype=t;var n=new e;return e.prototype=o,n}})();function vr(){}function gr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function yr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=F,this.__views__=[]}function br(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Or(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function wr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Or;++t<n;)this.add(e[t])}function Er(e){var t=this.__data__=new _r(e);this.size=t.size}function Sr(e,t){var n=ys(e),r=!n&&gs(e),i=!n&&!r&&ws(e),o=!n&&!r&&!i&&Ls(e),a=n||r||i||o,s=a?gn(e.length,nt):[],u=s.length;for(var c in e)!t&&!ct.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||$o(c,u))||s.push(c);return s}function Cr(e){var t=e.length;return t?e[wi(0,t-1)]:o}function xr(e,t){return ca(ro(e),Mr(t,0,e.length))}function kr(e){return ca(ro(e))}function Tr(e,t,n){(n===o||ps(e[t],n))&&(n!==o||t in e)||Ir(e,t,n)}function jr(e,t,n){var r=e[t];ct.call(e,t)&&ps(r,n)&&(n!==o||t in e)||Ir(e,t,n)}function Rr(e,t){for(var n=e.length;n--;)if(ps(e[n][0],t))return n;return-1}function Pr(e,t,n,r){return Ur(e,(function(e,i,o){t(r,e,n(e),o)})),r}function Dr(e,t){return e&&io(t,ou(t),e)}function Ir(e,t,n){"__proto__"==t&&Bt?Bt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ar(e,t){for(var r=-1,i=t.length,a=n(i),s=null==e;++r<i;)a[r]=s?o:eu(e,t[r]);return a}function Mr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function Nr(e,t,n,r,i,a){var s,u=t&h,c=t&p,l=t&m;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!Ts(e))return e;var d=ys(e);if(d){if(s=(function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ct.call(e,"index")&&(n.index=e.index,n.input=e.input),n})(e),!u)return ro(e,s)}else{var f=Ho(e),v=f==K||f==X;if(ws(e))return Zi(e,u);if(f==ee||f==V||v&&!i){if(s=c||v?{}:Go(e),!u)return c?(function(e,t){return io(e,Vo(e),t)})(e,(function(e,t){return e&&io(t,au(t),e)})(s,e)):(function(e,t){return io(e,zo(e),t)})(e,Dr(s,e))}else{if(!Tt[f])return i?e:{};s=(function(e,t,n){var r=e.constructor;switch(t){case ce:return Ji(e);case G:case q:return new r(+e);case le:return (function(e,t){var n=t?Ji(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)})(e,n);case de:case fe:case he:case pe:case me:case ve:case ge:case ye:case be:return Qi(e,n);case Z:return new r;case J:case ie:return new r(e);case ne:return (function(e){var t=new e.constructor(e.source,We.exec(e));return t.lastIndex=e.lastIndex,t})(e);case re:return new r;case oe:return (function(e){return fr?et(fr.call(e)):{}})(e)}})(e,f,u)}}a||(a=new Er);var g=a.get(e);if(g)return g;a.set(e,s),As(e)?e.forEach((function(r){s.add(Nr(r,t,n,r,e,a))})):Rs(e)&&e.forEach((function(r,i){s.set(i,Nr(r,t,n,i,e,a))}));var y=d?o:(l?c?Io:Do:c?au:ou)(e);return Yt(y||e,(function(r,i){y&&(r=e[i=r]),jr(s,i,Nr(r,t,n,i,e,a))})),s}function Lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=et(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function Fr(e,t,n){if("function"!=typeof e)throw new rt(u);return oa((function(){e.apply(o,n)}),t)}function Br(e,t,n,r){var i=-1,o=Jt,s=!0,u=e.length,c=[],l=t.length;if(!u)return c;n&&(t=en(t,bn(n))),r?(o=Qt,s=!1):t.length>=a&&(o=On,s=!1,t=new wr(t));e:for(;++i<u;){var d=e[i],f=null==n?d:n(d);if(d=r||0!==d?d:0,s&&f==f){for(var h=l;h--;)if(t[h]===f)continue e;c.push(d)}else o(t,f,r)||c.push(d)}return c}pr.templateSettings={escape:ke,evaluate:Te,interpolate:je,variable:"",imports:{_:pr}},pr.prototype=vr.prototype,pr.prototype.constructor=pr,gr.prototype=mr(vr.prototype),gr.prototype.constructor=gr,yr.prototype=mr(vr.prototype),yr.prototype.constructor=yr,br.prototype.clear=function(){this.__data__=rr?rr(null):{},this.size=0},br.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},br.prototype.get=function(e){var t=this.__data__;if(rr){var n=t[e];return n===l?o:n}return ct.call(t,e)?t[e]:o},br.prototype.has=function(e){var t=this.__data__;return rr?t[e]!==o:ct.call(t,e)},br.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=rr&&t===o?l:t,this},_r.prototype.clear=function(){this.__data__=[],this.size=0},_r.prototype.delete=function(e){var t=this.__data__,n=Rr(t,e);return!(n<0||(n==t.length-1?t.pop():It.call(t,n,1),--this.size,0))},_r.prototype.get=function(e){var t=this.__data__,n=Rr(t,e);return n<0?o:t[n][1]},_r.prototype.has=function(e){return Rr(this.__data__,e)>-1},_r.prototype.set=function(e,t){var n=this.__data__,r=Rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Or.prototype.clear=function(){this.size=0,this.__data__={hash:new br,map:new(Qn||_r),string:new br}},Or.prototype.delete=function(e){var t=Fo(this,e).delete(e);return this.size-=t?1:0,t},Or.prototype.get=function(e){return Fo(this,e).get(e)},Or.prototype.has=function(e){return Fo(this,e).has(e)},Or.prototype.set=function(e,t){var n=Fo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},wr.prototype.add=wr.prototype.push=function(e){return this.__data__.set(e,l),this},wr.prototype.has=function(e){return this.__data__.has(e)},Er.prototype.clear=function(){this.__data__=new _r,this.size=0},Er.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Er.prototype.get=function(e){return this.__data__.get(e)},Er.prototype.has=function(e){return this.__data__.has(e)},Er.prototype.set=function(e,t){var n=this.__data__;if(n instanceof _r){var r=n.__data__;if(!Qn||r.length<a-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Or(r)}return n.set(e,t),this.size=n.size,this};var Ur=so(Yr),zr=so(Kr,!0);function Vr(e,t){var n=!0;return Ur(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function Hr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(u===o?s==s&&!Ns(s):n(s,u)))var u=s,c=a}return c}function Wr(e,t){var n=[];return Ur(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function Gr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=qo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?Gr(s,t-1,n,r,i):tn(i,s):r||(i[i.length]=s)}return i}var qr=uo(),$r=uo(!0);function Yr(e,t){return e&&qr(e,t,ou)}function Kr(e,t){return e&&$r(e,t,ou)}function Xr(e,t){return Zt(t,(function(t){return Cs(e[t])}))}function Zr(e,t){for(var n=0,r=(t=$i(t,e)).length;null!=e&&n<r;)e=e[da(t[n++])];return n&&n==r?e:o}function Jr(e,t,n){var r=t(e);return ys(e)?r:tn(r,n(e))}function Qr(e){return null==e?e===o?ae:Q:Ft&&Ft in et(e)?(function(e){var t=ct.call(e,Ft),n=e[Ft];try{e[Ft]=o;var r=!0}catch(e){}var i=ft.call(e);return r&&(t?e[Ft]=n:delete e[Ft]),i})(e):(function(e){return ft.call(e)})(e)}function ei(e,t){return e>t}function ti(e,t){return null!=e&&ct.call(e,t)}function ni(e,t){return null!=e&&t in et(e)}function ri(e,t,r){for(var i=r?Qt:Jt,a=e[0].length,s=e.length,u=s,c=n(s),l=1/0,d=[];u--;){var f=e[u];u&&t&&(f=en(f,bn(t))),l=$n(f.length,l),c[u]=!r&&(t||a>=120&&f.length>=120)?new wr(u&&f):o}f=e[0];var h=-1,p=c[0];e:for(;++h<a&&d.length<l;){var m=f[h],v=t?t(m):m;if(m=r||0!==m?m:0,!(p?On(p,v):i(d,v,r))){for(u=s;--u;){var g=c[u];if(!(g?On(g,v):i(e[u],v,r)))continue e}p&&p.push(v),d.push(m)}}return d}function ii(e,t,n){var r=null==(e=na(e,t=$i(t,e)))?e:e[da(Sa(t))];return null==r?o:qt(r,e,n)}function oi(e){return js(e)&&Qr(e)==V}function ai(e,t,n,r,i){return e===t||(null==e||null==t||!js(e)&&!js(t)?e!=e&&t!=t:(function(e,t,n,r,i,a){var s=ys(e),u=ys(t),c=s?H:Ho(e),l=u?H:Ho(t),d=(c=c==V?ee:c)==ee,f=(l=l==V?ee:l)==ee,h=c==l;if(h&&ws(e)){if(!ws(t))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new Er),s||Ls(e)?Ro(e,t,n,r,i,a):(function(e,t,n,r,i,o,a){switch(n){case le:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ce:return!(e.byteLength!=t.byteLength||!o(new yt(e),new yt(t)));case G:case q:case J:return ps(+e,+t);case Y:return e.name==t.name&&e.message==t.message;case ne:case ie:return e==t+"";case Z:var s=Tn;case re:var u=r&v;if(s||(s=Pn),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=g,a.set(e,t);var l=Ro(s(e),s(t),r,i,o,a);return a.delete(e),l;case oe:if(fr)return fr.call(e)==fr.call(t)}return!1})(e,t,c,n,r,i,a);if(!(n&v)){var p=d&&ct.call(e,"__wrapped__"),m=f&&ct.call(t,"__wrapped__");if(p||m){var y=p?e.value():e,b=m?t.value():t;return a||(a=new Er),i(y,b,n,r,a)}}return!!h&&(a||(a=new Er),(function(e,t,n,r,i,a){var s=n&v,u=Do(e),c=u.length,l=Do(t).length;if(c!=l&&!s)return!1;for(var d=c;d--;){var f=u[d];if(!(s?f in t:ct.call(t,f)))return!1}var h=a.get(e),p=a.get(t);if(h&&p)return h==t&&p==e;var m=!0;a.set(e,t),a.set(t,e);for(var g=s;++d<c;){f=u[d];var y=e[f],b=t[f];if(r)var _=s?r(b,y,f,t,e,a):r(y,b,f,e,t,a);if(!(_===o?y===b||i(y,b,n,r,a):_)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var O=e.constructor,w=t.constructor;O!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof O&&O instanceof O&&"function"==typeof w&&w instanceof w)&&(m=!1)}return a.delete(e),a.delete(t),m})(e,t,n,r,i,a))})(e,t,n,r,ai,i))}function si(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=et(e);i--;){var u=n[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<a;){var c=(u=n[i])[0],l=e[c],d=u[1];if(s&&u[2]){if(l===o&&!(c in e))return!1}else{var f=new Er;if(r)var h=r(l,d,c,e,t,f);if(!(h===o?ai(d,l,v|g,r,f):h))return!1}}return!0}function ui(e){return!(!Ts(e)||(function(e){return!!dt&&dt in e})(e))&&(Cs(e)?mt:$e).test(fa(e))}function ci(e){return"function"==typeof e?e:null==e?Pu:"object"==typeof e?ys(e)?mi(e[0],e[1]):pi(e):Uu(e)}function li(e){if(!Jo(e))return Gn(e);var t=[];for(var n in et(e))ct.call(e,n)&&"constructor"!=n&&t.push(n);return t}function di(e){if(!Ts(e))return (function(e){var t=[];if(null!=e)for(var n in et(e))t.push(n);return t})(e);var t=Jo(e),n=[];for(var r in e)("constructor"!=r||!t&&ct.call(e,r))&&n.push(r);return n}function fi(e,t){return e<t}function hi(e,t){var r=-1,i=_s(e)?n(e.length):[];return Ur(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function pi(e){var t=Bo(e);return 1==t.length&&t[0][2]?ea(t[0][0],t[0][1]):function(n){return n===e||si(n,e,t)}}function mi(e,t){return Ko(e)&&Qo(t)?ea(da(e),t):function(n){var r=eu(n,e);return r===o&&r===t?tu(n,e):ai(t,r,v|g)}}function vi(e,t,n,r,i){e!==t&&qr(t,(function(a,s){if(i||(i=new Er),Ts(a))!(function(e,t,n,r,i,a,s){var u=ra(e,n),c=ra(t,n),l=s.get(c);if(l)Tr(e,n,l);else{var d=a?a(u,c,n+"",e,t,s):o,f=d===o;if(f){var h=ys(c),p=!h&&ws(c),m=!h&&!p&&Ls(c);d=c,h||p||m?ys(u)?d=u:Os(u)?d=ro(u):p?(f=!1,d=Zi(c,!0)):m?(f=!1,d=Qi(c,!0)):d=[]:Ds(c)||gs(c)?(d=u,gs(u)?d=Gs(u):Ts(u)&&!Cs(u)||(d=Go(c))):f=!1}f&&(s.set(c,d),i(d,c,r,a,s),s.delete(c)),Tr(e,n,d)}})(e,t,s,n,vi,r,i);else{var u=r?r(ra(e,s),a,s+"",e,t,i):o;u===o&&(u=a),Tr(e,s,u)}}),au)}function gi(e,t){var n=e.length;if(n)return $o(t+=t<0?n:0,n)?e[t]:o}function yi(e,t,n){var r=-1;return t=en(t=t.length?en(t,(function(e){return ys(e)?function(t){return Zr(t,1===e.length?e[0]:e)}:e})):[Pu],bn(Lo())),(function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e})(hi(e,(function(e,n,i){return{criteria:en(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return (function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var u=eo(i[r],o[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return e.index-t.index})(e,t,n)}))}function bi(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Zr(e,a);n(s,a)&&ki(o,$i(a,e),s)}return o}function _i(e,t,n,r){var i=r?ln:cn,o=-1,a=t.length,s=e;for(e===t&&(t=ro(t)),n&&(s=en(e,bn(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&It.call(s,u,1),It.call(e,u,1);return e}function Oi(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;$o(i)?It.call(e,i,1):Bi(e,i)}}return e}function wi(e,t){return e+Un(Xn()*(t-e+1))}function Ei(e,t){var n="";if(!e||t<1||t>M)return n;do{t%2&&(n+=e),(t=Un(t/2))&&(e+=e)}while(t);return n}function Si(e,t){return aa(ta(e,t,Pu),e+"")}function Ci(e){return Cr(pu(e))}function xi(e,t){var n=pu(e);return ca(n,Mr(t,0,n.length))}function ki(e,t,n,r){if(!Ts(e))return e;for(var i=-1,a=(t=$i(t,e)).length,s=a-1,u=e;null!=u&&++i<a;){var c=da(t[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=s){var d=u[c];(l=r?r(d,c,u):o)===o&&(l=Ts(d)?d:$o(t[i+1])?[]:{})}jr(u,c,l),u=u[c]}return e}var Ti=ir?function(e,t){return ir.set(e,t),e}:Pu,ji=Bt?function(e,t){return Bt(e,"toString",{configurable:!0,enumerable:!1,value:Tu(t),writable:!0})}:Pu;function Ri(e){return ca(pu(e))}function Pi(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function Di(e,t){var n;return Ur(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function Ii(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=U){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!Ns(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return Ai(e,t,Pu,n)}function Ai(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,u=null===t,c=Ns(t),l=t===o;i<a;){var d=Un((i+a)/2),f=n(e[d]),h=f!==o,p=null===f,m=f==f,v=Ns(f);if(s)var g=r||m;else g=l?m&&(r||h):u?m&&h&&(r||!p):c?m&&h&&!p&&(r||!v):!p&&!v&&(r?f<=t:f<t);g?i=d+1:a=d}return $n(a,B)}function Mi(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!ps(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Ni(e){return"number"==typeof e?e:Ns(e)?L:+e}function Li(e){if("string"==typeof e)return e;if(ys(e))return en(e,Li)+"";if(Ns(e))return hr?hr.call(e):"";var t=e+"";return"0"==t&&1/e==-A?"-0":t}function Fi(e,t,n){var r=-1,i=Jt,o=e.length,s=!0,u=[],c=u;if(n)s=!1,i=Qt;else if(o>=a){var l=t?null:So(e);if(l)return Pn(l);s=!1,i=On,c=new wr}else c=t?[]:u;e:for(;++r<o;){var d=e[r],f=t?t(d):d;if(d=n||0!==d?d:0,s&&f==f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),u.push(d)}else i(c,f,n)||(c!==u&&c.push(f),u.push(d))}return u}function Bi(e,t){return null==(e=na(e,t=$i(t,e)))||delete e[da(Sa(t))]}function Ui(e,t,n,r){return ki(e,t,n(Zr(e,t)),r)}function zi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Pi(e,r?0:o,r?o+1:i):Pi(e,r?o+1:0,r?i:o)}function Vi(e,t){var n=e;return n instanceof yr&&(n=n.value()),nn(t,(function(e,t){return t.func.apply(t.thisArg,tn([e],t.args))}),n)}function Hi(e,t,r){var i=e.length;if(i<2)return i?Fi(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=Br(a[o]||s,e[u],t,r));return Fi(Gr(a,1),t,r)}function Wi(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var u=r<a?t[r]:o;n(s,e[r],u)}return s}function Gi(e){return Os(e)?e:[]}function qi(e){return"function"==typeof e?e:Pu}function $i(e,t){return ys(e)?e:Ko(e,t)?[e]:la(qs(e))}var Yi=Si;function Ki(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:Pi(e,t,n)}var Xi=an||function(e){return At.clearTimeout(e)};function Zi(e,t){if(t)return e.slice();var n=e.length,r=Ot?Ot(n):new e.constructor(n);return e.copy(r),r}function Ji(e){var t=new e.constructor(e.byteLength);return new yt(t).set(new yt(e)),t}function Qi(e,t){var n=t?Ji(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function eo(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=Ns(e),s=t!==o,u=null===t,c=t==t,l=Ns(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!c)return-1}return 0}function to(e,t,r,i){for(var o=-1,a=e.length,s=r.length,u=-1,c=t.length,l=qn(a-s,0),d=n(c+l),f=!i;++u<c;)d[u]=t[u];for(;++o<s;)(f||o<a)&&(d[r[o]]=e[o]);for(;l--;)d[u++]=e[o++];return d}function no(e,t,r,i){for(var o=-1,a=e.length,s=-1,u=r.length,c=-1,l=t.length,d=qn(a-u,0),f=n(d+l),h=!i;++o<d;)f[o]=e[o];for(var p=o;++c<l;)f[p+c]=t[c];for(;++s<u;)(h||o<a)&&(f[p+r[s]]=e[o++]);return f}function ro(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function io(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],c=r?r(n[u],e[u],u,n,e):o;c===o&&(c=e[u]),i?Ir(n,u,c):jr(n,u,c)}return n}function oo(e,t){return function(n,r){var i=ys(n)?$t:Pr,o=t?t():{};return i(n,e,Lo(r,2),o)}}function ao(e){return Si((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,s&&Yo(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=et(t);++r<i;){var u=n[r];u&&e(t,u,r,a)}return t}))}function so(e,t){return function(n,r){if(null==n)return n;if(!_s(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=et(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function uo(e){return function(t,n,r){for(var i=-1,o=et(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function co(e){return function(t){var n=kn(t=qs(t))?An(t):o,r=n?n[0]:t.charAt(0),i=n?Ki(n,1).join(""):t.slice(1);return r[e]()+i}}function lo(e){return function(t){return nn(Cu(gu(t).replace(bt,"")),e,"")}}function fo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=mr(e.prototype),r=e.apply(n,t);return Ts(r)?r:n}}function ho(e){return function(t,n,r){var i=et(t);if(!_s(t)){var a=Lo(n,3);t=ou(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function po(e){return Po((function(t){var n=t.length,r=n,i=gr.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new rt(u);if(i&&!s&&"wrapper"==Mo(a))var s=new gr([],!0)}for(r=s?r:n;++r<n;){var c=Mo(a=t[r]),l="wrapper"==c?Ao(a):o;s=l&&Xo(l[0])&&l[1]==(C|O|E|x)&&!l[4].length&&1==l[9]?s[Mo(l[0])].apply(s,l[3]):1==a.length&&Xo(a)?s[c]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&ys(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function mo(e,t,r,i,a,s,u,c,l,d){var f=t&C,h=t&y,p=t&b,m=t&(O|w),v=t&k,g=p?o:fo(e);return function y(){for(var b=arguments.length,_=n(b),O=b;O--;)_[O]=arguments[O];if(m)var w=No(y),E=(function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r})(_,w);if(i&&(_=to(_,i,a,m)),s&&(_=no(_,s,u,m)),b-=E,m&&b<d){var S=Rn(_,w);return wo(e,t,mo,y.placeholder,r,_,S,c,l,d-b)}var C=h?r:this,x=p?C[e]:e;return b=_.length,c?_=(function(e,t){for(var n=e.length,r=$n(t.length,n),i=ro(e);r--;){var a=t[r];e[r]=$o(a,n)?i[a]:o}return e})(_,c):v&&b>1&&_.reverse(),f&&l<b&&(_.length=l),this&&this!==At&&this instanceof y&&(x=g||fo(x)),x.apply(C,_)}}function vo(e,t){return function(n,r){return (function(e,t,n,r){return Yr(e,(function(e,i,o){t(r,n(e),i,o)})),r})(n,e,t(r),{})}}function go(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=Li(n),r=Li(r)):(n=Ni(n),r=Ni(r)),i=e(n,r)}return i}}function yo(e){return Po((function(t){return t=en(t,bn(Lo())),Si((function(n){var r=this;return e(t,(function(e){return qt(e,r,n)}))}))}))}function bo(e,t){var n=(t=t===o?" ":Li(t)).length;if(n<2)return n?Ei(t,e):t;var r=Ei(t,Bn(e/In(t)));return kn(t)?Ki(An(r),0,e).join(""):r.slice(0,e)}function _o(e){return function(t,r,i){return i&&"number"!=typeof i&&Yo(t,r,i)&&(r=i=o),t=zs(t),r===o?(r=t,t=0):r=zs(r),(function(e,t,r,i){for(var o=-1,a=qn(Bn((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s})(t,r,i=i===o?t<r?1:-1:zs(i),e)}}function Oo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Ws(t),n=Ws(n)),e(t,n)}}function wo(e,t,n,r,i,a,s,u,c,l){var d=t&O;t|=d?E:S,(t&=~(d?S:E))&_||(t&=~(y|b));var f=[e,t,i,d?a:o,d?s:o,d?o:a,d?o:s,u,c,l],h=n.apply(o,f);return Xo(e)&&ia(h,f),h.placeholder=r,sa(h,e,t)}function Eo(e){var t=Qe[e];return function(e,n){if(e=Ws(e),(n=null==n?0:$n(Vs(n),292))&&Hn(e)){var r=(qs(e)+"e").split("e");return+((r=(qs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var So=tr&&1/Pn(new tr([,-0]))[1]==A?function(e){return new tr(e)}:Nu;function Co(e){return function(t){var n=Ho(t);return n==Z?Tn(t):n==re?Dn(t):(function(e,t){return en(t,(function(t){return[t,e[t]]}))})(t,e(t))}}function xo(e,t,r,i,a,s,c,l){var d=t&b;if(!d&&"function"!=typeof e)throw new rt(u);var h=i?i.length:0;if(h||(t&=~(E|S),i=a=o),c=c===o?c:qn(Vs(c),0),l=l===o?l:Vs(l),h-=a?a.length:0,t&S){var p=i,m=a;i=a=o}var v=d?o:Ao(e),g=[e,t,r,i,a,p,m,s,c,l];if(v&&(function(e,t){var n=e[1],r=t[1],i=n|r,o=i<(y|b|C),a=r==C&&n==O||r==C&&n==x&&e[7].length<=t[8]||r==(C|x)&&t[7].length<=t[8]&&n==O;if(!o&&!a)return e;r&y&&(e[2]=t[2],i|=n&y?0:_);var s=t[3];if(s){var u=e[3];e[3]=u?to(u,s,t[4]):s,e[4]=u?Rn(e[3],f):t[4]}(s=t[5])&&(u=e[5],e[5]=u?no(u,s,t[6]):s,e[6]=u?Rn(e[5],f):t[6]),(s=t[7])&&(e[7]=s),r&C&&(e[8]=null==e[8]?t[8]:$n(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i})(g,v),e=g[0],t=g[1],r=g[2],i=g[3],a=g[4],!(l=g[9]=g[9]===o?d?0:e.length:qn(g[9]-h,0))&&t&(O|w)&&(t&=~(O|w)),t&&t!=y)k=t==O||t==w?(function(e,t,r){var i=fo(e);return function a(){for(var s=arguments.length,u=n(s),c=s,l=No(a);c--;)u[c]=arguments[c];var d=s<3&&u[0]!==l&&u[s-1]!==l?[]:Rn(u,l);return(s-=d.length)<r?wo(e,t,mo,a.placeholder,o,u,d,o,o,r-s):qt(this&&this!==At&&this instanceof a?i:e,this,u)}})(e,t,l):t!=E&&t!=(y|E)||a.length?mo.apply(o,g):(function(e,t,r,i){var o=t&y,a=fo(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=i.length,d=n(l+u),f=this&&this!==At&&this instanceof t?a:e;++c<l;)d[c]=i[c];for(;u--;)d[c++]=arguments[++s];return qt(f,o?r:this,d)}})(e,t,r,i);else var k=(function(e,t,n){var r=t&y,i=fo(e);return function t(){return(this&&this!==At&&this instanceof t?i:e).apply(r?n:this,arguments)}})(e,t,r);return sa((v?Ti:ia)(k,g),e,t)}function ko(e,t,n,r){return e===o||ps(e,at[n])&&!ct.call(r,n)?t:e}function To(e,t,n,r,i,a){return Ts(e)&&Ts(t)&&(a.set(t,e),vi(e,t,o,To,a),a.delete(t)),e}function jo(e){return Ds(e)?o:e}function Ro(e,t,n,r,i,a){var s=n&v,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(e),d=a.get(t);if(l&&d)return l==t&&d==e;var f=-1,h=!0,p=n&g?new wr:o;for(a.set(e,t),a.set(t,e);++f<u;){var m=e[f],y=t[f];if(r)var b=s?r(y,m,f,t,e,a):r(m,y,f,e,t,a);if(b!==o){if(b)continue;h=!1;break}if(p){if(!on(t,(function(e,t){if(!On(p,t)&&(m===e||i(m,e,n,r,a)))return p.push(t)}))){h=!1;break}}else if(m!==y&&!i(m,y,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function Po(e){return aa(ta(e,o,ba),e+"")}function Do(e){return Jr(e,ou,zo)}function Io(e){return Jr(e,au,Vo)}var Ao=ir?function(e){return ir.get(e)}:Nu;function Mo(e){for(var t=e.name+"",n=or[t],r=ct.call(or,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function No(e){return(ct.call(pr,"placeholder")?pr:e).placeholder}function Lo(){var e=pr.iteratee||Du;return e=e===Du?ci:e,arguments.length?e(arguments[0],arguments[1]):e}function Fo(e,t){var n=e.__data__;return (function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e})(t)?n["string"==typeof t?"string":"hash"]:n.map}function Bo(e){for(var t=ou(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Qo(i)]}return t}function Uo(e,t){var n=(function(e,t){return null==e?o:e[t]})(e,t);return ui(n)?n:o}var zo=zn?function(e){return null==e?[]:(e=et(e),Zt(zn(e),(function(t){return Dt.call(e,t)})))}:Hu,Vo=zn?function(e){for(var t=[];e;)tn(t,zo(e)),e=Et(e);return t}:Hu,Ho=Qr;function Wo(e,t,n){for(var r=-1,i=(t=$i(t,e)).length,o=!1;++r<i;){var a=da(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ks(i)&&$o(a,i)&&(ys(e)||gs(e))}function Go(e){return"function"!=typeof e.constructor||Jo(e)?{}:mr(Et(e))}function qo(e){return ys(e)||gs(e)||!!(Mt&&e&&e[Mt])}function $o(e,t){var n=typeof e;return!!(t=null==t?M:t)&&("number"==n||"symbol"!=n&&Ke.test(e))&&e>-1&&e%1==0&&e<t}function Yo(e,t,n){if(!Ts(n))return!1;var r=typeof t;return!!("number"==r?_s(n)&&$o(t,n.length):"string"==r&&t in n)&&ps(n[t],e)}function Ko(e,t){if(ys(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ns(e))||Pe.test(e)||!Re.test(e)||null!=t&&e in et(t)}function Xo(e){var t=Mo(e),n=pr[t];if("function"!=typeof n||!(t in yr.prototype))return!1;if(e===n)return!0;var r=Ao(n);return!!r&&e===r[0]}(Jn&&Ho(new Jn(new ArrayBuffer(1)))!=le||Qn&&Ho(new Qn)!=Z||er&&"[object Promise]"!=Ho(er.resolve())||tr&&Ho(new tr)!=re||nr&&Ho(new nr)!=se)&&(Ho=function(e){var t=Qr(e),n=t==ee?e.constructor:o,r=n?fa(n):"";if(r)switch(r){case ar:return le;case sr:return Z;case ur:return"[object Promise]";case cr:return re;case lr:return se}return t});var Zo=st?Cs:Wu;function Jo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||at)}function Qo(e){return e==e&&!Ts(e)}function ea(e,t){return function(n){return null!=n&&n[e]===t&&(t!==o||e in et(n))}}function ta(e,t,r){return t=qn(t===o?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=qn(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=i[o];return u[t]=r(s),qt(e,this,u)}}function na(e,t){return t.length<2?e:Zr(e,Pi(t,0,-1))}function ra(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ia=ua(Ti),oa=Fn||function(e,t){return At.setTimeout(e,t)},aa=ua(ji);function sa(e,t,n){var r=t+"";return aa(e,(function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Le,"{\n/* [wrapped with "+t+"] */\n")})(r,(function(e,t){return Yt(z,(function(n){var r="_."+n[0];t&n[1]&&!Jt(e,r)&&e.push(r)})),e.sort()})(function(e){var t=e.match(Fe);return t?t[1].split(Be):[]}(r),n)))}function ua(e){var t=0,n=0;return function(){var r=Yn(),i=P-(r-n);if(n=r,i>0){if(++t>=R)return arguments[0]}else t=0;return e.apply(o,arguments)}}function ca(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=wi(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var la=(function(e){var t=us(e,(function(e){return n.size===d&&n.clear(),e})),n=t.cache;return t})((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(De,(function(e,n,r,i){t.push(r?i.replace(Ve,"$1"):n||e)})),t}));function da(e){if("string"==typeof e||Ns(e))return e;var t=e+"";return"0"==t&&1/e==-A?"-0":t}function fa(e){if(null!=e){try{return ut.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ha(e){if(e instanceof yr)return e.clone();var t=new gr(e.__wrapped__,e.__chain__);return t.__actions__=ro(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var pa=Si((function(e,t){return Os(e)?Br(e,Gr(t,1,Os,!0)):[]})),ma=Si((function(e,t){var n=Sa(t);return Os(n)&&(n=o),Os(e)?Br(e,Gr(t,1,Os,!0),Lo(n,2)):[]})),va=Si((function(e,t){var n=Sa(t);return Os(n)&&(n=o),Os(e)?Br(e,Gr(t,1,Os,!0),o,n):[]}));function ga(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Vs(n);return i<0&&(i=qn(r+i,0)),un(e,Lo(t,3),i)}function ya(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=Vs(n),i=n<0?qn(r+i,0):$n(i,r-1)),un(e,Lo(t,3),i,!0)}function ba(e){return null!=e&&e.length?Gr(e,1):[]}function _a(e){return e&&e.length?e[0]:o}var Oa=Si((function(e){var t=en(e,Gi);return t.length&&t[0]===e[0]?ri(t):[]})),wa=Si((function(e){var t=Sa(e),n=en(e,Gi);return t===Sa(n)?t=o:n.pop(),n.length&&n[0]===e[0]?ri(n,Lo(t,2)):[]})),Ea=Si((function(e){var t=Sa(e),n=en(e,Gi);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?ri(n,o,t):[]}));function Sa(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Ca=Si(xa);function xa(e,t){return e&&e.length&&t&&t.length?_i(e,t):e}var ka=Po((function(e,t){var n=null==e?0:e.length,r=Ar(e,t);return Oi(e,en(t,(function(e){return $o(e,n)?+e:e})).sort(eo)),r}));function Ta(e){return null==e?e:Zn.call(e)}var ja=Si((function(e){return Fi(Gr(e,1,Os,!0))})),Ra=Si((function(e){var t=Sa(e);return Os(t)&&(t=o),Fi(Gr(e,1,Os,!0),Lo(t,2))})),Pa=Si((function(e){var t=Sa(e);return t="function"==typeof t?t:o,Fi(Gr(e,1,Os,!0),o,t)}));function Da(e){if(!e||!e.length)return[];var t=0;return e=Zt(e,(function(e){if(Os(e))return t=qn(e.length,t),!0})),gn(t,(function(t){return en(e,hn(t))}))}function Ia(e,t){if(!e||!e.length)return[];var n=Da(e);return null==t?n:en(n,(function(e){return qt(t,o,e)}))}var Aa=Si((function(e,t){return Os(e)?Br(e,t):[]})),Ma=Si((function(e){return Hi(Zt(e,Os))})),Na=Si((function(e){var t=Sa(e);return Os(t)&&(t=o),Hi(Zt(e,Os),Lo(t,2))})),La=Si((function(e){var t=Sa(e);return t="function"==typeof t?t:o,Hi(Zt(e,Os),o,t)})),Fa=Si(Da);var Ba=Si((function(e){var t=e.length,n=t>1?e[t-1]:o;return Ia(e,n="function"==typeof n?(e.pop(),n):o)}));function Ua(e){var t=pr(e);return t.__chain__=!0,t}function za(e,t){return t(e)}var Va=Po((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Ar(t,e)};return!(t>1||this.__actions__.length)&&r instanceof yr&&$o(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:za,args:[i],thisArg:o}),new gr(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var Ha=oo((function(e,t,n){ct.call(e,n)?++e[n]:Ir(e,n,1)}));var Wa=ho(ga),Ga=ho(ya);function qa(e,t){return(ys(e)?Yt:Ur)(e,Lo(t,3))}function $a(e,t){return(ys(e)?Kt:zr)(e,Lo(t,3))}var Ya=oo((function(e,t,n){ct.call(e,n)?e[n].push(t):Ir(e,n,[t])}));var Ka=Si((function(e,t,r){var i=-1,o="function"==typeof t,a=_s(e)?n(e.length):[];return Ur(e,(function(e){a[++i]=o?qt(t,e,r):ii(e,t,r)})),a})),Xa=oo((function(e,t,n){Ir(e,n,t)}));function Za(e,t){return(ys(e)?en:hi)(e,Lo(t,3))}var Ja=oo((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Qa=Si((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Yo(e,t[0],t[1])?t=[]:n>2&&Yo(t[0],t[1],t[2])&&(t=[t[0]]),yi(e,Gr(t,1),[])})),es=pn||function(){return At.Date.now()};function ts(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,xo(e,C,o,o,o,o,t)}function ns(e,t){var n;if("function"!=typeof t)throw new rt(u);return e=Vs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var rs=Si((function(e,t,n){var r=y;if(n.length){var i=Rn(n,No(rs));r|=E}return xo(e,r,t,n,i)})),is=Si((function(e,t,n){var r=y|b;if(n.length){var i=Rn(n,No(is));r|=E}return xo(t,r,e,n,i)}));function os(e,t,n){var r,i,a,s,c,l,d=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new rt(u);function m(t){var n=r,a=i;return r=i=o,d=t,s=e.apply(a,n)}function v(e){var n=e-l;return l===o||n>=t||n<0||h&&e-d>=a}function g(){var e=es();if(v(e))return y(e);c=oa(g,(function(e){var n=t-(e-l);return h?$n(n,a-(e-d)):n})(e))}function y(e){return c=o,p&&r?m(e):(r=i=o,s)}function b(){var e=es(),n=v(e);if(r=arguments,i=this,l=e,n){if(c===o)return (function(e){return d=e,c=oa(g,t),f?m(e):s})(l);if(h)return Xi(c),c=oa(g,t),m(l)}return c===o&&(c=oa(g,t)),s}return t=Ws(t)||0,Ts(n)&&(f=!!n.leading,a=(h="maxWait"in n)?qn(Ws(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==o&&Xi(c),d=0,r=l=i=c=o},b.flush=function(){return c===o?s:y(es())},b}var as=Si((function(e,t){return Fr(e,1,t)})),ss=Si((function(e,t,n){return Fr(e,Ws(t)||0,n)}));function us(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new rt(u);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(us.Cache||Or),n}function cs(e){if("function"!=typeof e)throw new rt(u);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}us.Cache=Or;var ls=Yi((function(e,t){var n=(t=1==t.length&&ys(t[0])?en(t[0],bn(Lo())):en(Gr(t,1),bn(Lo()))).length;return Si((function(r){for(var i=-1,o=$n(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return qt(e,this,r)}))})),ds=Si((function(e,t){var n=Rn(t,No(ds));return xo(e,E,o,t,n)})),fs=Si((function(e,t){var n=Rn(t,No(fs));return xo(e,S,o,t,n)})),hs=Po((function(e,t){return xo(e,x,o,o,o,t)}));function ps(e,t){return e===t||e!=e&&t!=t}var ms=Oo(ei),vs=Oo((function(e,t){return e>=t})),gs=oi(function(){return arguments}())?oi:function(e){return js(e)&&ct.call(e,"callee")&&!Dt.call(e,"callee")},ys=n.isArray,bs=Ut?bn(Ut):function(e){return js(e)&&Qr(e)==ce};function _s(e){return null!=e&&ks(e.length)&&!Cs(e)}function Os(e){return js(e)&&_s(e)}var ws=Vn||Wu,Es=zt?bn(zt):function(e){return js(e)&&Qr(e)==q};function Ss(e){if(!js(e))return!1;var t=Qr(e);return t==Y||t==$||"string"==typeof e.message&&"string"==typeof e.name&&!Ds(e)}function Cs(e){if(!Ts(e))return!1;var t=Qr(e);return t==K||t==X||t==W||t==te}function xs(e){return"number"==typeof e&&e==Vs(e)}function ks(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=M}function Ts(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function js(e){return null!=e&&"object"==typeof e}var Rs=Vt?bn(Vt):function(e){return js(e)&&Ho(e)==Z};function Ps(e){return"number"==typeof e||js(e)&&Qr(e)==J}function Ds(e){if(!js(e)||Qr(e)!=ee)return!1;var t=Et(e);if(null===t)return!0;var n=ct.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ut.call(n)==ht}var Is=Ht?bn(Ht):function(e){return js(e)&&Qr(e)==ne};var As=Wt?bn(Wt):function(e){return js(e)&&Ho(e)==re};function Ms(e){return"string"==typeof e||!ys(e)&&js(e)&&Qr(e)==ie}function Ns(e){return"symbol"==typeof e||js(e)&&Qr(e)==oe}var Ls=Gt?bn(Gt):function(e){return js(e)&&ks(e.length)&&!!kt[Qr(e)]};var Fs=Oo(fi),Bs=Oo((function(e,t){return e<=t}));function Us(e){if(!e)return[];if(_s(e))return Ms(e)?An(e):ro(e);if(Nt&&e[Nt])return (function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n})(e[Nt]());var t=Ho(e);return(t==Z?Tn:t==re?Pn:pu)(e)}function zs(e){return e?(e=Ws(e))===A||e===-A?(e<0?-1:1)*N:e==e?e:0:0===e?e:0}function Vs(e){var t=zs(e),n=t%1;return t==t?n?t-n:t:0}function Hs(e){return e?Mr(Vs(e),0,F):0}function Ws(e){if("number"==typeof e)return e;if(Ns(e))return L;if(Ts(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ts(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=yn(e);var n=qe.test(e);return n||Ye.test(e)?Pt(e.slice(2),n?2:8):Ge.test(e)?L:+e}function Gs(e){return io(e,au(e))}function qs(e){return null==e?"":Li(e)}var $s=ao((function(e,t){if(Jo(t)||_s(t))io(t,ou(t),e);else for(var n in t)ct.call(t,n)&&jr(e,n,t[n])})),Ys=ao((function(e,t){io(t,au(t),e)})),Ks=ao((function(e,t,n,r){io(t,au(t),e,r)})),Xs=ao((function(e,t,n,r){io(t,ou(t),e,r)})),Zs=Po(Ar);var Js=Si((function(e,t){e=et(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&Yo(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=au(a),u=-1,c=s.length;++u<c;){var l=s[u],d=e[l];(d===o||ps(d,at[l])&&!ct.call(e,l))&&(e[l]=a[l])}return e})),Qs=Si((function(e){return e.push(o,To),qt(uu,o,e)}));function eu(e,t,n){var r=null==e?o:Zr(e,t);return r===o?n:r}function tu(e,t){return null!=e&&Wo(e,t,ni)}var nu=vo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ft.call(t)),e[t]=n}),Tu(Pu)),ru=vo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ft.call(t)),ct.call(e,t)?e[t].push(n):e[t]=[n]}),Lo),iu=Si(ii);function ou(e){return _s(e)?Sr(e):li(e)}function au(e){return _s(e)?Sr(e,!0):di(e)}var su=ao((function(e,t,n){vi(e,t,n)})),uu=ao((function(e,t,n,r){vi(e,t,n,r)})),cu=Po((function(e,t){var n={};if(null==e)return n;var r=!1;t=en(t,(function(t){return t=$i(t,e),r||(r=t.length>1),t})),io(e,Io(e),n),r&&(n=Nr(n,h|p|m,jo));for(var i=t.length;i--;)Bi(n,t[i]);return n}));var lu=Po((function(e,t){return null==e?{}:(function(e,t){return bi(e,t,(function(t,n){return tu(e,n)}))})(e,t)}));function du(e,t){if(null==e)return{};var n=en(Io(e),(function(e){return[e]}));return t=Lo(t),bi(e,n,(function(e,n){return t(e,n[0])}))}var fu=Co(ou),hu=Co(au);function pu(e){return null==e?[]:_n(e,ou(e))}var mu=lo((function(e,t,n){return t=t.toLowerCase(),e+(n?vu(t):t)}));function vu(e){return Su(qs(e).toLowerCase())}function gu(e){return(e=qs(e))&&e.replace(Xe,Sn).replace(_t,"")}var yu=lo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),bu=lo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),_u=co("toLowerCase");var Ou=lo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var wu=lo((function(e,t,n){return e+(n?" ":"")+Su(t)}));var Eu=lo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Su=co("toUpperCase");function Cu(e,t,n){return e=qs(e),(t=n?o:t)===o?(function(e){return St.test(e)})(e)?(function(e){return e.match(wt)||[]})(e):(function(e){return e.match(Ue)||[]})(e):e.match(t)||[]}var xu=Si((function(e,t){try{return qt(e,o,t)}catch(e){return Ss(e)?e:new i(e)}})),ku=Po((function(e,t){return Yt(t,(function(t){t=da(t),Ir(e,t,rs(e[t],e))})),e}));function Tu(e){return function(){return e}}var ju=po(),Ru=po(!0);function Pu(e){return e}function Du(e){return ci("function"==typeof e?e:Nr(e,h))}var Iu=Si((function(e,t){return function(n){return ii(n,e,t)}})),Au=Si((function(e,t){return function(n){return ii(e,n,t)}}));function Mu(e,t,n){var r=ou(t),i=Xr(t,r);null!=n||Ts(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Xr(t,ou(t)));var o=!(Ts(n)&&"chain"in n&&!n.chain),a=Cs(e);return Yt(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=ro(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,tn([this.value()],arguments))})})),e}function Nu(){}var Lu=yo(en),Fu=yo(Xt),Bu=yo(on);function Uu(e){return Ko(e)?hn(da(e)):(function(e){return function(t){return Zr(t,e)}})(e)}var zu=_o(),Vu=_o(!0);function Hu(){return[]}function Wu(){return!1}var Gu=go((function(e,t){return e+t}),0),qu=Eo("ceil"),$u=go((function(e,t){return e/t}),1),Yu=Eo("floor");var Ku=go((function(e,t){return e*t}),1),Xu=Eo("round"),Zu=go((function(e,t){return e-t}),0);return pr.after=function(e,t){if("function"!=typeof t)throw new rt(u);return e=Vs(e),function(){if(--e<1)return t.apply(this,arguments)}},pr.ary=ts,pr.assign=$s,pr.assignIn=Ys,pr.assignInWith=Ks,pr.assignWith=Xs,pr.at=Zs,pr.before=ns,pr.bind=rs,pr.bindAll=ku,pr.bindKey=is,pr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ys(e)?e:[e]},pr.chain=Ua,pr.chunk=function(e,t,r){t=(r?Yo(e,t,r):t===o)?1:qn(Vs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,u=n(Bn(i/t));a<i;)u[s++]=Pi(e,a,a+=t);return u},pr.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},pr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return tn(ys(r)?ro(r):[r],Gr(t,1))},pr.cond=function(e){var t=null==e?0:e.length,n=Lo();return e=t?en(e,(function(e){if("function"!=typeof e[1])throw new rt(u);return[n(e[0]),e[1]]})):[],Si((function(n){for(var r=-1;++r<t;){var i=e[r];if(qt(i[0],this,n))return qt(i[1],this,n)}}))},pr.conforms=function(e){return (function(e){var t=ou(e);return function(n){return Lr(n,e,t)}})(Nr(e,h))},pr.constant=Tu,pr.countBy=Ha,pr.create=function(e,t){var n=mr(e);return null==t?n:Dr(n,t)},pr.curry=function e(t,n,r){var i=xo(t,O,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},pr.curryRight=function e(t,n,r){var i=xo(t,w,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},pr.debounce=os,pr.defaults=Js,pr.defaultsDeep=Qs,pr.defer=as,pr.delay=ss,pr.difference=pa,pr.differenceBy=ma,pr.differenceWith=va,pr.drop=function(e,t,n){var r=null==e?0:e.length;return r?Pi(e,(t=n||t===o?1:Vs(t))<0?0:t,r):[]},pr.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Pi(e,0,(t=r-(t=n||t===o?1:Vs(t)))<0?0:t):[]},pr.dropRightWhile=function(e,t){return e&&e.length?zi(e,Lo(t,3),!0,!0):[]},pr.dropWhile=function(e,t){return e&&e.length?zi(e,Lo(t,3),!0):[]},pr.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Yo(e,t,n)&&(n=0,r=i),(function(e,t,n,r){var i=e.length;for((n=Vs(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:Vs(r))<0&&(r+=i),r=n>r?0:Hs(r);n<r;)e[n++]=t;return e})(e,t,n,r)):[]},pr.filter=function(e,t){return(ys(e)?Zt:Wr)(e,Lo(t,3))},pr.flatMap=function(e,t){return Gr(Za(e,t),1)},pr.flatMapDeep=function(e,t){return Gr(Za(e,t),A)},pr.flatMapDepth=function(e,t,n){return n=n===o?1:Vs(n),Gr(Za(e,t),n)},pr.flatten=ba,pr.flattenDeep=function(e){return null!=e&&e.length?Gr(e,A):[]},pr.flattenDepth=function(e,t){return null!=e&&e.length?Gr(e,t=t===o?1:Vs(t)):[]},pr.flip=function(e){return xo(e,k)},pr.flow=ju,pr.flowRight=Ru,pr.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},pr.functions=function(e){return null==e?[]:Xr(e,ou(e))},pr.functionsIn=function(e){return null==e?[]:Xr(e,au(e))},pr.groupBy=Ya,pr.initial=function(e){return null!=e&&e.length?Pi(e,0,-1):[]},pr.intersection=Oa,pr.intersectionBy=wa,pr.intersectionWith=Ea,pr.invert=nu,pr.invertBy=ru,pr.invokeMap=Ka,pr.iteratee=Du,pr.keyBy=Xa,pr.keys=ou,pr.keysIn=au,pr.map=Za,pr.mapKeys=function(e,t){var n={};return t=Lo(t,3),Yr(e,(function(e,r,i){Ir(n,t(e,r,i),e)})),n},pr.mapValues=function(e,t){var n={};return t=Lo(t,3),Yr(e,(function(e,r,i){Ir(n,r,t(e,r,i))})),n},pr.matches=function(e){return pi(Nr(e,h))},pr.matchesProperty=function(e,t){return mi(e,Nr(t,h))},pr.memoize=us,pr.merge=su,pr.mergeWith=uu,pr.method=Iu,pr.methodOf=Au,pr.mixin=Mu,pr.negate=cs,pr.nthArg=function(e){return e=Vs(e),Si((function(t){return gi(t,e)}))},pr.omit=cu,pr.omitBy=function(e,t){return du(e,cs(Lo(t)))},pr.once=function(e){return ns(2,e)},pr.orderBy=function(e,t,n,r){return null==e?[]:(ys(t)||(t=null==t?[]:[t]),ys(n=r?o:n)||(n=null==n?[]:[n]),yi(e,t,n))},pr.over=Lu,pr.overArgs=ls,pr.overEvery=Fu,pr.overSome=Bu,pr.partial=ds,pr.partialRight=fs,pr.partition=Ja,pr.pick=lu,pr.pickBy=du,pr.property=Uu,pr.propertyOf=function(e){return function(t){return null==e?o:Zr(e,t)}},pr.pull=Ca,pr.pullAll=xa,pr.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?_i(e,t,Lo(n,2)):e},pr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?_i(e,t,o,n):e},pr.pullAt=ka,pr.range=zu,pr.rangeRight=Vu,pr.rearg=hs,pr.reject=function(e,t){return(ys(e)?Zt:Wr)(e,cs(Lo(t,3)))},pr.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Lo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Oi(e,i),n},pr.rest=function(e,t){if("function"!=typeof e)throw new rt(u);return Si(e,t=t===o?t:Vs(t))},pr.reverse=Ta,pr.sampleSize=function(e,t,n){return t=(n?Yo(e,t,n):t===o)?1:Vs(t),(ys(e)?xr:xi)(e,t)},pr.set=function(e,t,n){return null==e?e:ki(e,t,n)},pr.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:ki(e,t,n,r)},pr.shuffle=function(e){return(ys(e)?kr:Ri)(e)},pr.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Yo(e,t,n)?(t=0,n=r):(t=null==t?0:Vs(t),n=n===o?r:Vs(n)),Pi(e,t,n)):[]},pr.sortBy=Qa,pr.sortedUniq=function(e){return e&&e.length?Mi(e):[]},pr.sortedUniqBy=function(e,t){return e&&e.length?Mi(e,Lo(t,2)):[]},pr.split=function(e,t,n){return n&&"number"!=typeof n&&Yo(e,t,n)&&(t=n=o),(n=n===o?F:n>>>0)?(e=qs(e))&&("string"==typeof t||null!=t&&!Is(t))&&!(t=Li(t))&&kn(e)?Ki(An(e),0,n):e.split(t,n):[]},pr.spread=function(e,t){if("function"!=typeof e)throw new rt(u);return t=null==t?0:qn(Vs(t),0),Si((function(n){var r=n[t],i=Ki(n,0,t);return r&&tn(i,r),qt(e,this,i)}))},pr.tail=function(e){var t=null==e?0:e.length;return t?Pi(e,1,t):[]},pr.take=function(e,t,n){return e&&e.length?Pi(e,0,(t=n||t===o?1:Vs(t))<0?0:t):[]},pr.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Pi(e,(t=r-(t=n||t===o?1:Vs(t)))<0?0:t,r):[]},pr.takeRightWhile=function(e,t){return e&&e.length?zi(e,Lo(t,3),!1,!0):[]},pr.takeWhile=function(e,t){return e&&e.length?zi(e,Lo(t,3)):[]},pr.tap=function(e,t){return t(e),e},pr.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new rt(u);return Ts(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),os(e,t,{leading:r,maxWait:t,trailing:i})},pr.thru=za,pr.toArray=Us,pr.toPairs=fu,pr.toPairsIn=hu,pr.toPath=function(e){return ys(e)?en(e,da):Ns(e)?[e]:ro(la(qs(e)))},pr.toPlainObject=Gs,pr.transform=function(e,t,n){var r=ys(e),i=r||ws(e)||Ls(e);if(t=Lo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Ts(e)&&Cs(o)?mr(Et(e)):{}}return(i?Yt:Yr)(e,(function(e,r,i){return t(n,e,r,i)})),n},pr.unary=function(e){return ts(e,1)},pr.union=ja,pr.unionBy=Ra,pr.unionWith=Pa,pr.uniq=function(e){return e&&e.length?Fi(e):[]},pr.uniqBy=function(e,t){return e&&e.length?Fi(e,Lo(t,2)):[]},pr.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?Fi(e,o,t):[]},pr.unset=function(e,t){return null==e||Bi(e,t)},pr.unzip=Da,pr.unzipWith=Ia,pr.update=function(e,t,n){return null==e?e:Ui(e,t,qi(n))},pr.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Ui(e,t,qi(n),r)},pr.values=pu,pr.valuesIn=function(e){return null==e?[]:_n(e,au(e))},pr.without=Aa,pr.words=Cu,pr.wrap=function(e,t){return ds(qi(t),e)},pr.xor=Ma,pr.xorBy=Na,pr.xorWith=La,pr.zip=Fa,pr.zipObject=function(e,t){return Wi(e||[],t||[],jr)},pr.zipObjectDeep=function(e,t){return Wi(e||[],t||[],ki)},pr.zipWith=Ba,pr.entries=fu,pr.entriesIn=hu,pr.extend=Ys,pr.extendWith=Ks,Mu(pr,pr),pr.add=Gu,pr.attempt=xu,pr.camelCase=mu,pr.capitalize=vu,pr.ceil=qu,pr.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=Ws(n))==n?n:0),t!==o&&(t=(t=Ws(t))==t?t:0),Mr(Ws(e),t,n)},pr.clone=function(e){return Nr(e,m)},pr.cloneDeep=function(e){return Nr(e,h|m)},pr.cloneDeepWith=function(e,t){return Nr(e,h|m,t="function"==typeof t?t:o)},pr.cloneWith=function(e,t){return Nr(e,m,t="function"==typeof t?t:o)},pr.conformsTo=function(e,t){return null==t||Lr(e,t,ou(t))},pr.deburr=gu,pr.defaultTo=function(e,t){return null==e||e!=e?t:e},pr.divide=$u,pr.endsWith=function(e,t,n){e=qs(e),t=Li(t);var r=e.length,i=n=n===o?r:Mr(Vs(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},pr.eq=ps,pr.escape=function(e){return(e=qs(e))&&xe.test(e)?e.replace(Se,Cn):e},pr.escapeRegExp=function(e){return(e=qs(e))&&Ae.test(e)?e.replace(Ie,"\\$&"):e},pr.every=function(e,t,n){var r=ys(e)?Xt:Vr;return n&&Yo(e,t,n)&&(t=o),r(e,Lo(t,3))},pr.find=Wa,pr.findIndex=ga,pr.findKey=function(e,t){return sn(e,Lo(t,3),Yr)},pr.findLast=Ga,pr.findLastIndex=ya,pr.findLastKey=function(e,t){return sn(e,Lo(t,3),Kr)},pr.floor=Yu,pr.forEach=qa,pr.forEachRight=$a,pr.forIn=function(e,t){return null==e?e:qr(e,Lo(t,3),au)},pr.forInRight=function(e,t){return null==e?e:$r(e,Lo(t,3),au)},pr.forOwn=function(e,t){return e&&Yr(e,Lo(t,3))},pr.forOwnRight=function(e,t){return e&&Kr(e,Lo(t,3))},pr.get=eu,pr.gt=ms,pr.gte=vs,pr.has=function(e,t){return null!=e&&Wo(e,t,ti)},pr.hasIn=tu,pr.head=_a,pr.identity=Pu,pr.includes=function(e,t,n,r){e=_s(e)?e:pu(e),n=n&&!r?Vs(n):0;var i=e.length;return n<0&&(n=qn(i+n,0)),Ms(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&cn(e,t,n)>-1},pr.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Vs(n);return i<0&&(i=qn(r+i,0)),cn(e,t,i)},pr.inRange=function(e,t,n){return t=zs(t),n===o?(n=t,t=0):n=zs(n),(function(e,t,n){return e>=$n(t,n)&&e<qn(t,n)})(e=Ws(e),t,n)},pr.invoke=iu,pr.isArguments=gs,pr.isArray=ys,pr.isArrayBuffer=bs,pr.isArrayLike=_s,pr.isArrayLikeObject=Os,pr.isBoolean=function(e){return!0===e||!1===e||js(e)&&Qr(e)==G},pr.isBuffer=ws,pr.isDate=Es,pr.isElement=function(e){return js(e)&&1===e.nodeType&&!Ds(e)},pr.isEmpty=function(e){if(null==e)return!0;if(_s(e)&&(ys(e)||"string"==typeof e||"function"==typeof e.splice||ws(e)||Ls(e)||gs(e)))return!e.length;var t=Ho(e);if(t==Z||t==re)return!e.size;if(Jo(e))return!li(e).length;for(var n in e)if(ct.call(e,n))return!1;return!0},pr.isEqual=function(e,t){return ai(e,t)},pr.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?ai(e,t,o,n):!!r},pr.isError=Ss,pr.isFinite=function(e){return"number"==typeof e&&Hn(e)},pr.isFunction=Cs,pr.isInteger=xs,pr.isLength=ks,pr.isMap=Rs,pr.isMatch=function(e,t){return e===t||si(e,t,Bo(t))},pr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,si(e,t,Bo(t),n)},pr.isNaN=function(e){return Ps(e)&&e!=+e},pr.isNative=function(e){if(Zo(e))throw new i(s);return ui(e)},pr.isNil=function(e){return null==e},pr.isNull=function(e){return null===e},pr.isNumber=Ps,pr.isObject=Ts,pr.isObjectLike=js,pr.isPlainObject=Ds,pr.isRegExp=Is,pr.isSafeInteger=function(e){return xs(e)&&e>=-M&&e<=M},pr.isSet=As,pr.isString=Ms,pr.isSymbol=Ns,pr.isTypedArray=Ls,pr.isUndefined=function(e){return e===o},pr.isWeakMap=function(e){return js(e)&&Ho(e)==se},pr.isWeakSet=function(e){return js(e)&&Qr(e)==ue},pr.join=function(e,t){return null==e?"":Wn.call(e,t)},pr.kebabCase=yu,pr.last=Sa,pr.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=Vs(n))<0?qn(r+i,0):$n(i,r-1)),t==t?(function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r})(e,t,i):un(e,dn,i,!0)},pr.lowerCase=bu,pr.lowerFirst=_u,pr.lt=Fs,pr.lte=Bs,pr.max=function(e){return e&&e.length?Hr(e,Pu,ei):o},pr.maxBy=function(e,t){return e&&e.length?Hr(e,Lo(t,2),ei):o},pr.mean=function(e){return fn(e,Pu)},pr.meanBy=function(e,t){return fn(e,Lo(t,2))},pr.min=function(e){return e&&e.length?Hr(e,Pu,fi):o},pr.minBy=function(e,t){return e&&e.length?Hr(e,Lo(t,2),fi):o},pr.stubArray=Hu,pr.stubFalse=Wu,pr.stubObject=function(){return{}},pr.stubString=function(){return""},pr.stubTrue=function(){return!0},pr.multiply=Ku,pr.nth=function(e,t){return e&&e.length?gi(e,Vs(t)):o},pr.noConflict=function(){return At._===this&&(At._=pt),this},pr.noop=Nu,pr.now=es,pr.pad=function(e,t,n){e=qs(e);var r=(t=Vs(t))?In(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return bo(Un(i),n)+e+bo(Bn(i),n)},pr.padEnd=function(e,t,n){e=qs(e);var r=(t=Vs(t))?In(e):0;return t&&r<t?e+bo(t-r,n):e},pr.padStart=function(e,t,n){e=qs(e);var r=(t=Vs(t))?In(e):0;return t&&r<t?bo(t-r,n)+e:e},pr.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Kn(qs(e).replace(Me,""),t||0)},pr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Yo(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=zs(e),t===o?(t=e,e=0):t=zs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Xn();return $n(e+i*(t-e+Rt("1e-"+((i+"").length-1))),t)}return wi(e,t)},pr.reduce=function(e,t,n){var r=ys(e)?nn:mn,i=arguments.length<3;return r(e,Lo(t,4),n,i,Ur)},pr.reduceRight=function(e,t,n){var r=ys(e)?rn:mn,i=arguments.length<3;return r(e,Lo(t,4),n,i,zr)},pr.repeat=function(e,t,n){return t=(n?Yo(e,t,n):t===o)?1:Vs(t),Ei(qs(e),t)},pr.replace=function(){var e=arguments,t=qs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},pr.result=function(e,t,n){var r=-1,i=(t=$i(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[da(t[r])];a===o&&(r=i,a=n),e=Cs(a)?a.call(e):a}return e},pr.round=Xu,pr.runInContext=e,pr.sample=function(e){return(ys(e)?Cr:Ci)(e)},pr.size=function(e){if(null==e)return 0;if(_s(e))return Ms(e)?In(e):e.length;var t=Ho(e);return t==Z||t==re?e.size:li(e).length},pr.snakeCase=Ou,pr.some=function(e,t,n){var r=ys(e)?on:Di;return n&&Yo(e,t,n)&&(t=o),r(e,Lo(t,3))},pr.sortedIndex=function(e,t){return Ii(e,t)},pr.sortedIndexBy=function(e,t,n){return Ai(e,t,Lo(n,2))},pr.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Ii(e,t);if(r<n&&ps(e[r],t))return r}return-1},pr.sortedLastIndex=function(e,t){return Ii(e,t,!0)},pr.sortedLastIndexBy=function(e,t,n){return Ai(e,t,Lo(n,2),!0)},pr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Ii(e,t,!0)-1;if(ps(e[n],t))return n}return-1},pr.startCase=wu,pr.startsWith=function(e,t,n){return e=qs(e),n=null==n?0:Mr(Vs(n),0,e.length),t=Li(t),e.slice(n,n+t.length)==t},pr.subtract=Zu,pr.sum=function(e){return e&&e.length?vn(e,Pu):0},pr.sumBy=function(e,t){return e&&e.length?vn(e,Lo(t,2)):0},pr.template=function(e,t,n){var r=pr.templateSettings;n&&Yo(e,t,n)&&(t=o),e=qs(e),t=Ks({},t,r,ko);var a,s,u=Ks({},t.imports,r.imports,ko),l=ou(u),d=_n(u,l),f=0,h=t.interpolate||Ze,p="__p += '",m=tt((t.escape||Ze).source+"|"+h.source+"|"+(h===je?He:Ze).source+"|"+(t.evaluate||Ze).source+"|$","g"),v="//# sourceURL="+(ct.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xt+"]")+"\n";e.replace(m,(function(t,n,r,i,o,u){return r||(r=i),p+=e.slice(f,u).replace(Je,xn),n&&(a=!0,p+="' +\n__e("+n+") +\n'"),o&&(s=!0,p+="';\n"+o+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=u+t.length,t})),p+="';\n";var g=ct.call(t,"variable")&&t.variable;if(g){if(ze.test(g))throw new i(c)}else p="with (obj) {\n"+p+"\n}\n";p=(s?p.replace(_e,""):p).replace(Oe,"$1").replace(we,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=xu((function(){return Ne(l,v+"return "+p).apply(o,d)}));if(y.source=p,Ss(y))throw y;return y},pr.times=function(e,t){if((e=Vs(e))<1||e>M)return[];var n=F,r=$n(e,F);t=Lo(t),e-=F;for(var i=gn(r,t);++n<e;)t(n);return i},pr.toFinite=zs,pr.toInteger=Vs,pr.toLength=Hs,pr.toLower=function(e){return qs(e).toLowerCase()},pr.toNumber=Ws,pr.toSafeInteger=function(e){return e?Mr(Vs(e),-M,M):0===e?e:0},pr.toString=qs,pr.toUpper=function(e){return qs(e).toUpperCase()},pr.trim=function(e,t,n){if((e=qs(e))&&(n||t===o))return yn(e);if(!e||!(t=Li(t)))return e;var r=An(e),i=An(t);return Ki(r,wn(r,i),En(r,i)+1).join("")},pr.trimEnd=function(e,t,n){if((e=qs(e))&&(n||t===o))return e.slice(0,Mn(e)+1);if(!e||!(t=Li(t)))return e;var r=An(e);return Ki(r,0,En(r,An(t))+1).join("")},pr.trimStart=function(e,t,n){if((e=qs(e))&&(n||t===o))return e.replace(Me,"");if(!e||!(t=Li(t)))return e;var r=An(e);return Ki(r,wn(r,An(t))).join("")},pr.truncate=function(e,t){var n=T,r=j;if(Ts(t)){var i="separator"in t?t.separator:i;n="length"in t?Vs(t.length):n,r="omission"in t?Li(t.omission):r}var a=(e=qs(e)).length;if(kn(e)){var s=An(e);a=s.length}if(n>=a)return e;var u=n-In(r);if(u<1)return r;var c=s?Ki(s,0,u).join(""):e.slice(0,u);if(i===o)return c+r;if(s&&(u+=c.length-u),Is(i)){if(e.slice(u).search(i)){var l,d=c;for(i.global||(i=tt(i.source,qs(We.exec(i))+"g")),i.lastIndex=0;l=i.exec(d);)var f=l.index;c=c.slice(0,f===o?u:f)}}else if(e.indexOf(Li(i),u)!=u){var h=c.lastIndexOf(i);h>-1&&(c=c.slice(0,h))}return c+r},pr.unescape=function(e){return(e=qs(e))&&Ce.test(e)?e.replace(Ee,Nn):e},pr.uniqueId=function(e){var t=++lt;return qs(e)+t},pr.upperCase=Eu,pr.upperFirst=Su,pr.each=qa,pr.eachRight=$a,pr.first=_a,Mu(pr,(function(){var e={};return Yr(pr,(function(t,n){ct.call(pr.prototype,n)||(e[n]=t)})),e})(),{chain:!1}),pr.VERSION="4.17.21",Yt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){pr[e].placeholder=pr})),Yt(["drop","take"],(function(e,t){yr.prototype[e]=function(n){n=n===o?1:qn(Vs(n),0);var r=this.__filtered__&&!t?new yr(this):this.clone();return r.__filtered__?r.__takeCount__=$n(n,r.__takeCount__):r.__views__.push({size:$n(n,F),type:e+(r.__dir__<0?"Right":"")}),r},yr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Yt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=n==D||3==n;yr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Lo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Yt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");yr.prototype[e]=function(){return this[n](1).value()[0]}})),Yt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");yr.prototype[e]=function(){return this.__filtered__?new yr(this):this[n](1)}})),yr.prototype.compact=function(){return this.filter(Pu)},yr.prototype.find=function(e){return this.filter(e).head()},yr.prototype.findLast=function(e){return this.reverse().find(e)},yr.prototype.invokeMap=Si((function(e,t){return"function"==typeof e?new yr(this):this.map((function(n){return ii(n,e,t)}))})),yr.prototype.reject=function(e){return this.filter(cs(Lo(e)))},yr.prototype.slice=function(e,t){e=Vs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new yr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=Vs(t))<0?n.dropRight(-t):n.take(t-e)),n)},yr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},yr.prototype.toArray=function(){return this.take(F)},Yr(yr.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=pr[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(pr.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof yr,c=s[0],l=u||ys(t),d=function(e){var t=i.apply(pr,tn([e],s));return r&&f?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var f=this.__chain__,h=!!this.__actions__.length,p=a&&!f,m=u&&!h;if(!a&&l){t=m?t:new yr(this);var v=e.apply(t,s);return v.__actions__.push({func:za,args:[d],thisArg:o}),new gr(v,f)}return p&&m?e.apply(this,s):(v=this.thru(d),p?r?v.value()[0]:v.value():v)})})),Yt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=it[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);pr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(ys(i)?i:[],e)}return this[n]((function(n){return t.apply(ys(n)?n:[],e)}))}})),Yr(yr.prototype,(function(e,t){var n=pr[t];if(n){var r=n.name+"";ct.call(or,r)||(or[r]=[]),or[r].push({name:t,func:n})}})),or[mo(o,b).name]=[{name:"wrapper",func:o}],yr.prototype.clone=function(){var e=new yr(this.__wrapped__);return e.__actions__=ro(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ro(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ro(this.__views__),e},yr.prototype.reverse=function(){if(this.__filtered__){var e=new yr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},yr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=ys(e),r=t<0,i=n?e.length:0,o=(function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=$n(t,e+a);break;case"takeRight":e=qn(e,t-a)}}return{start:e,end:t}})(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,d=l.length,f=0,h=$n(u,this.__takeCount__);if(!n||!r&&i==u&&h==u)return Vi(e,this.__actions__);var p=[];e:for(;u--&&f<h;){for(var m=-1,v=e[c+=t];++m<d;){var g=l[m],y=g.iteratee,b=g.type,_=y(v);if(b==I)v=_;else if(!_){if(b==D)continue e;break e}}p[f++]=v}return p},pr.prototype.at=Va,pr.prototype.chain=function(){return Ua(this)},pr.prototype.commit=function(){return new gr(this.value(),this.__chain__)},pr.prototype.next=function(){this.__values__===o&&(this.__values__=Us(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},pr.prototype.plant=function(e){for(var t,n=this;n instanceof vr;){var r=ha(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},pr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof yr){var t=e;return this.__actions__.length&&(t=new yr(this)),(t=t.reverse()).__actions__.push({func:za,args:[Ta],thisArg:o}),new gr(t,this.__chain__)}return this.thru(Ta)},pr.prototype.toJSON=pr.prototype.valueOf=pr.prototype.value=function(){return Vi(this.__wrapped__,this.__actions__)},pr.prototype.first=pr.prototype.head,Nt&&(pr.prototype[Nt]=function(){return this}),pr})();At._=Ln,(i=function(){return Ln}.call(t,n,t,r))===o||(r.exports=i)}).call(this)}).call(this,n(133),n(145)(e))}),(function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(848),o=n(853),a=(function(){function e(e,t,n){void 0===n&&(n="origin"),this.naming={stringify:t(o[n])},this.entity={block:e},this.entityMods={},this.entityMixes=[]}return e.prototype.e=function(e){return this.entity.elem=e,this},e.prototype.m=function(e){return this.entityMods=r({},this.entityMods,e),this},e.prototype.mix=function(e){return this.entityMixes=this.entityMixes.concat(e&&e.length?e:Array.prototype.slice.call(arguments,0)),this},e.prototype.entities=function(){var t=this,n=Object.keys(this.entityMods).reduce((function(e,n){return t.entityMods[n]&&e.push({block:t.entity.block,elem:t.entity.elem,mod:{name:n,val:t.entityMods[n]}}),e}),[this.entity]);return this.entityMixes.reduce((function(t,n){return"string"==typeof n?t.concat(n):n instanceof e?t.concat(n.entities()):t}),n)},e.prototype.stringify=function(){var e=this;return this.entities().map((function(t){return"string"==typeof t?t:e.naming.stringify(t)})).join(" ")},e.prototype.toString=function(){return this.stringify()},e.prototype.valueOf=function(){return this.stringify()},e})();t.default=function(e){return function(t){return new a(t,i,e)}}}),(function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"hit",(function(){return g})),n.d(t,"count",(function(){return y})),n.d(t,"countRaw",(function(){return b})),n.d(t,"countLeave",(function(){return _})),n.d(t,"countNavigation",(function(){return O})),n.d(t,"countSuggest",(function(){return w})),n.d(t,"countDocs",(function(){return E})),n.d(t,"reach",(function(){return S})),n.d(t,"accumulate",(function(){return C})),n.d(t,"release",(function(){return x})),n.d(t,"init",(function(){return k})),n.d(t,"hooks",(function(){return I}));var r,i,o=n(21),a=n.n(o),s=n(9),u=n.n(s),c=n(174),l=n(398);i=new Vow.Promise;var d=null,f=null,h=null,p=null,m={},v=!1,g=T(j("hit")),y=T((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduceRight((function(e,t){if(null===e)return t;var n={};return n[t]=e,n}),f);h&&(r.stat=h,p&&(r.stat.stat=Object.assign({},r.stat.stat,p()))),j("params")(r),v&&console.log("%c "+t.map((function(e){return e&&"string"!=typeof e?JSON.stringify(e):e})).join(" -> "),"color: #4233ff; font-weight: bold")})),b=T(j("params")),_=function(){y.apply(void 0,arguments);var e=new Vow.Promise;return window.setTimeout((function(){e.fulfill()}),700),e},O=function(e,t){if(r){var n=Object(c.getSlices)(r().getState()).find((function(t){return t.idContext===e}));y("navigation","via "+t,n?n.id:"custom folder"),y("actions","with resources","open folder",t)}},w=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];y.apply(void 0,["interface elements","search suggest"].concat(t))},E=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];y.apply(void 0,["docs"].concat(t))},S=T(j("reachGoal")),C=T((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.join(",");m[r]=(m[r]||0)+1})),x=T((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.join(",");m[r]&&(t.push(m[r].toString()+" time(s)"),y.apply(void 0,t),delete m[r])}));function k(t,n,o,a,s){r=n,v=Object(l.isDebugMode)("metrika"),window.yandex_metrika_callbacks||(window.yandex_metrika_callbacks=[]),window.yandex_metrika_callbacks.push((function(){try{d=e["yaCounter"+t]=new e.Ya.Metrika(Object.assign({id:t,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,ut:"noindex",tns:{account:"yandex_ru",tmsec:"yandex_disk"}},s)),i.fulfill()}catch(e){i.reject()}})),o&&o.length&&(f=o.reduceRight((function(e,t){var n={};return n[t]=e,n})));var u={},c=r().getState(),m=c.user,g=c.environment.session.experiment,y=void 0===g?{}:g;return m.uid&&Object.assign(u,{uid:m.uid,pdd:m.isPDD?"1":"0",b2b:m.isWS?"1":"0",paid:m.paid?"1":"0",yandexstaff:m.isYandexStaff?"1":"0"}),Object.keys(y).forEach((function(e){y[e]&&(u.experiments=u.experiments||{},u.experiments[e]=!0)})),Object.keys(u).length&&(h={stat:u}),a&&(p=a),window.Ya&&window.Ya.Metrika?window.yandex_metrika_callbacks.forEach((function(e){e()})):(function(){var e=document.getElementsByTagName("script")[0],t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//mc.yandex.ru/metrika/watch.js",$((function(){e.parentNode&&e.parentNode.insertBefore(t,e)}))})(),i}function T(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];i.then((function(){e.apply(void 0,n)}))}}function j(e){return function(){try{var t;(t=d)[e].apply(t,arguments)}catch(e){}}}i&&i.then((function(){var e=$("body");function t(e){var t=$(e.currentTarget),n=t.data("metrika-"+e.type),r=(function(e){if(u.a.isString(e)&&""!==e)return u.a.map(e.split("|"),(function(e){return e.split(",")}));throw new Error("Wrong Yandex.Metrika call: No `data-metrika-params` passed.")})(t.data("metrika-params"));if("count"===n)r.forEach((function(e){y.apply(void 0,a()(e))}));else if("reach"===n)r.forEach((function(e){S.apply(void 0,a()(e))}));else if("countLeave"===n)e.preventDefault(),Vow.all(r.map((function(e){return _.apply(void 0,a()(e))}))).then((function(){location.assign(t.attr("href")||"")}));else if(n)throw new Error("Wrong Yandex.Metrika call: Unexpected `data-metrika-"+e.type+"` action.")}u.a.each(["click","dblclick"],(function(n){e.on(n,"[data-metrika-"+n+"]",t)}))}));var R={};function P(e,t){R[e.key]&&R[e.key][t]&&u.a.each(R[e.key][t],(function(t){t.call(e)}))}function D(e,t){R[e.key]&&(t&&R[e.key][t]?delete R[e.key][t]:delete R[e.key])}e.yr&&(yr.externals.addShowHookMetrika=function(e,t,n){var r;"count"===e?r=y:"reach"===e&&(r=S),u.a.isFunction(r)&&(function(e,t,n){R[e]||(R[e]={}),R[e][t]||(R[e][t]=[]),R[e][t].push(n)})(t,"show",(function(){r.apply(void 0,a()(n))}))});var I={execute:P,drop:D};t.default={init:k,count:y,countLeave:_,countNavigation:O,countSuggest:w,countDocs:E,countRaw:b,reach:S,hit:g,accumulate:C,release:x,hooks:{execute:P,drop:D}}}.call(this,n(133))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"UPDATE_INVITES_TO_FOLDERS",(function(){return r})),n.d(t,"UPDATE_INVITE_TO_FOLDER",(function(){return i})),n.d(t,"REMOVE_INVITE_TO_FOLDER",(function(){return o})),n.d(t,"UPDATE_SETTINGS",(function(){return a})),n.d(t,"UPDATE_SPACE",(function(){return s})),n.d(t,"UPDATE_SEARCH",(function(){return u})),n.d(t,"DESELECT_RESOURCES",(function(){return c})),n.d(t,"DESELECT_ALL",(function(){return l})),n.d(t,"SET_SELECTED",(function(){return d})),n.d(t,"ADD_TO_SELECTED",(function(){return f})),n.d(t,"SET_HIGHLIGHTED",(function(){return h})),n.d(t,"SET_VIEW",(function(){return p})),n.d(t,"UPDATE_SORT",(function(){return m})),n.d(t,"UPDATE_RESOURCES",(function(){return v})),n.d(t,"DESTROY_RESOURCE_CHILDREN",(function(){return g})),n.d(t,"DESTROY_RESOURCE",(function(){return y})),n.d(t,"CREATE_RESOURCES",(function(){return b})),n.d(t,"UPDATE_RESOURCES_FOTKI_META",(function(){return _})),n.d(t,"UPDATE_PACKAGES_SPACE",(function(){return O})),n.d(t,"UPDATE_SPACE_TARIFFS",(function(){return w})),n.d(t,"UPDATE_PAGE",(function(){return E})),n.d(t,"UPDATE_CONFIG",(function(){return S})),n.d(t,"UPDATE_ENVIRONMENT",(function(){return C})),n.d(t,"UPDATE_VERSIONS",(function(){return x})),n.d(t,"TOGGLE_SUBVERSIONS",(function(){return k})),n.d(t,"CLEAN_VERSIONS",(function(){return T})),n.d(t,"OPEN_DIALOG",(function(){return j})),n.d(t,"CLOSE_DIALOG",(function(){return R})),n.d(t,"UPDATE_DIALOG",(function(){return P})),n.d(t,"UPDATE_SHARED_FOLDERS_USERS",(function(){return D})),n.d(t,"UPDATE_SHARED_FOLDERS_USERS_LOADING_STATE",(function(){return I})),n.d(t,"SET_SCROLL_TO_RESOURCE",(function(){return A})),n.d(t,"UPDATE_USER",(function(){return M})),n.d(t,"UPDATE_ORDERS",(function(){return N})),n.d(t,"UPDATE_SUGGEST_QUERY",(function(){return L})),n.d(t,"UPDATE_SUGGEST_ACTIVATION",(function(){return F})),n.d(t,"UPDATE_SUGGEST_RESULT",(function(){return B})),n.d(t,"APPEND_SUGGEST_RESULT",(function(){return U})),n.d(t,"START_SEARCH_SESSION",(function(){return z})),n.d(t,"UPDATE_NOTIFICATIONS",(function(){return V})),n.d(t,"HIDE_NOTIFICATION",(function(){return H})),n.d(t,"NOTIFICATIONS_ERROR",(function(){return W})),n.d(t,"UPDATE_REMEMBER_BLOCK",(function(){return G})),n.d(t,"MOVE_CLONED_RESOURCES",(function(){return q})),n.d(t,"CANCEL_MOVE_CLONED_RESOURCE",(function(){return $})),n.d(t,"UPDATE_CLUSTERS_AND_RESOURCES",(function(){return Y})),n.d(t,"APPLY_DIFF",(function(){return K})),n.d(t,"RESTORE_DELETED_ITEM",(function(){return X})),n.d(t,"EXCLUDE_RESOURCES_FROM_ALBUM",(function(){return Z})),n.d(t,"EDIT_PHONE_NUMBER",(function(){return J})),n.d(t,"SENDING_PROMO_SMS",(function(){return Q})),n.d(t,"PROMO_SMS_SENT",(function(){return ee})),n.d(t,"PROMO_SMS_SENDING_FAILED",(function(){return te})),n.d(t,"RESET_SMS_SENDING_ERROR",(function(){return ne})),n.d(t,"DISCOUNT_PROMO_SHOWN",(function(){return re})),n.d(t,"HIDE_UPLOADER",(function(){return ie})),n.d(t,"OPEN_UPLOADER",(function(){return oe})),n.d(t,"CLOSE_UPLOADER",(function(){return ae})),n.d(t,"REMOVE_UPLOAD_RESOURCES_IDS",(function(){return se})),n.d(t,"SET_HIGHLIGHTED_UPLOAD_RESOURCES",(function(){return ue})),n.d(t,"HIDE_UPLOAD_NOTIFICATION",(function(){return ce})),n.d(t,"START_UPLOAD",(function(){return le})),n.d(t,"INIT_UPLOADING_STATES",(function(){return de})),n.d(t,"UPDATE_UPLOADING_STATE",(function(){return fe})),n.d(t,"UPDATE_UPLOADING_PROGRESS",(function(){return he})),n.d(t,"UPDATE_ALBUM",(function(){return pe})),n.d(t,"REMOVE_ALBUM",(function(){return me})),n.d(t,"FETCH_ALBUM_SUCCESS",(function(){return ve})),n.d(t,"CREATE_ALBUM",(function(){return ge})),n.d(t,"CREATE_ALBUM_SUCCESS",(function(){return ye})),n.d(t,"CREATE_ALBUM_FAIL",(function(){return be})),n.d(t,"UPDATE_ALBUMS_COMMON_DATA",(function(){return _e})),n.d(t,"REMOVE_ITEMS_FROM_ALBUM",(function(){return Oe})),n.d(t,"ADD_ITEMS_TO_ALBUM",(function(){return we})),n.d(t,"SET_IS_SELECTING_PHOTOS",(function(){return Ee})),n.d(t,"FETCH_ALBUMS_LIST_SUCCESS",(function(){return Se})),n.d(t,"ADD_OPERATIONS",(function(){return Ce})),n.d(t,"UPDATE_OPERATION",(function(){return xe})),n.d(t,"REMOVE_OPERATIONS",(function(){return ke}));var r="UPDATE_INVITES_TO_FOLDERS",i="UPDATE_INVITE_TO_FOLDER",o="REMOVE_INVITE_TO_FOLDER",a="UPDATE_SETTINGS",s="UPDATE_SPACE",u="UPDATE_SEARCH",c="DESELECT_RESOURCES",l="DESELECT_ALL",d="SET_SELECTED",f="ADD_TO_SELECTED",h="SET_HIGHLIGHTED",p="SET_VIEW",m="UPDATE_SORT",v="UPDATE_RESOURCES",g="DESTROY_RESOURCE_CHILDREN",y="DESTROY_RESOURCE",b="CREATE_RESOURCES",_="UPDATE_RESOURCES_FOTKI_META",O="UPDATE_PACKAGES_SPACE",w="UPDATE_SPACE_TARIFFS",E="UPDATE_PAGE",S="UPDATE_CONFIG",C="UPDATE_ENVIRONMENT",x="UPDATE_VERSIONS",k="TOGGLE_SUBVERSIONS",T="CLEAN_VERSIONS",j="OPEN_DIALOG",R="CLOSE_DIALOG",P="UPDATE_DIALOG",D="UPDATE_SHARED_FOLDERS_USERS",I="UPDATE_SHARED_FOLDERS_USERS_LOADING_STATE",A="SET_SCROLL_TO_RESOURCE",M="UPDATE_USER",N="UPDATE_ORDERS",L="UPDATE_SUGGEST_QUERY",F="UPDATE_SUGGEST_ACTIVATION",B="UPDATE_SUGGEST_RESULT",U="APPEND_SUGGEST_RESULT",z="START_SEARCH_SESSION",V="UPDATE_NOTIFICATIONS",H="HIDE_NOTIFICATION",W="NOTIFICATIONS_ERROR",G="UPDATE_REMEMBER_BLOCK",q="MOVE_CLONED_RESOURCES",$="CANCEL_MOVE_CLONED_RESOURCE",Y="UPDATE_CLUSTERS_AND_RESOURCES",K="APPLY_DIFF",X="RESTORE_DELETED_ITEM",Z="EXCLUDE_RESOURCES_FROM_ALBUM",J="EDIT_PHONE_NUMBER",Q="SENDING_PROMO_SMS",ee="PROMO_SMS_SENT",te="PROMO_SMS_SENDING_FAILED",ne="RESET_SMS_SENDING_ERROR",re="DISCOUNT_PROMO_SHOWN",ie="HIDE_UPLOADER",oe="OPEN_UPLOADER",ae="CLOSE_UPLOADER",se="REMOVE_UPLOAD_RESOURCES_IDS",ue="SET_HIGHLIGHTED_UPLOAD_RESOURCES",ce="HIDE_UPLOAD_NOTIFICATION",le="START_UPLOAD",de="INIT_UPLOADING_STATES",fe="UPDATE_UPLOADING_STATE",he="UPDATE_UPLOADING_PROGRESS",pe="UPDATE_ALBUM",me="REMOVE_ALBUM",ve="FETCH_ALBUM_SUCCESS",ge="CREATE_ALBUM",ye="CREATE_ALBUM_SUCCESS",be="CREATE_ALBUM_FAIL",_e="UPDATE_ALBUMS_COMMON_DATA",Oe="REMOVE_ITEMS_FROM_ALBUM",we="ADD_ITEMS_TO_ALBUM",Ee="SET_IS_SELECTING_PHOTOS",Se="FETCH_ALBUMS_LIST_SUCCESS",Ce="ADD_OPERATIONS",xe="UPDATE_OPERATION",ke="REMOVE_OPERATIONS"}),(function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(254),a=n(511),s=n(86),u=n(21),c=n.n(u),l=function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},d=function(e,t){return function(n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,i=arguments.length>1?arguments[1]:void 0;return i.type===n?e(i.payload,r):r}}},f=d((function(e){return c()(e)}),[]),h=d((function(e,t){return Object.assign({},t,e)}),{}),p=(d((function(e){return Object.assign({},e)}),{}),d((function(e){return e}),""),n(66)),m=n.n(p),v=n(13),g=n(75),y=n.n(g),b=n(22),_=n(102),O=n(9),w=n.n(O),E=function(e,t,n){var r=e[t];r&&r.children&&Object.keys(r.children).forEach((function(o){var a=n(r.children[o],o);a&&(e[t]=Object.assign({},e[t],{children:Object.assign({},e[t].children,i()({},o,a))}))}))},S=function(e,t,n,r){E(e,n,(function(i,o){var a=i.ids,s=i.isComplete;if(!a.includes(t)){var u=(function(e,t,n,r){var i=e.type,o=n[t],a=w.a.reduce(o.children[r].ids,(function(e,t){return"file"===n[t].type?e.files.push(n[t]):"/trash"!==t&&e.dirs.push(n[t]),e}),{dirs:[],files:[]}),s=r.split("_"),u=m()(s,2),c=u[0],l=u[1],d=c;"type"===c?d="name":"size"!==c&&"append_time"!==c||(d="meta."+c);var f="file"===i?a.files:a.dirs,h=Object(_.sortedIndex)(f,e,(function(e,t){var n,r=w.a.get(e,d),i=w.a.get(t,d);if(void 0===r)n=-1;else if(void 0===i)n=1;else if("type"===c){var o=[r,i].map((function(e){return 1===(e=e.split(".")).length?e.unshift("0"):e.unshift(w.a.last(e)),e.join(".")}));n=o[0]>o[1]?1:-1}else n=r>i?1:-1;return"0"===l?-1*n:n}));return"file"===i&&(h+=a.dirs.length),h})(e[t],n,e,o);if(!r||s||u<a.length){var l=c()(a);return l.splice(u,0,t),Object.assign({},i,{ids:l})}}}))},C=function(e,t,n){E(e,n,(function(e){var n=e.ids,r=n.indexOf(t);if(-1!==r){var i=c()(n);return i.splice(r,1),Object.assign({},e,{ids:i})}}))},x=function(e,t,n,r,i){var o=w.a.get(e[n],i),a=w.a.get(t[n],i);o&&!a?C(t,n,r):a&&!o&&S(t,n,r,!0)},k=function(e){return!(!e||"file"!==e.type||e.isInTrash||!e.mtime)&&(e.id.startsWith("/disk")||e.id.startsWith("/photounlim"))},T=n(147),j={isLoaded:!1,invites:[],invitesByHash:{}},R={selected:[],highlighted:[],sort:{}},P=n(23);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A={versions:[],subversions:{},iterationKey:null,error:!1,loading:!1},M={idContext:"",search:{query:"",scope:""},currentUrl:""},N={items:[],query:"",active:!1,state:"loading",error:null,sessionId:null},L=n(29),F=n.n(L).a.NOTIFICATIONS,B=F.TYPE,U={promo:{all:[],visible:null,cooldown:F.DEFAULT_COOLDOWN,fetched:!1},service:{count:0}},z={phoneNumber:"",sendingPromoSms:!1,promoSmsSent:!1,promoSmsSendingFailed:!1,discountPromoShown:!1},V=n(17),H=n(22).dirname,W=n(64).getIsInsideVirtualDisk,G={visible:!1,opened:!1,totalUploadingSize:0,totalUploadedSize:0,resourcesToUpload:[],highlighted:[],appPromoShown:!1,insufficientStorageNotificationShown:!1,notifications:[],uploadingStatesByIds:{}},q=function(e,t,n){e.resourcesToUpload=e.resourcesToUpload.map((function(e){return e===t?n:e})),e.uploadingStatesByIds[t]&&(e.uploadingStatesByIds=Object.assign({},e.uploadingStatesByIds,i()({},n,e.uploadingStatesByIds[t])),delete e.uploadingStatesByIds[t])},$=function(e,t,n,r,o){e[t]=Object.assign({},e[t]),n===V.UPLOAD_STATUSES.DONE&&(e[t][o?"loadedFolders":"loadedFiles"]+=1),n===V.UPLOAD_STATUSES.ERROR&&(e[t][o?"foldersErrors":"filesErrors"]+=1,Object(V.canRetryUpload)(r)&&e[t].retriableErrors++);var a=e[t],s=a.files,u=a.folders,c=a.loadedFiles,l=a.loadedFolders,d=a.filesErrors,f=a.foldersErrors;s===c+d&&u===l+f&&(d+f>0?e[t].status!==V.UPLOAD_STATUSES.ERROR&&Object.assign(e[t],{status:V.UPLOAD_STATUSES.ERROR,error:(function(e,t){var n,r=V.UPLOAD_ERRORS.INSUFFICIENT_STORAGE,o=V.UPLOAD_ERRORS.ENTRY_READ_FAIL,a=V.UPLOAD_ERRORS.FILE_TOO_BIG,s=V.UPLOAD_ERRORS.FILE_SIZE_OVER_LIMIT,u=V.UPLOAD_ERRORS.UNKNOWN,c=V.UPLOAD_ERRORS.SUBRESOURCE,l=V.UPLOAD_ERRORS.FOLDER_UPLOAD_INCOMPLETE,d=(n={},i()(n,r,0),i()(n,o,0),i()(n,a,0),i()(n,s,0),i()(n,"other",0),n);return Object.keys(t).forEach((function(n){var i=t[n],u=i.rootFolderId,c=i.status,l=i.error;u===e&&c===V.UPLOAD_STATUSES.ERROR&&([r,o,a,s].includes(l)?d[l]++:d.other++)})),d[r]>0?r:(d[o]>0||d[a]>0||d[s]>0)&&0===d.other?l:t[e].retriableErrors>0?u:c})(t,e)}):e[t].status=V.UPLOAD_STATUSES.DONE)},Y=function(e,t,n,r){if(r===V.UPLOAD_ERRORS.INSUFFICIENT_STORAGE){if(e.insufficientStorageNotificationShown)return e;e.insufficientStorageNotificationShown=!0}var i={id:t,type:n,data:{resourceId:t,reason:r}},o=V.UPLOAD_ERRORS.CONFLICT===r?e.notifications.findIndex((function(e){var t=e.data;return(t=void 0===t?{}:t).reason===V.UPLOAD_ERRORS.CONFLICT})):-1;e.notifications=-1!==o?[].concat(c()(e.notifications.slice(0,o)),[i],c()(e.notifications.slice(o))):[].concat(c()(e.notifications),[i])},K=function(e,t){var n=Array.isArray(t)?t:[t];e.notifications=e.notifications.filter((function(e){var t=e.id;return!n.includes(t)}))},X=function(e,t,n){var r=Object.assign({},e,{uploadingStatus:V.UPLOAD_STATUSES.UPLOADING,uploadingStatesByIds:Object.assign({},e.uploadingStatesByIds)});return n&&(r.uploadingStatesByIds[n]=Object.assign({},r.uploadingStatesByIds[n])),t.forEach((function(e){var t=e.id,i=e.isDirectory,o=e.size,a=e.readFail;r.uploadingStatesByIds[t]&&delete r.uploadingStatesByIds[t];var s={loaded:0,total:o,status:V.UPLOAD_STATUSES.ENQUEUED};a&&(Object.assign(s,{status:V.UPLOAD_STATUSES.ERROR,error:V.UPLOAD_ERRORS.ENTRY_READ_FAIL}),n&&(r.uploadingStatesByIds[n][i?"foldersErrors":"filesErrors"]+=1)),i&&!n&&Object.assign(s,{files:0,folders:0,loadedFiles:0,loadedFolders:0,filesErrors:0,foldersErrors:0,retriableErrors:0}),n&&(s.rootFolderId=n,r.uploadingStatesByIds[n][i?"folders":"files"]+=1,r.uploadingStatesByIds[n].total+=o),r.uploadingStatesByIds[t]=s,r.totalUploadingSize+=o})),r},Z=function(e,t){Object.keys(e).forEach((function(n){t(e[n])&&(e[n]=Object.assign({},e[n],{status:V.UPLOAD_STATUSES.ENQUEUED}),delete e[n].error)}))},J=function(e){Object.assign(e,{visible:!1,opened:!1,resourcesToUpload:[],uploadingStatesByIds:{},totalUploadingSize:0,totalUploadedSize:0})},Q=function(e,t,n){var r=n.id;if(e.uploadingStatesByIds[r]){var i=e.uploadingStatesByIds[r].status;t.uploadingStatesByIds[r]=Object.assign({},w.a.omit(t.uploadingStatesByIds[r],"needCancel"),w.a.pick(n,["status","error","isDirectory"]));var o=t.uploadingStatesByIds[r],a=o.status,s=o.error,u=o.isDirectory,c=o.rootFolderId,l=o.files,d=o.folders;c&&[V.UPLOAD_STATUSES.DONE,V.UPLOAD_STATUSES.ERROR].includes(a)&&$(t.uploadingStatesByIds,c,a,s,u),a===V.UPLOAD_STATUSES.UPLOADING&&u&&!c&&0===l&&0===d&&(t.uploadingStatesByIds[r].status=V.UPLOAD_STATUSES.DONE),a===V.UPLOAD_STATUSES.CONFLICT&&Y(t,r,V.UPLOAD_NOTIFICATION_TYPES.SERVICE,V.UPLOAD_ERRORS.CONFLICT),a===V.UPLOAD_STATUSES.ERROR&&(u&&s===V.UPLOAD_ERRORS.FOLDER_NOT_CREATED&&(function e(t,n,r){Object.keys(t).forEach((function(i){H(i)===n&&(t[i]=Object.assign({},t[i],r),$(t,t[i].rootFolderId,r.status,r.error,t[i].isDirectory),t[i].isDirectory&&e(t,i,r))}))})(t.uploadingStatesByIds,r,{status:V.UPLOAD_STATUSES.ERROR,error:V.UPLOAD_ERRORS.PARENT_FOLDER_CREATE_FAIL}),s!==V.UPLOAD_ERRORS.INSUFFICIENT_STORAGE||W(r)||Y(t,r,V.UPLOAD_NOTIFICATION_TYPES.SERVICE,V.UPLOAD_ERRORS.INSUFFICIENT_STORAGE)),a===V.UPLOAD_STATUSES.ENQUEUED&&(delete t.uploadingStatesByIds[r].error,u&&!c&&(function(e,t){Object.assign(e[t],{foldersErrors:0,filesErrors:0,retriableErrors:0}),Z(e,(function(e){return e.rootFolderId===t&&e.status===V.UPLOAD_STATUSES.ERROR}))})(t.uploadingStatesByIds,r)),a===V.UPLOAD_STATUSES.CANCELED&&(Object(V.canCancelUpload)(i)||e.uploadingStatesByIds[r].needCancel?(function(e,t){e.resourcesToUpload=e.resourcesToUpload.filter((function(e){return e!==t}));var n=e.uploadingStatesByIds[t],r=n.rootFolderId,i=n.total,o=n.loaded,a=n.isDirectory;r||a||(e.totalUploadingSize-=i,e.totalUploadedSize-=o),K(e,t),a&&Object.keys(e.uploadingStatesByIds).forEach((function(n){if(e.uploadingStatesByIds[n].rootFolderId===t){var r,i=e.uploadingStatesByIds[n];Object(V.canCancelUpload)(i.status)?(r={status:V.UPLOAD_STATUSES.CANCELED},e.totalUploadingSize-=i.total,e.totalUploadedSize-=i.loaded):Object(V.willCanCancelUpload)(i.status)&&(r={needCancel:!0}),r&&(e.uploadingStatesByIds[n]=Object.assign({},i,r))}})),0===e.resourcesToUpload.length&&J(e)})(t,r):(Object(V.willCanCancelUpload)(i)&&(t.uploadingStatesByIds[r].needCancel=!0),t.uploadingStatesByIds[r].status=i)),a===V.UPLOAD_STATUSES.UPLOADING&&u&&!c&&Object(V.canRetryUpload)(s)&&(function(e,t){var n=e[t],r=n.retriableErrors;delete n.error,Object.assign(n,{filesErrors:n.filesErrors-r,retriableErrors:0}),Z(e,(function(e){return e.rootFolderId===t&&e.status===V.UPLOAD_STATUSES.ERROR&&Object(V.canRetryUpload)(e.error)}))})(t.uploadingStatesByIds,r)}},ee=function(e){var t=0,n=0;e.resourcesToUpload.forEach((function(r){e.uploadingStatesByIds[r].status===V.UPLOAD_STATUSES.DONE&&(t+=1),[V.UPLOAD_STATUSES.ERROR,V.UPLOAD_STATUSES.CONFLICT].includes(e.uploadingStatesByIds[r].status)&&(n+=1)})),e.resourcesToUpload.length&&t===e.resourcesToUpload.length?(e.totalUploadingSize=0,e.totalUploadedSize=0,e.uploadingStatus=V.UPLOAD_STATUSES.DONE):t+n===e.resourcesToUpload.length?e.uploadingStatus=V.UPLOAD_STATUSES.ERROR:e.uploadingStatus=V.UPLOAD_STATUSES.UPLOADING},te=function(e,t){e.resourcesToUpload=e.resourcesToUpload.filter((function(e){return e!==t})),K(e,t),ee(e),0===e.resourcesToUpload.length&&J(e)},ne=n(118),re=n(69),ie=n(138);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ae=Object(re.getPreloadedData)("favoriteAlbum"),se={isLoading:!1,isLoaded:!1,isCompleted:!1,ids:[],creatingAlbumsCount:0,isPublishSelected:!1,lastCreatedAlbumId:null,newAlbumTitle:"",scrollInAlbums:null,returnPath:"/client/albums",deletedItems:{},isSelectingPhotos:!1,albumsByIds:(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e})({},ae?i()({},ae.id,ae):{}),favoriteAlbumId:(ae||{}).id},ue=function(e,t,n){e.deletedItems=Object.assign({},e.deletedItems),e.deletedItems[t]=Object.assign({},e.deletedItems[t],i()({},n.id,n))},ce=function(e,t,n,r,i){if(!e.albumsByIds[t]||!e.albumsByIds[t].clusters)return!1;e.albumsByIds=Object.assign({},e.albumsByIds);var o=e.albumsByIds[t]=Object.assign({},e.albumsByIds[t]);if(["geo","faces"].includes(o.album_type)){var a=o.bufferedPhotos.findIndex((function(e){return e.id===r}));if(-1!==a){var s=o.bufferedPhotos[a];return o.bufferedPhotos=o.bufferedPhotos.filter((function(e){return e.id!==r})),n&&ue(e,t,s),!0}}var u=Object(ne.b)(o,{id:r});if(!u)return!1;var l=u.clusterIndex,d=u.resourceIndex;o.clusters=c()(o.clusters);var f=c()(o.clusters[l].items);if(i)f.splice(d,1,Object.assign({},f[d],{id:i})),o.coverResourceId===r&&(o.coverResourceId=i);else{var h=f.splice(d,1),p=m()(h,1)[0];n&&ue(e,t,p)}return o.clusters[l]=Object.assign({},o.clusters[l],{size:f.length,items:f}),o.is_empty=!(f.length||1!==o.clusters.length&&o.clusters.find((function(e){return e.size>0}))),!0},le=function(e,t){var n=e.albumsByIds[t];["geo","faces"].includes(n.album_type)?(function(e,t){var n=e.albumsByIds[t],r=n.clusters.filter((function(e){return e.size>0})).map((function(e){var t=e.items[0].resourceTime,n=e.items[e.items.length-1].resourceTime;return Object.assign({},e,{from:t,fromDay:Object(ie.a)(t),to:n,toDay:Object(ie.a)(n),size:e.items.length})}));e.albumsByIds[t]=Object.assign({},n,{clusters:r,structureVersion:n.structureVersion+1})})(e,t):(function(e,t){var n,r=[],i={id:1,items:[]},o=e.albumsByIds[t].clusters.filter((function(e){return e.size>0}));o.forEach((function(e,t){e.items.forEach((function(n,a){var s=t===o.length-1&&a===e.items.length-1;i.items.push(n),(i.items.length===L.PORTION_SIZE||s)&&(i.size=i.items.length,r.push(i),i={id:i.id+1,items:[]})}))})),r.length>1&&r[r.length-1].size<10&&((n=r[r.length-2].items).push.apply(n,c()(r[r.length-1].items)),r[r.length-2].size+=r[r.length-1].size,r.pop());e.albumsByIds[t]=Object.assign({},e.albumsByIds[t],{clusters:r,structureVersion:e.albumsByIds[t].structureVersion+1})})(e,t)},de=function(e,t){var n=Object.assign({},e),r={};t.forEach((function(e){var t=e.src,i=e.dst;t.albumIds&&t.albumIds.forEach((function(e){ce(n,e,!0,t.id,!i.isInTrash&&i.id)&&(r[e]=!0)}))}));var i=Object.keys(r);return i.length?(i.forEach((function(e){le(n,e)})),n):e},fe=function(e,t,n){return Object.assign({},e,i()({},t,Object.assign({},e[t],n)))},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0===e.length)return[];for(var t=[Object.assign({},e[0])],n=1;n<e.length;n++){var r=e[n],i=w.a.last(t);(r.size<10||i.size<10)&&Object(ie.c)(r.fromDay,i.fromDay)?Object.assign(i,{to:r.to,toDay:r.toDay,items:[].concat(c()(i.items),c()(r.items)),size:i.size+r.size}):t.push(Object.assign({},r))}return t},pe=function(e,t){var n=e.isCompleted,r=c()(e.clusters||[]);if(r.length>0&&(e.bufferedPhotos||[]).length>0){var i=w.a.last(r),o=w.a.first(e.bufferedPhotos),a=w.a.last(e.bufferedPhotos),s=Object(ie.a)(o.resourceTime),u=Object(ie.a)(a.resourceTime);u.getTime()===i.toDay.getTime()?r[r.length-1]=Object.assign({},i,{items:[].concat(c()(i.items),c()(e.bufferedPhotos)),size:i.size+e.bufferedPhotos.length,to:a.resourceTime,toDay:Object(ie.a)(a.resourceTime)}):r.push({id:s,from:o.resourceTime,fromDay:s,to:a.resourceTime,toDay:u,items:e.bufferedPhotos,size:e.bufferedPhotos.length})}e.bufferedPhotos=[];var l=t.reduce((function(e,t){var n=Object(ie.a)(t.resourceTime),r=w.a.last(e);return r&&r.toDay.getTime()===n.getTime()?(r.items.push(t),r.size++,r.to=t.resourceTime):e.push({id:n,from:t.resourceTime,fromDay:n,to:t.resourceTime,toDay:n,items:[t],size:1}),e}),[]),d=w.a.last(r),f=d&&l.length>0&&d.toDay.getTime()===l[0].fromDay.getTime(),h=f?[l[0]].concat(c()(he(l.slice(1)))):c()(he(l));if(!n){var p=w.a.last(h),m=[];p.items.length<20?(h.pop(),m=p.items):(m=p.items.slice(-10),p.items=p.items.slice(0,-10),p.size=p.items.length),e.bufferedPhotos=m}if(f){var v=h.shift();r[r.length-1]=Object.assign({},d,{items:[].concat(c()(d.items),c()(v.items)),size:d.size+v.size,to:v.to})}e.clusters=[].concat(c()(r),c()(h))},me=function(e,t,n){e.albumsByIds=Object.assign({},e.albumsByIds,i()({},t,Object.assign({},e.albumsByIds[t],{is_empty:!1})));var r=e.albumsByIds[t];["geo","faces"].includes(r.album_type)?(function(e,t,n,r){var i=Object.assign({},r),o=(n.clusters||[]).reduce((function(e,t){return[].concat(c()(e),c()(t.items))}),[]).concat(n.bufferedPhotos),a=Object(_.sortedIndex)(o,i,(function(e,t){return t.resourceTime-e.resourceTime}));o.splice(a,0,i),n.bufferedPhotos=[],n.clusters=[],pe(n,o)})(0,0,r,n):(function(e,t,n,r){n.clusters&&n.clusters.length||(n.clusters=[{items:[]}]);var i=Object(ne.a)(n,r),o=i.clusterIndex,a=i.resourceIndex,s=c()(n.clusters[o].items);s.splice(a,0,r),n.clusters=c()(e.albumsByIds[t].clusters),n.clusters[o]=Object.assign({},n.clusters[o],{items:s,size:s.length})})(e,t,r,n)},ve=n(108),ge=n(170),ye={id:"geo"},be={id:"faces"},_e={id:"favorites",name:"Избранные"},Oe={isLoaded:!1,isLoading:!0,albums:{favorite:_e,camera:{id:"camera",count:0,name:"Камера"},videos:{id:"videos",count:0,name:"Видео"},screenshots:{id:"screenshots",count:0,name:"Скриншоты"},geo:ye,beautiful:{id:"beautiful",count:0,name:"Красивые"},unbeautiful:{id:"unbeautiful",count:0,name:"Разобрать"}}},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve.d:return Object.assign({},e,t.payload);case ve.a:var n=t.payload.albums,r=e.albums,i={};return Object.keys(r).forEach((function(e){var o=n[e];!t.payload.single&&!o&&r[e]&&r[e].count&&(o={count:0}),o&&o.ids&&(o.ids=o.ids.length?[].concat(c()(r[e].ids||[]),c()(o.ids)):[]),i[e]=Object.assign({},r[e],o)})),Object.assign({},e,{albums:i});case v.REMOVE_ALBUM:if(!t.payload.albumType||!e.albums[t.payload.albumType])return e;var o=e.albums[t.payload.albumType],a=o.ids?o.ids.filter((function(e){return e!==t.payload.id})):[];if(!o.ids||o.ids===a.length)return e;var s=Object.assign({},e.albums);return s[t.payload.albumType]=Object.assign({},s[t.payload.albumType],{ids:a}),Object.assign({},e,{albums:s});case ve.c:if(!t.payload.length){var u=Object.assign({},e.albums,{geo:null});return Object.assign({},e,{albums:u})}var l=w.a.get(t.payload[0],"cover.object.meta.sizes"),d=Object.assign({},ye,e.albums.geo,l&&{preview:Object(ge.a)(l,"DEFAULT")}),f=Object.assign({},e.albums,{geo:d});return Object.assign({},e,{albums:f});case ve.b:if(!t.payload.album.length){var h=Object.assign({},e.albums,{faces:null});return Object.assign({},e,{albums:h})}var p=t.payload.album[0],m=w.a.get(p,"cover.object.meta.sizes"),g=w.a.pick(w.a.get(p,"cover"),["face_bottom","face_top","face_left","face_right","width","height"]),y=Object.assign({},be,e.albums.faces,(t.payload.refresh||!(e.albums.faces&&e.albums.faces.preview))&&m&&{preview:Object(ge.a)(m,"DEFAULT"),previewAlbumId:w.a.get(p,"id"),previewResourceId:w.a.get(p,"cover.object.id"),cover:g}),b=Object.assign({},e.albums,{faces:y});return Object.assign({},e,{albums:b});case ve.e:var _;if(t.payload.length&&(_=t.payload[0]),!_||_.is_empty){var O=Object.assign({},e.albums,{favorite:Object.assign({},_e,_?{personalAlbumId:_.id}:{})});return Object.assign({},e,{albums:O})}var E=w.a.get(_,"cover.meta.sizes"),S=Object.assign({},_e,E&&{preview:Object(ge.a)(E,"DEFAULT")},{personalAlbumId:_.id}),C=Object.assign({},e.albums,{favorite:S});return Object.assign({},e,{albums:C});default:return e}},Ee=n(289),Se=n.n(Ee),Ce={user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.UPDATE_USER:var n=Object.assign({},e);return Object.assign({},w.a.omit(n,["overdraft_status","overdraft_block_date"]),t.payload);default:return e}},environment:h(v.UPDATE_ENVIRONMENT),config:h(v.UPDATE_CONFIG),defaultFolders:l,settings:h(v.UPDATE_SETTINGS),space:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.UPDATE_SPACE:return Object.assign({},e,t.payload);default:return e}},spaceTariffs:h(v.UPDATE_SPACE_TARIFFS),billingProducts:l,orders:f(v.UPDATE_ORDERS),rememberBlock:h(v.UPDATE_REMEMBER_BLOCK),page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.UPDATE_PAGE:return Object.assign({},e,t.payload,{search:Object.assign({},e.search,t.payload.search)});case v.UPDATE_SEARCH:return Object.assign({},e,{search:Object.assign({},e.search,t.payload)});case v.MOVE_CLONED_RESOURCES:case v.CANCEL_MOVE_CLONED_RESOURCE:case v.DESTROY_RESOURCE:case v.EXCLUDE_RESOURCES_FROM_ALBUM:case v.REMOVE_ITEMS_FROM_ALBUM:return t.payload.newIdDialog||""===t.payload.newIdDialog?Object.assign({},e,{idDialog:t.payload.newIdDialog}):e;default:return e}},scrollToResource:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.SET_SCROLL_TO_RESOURCE:return Object.assign({},e,t.payload);case v.UPDATE_PAGE:return"select"===t.payload.dialog?Object.assign({},e,{id:t.payload.idDialog,shouldSelect:!0}):t.payload.selectResource?Object.assign({},e,{id:t.payload.selectResource,shouldSelect:!0}):e;default:return e}},packagesSpace:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:"unloaded",items:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.UPDATE_PACKAGES_SPACE:return Object.assign({},e,t.payload,{items:c()(t.payload.items||[])});default:return e}},versions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.UPDATE_VERSIONS:var n=t.payload,r=n.data,o=n.error,a=n.parentId,s=n.clean,u=n.loading;if(r){var c=r.versions,l=r.iteration_key,d=!Boolean(l);if(a){var f=(!s&&e.subversions[a]&&e.subversions[a].versions?e.subversions[a].versions:[]).concat(c);return Object.assign({},e,{subversions:Object.assign({},e.subversions,i()({},a,Object.assign({},e.subversions[a],{loading:u,error:!1,completed:d,versions:f,iterationKey:l})))})}var h=c.reduce((function(e,t){return t.folded_items_iteration_key&&(e[t.id]={loading:!1,completed:!1,opened:!1,versions:[],iterationKey:t.folded_items_iteration_key}),e}),{});return Object.assign({},e,{subversions:Object.assign(h,s?{}:e.subversions),loading:u,error:!1,completed:d,versions:(s?[]:e.versions).concat(c),iterationKey:l})}return a?Object.assign({},e,{subversions:Object.assign({},e.subversions,i()({},a,Object.assign({},e.subversions[a],{loading:u,error:o})))}):Object.assign({},e,{loading:u,error:o});case v.TOGGLE_SUBVERSIONS:var p=t.payload.parentId;return Object.assign({},e,{subversions:Object.assign({},e.subversions,i()({},p,Object.assign({},e.subversions[p],{opened:!e.subversions[p].opened})))});case v.CLEAN_VERSIONS:return A;default:return e}},statesContext:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.UPDATE_SORT:if(!t.payload.idContext)return e;var n=Object.assign({},e.sort,i()({},t.payload.idContext,{sort:t.payload.sort,order:t.payload.order}));return Object.assign({},e,{sort:n});case v.DESELECT_RESOURCES:var r=!1,o=e.selected.slice();return t.payload.resourcesIds.forEach((function(e){var t=o.indexOf(e);-1!==t&&(o.splice(t,1),r=!0)})),r?Object.assign({},e,{selected:o}):e;case v.DESELECT_ALL:return e.selected.length?Object.assign({},e,{selected:[]}):e;case v.SET_SELECTED:return Object.assign({},e,{selected:t.payload.selected});case v.ADD_TO_SELECTED:return Object.assign({},e,{selected:w.a.union(e.selected,t.payload.resourcesIds)});case v.SET_HIGHLIGHTED:return Object.assign({},e,{highlighted:t.payload.highlighted});case v.SET_VIEW:return Object.assign({},e,{view:t.payload.view});default:return e}},invitesToFolders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.UPDATE_INVITES_TO_FOLDERS:var n={},r=[];return t.payload.forEach((function(t){n[t.hash]=Object.assign({},t,{status:T.a.INITIAL},e.invitesByHash[t.hash]),r.push(t.hash)})),Object.assign({},e,{isLoaded:!0,invites:r,invitesByHash:n});case v.UPDATE_INVITE_TO_FOLDER:return Object.assign({},e,{invitesByHash:Object.assign({},e.invitesByHash,i()({},t.payload.hash,Object.assign({},e.invitesByHash[t.payload.hash]||{},t.payload)))});case v.REMOVE_INVITE_TO_FOLDER:var o=Object.assign({},e.invitesByHash);return delete o[t.payload.hash],Object.assign({},e,{invites:e.invites.filter((function(e){return e!==t.payload.hash})),invitesByHash:o});default:return e}},sharedFoldersUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.UPDATE_SHARED_FOLDERS_USERS:var n=e[t.payload.gid]||{};return Object.assign({},e,i()({},t.payload.gid,Object.assign({},n,{users:t.payload.users})));case v.UPDATE_SHARED_FOLDERS_USERS_LOADING_STATE:var r=e[t.payload.gid]||{};return Object.assign({},e,i()({},t.payload.gid,Object.assign({},r,{isLoading:t.payload.isLoading})));default:return e}},resources:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.updateList.type:case v.FETCH_ALBUM_SUCCESS:case v.ADD_ITEMS_TO_ALBUM:case v.UPDATE_CLUSTERS_AND_RESOURCES:case v.UPDATE_RESOURCES:if(!t.payload.resources)return e;var n=t.payload.resources.reduce((function(t,n){return t[n.id]=Object.assign({},e[n.id],t[n.id],n),t}),{}),r=Object.assign({},e,n);return Object.keys(n).forEach((function(t){var n;x(e,r,t,"/published","meta.public"),x(e,r,t,"/shared","meta.group.is_root"),(k(e[t])||k(r[t]))&&w.a.get(e[t],"mtime")!==w.a.get(r[t],"mtime")&&(C(r,t,"/recent"),k(r[t])&&S(r,t,"/recent",!0));var i=Object(b.dirname)(t);null!==(n=e[i])&&void 0!==n&&n.children&&e[t]&&(w.a.get(e[t],"mtime")!==w.a.get(r[t],"mtime")||w.a.get(e[t],"name")!==w.a.get(r[t],"name")||w.a.get(e[t],"size")!==w.a.get(r[t],"size"))&&(C(r,t,i),S(r,t,i,!0))})),r;case v.MOVE_CLONED_RESOURCES:var o=Object.assign({},e),a=!1,s=o[t.payload.idContext],u=s&&s.id.startsWith("/remember/"),l=s&&"/photo"===s.id,d=s&&s.id.startsWith("/search/");return t.payload.resources.forEach((function(e){var n=e.src,r=e.dst;if(!r.isInTrash){if(u){var f=(s=o[t.payload.idContext])&&s.children||[],h=f.indexOf(n.id);if(-1!==h){var p,m=[].concat(c()(f.slice(0,h)),[r.id],c()(f.slice(h+1)));o=Object.assign({},o,(p={},i()(p,s.id,Object.assign({},s,{children:m})),i()(p,r.id,Object.assign({},r)),p)),a=!0}}l&&(o=Object.assign({},o,i()({},r.id,Object.assign({},r))),a=!0),d&&E(o,t.payload.idContext,(function(e){var t=e.ids,i=t.indexOf(n.id);if(-1!==i){var o=c()(t);return o.splice(i,1,r.id),a=!0,Object.assign({},e,{ids:o})}}))}})),a?o:e;case v.DESTROY_RESOURCE:var f=e[t.payload.id];if(!f)return e;var h=f.parents&&f.parents.length&&f.parents[f.parents.length-1].id,p=Object.assign({},e);return delete p[t.payload.id],[h,"/recent","/shared","/published"].forEach((function(e){C(p,t.payload.id,e)})),p;case v.CREATE_RESOURCES:var m=Object.assign({},e);return t.payload.forEach((function(e){var t=e.id,n=e.options,r=m[t];if(r){var i=Object(b.dirname)(t);S(m,t,i,n.insertOnlyIfPortionLoaded),w.a.get(r,"meta.public")&&S(m,t,"/published",n.insertOnlyIfPortionLoaded),w.a.get(r,"meta.group.is_root")&&S(m,t,"/shared",n.insertOnlyIfPortionLoaded),k(r)&&S(m,t,"/recent",n.insertOnlyIfPortionLoaded)}})),m;case v.DESTROY_RESOURCE_CHILDREN:var y=e[t.payload.parentId];if(!y)return e;var _=Object.assign({},e),O={};return y.children&&Object.keys(y.children).forEach((function(e){(y.children[e].ids||[]).forEach((function(e){delete _[e]})),O[e]=Object.assign({},y.children[e],{ids:[],countLost:0},t.payload.resetComplete?{isComplete:!1}:{})})),_[t.payload.parentId]=Object.assign({},y,{children:O}),_;default:return e}},resourcesFotkiMeta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.UPDATE_RESOURCES_FOTKI_META:var n=Object.assign({},t.payload.data);return t.payload.data&&t.payload.data.comments&&(n.comments=(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=[],i=[];return t.forEach((function(e){!n&&!e.parentId||e.parentId===n?r.push(e):i.push(e)})),r.forEach((function(t,n){r[n].replies=e(i,t.id)})),r})(t.payload.data.comments)),Object.assign({},e,i()({},t.payload.resourceId,{data:n,state:t.payload.state}));default:return e}},dialogs:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=t[n.payload&&n.payload.dialog]||{};switch(n.type){case v.OPEN_DIALOG:return e=r.state===P.STATE.OPENED?Object.assign({},r.data,n.payload.data):Object.assign({},n.payload.data),Object.assign({},t,i()({},n.payload.dialog,{state:P.STATE.OPENED,data:e}));case v.UPDATE_DIALOG:var o=t[n.payload.dialog]&&t[n.payload.dialog].state||P.STATE.CLOSED;return Object.assign({},t,i()({},n.payload.dialog,{state:o,data:Object.assign({},r.data,n.payload.data)}));case v.CLOSE_DIALOG:return Object.assign({},t,i()({},n.payload.dialog,{state:P.STATE.CLOSED,data:Object.assign({},r.data,n.payload.data)}));case v.DESTROY_RESOURCE:return t.selectFolder&&t.selectFolder.state===P.STATE.OPENED&&(n.payload.id===t.selectFolder.data.folderId||Object(b.isParent)(n.payload.id,t.selectFolder.data.folderId))?I(I({},t),{},{selectFolder:I(I({},t.selectFolder),{},{data:I(I({},t.selectFolder.data),{},{folderId:"/disk"})})}):t;default:return t}},suggest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.UPDATE_SUGGEST_QUERY:return Object.assign({},e,{query:t.payload,state:"loading"});case v.UPDATE_SUGGEST_ACTIVATION:return Object.assign({},e,{active:t.active});case v.UPDATE_SUGGEST_RESULT:return Object.assign({},e,{state:t.payload.state,error:t.payload.error,items:t.payload.items?t.payload.items:e.items});case v.APPEND_SUGGEST_RESULT:return Object.assign({},e,{state:t.payload.state,items:e.items.concat(t.payload.items)});case v.START_SEARCH_SESSION:return Object.assign({},e,{sessionId:t.payload});default:return e}},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.UPDATE_NOTIFICATIONS:return[B.PROMO,B.SERVICE].includes(t.payload.type)?Object.assign({},e,i()({},t.payload.type,Object.assign({},e[t.payload.type],t.payload))):e;case v.HIDE_NOTIFICATION:return t.payload.type===B.PROMO?Object.assign({},e,{promo:Object.assign({},e.promo,{visible:null})}):e;default:return e}},promo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.EDIT_PHONE_NUMBER:return Object.assign({},e,{phoneNumber:t.payload,promoSmsSent:!1,promoSmsSendingFailed:!1});case v.SENDING_PROMO_SMS:return Object.assign({},e,{sendingPromoSms:!0,promoSmsSent:!1,promoSmsSendingFailed:!1});case v.PROMO_SMS_SENT:return Object.assign({},e,{sendingPromoSms:!1,promoSmsSent:!0});case v.PROMO_SMS_SENDING_FAILED:return Object.assign({},e,{sendingPromoSms:!1,promoSmsSendingFailed:!0});case v.RESET_SMS_SENDING_ERROR:return Object.assign({},e,{promoSmsSendingFailed:!1});case v.DISCOUNT_PROMO_SHOWN:return Object.assign({},e,{discountPromoShown:!0});default:return e}},uploader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.START_UPLOAD:var n=t.payload,r=n.states,i=n.shouldShowAppPromo,o=n.position,a=void 0===o?0:o,s=r.map((function(e){return e.id})),u=Object.assign(X(e,r),{visible:!0,opened:!0,resourcesToUpload:w.a.uniq([].concat(c()(e.resourcesToUpload.slice(0,a)),c()(s),c()(e.resourcesToUpload.slice(a))))});return i&&!e.appPromoShown&&Object.assign(u,{appPromoShown:!0,notifications:[].concat(c()(e.notifications),[{id:V.UPLOAD_NOTIFICATION_TYPES.PROMO,type:V.UPLOAD_NOTIFICATION_TYPES.PROMO}])}),u;case v.HIDE_UPLOADER:var l=Object.assign({},e);return J(l),l;case v.OPEN_UPLOADER:return Object.assign({},e,{opened:!0});case v.CLOSE_UPLOADER:return Object.assign({},e,{opened:!1});case v.SET_HIGHLIGHTED_UPLOAD_RESOURCES:return Object.assign({},e,{highlighted:t.payload});case v.REMOVE_UPLOAD_RESOURCES_IDS:return Object.assign({},e,{resourcesToUpload:w.a.difference(e.resourcesToUpload,t.payload)});case v.MOVE_CLONED_RESOURCES:if(!e.visible)return e;var d=Object.assign({},e);return t.payload.resources.forEach((function(e){var t=e.src,n=e.dst;t.state&&t.state.reuploaded||(n.isInTrash?te(d,t.id):q(d,t.id,n.id))})),d;case v.CANCEL_MOVE_CLONED_RESOURCE:if(!e.visible)return e;var f=Object.assign({},e);return q(f,t.payload.dst.id,t.payload.src.id),f;case v.DESTROY_RESOURCE:if(!e.visible)return e;var h=Object.assign({},e),p=t.payload.id;if(h.uploadingStatesByIds[p]){if(h.uploadingStatesByIds=Object.assign({},h.uploadingStatesByIds),Q(e,h,{id:p,status:V.UPLOAD_STATUSES.CANCELED}),!h.uploadingStatesByIds[p])return h;var m=h.uploadingStatesByIds[p],g=m.status,y=m.needCancel;g===V.UPLOAD_STATUSES.CANCELED||y||(h.uploadingStatesByIds[p].isDirectory&&Object.keys(h.uploadingStatesByIds).forEach((function(e){var t=h.uploadingStatesByIds[e],n=t.rootFolderId,r=t.status,i=t.needCancel;n!==p||r===V.UPLOAD_STATUSES.CANCELED||i||delete h.uploadingStatesByIds[e]})),delete h.uploadingStatesByIds[p]),te(h,p)}return h;case v.HIDE_UPLOAD_NOTIFICATION:var b=Object.assign({},e);return K(b,t.payload),b;case v.INIT_UPLOADING_STATES:var _=t.payload,O=_.states,E=_.rootFolderId;return X(e,O,E);case v.UPDATE_UPLOADING_STATE:if(!e.visible)return e;var S=Object.assign({},e,{uploadingStatesByIds:Object.assign({},e.uploadingStatesByIds)});return(Array.isArray(t.payload)?t.payload:[t.payload]).forEach((function(t){Q(e,S,t)})),ee(S),S;case v.UPDATE_UPLOADING_PROGRESS:if(!e.visible)return e;var C=Array.isArray(t.payload)?t.payload:[t.payload],x=Object.assign({},e.uploadingStatesByIds),k=e.totalUploadedSize,T=!1;return C.forEach((function(e){var t=e.id,n=e.loaded,r=e.total,i=x[t];if(i&&i.status!==V.UPLOAD_STATUSES.CANCELED){var o=i.rootFolderId;if(!o||x[o]&&x[o].status!==V.UPLOAD_STATUSES.CANCELED){T=!0;var a=n-i.loaded;x[t]=Object.assign({},i,{loaded:n,total:r}),n===r&&x[t].status===V.UPLOAD_STATUSES.UPLOADING&&(x[t].status=V.UPLOAD_STATUSES.UPLOADED),o&&(x[o]=Object.assign({},x[o],{loaded:x[o].loaded+a})),k+=a}}})),T?Object.assign({},e,{totalUploadedSize:k,uploadingStatesByIds:x}):e;default:return e}},personalAlbums:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.CREATE_ALBUM:var n=Object.assign({},e);return n.lastCreatedAlbumId=null,n.isPublishSelected=!!t.payload.isPublishSelected,n.creatingAlbumsCount++,n;case v.CREATE_ALBUM_SUCCESS:var r=Object.assign({},e);return r.creatingAlbumsCount&&r.creatingAlbumsCount--,r.lastCreatedAlbumId=t.payload.id,r.albumsByIds=fe(r.albumsByIds,t.payload.id,t.payload),r.ids=[t.payload.id].concat(c()(r.ids||[])),r;case v.FETCH_ALBUMS_LIST_SUCCESS:var o=Object.assign({},e);return t.payload.albums.forEach((function(e){o.albumsByIds=fe(o.albumsByIds,e.id,e)})),!t.payload.albumType&&t.payload.ids&&(o.ids=[].concat(c()(o.ids||[]),c()(t.payload.ids))),o;case v.REMOVE_ALBUM:var a=e.ids.filter((function(e){return e!==t.payload.id}));if(e.ids.length===a.length)return e;var s=Object.assign({},e);return s.ids=a,s.albumsByIds=Object.assign({},s.albumsByIds),delete s.albumsByIds[t.payload.id],s;case v.CREATE_ALBUM_FAIL:var u=Object.assign({},e);return u.creatingAlbumsCount--,u.isPublishSelected=!1,u;case v.UPDATE_ALBUM:var l=Object.assign({},e);return l.albumsByIds=fe(l.albumsByIds,t.payload.id,t.payload),"favorites"===t.payload.album_type&&(l.favoriteAlbumId=t.payload.id),l;case v.UPDATE_ALBUMS_COMMON_DATA:return Object.assign({},e,t.payload);case v.FETCH_ALBUM_SUCCESS:var d=t.payload,f=d.album,h=d.resources,p=Object.assign({},e),m=w.a.omit(f,["items"]),g=f.items.length<L.PORTION_SIZE,y=Object.assign({},p.albumsByIds[f.id],{isLoading:!1,isCompleted:g},m);if(y.clusters=y.clusters||[],y.structureVersion=y.structureVersion||0,y.structureVersion++,!["geo","faces"].includes(y.album_type)&&f.items.length){var b=f.items.filter((function(e){var t=e.itemId;return!Object(ne.b)(y,{itemId:t})}));if(b.length){var _=y.clusters=c()(y.clusters);if(!_.length||_.length&&_[_.length-1].items.length>10)y.clusters.push({id:y.clusters.length+1,size:b.length,items:b});else{var O=Object.assign({},_[_.length-1]);O.items=[].concat(c()(O.items),c()(b)),O.size=O.items.length,_[_.length-1]=O}}}else if(["geo","faces"].includes(y.album_type)){var E=f.items.map((function(e,t){var n=h[t],r=1e3*(n.etime||n.ctime);return Object.assign({},e,{resourceTime:r})}));pe(y,E)}return"favorites"===f.album_type&&(p.favoriteAlbumId=f.id),p.albumsByIds=fe(p.albumsByIds,f.id,y),p;case v.MOVE_CLONED_RESOURCES:return de(e,t.payload.resources);case v.CANCEL_MOVE_CLONED_RESOURCE:var S=t.payload,C=S.src,x=S.dst;return de(e,[{src:x,dst:C}]);case v.REMOVE_ITEMS_FROM_ALBUM:var k=Object.assign({},e),T=t.payload,j=T.albumId,R=T.resourcesIds;if(!k.albumsByIds[j]||!k.albumsByIds[j].clusters)return e;var P=!1;return R.forEach((function(e){P=ce(k,j,!0,e)||P})),P?(le(k,j),k):e;case v.DESTROY_RESOURCE:var D=t.payload.data,I=Object.assign({},e),A=!1;return D.albumIds&&D.albumIds.forEach((function(e){ce(I,e,!1,D.id)&&(A=!0,le(I,e)),w.a.get(I,"deletedItems['".concat(e,"']['").concat(D.id,"']"))&&(I.deletedItems=Object.assign({},I.deletedItems,i()({},e,Object.assign({},I.deletedItems[e]))),I.deletedItems=Object.assign({},I.deletedItems),I.deletedItems[e]=Object.assign({},I.deletedItems[e]),delete I.deletedItems[e][D.id],0===Object.keys(I.deletedItems[e]).length&&delete I.deletedItems[e],A=!0)})),A?I:e;case v.RESTORE_DELETED_ITEM:var M=t.payload,N=M.albumIds,F=M.id;if(!N)return e;var B=Object.assign({},e),U=!1;return N.forEach((function(t){var n=e.deletedItems[t]&&e.deletedItems[t][F];n&&(me(B,t,n),B.deletedItems=Object.assign({},B.deletedItems,i()({},t,Object.assign({},e.deletedItems[t]))),delete B.deletedItems[t][F],le(B,t),U=!0)})),U?B:e;case v.ADD_ITEMS_TO_ALBUM:var z=t.payload,V=z.id,H=z.items,W=z.resources;if(!e.albumsByIds[V])return e;var G=Object.assign({},e),q=H;return W&&(q=q.map((function(e,t){var n=W[t],r=1e3*(n.etime||n.ctime);return Object.assign({},e,{resourceTime:r})}))),G.albumsByIds[V].clusters&&(q.forEach((function(e){me(G,V,e)})),le(G,V)),G;case v.SET_IS_SELECTING_PHOTOS:var $=t.payload.flag;return Object.assign({},e,{isSelectingPhotos:$});case v.SET_SELECTED:case v.DESELECT_ALL:return Object.assign({},e,{lastCreatedAlbumId:null,isPublishSelected:!1});default:return e}},albums:we,operations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.ADD_OPERATIONS:if(!t.payload.operations)return e;var n=t.payload.operations.reduce((function(e,t){return e[t.id]=Object.assign({},t),e}),{});return Object.assign({},e,n);case v.UPDATE_OPERATION:var r=t.payload.operation.id;if(!e[r])return e;var i=Object.assign({},e);return i[r]=Object.assign({},e[r],t.payload.operation,{data:Object.assign({},e[r].data,t.payload.operation.data)}),i;case v.REMOVE_OPERATIONS:if(!t.payload.operationsIds.length)return e;var o=Object.assign({},e);return t.payload.operationsIds.forEach((function(e){delete o[e]})),o;default:return e}},docs:y.a,readOnly:Se.a},xe=Object(a.default)(),ke=n(26),Te=n(244),je=n(42),Re=n(79),Pe=n(130),De=["idContext","page","notifications_open","dialog","idDialog","idAlbum","idPage","reduxDialog","dialogData","selectResource","filter","action","albumId","targetAlbumId","type"],Ie=function(e,t){var n={};return De.forEach((function(t){n[t]=e[t]||""})),Object.assign(n,{originalNSParams:e,search:{query:"",scope:""},currentUrl:t}),e.querySearch&&e.scopeSearch&&Object.assign(n,{search:{query:e.querySearch,scope:e.scopeSearch}}),n},Ae=n(430),Me=n(51),Ne=n.n(Me);n.d(t,"addReducer",(function(){return Ue}));var Le,Fe=n(560).prepare,Be=function(){var e=Object(re.getPreloadedData)("defaultFolders"),t=Object(re.getPreloadedData)("userCurrent"),r=Object(re.getPreloadedData)("environment");return ns.events.on("ns-page-after-load",(function(e,t,n){var r=Ie(t,location.origin+n),i=r.originalNSParams.action,o=Le.getState(),a=o.page,s=a.dialog,u=a.idContext,c=a.search.query,l=o.personalAlbums.returnPath;if("/photo"===r.idContext&&"create-album"===i&&!o.personalAlbums.newAlbumTitle)return Ne.a.go(l,!0);var d=Object(Te.b)(o);t.querySearch&&t.querySearch!==c&&Le.dispatch(Object(Pe.g)(t.querySearch)),d&&u!==r.idContext&&Le.dispatch(Object(je.hidePromoNotification)(d)),Le.dispatch(Object(ke.updatePage)(r)),r.reduxDialog&&Le.dispatch(Object(P.openDialog)(r.reduxDialog,r.dialogData?JSON.parse(r.dialogData):{}));var f=Le.getState(),h=Object(Re.e)(f),p=f.page,m=p.dialog,v=p.idContext;Boolean(s)&&!Boolean(m)&&v!==u&&h&&Le.dispatch(Object(Pe.f)(!1))})),(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ce,r=Object(s.configureStore)({reducer:Object(o.b)(t),preloadedState:e,middleware:function(e){return e({thunk:!0,immutableCheck:!1,serializableCheck:!1}).concat(xe)},devTools:!1}),i=n(1821).default;return xe.run(i),r.reducers=t,r})({user:t,environment:r,defaultFolders:e,config:Fe(Object(re.getPreloadedData)("config")),settings:Object(Ae.preprocessSettings)(Object(re.getPreloadedData)("settings"),r.agent.isSmartphone),spaceTariffs:Object(re.getPreloadedData)("spaceTariffs"),space:Object(re.getPreloadedData)("space"),billingProducts:Object(re.getPreloadedData)("billingProducts")})},Ue=function(e,t){var n=Object.assign(i()({},e,t),Le.reducers);Le.reducers=n,Le.replaceReducer(Object(o.b)(n))};t.default=function(e){return Le&&!e||(Le=Be()),Le}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"iconProvider",(function(){return O}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=(n(542),n(11)),v=n.n(m);function g(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var y=function(){return v()()("ufo-icon")},b={s:12,m:16,l:24,xl:32,xxl:48,xxxl:64},_=(function(e){u()(n,e);var t=g(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getClassName",value:function(){var e=this.props,t=e.size,n=e.mix,r=e.cls,i=e.className,o=y().m({size:t}).mix("icon");if(n){var a=n.filter(Boolean).map((function(e){return v()()(e.block).e(e.elem).m(e.mods)}));o=o.mix(a)}var s=this.getClassName;return s&&(o=s(o)),i&&(o=o.mix(String(i))),r?o.mix(String(r)):o}},{key:"getContentSVG",value:function(){throw"Should be implemented"}},{key:"_getContent",value:function(){if(this.getContent)return this.getContent();var e=this._getDefaultSize&&b[this._getDefaultSize()]||b.m,t=this.props.iconSize&&b[this.props.iconSize]||e,n=this.getViewBox&&this.getViewBox()||"0 0 ".concat(e," ").concat(e);return p.a.createElement("svg",{className:y().e("icon"),width:t,height:t,role:this.props.role,onClick:this.props.onClick,viewBox:n},this.getContentSVG())}},{key:"render",value:function(){return p.a.createElement("span",{className:this._getClassName()},this._getContent())}}]),n})(h.Component);_.defaultProps={onClick:function(){},role:"none"},_.displayName="icon";var O=function(e){return function(t){return p.a.createElement(e,{cls:t})}};t.default=_}),(function(e,t,n){"use strict";n.r(t),n.d(t,"offlineThreshold",(function(){return K})),n.d(t,"updateResources",(function(){return X})),n.d(t,"batchSetResourceData",(function(){return J})),n.d(t,"setResourceData",(function(){return Q})),n.d(t,"removeResource",(function(){return ee})),n.d(t,"notifyCreated",(function(){return ne})),n.d(t,"createResource",(function(){return re})),n.d(t,"replaceResource",(function(){return ie})),n.d(t,"showResource",(function(){return oe})),n.d(t,"hideResource",(function(){return ae})),n.d(t,"setResourceBlocked",(function(){return se})),n.d(t,"showHiddenResource",(function(){return ue})),n.d(t,"updateResource",(function(){return de})),n.d(t,"startPublishResource",(function(){return fe})),n.d(t,"stopPublishResource",(function(){return he})),n.d(t,"setPublishResource",(function(){return pe})),n.d(t,"unsetPublishResource",(function(){return me})),n.d(t,"setDownloadLimitResource",(function(){return ge})),n.d(t,"resetDownloadLimitResource",(function(){return ye})),n.d(t,"publishResource",(function(){return be})),n.d(t,"maybePublishResource",(function(){return _e})),n.d(t,"unpublishResource",(function(){return Oe})),n.d(t,"showFullsizeResource",(function(){return we})),n.d(t,"downloadResource",(function(){return Ee})),n.d(t,"copyResource",(function(){return Se})),n.d(t,"deleteResource",(function(){return Ce})),n.d(t,"moveResource",(function(){return xe})),n.d(t,"setScrollToResource",(function(){return ke})),n.d(t,"goToResource",(function(){return Te})),n.d(t,"goToFolder",(function(){return je})),n.d(t,"openDv",(function(){return Pe})),n.d(t,"editResource",(function(){return De})),n.d(t,"restoreResource",(function(){return Ie})),n.d(t,"fetchResourceUrl",(function(){return Me})),n.d(t,"getDirSize",(function(){return Le})),n.d(t,"fetchVideoInfo",(function(){return Fe})),n.d(t,"maybeSyncSliderUrl",(function(){return Be})),n.d(t,"destroyChildren",(function(){return Ue})),n.d(t,"destroyResource",(function(){return ze})),n.d(t,"fetchSingleResource",(function(){return He})),n.d(t,"maybeFetchSingleResource",(function(){return We})),n.d(t,"maybeFetchUsersFolder",(function(){return Ge})),n.d(t,"openResource",(function(){return qe})),n.d(t,"openResourceById",(function(){return $e})),n.d(t,"openOrEditResource",(function(){return Ye})),n.d(t,"openSharedFolderAccessDialog",(function(){return Ke})),n.d(t,"showResourceFotkiInfo",(function(){return Xe})),n.d(t,"fetchListing",(function(){return Qe})),n.d(t,"fetchCurrentListing",(function(){return et})),n.d(t,"changeResourcesSort",(function(){return tt})),n.d(t,"fetchSliderResourceIfNeed",(function(){return nt})),n.d(t,"notifyChangedAccess",(function(){return rt})),n.d(t,"maybeSetClusterIdToResource",(function(){return it})),n.d(t,"setNsLoadPreviewError",(function(){return ot})),n.d(t,"moveClonedResource",(function(){return st})),n.d(t,"cancelMoveClonedResource",(function(){return ut})),n.d(t,"restoreDeletedItem",(function(){return ct})),n.d(t,"updateClustersAndResources",(function(){return lt})),n.d(t,"excludeResourceFromAlbum",(function(){return dt})),n.d(t,"saveShareEditMenuExpanded",(function(){return ft})),n.d(t,"closeShareEditOnboarding",(function(){return ht})),n.d(t,"createAndShareEditDocument",(function(){return pt})),n.d(t,"openScanResource",(function(){return mt}));var r=n(21),i=n.n(r),o=n(10),a=n.n(o),s=n(66),u=n.n(s),c=n(9),l=n.n(c),d=n(83),f=n.n(d),h=n(12),p=n(22),m=n.n(p),v=n(51),g=n.n(v),y=n(54),b=n.n(y),_=n(34),O=n(23),w=n(36),E=n(13),S=n(45),C=n(523),x=n(26),k=n(30),T=n(18),j=n(124),R=n(38),P=n(43),D=n(128),I=n(113),A=n(150),M=n(20),N=n(53),L=n(130),F=n(29),B=n(79),U=n(80),z=n(64),V=n(416),H=n(33);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q,$,Y,K=5e3,X=function(e){return{type:E.UPDATE_RESOURCES,payload:{resources:e}}},Z=function(e,t,n){if(n){if(e){var r=l.a.cloneDeep(e);return l.a.set(r,n,t),_.default.updateResourceData(r,e)}return e}return _.default.updateResourceData(t,e)},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t,n){var r=n().resources,i=[];e.forEach((function(e){var t=u()(e,3),n=t[0],o=t[1],a=t[2],s=r[n],c=Z(s,o,a);c&&i.push(c)})),t(X(i))}},Q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(r,i){var o=i().resources,a=Z(o[e],t,n);a&&r(X([a]))}},ee=function(e){return function(t,n){var r=n();Object(T.isExistsResource)(r,e)&&t(ze(e,Object(T.getResourceData)(r,e)))}},te=[],ne=function(e,t){return function(n,r){ns.events.trigger("ufo-resource-create",{resource:Object(T.getResourceData)(r(),e)}),te.push({id:e,options:t}),q||(q=Promise.resolve().then((function(){n({type:E.CREATE_RESOURCES,payload:te}),q=null,te=[]})))}},re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r){var i=m.a.normalize(e.id);return Object(T.isExistsResource)(r(),i)&&n(ee(i)),t.part&&l.a.set(e,"state.part",!0),n(Q(i,e)),t.silent||n(ne(i,t)),Object(T.getResourceData)(r(),i)}},ie=function(e,t){return function(n,r){var i=m.a.normalize(t.id);return e===i?n(Q(e,t)):(n(ee(e)),n(re(t))),Object(T.getResourceData)(r(),i)}},oe=function(e){return function(t,n){Object(T.isExistsResource)(n(),e)&&t(Q(e,!1,"state.hidden"))}},ae=function(e){return function(t,n){Object(T.isExistsResource)(n(),e)&&t(Q(e,!0,"state.hidden"))}},se=function(e,t){return function(n,r){var i=r();Object(T.isExistsResource)(i,e)&&Object(T.getResourceData)(i,e,"state.blocked")!==t&&n(Q(e,t,"state.blocked"))}},ue=function(e){return function(t,n){var r=n();Object(T.isExistsResource)(r,e)&&(Object(T.getResourceData)(r,e,"state.hidden")&&t(oe(e)),Object(T.getResourceData)(r,e,"state.disabled")&&t(Q(e,!1,"state.disabled")))}},ce=[],le=null,de=function(e){return function(t){return ce.push(e),le||(le=Promise.resolve().then((function(){le=null,t(X(ce)),ce=[]}))),le}},fe=function(e){return function(t,n){Object(T.isExistsResource)(n(),e)&&t(Q(e,!0,"state.publishing"))}},he=function(e){return function(t,n){Object(T.isExistsResource)(n(),e)&&t(Q(e,!1,"state.publishing"))}},pe=function(e,t){return function(n,r){Object(T.isExistsResource)(r(),e)&&(n(Q(e,1,"meta.public")),n(Q(e,_.default.fixShortUrl(t.short_url),"meta.short_url")),t.office_access_state&&n(Q(e,t.office_access_state,"meta.office_access_state")),t.office_online_sharing_url&&n(Q(e,t.office_online_sharing_url,"meta.office_online_sharing_url")))}},me=function(e){return function(t,n){var r,i;if(Object(T.isExistsResource)(n(),e)){t(Q(e,0,"meta.public")),t(Q(e,"","meta.short_url")),t(Q(e,{},"publicSettings"));var o=Object(T.getResourceData)(n(),e);null!==(r=o.meta)&&void 0!==r&&r.office_access_state&&t(Q(e,null,"meta.office_access_state")),null!==(i=o.meta)&&void 0!==i&&i.office_online_sharing_url&&t(Q(e,"","meta.office_online_sharing_url"))}}},ve={},ge=function(e,t){return function(n){ve[e]&&clearTimeout(ve[e]),n(Q(e,!0,"state.downloadLimited")),void 0!==t&&(ve[e]=setTimeout((function(){n(Q(e,!1,"state.downloadLimited")),delete ve[e]}),t))}},ye=function(e){return function(t){ve[e]&&clearInterval(ve[e]),delete ve[e],t(Q(e,!1,"state.downloadLimited"))}},be=function(e){return function(t,n){var r=n();if(t(Object(x.maybeBlockActionOverdraft)({forLite:!0})))return Promise.reject();if(Object(P.shouldNotifyOverdraft)(r)&&!Object(P.getOverdraftType)(r))return t(Object(S.updateSettings)({closedOverdraftScreen:!1})),Promise.reject();h.default.count("about search","actions","publish"),h.default.reach("publish_resource");var i=f.a.create("publish",{idSrc:e,reverse:!1}),o=r.resources[e];return o&&t(de({id:e,publicSettings:G(G({},o.publicSettings),{},{justPublished:!0})})),new Promise(function(e,t){i.on("ns-model-changed.status",(function(){"done"===i.get(".status")?e():"failed"===i.get(".status")&&t()}))})}},_e=function(e){return function(t,n){var r=n().resources[e];return!r||r.meta.public?Promise.resolve(!1):t(be(e)).then((function(){return!0}))}},Oe=function(e){return function(t,n){var r=n(),i=Object(T.getResourceData)(r,e),o=function(e){h.default.count("about search","actions",e?"unpublish":"cancel unpublish")},a=Object(V.getConfirmTexts)("ru");return t(Object(N.add)("confirmation",{dialogParams:{title:a.title,text:"dir"===i.type?a.text.folder:a.text.file,submitButtonText:a.submit,cancelButtonText:a.cancel,useNewDialog:!0},onSubmit:function(){o(!0),f.a.create("publish",{idSrc:e,reverse:!0})},onReject:function(){o(!1)}}))}},we=function(e){return function(){ns.action.run("resource.show-fullsize",{id:e})}},Ee=function(e){return function(t,n){if(Array.isArray(e))ns.action.run("resources.download",{idsResources:e});else{var r=n().resources[e],i={id:e};r.isVicariousDoc&&(i.hash=r.meta.public_hash),ns.action.run("resource.download",i)}}},Se=function(e){return function(t){t(Object(x.maybeBlockActionOverdraft)({forLite:!0}))||ns.action.run("resource.copy",Array.isArray(e)?{idsResources:e}:{id:e})}},Ce=function(e){return function(){ns.action.run("resource.delete",Array.isArray(e)?{idsResources:e}:{id:e})}},xe=function(e,t){return function(n){n(Object(x.maybeBlockActionOverdraft)())||ns.action.run("resource.move",Array.isArray(e)?{idsResources:e,idFolderDst:t}:{id:e,idFolderDst:t})}},ke=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:E.SET_SCROLL_TO_RESOURCE,payload:{id:e,shouldSelect:t}}},Te=function(e){return function(t,n){var r,i=n();0===e.indexOf("/photounlim/")?(r=m.a.getResourceSliderUrl(e),i.settings.sliderOpenedWithAction&&t(Object(S.updateSettings)({sliderOpenedWithAction:!1}))):(t(ke(e)),r=m.a.getResourceSelectedUrl(e));Object(B.b)(i)&&t(Object(L.f)(!1));var o=ns.page.current.params;if("/recent"===o.idContext&&ns.history.replaceState(ns.router.generateUrl(ns.page.current.page,Object.assign({},o,{selectResource:e}))),Object(H.isDocsPage)(i)){var a,s=i.config.urlsBase.disk;return i.environment.agent.isInMobileApp&&"function"==typeof(null===(a=window.HOST_API)||void 0===a?void 0:a.gotoDir)?window.HOST_API.gotoDir(m.a.dirname(e),m.a.basename(e)):window.open(s+r,"_blank"),Vow.fulfill()}return g.a.go(r)}},je=function(e){return function(){g.a.go(m.a.escape(m.a.getFolderUrl(e)))}},Re=function(e,t,n){var r=e.id,i=e.name,o=e.isVicariousDoc,a=e.meta.public_hash,s={name:i,version:t,date:n};o?(s.id=a,s.isPublic=!0):s.id=r,ns.action.run("resource.view-docviewer",s)},Pe=function(e,t,n){return function(r,i){Re(i().resources[e],t,n)}},De=function(e,t,n){return function(r,i){if(!r(Object(x.maybeBlockActionOverdraft)({forLite:!0}))){var o=i(),a=o.resources[e],s=a.meta.office_online_sharing_url||a.meta.office_online_url,u=Object.assign({},t);Object(H.isDocsPage)(o)&&(u.source="docs"),s=b.a.addParams(s,u),r(Object(x.openUrlWithSk)(s,n))}}},Ie=function(e){return function(){ns.action.run("resource.restore",Array.isArray(e)?{idsResources:e}:{id:e})}},Ae={},Me=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=e+(t?"_inline":"");if(Ae[r])return Ae[r];var i=Object(w.a)("do-get-resource-url",t?{id:e,inline:t,hash:n}:{id:e,hash:n}).then((function(e){return delete Ae[r],Promise.resolve(e.file||e.folder)})).catch((function(e){return delete Ae[r],Promise.reject(e)}));return Ae[r]=i,i},Ne={},Le=function(e){return function(t,n){if(Ne[e])return Ne[e];var r=n().resources[e],i="/trash"===e,o=i?Object(w.a)("space"):Object(w.a)("resourceStats",{path:e});return o.then((function(n){var o=Object.assign({lastSizeUpdatedTS:Date.now()},r.meta,i?{size:n.trash}:n);n.lastSizeUpdatedTS=Date.now(),t(Q(e,o,"meta")),delete Ne[e]})).catch((function(){delete Ne[e]})),Ne[e]=o,o}},Fe=function(e){return function(t,n){var r=n().resources[e],i=r.meta.videoStreamingParams;if(!r.meta.videoInfoFetchDate||Date.now()-Number(r.meta.videoInfoFetchDate)>828e5)return Object(w.a)("videoInfo",i).then((function(n){t(Q(e,n,"meta.videoInfo")),t(Q(e,String(Date.now()),"meta.videoInfoFetchDate"))})).catch((function(){t(Q(e,!0,"meta.videoInfoLoadFailed"))}))}},Be=function(e,t){return function(n,r){"slider"!==r().page.dialog||!t&&""!==t||e===t||(t?ns.action.run("app.openSlider",{id:t}):ns.action.run("dialog.close"))}},Ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:E.DESTROY_RESOURCE_CHILDREN,payload:{parentId:e,resetComplete:t}}},ze=function(e,t){return function(n,r){ns.events.trigger("ufo-resource-destroy",{resource:t});var o,a=r(),s=Object(k.sliderResourceSelector)(a);if(s&&s.id===e){var u=Object(D.c)(a,1);o=u?u.id:""}if("dir"===t.type){var c=Object(k.getResourceSubfoldersIds)(r(),e).sort((function(e,t){return t.length-e.length}));[].concat(i()(c),[e]).forEach((function(e){return n(Ue(e,!0))}))}n({type:E.DESTROY_RESOURCE,payload:{id:e,data:t,newIdDialog:o}}),n(Object(A.h)()),n(Be(s&&s.id,o))}},Ve={},He=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r){if(Ve[e])return Ve[e];var i=Object(w.a)("resource",{id:e}).then((function(i){return Object(T.isExistsResource)(r(),e)?n(Q(e,i)):n(re(i,t)),delete Ve[e],Promise.resolve(Object(T.getResourceData)(r(),e))})).catch((function(t){return delete Ve[e],Promise.reject(t)}));return Ve[e]=i,i}},We=function(e,t){return function(n,r){return Object(T.isExistsResource)(r(),e)?n(He(e,t)):Promise.resolve()}},Ge=function(e){var t=ns.Model.getValid("usersFolder",e);t&&t.fetch()},qe=function(e,t,n){return function(r){var i=e.id,o=e.app,a=e.type;"slider"===o?(j.a.startCollectTimings("slider"),ns.action.run("resource.view-slider",{id:i})):"docviewer"===o?Re(e,t,n):["dir","vd"].includes(a)&&(j.a.startCollectTimings("listing"),r(je(i)))}},$e=function(e,t,n){return function(r,i){var o=i().resources[e];o&&r(qe(o,t,n))}},Ye=function(e){return function(t,n){var r=n(),i=r.resources[e];Object(M.can)(M.EDIT,i,r)?t(De(e)):t($e(e))}},Ke=function(e){return function(t,n){!n().resources[e].meta.group&&t(Object(x.maybeBlockActionOverdraft)({forLite:!0}))||ns.action.run("dialog-access-folder.open",{id:e})}},Xe=function(e){return function(t){t(Object(O.openDialog)("fotkiInfo",{resourceId:e}))}},Ze=["/narod","/attach/yalivelettersarchive","/attach/yaslovariarchive","/attach/yaruarchive","/attach/YaFotki"],Je={},Qe=function(e,t){return function(n,r){var o=r(),s=o.page,c=s.idContext,d=s.search,f=s.originalNSParams,h=o.resources,p=o.environment,v=p.offlineTime,y=p.session.experiment.showVirtualDisksExp,b=Object(k.resourceChildrenKey)(o,e),O=Je[e]&&Je[e][b];if(O)return O;var E=h[e]||{},S=t||v&&E.lastFetchTime&&E.lastFetchTime<v+K;if(l.a.get(E,"children."+b+".isComplete")&&!S)return Promise.resolve();var C,T={id:e,isLoading:!0};(n(X([h[e]?T:_.default.preprocess(T)])),S)?C=0:(C=l.a.get(E,"children."+b+".ids",[]).length,(e.startsWith("/search/")||"/attach"===e)&&(C+=E.countLost||0,C=Math.ceil(C/F.PORTION_SIZE)*F.PORTION_SIZE));var R=Object.assign({},Object(I.getSort)(o),{idContext:e,amount:F.PORTION_SIZE,offset:C});return C||(R.withParent="1"),e.startsWith("/search")&&Object.assign(R,{querySearch:d.query,scopeSearch:d.scope,typeSearch:f.typeSearch,sessionIdSearch:Object(B.a)(o)}),Object(z.getIsVirtualDisk)(e)&&!y?g.a.go("/client/disk").then((function(){n(ee(e))})):(O=j.a.withResourceTimingsPreserved(Object(w.a)("resources",R)).then((function(t){var o=u()(t,2),s=o[0],c=o[1],d=l.a.findLast(c,(function(e){return"xmlhttprequest"===e.initiatorType&&e.name.startsWith(location.origin+ns.request.URL)&&e.name.includes("resources")}));d&&j.a.collectTimings({xhrDuration:d.duration});var f=r().resources,h=_.default.preprocessResources(s.resources,r()),p=f[e]||{},m={};h[0]&&h[0].id===e&&(e.startsWith("/disk/")&&Object.assign(m,h[0]),h=h.slice(1));var v=S?[]:l.a.get(p,"children."+b+".ids",[]),g=h.map((function(e){return e.id})),y=s.countLost||0,O=s.resources.length+y<F.PORTION_SIZE;O&&"/disk"===e&&!v.includes("/trash")&&g.push("/trash");var w=Object.assign({},p,m,{isLoading:!1,lastFetchTime:Date.now(),children:Object.assign({},S?{}:p.children,a()({},b,{countLost:y+(S?0:l.a.get(p,"children."+b+".countLost",0)),isComplete:O,ids:l.a.uniq([].concat(i()(v),i()(g)))}))});e.startsWith("/search")&&n(Object(x.updateSearch)({originalQuery:s.queryOriginal,correctedQuery:s.query})),h.unshift(w),delete Je[e][b],n(X(h))})).catch((function(t){if(delete Je[e][b],t instanceof Error)throw t;var i={id:e,isLoading:!1},s=t&&t.id||"";if("/recent"===e&&"HTTP_400"===s){var u=r().resources[e];i.children=Object.assign({},u.children,a()({},b,Object.assign({},u.children[b],{isComplete:!0})))}if(n(de(i)),e===c&&c===r().page.idContext)if("HTTP_404"!==s||Object(k.getListingStubId)(o))s.startsWith("HTTP_50")&&g.a.go("/client/error","preserve",{reason:"fetch_resource_error",error:t});else{var l=Ze.some((function(t){return m.a.isParent(t,e)}))?"/client"+m.a.dirname(e):"/client/disk";g.a.go(l).then((function(){n(ee(c))}))}})),Je[e]=Object.assign({},Je[e],a()({},b,O)),O)}},et=function(e){return function(t,n){var r=n().page.idContext;return t(Qe(r,e))}},tt=function(e){return function(t,n){t(Object(C.b)(e.sort,e.order));var r=n(),i=Object(k.currentResourceChildrenIds)(r),o=Object(k.currentResourceIsComplete)(r);i.length||o||t(et())}},nt=function(){return function(e,t){var n=t(),r=n.page.idDialog,i=n.resources;return i[r]?Promise.resolve(i[r]):e(He(r,{silent:!0})).then((function(e){return e.error?Promise.reject(e.error):Promise.resolve(e)})).catch((function(){t().page.idDialog===r&&e(Object(x.closeNsDialog)("slider"))}))}},rt=function(e){return function(t,n){var r=Object(k.getResourceSubfoldersIds)(n(),e).sort((function(e,t){return t.length-e.length}));[].concat(i()(r),[e]).forEach((function(e){return t(Ue(e,!0))})),_.default.updateParentsOf(e)}},it=function(e,t){return function(n,r){var i=r();if(Object(T.isExistsResource)(i,e)){var o=Object(T.getResourceData)(i,e,"clusterId");o&&o===t||n(Q(e,t,"clusterId"))}}},ot=function(e){return function(t,n){Object(T.isExistsResource)(n(),e)&&t(Q(e,!0,"meta.previewLoadFailed"))}},at=[],st=function(e,t){return function(n,r){var i=r(),o=i.page,a=o.idContext,s=o.idDialog;if(at.push({src:e,dst:t}),s===e.id)if(t.isInTrash||a.startsWith("/disk")&&m.a.dirname(e.id)!==m.a.dirname(t.id)){var u=Object(D.c)(i,1);Y=u?u.id:""}else Y=t.id;return $||($=Promise.resolve().then((function(){$=null,n({type:E.MOVE_CLONED_RESOURCES,payload:{resources:at,idContext:a,newIdDialog:Y}}),n(Be(s,Y)),at=[],Y=void 0}))),$}},ut=function(e,t){return function(n,r){var i,o=r(),a=Object(k.sliderResourceSelector)(o);a&&a.id===t.id&&(i=e.id),n({type:E.CANCEL_MOVE_CLONED_RESOURCE,payload:{src:e,dst:t,newIdDialog:i}}),n(Be(a&&a.id,i))}},ct=function(e){return function(t){t({type:E.RESTORE_DELETED_ITEM,payload:e})}},lt=function(e){return function(t,n){var r=e.clusters,i=n().resources;r&&r.fetched&&r.fetched.forEach((function(e){e.items.forEach((function(n){var r=n.id;i[r]&&!i[r].clusterId&&t(it(r,e.id))}))})),t({type:E.UPDATE_CLUSTERS_AND_RESOURCES,payload:e})}},dt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,i){var o,a=i(),s=Object(k.sliderResourceSelector)(a);if(!n&&s&&"photo"===Object(R.getPage)(a)&&e.map((function(e){return e.id})).includes(s.id)){var u=Object(D.c)(a,1);o=u?u.id:""}r({type:E.EXCLUDE_RESOURCES_FROM_ALBUM,payload:{resources:e,filter:t,cancel:n}}),r(Be(s&&s.id,o))}},ft=function(){return function(e){e(Object(S.saveSettings)({key:"shareEditMenuExpandedShowed",value:"1"}))}},ht=function(){return function(e){e(Object(S.saveSettings)({key:"shareEditOnboardingClosed",value:"1"}))}},pt=function(){return function(e,t){var n=t().environment.session.locale;return Object(w.a)("do-create-and-publish-document",{locale:n}).then((function(n){var r=n.id;if(r)return e(He(r)).then((function(){var n=Object(T.getResourceData)(t(),r);if(n&&n.isEditable&&n.meta.public)return (function(n){return Object(U.b)(t())?(e(De(n,{share:1},!0)),e(ht())):Promise.reject()})(r);e(ht())}));e(ht())})).catch((function(){e(ht())}))}},mt=function(e){return function(t,n){var r=n(),i=r.resources,o=r.config.urlsBase.disk,a=r.environment.agent.isInMobileApp;if("dir"===i[e].type){var s=m.a.getFolderUrl(e),u=new URL(o+s);a?(u.searchParams.set("goToDir","1"),window.open(u.toString(),"_self")):window.open(u.toString(),"_blank")}else t($e(e))}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"readFolder",(function(){return c})),n.d(t,"calculateEntryStats",(function(){return l})),n.d(t,"collectEntriesStats",(function(){return d})),n.d(t,"isOverLimitFileSize",(function(){return f})),n.d(t,"getLimitedForUploadFiles",(function(){return h})),n.d(t,"UPLOAD_ERROR_ID",(function(){return p})),n.d(t,"UPLOAD_ERRORS_TYPES",(function(){return m})),n.d(t,"UPLOAD_ERRORS",(function(){return v})),n.d(t,"getUploadError",(function(){return g})),n.d(t,"UPLOAD_NOTIFICATION_TYPES",(function(){return y})),n.d(t,"UPLOAD_STATUSES",(function(){return b})),n.d(t,"canRetryUpload",(function(){return _})),n.d(t,"isUploadInProgress",(function(){return O})),n.d(t,"canCancelUpload",(function(){return w})),n.d(t,"willCanCancelUpload",(function(){return E}));var r=n(99),i=n(29),o=i.MPFS_ERROR_CODES,a=i.UPLOADER_FILE_SIZE_LIMIT,s={},u=function(e,t){var n=Object.assign({event:"endUpload",completed:t,endUpload:Date.now()},e);Object(r.log)(n)};["done","cancel","fail","skip"].forEach((function(e){ns.events.on("ufo-upload-".concat(e),(function(t,n){var r=s[n.statId];r&&(r[n.type+"_"+e]++,n.root&&r["root_"+n.type+"_"+e]++,r.root_file_done+r.root_file_fail+r.root_file_cancel+r.root_folder_done+r.root_folder_fail+r.root_folder_cancel===r.rootFilesCount+r.rootFoldersCount&&(u(r,!0),setTimeout((function(){delete s[n.statId]}))))}))})),window.addEventListener("beforeunload",(function(){Object.keys(s).forEach((function(e){u(s[e],!1)}))}));var c=function(e){var t,n=new Vow.Promise,r=[];try{t=e.createReader(),(function e(i){t.readEntries((function(t){t.length?(r=r.concat([].slice.call(t||[],0)),e(i)):i(r)}),(function(e){n.reject(e)}))})(n.fulfill.bind(n))}catch(e){n.reject(e)}return n},l=function(e){var t={filesCount:0,foldersCount:0,totalSize:0,filesReadErrors:0,foldersReadErrors:0},n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipFile,i=function(e,r){return n instanceof Function&&n(e)?r(t):(t.filesCount+=1,t.totalSize+=e.size,r(t))};return new Promise(function(n){(function e(o){return o instanceof File?new Promise(function(e){i(o,e)}):o.isFile?new Promise(function(e){o.file((function(t){return i(t,e)}),(function(n){Object(r.log)({type:"calculateEntryStats",error:n}),t.filesReadErrors++,e(t)}))}):"function"==typeof o.createReader?c(o).then((function(n){return Promise.all(n.map(e)).then((function(){return t}))}),(function(e){Object(r.log)({type:"calculateEntryStats",error:e}),t.foldersReadErrors++,n(t)})):Promise.resolve(t)})(e).then((function(){n(t)}))})},d=function(e,t){var n=0,i=0;e.forEach((function(e){e instanceof File||e.isFile?i++:n++}));var o=t+"_"+Date.now();return s[o]={statsId:o,startUpload:Date.now(),rootFoldersCount:n,rootFilesCount:i,file_done:0,file_fail:0,file_skip:0,file_cancel:0,folder_done:0,folder_fail:0,folder_cancel:0,folder_skip:0,root_file_done:0,root_file_fail:0,root_file_cancel:0,root_folder_done:0,root_folder_fail:0,root_folder_cancel:0},Promise.all(e.map(l)).then((function(e){var t={filesCount:0,foldersCount:0,totalSize:0,filesReadErrors:0,foldersReadErrors:0};!(function(e,t){t.forEach((function(t){var n=t.filesCount,r=void 0===n?0:n,i=t.foldersCount,o=void 0===i?0:i,a=t.totalSize,s=void 0===a?0:a,u=t.filesReadErrors,c=void 0===u?0:u,l=t.foldersReadErrors,d=void 0===l?0:l;e.filesCount+=r,e.foldersCount+=o,e.totalSize+=s,e.filesReadErrors+=c,e.foldersReadErrors+=d}))})(t,e),Object.assign(s[o],{countEnd:Date.now()},t),Object(r.log)(Object.assign({event:"startUpload"},s[o]))})),o},f=function(e,t){return e.size>t&&e.size<=a},h=function(e,t){var n=[];return(Array.isArray(e)?e:Object.values(e)).forEach((function(e){!e.isDirectory&&f(e,t)&&n.push({name:e.name,size:e.size})})),n},p="UPLOAD_ERROR",m={TOO_BIG:"TOO_BIG",OVER_LIMIT:"OVER_LIMIT"},v={INSUFFICIENT_STORAGE:"INSUFFICIENT_STORAGE",OWNER_INSUFFICIENT_STORAGE:"OWNER_INSUFFICIENT_STORAGE",LOCKED:"LOCKED",CONFLICT:"CONFLICT",FILE_TOO_BIG:"FILE_TOO_BIG",FILE_SIZE_OVER_LIMIT:"FILE_SIZE_OVER_LIMIT",PARENT_FOLDER_CREATE_FAIL:"PARENT_FOLDER_CREATE_FAIL",FOLDER_NOT_CREATED:"FOLDER_NOT_CREATED",FOLDER_UPLOAD_INCOMPLETE:"FOLDER_UPLOAD_INCOMPLETE",SUBRESOURCE:"SUBRESOURCE",ENTRY_READ_FAIL:"ENTRY_READ_FAIL",LIMIT:"LIMIT",UNKNOWN:"UNKNOWN"},g=function(e){if(e){if("HTTP_507"===e.id||507===e.response||e.id===p&&507===e.status)return e.body&&e.body.code===o.OWNER_HAS_NO_FREE_SPACE?v.OWNER_INSUFFICIENT_STORAGE:v.INSUFFICIENT_STORAGE;if("HTTP_423"===e.id)return!e.body||e.body.code!==o.UPLOAD_LIMIT_QUOTA&&e.body.code!==o.UPLOAD_LIMIT_TECH?v.LOCKED:v.LIMIT;if(e.id===p&&e.type===m.TOO_BIG)return v.FILE_TOO_BIG;if(e.id===p&&e.type===m.OVER_LIMIT)return v.FILE_SIZE_OVER_LIMIT;if(e.body&&e.body.code===o.STORE_NOT_FOUND)return v.PARENT_FOLDER_CREATE_FAIL}return v.UNKNOWN},y={PROMO:"promo",SERVICE:"service"},b={ENQUEUED:"ENQUEUED",GETTING_HASH:"GETTING_HASH",GETTING_URL:"GETTING_URL",CREATING_FOLDER:"CREATING_FOLDER",UPLOADING:"UPLOADING",UPLOADED:"UPLOADED",PROCESSING:"PROCESSING",DONE:"DONE",ERROR:"ERROR",CANCELED:"CANCELED",CONFLICT:"CONFLICT"},_=function(e){return[v.UNKNOWN,v.INSUFFICIENT_STORAGE,v.FOLDER_NOT_CREATED,v.LOCKED].includes(e)},O=function(e){return[b.GETTING_HASH,b.GETTING_URL,b.UPLOADING,b.UPLOADED,b.PROCESSING].includes(e)},w=function(e){return[b.ENQUEUED,b.UPLOADING,b.ERROR,b.CONFLICT].includes(e)},E=function(e){return[b.GETTING_HASH,b.GETTING_URL,b.CREATING_FOLDER].includes(e)}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"getResourceData",(function(){return o})),n.d(t,"isExistsResource",(function(){return a}));var r=n(9),i=n.n(r),o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=e.resources[t];return n?i.a.get(r,n):r},a=function(e,t){return!!e.resources[t]}}),(function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.r(t);var o=n(0),a=n.n(o),s=n(27),u=n.n(s),c=u.a.shape({trySubscribe:u.a.func.isRequired,tryUnsubscribe:u.a.func.isRequired,notifyNestedSubs:u.a.func.isRequired,isSubscribed:u.a.func.isRequired}),l=u.a.shape({subscribe:u.a.func.isRequired,dispatch:u.a.func.isRequired,getState:u.a.func.isRequired});a.a.forwardRef;function d(e){var t;void 0===e&&(e="store");var n=e+"Subscription",r=(function(t){i(a,t);var r=a.prototype;function a(n,r){var i;return(i=t.call(this,n,r)||this)[e]=n.store,i}return r.getChildContext=function(){var t;return(t={})[e]=this[e],t[n]=null,t},r.render=function(){return o.Children.only(this.props.children)},a})(o.Component);return r.propTypes={store:l.isRequired,children:u.a.element.isRequired},r.childContextTypes=((t={})[e]=l.isRequired,t[n]=c,t),r}var f=d();function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p=n(127),m=n(181),v=n(680),g=n.n(v),y=n(446),b=n.n(y),_=n(504),O=null,w={notify:function(){}};var E=(function(){function e(e,t,n){this.store=e,this.parentSub=t,this.onStateChange=n,this.unsubscribe=null,this.listeners=w}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(function(){var e=[],t=[];return{clear:function(){t=O,e=O},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==O&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}})())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=w)},e})(),S=void 0!==a.a.forwardRef,C=0,x={};function k(){}function T(e,t){var n,r;void 0===t&&(t={});var a=t,s=a.getDisplayName,u=void 0===s?function(e){return"ConnectAdvanced("+e+")"}:s,d=a.methodName,f=void 0===d?"connectAdvanced":d,v=a.renderCountProp,y=void 0===v?void 0:v,O=a.shouldHandleStateChanges,w=void 0===O||O,T=a.storeKey,j=void 0===T?"store":T,R=a.withRef,P=void 0!==R&&R,D=Object(m.a)(a,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),I=j+"Subscription",A=C++,M=((n={})[j]=l,n[I]=c,n),N=((r={})[I]=c,r);return function(t){b()(Object(_.isValidElementType)(t),"You must pass a component to the function returned by "+f+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",r=u(n),a=Object(p.a)({},D,{getDisplayName:u,methodName:f,renderCountProp:y,shouldHandleStateChanges:w,storeKey:j,withRef:P,displayName:r,wrappedComponentName:n,WrappedComponent:t}),s=(function(n){function s(e,t){var i;return(i=n.call(this,e,t)||this).version=A,i.state={},i.renderCount=0,i.store=e[j]||t[j],i.propsMode=Boolean(e[j]),i.setWrappedInstance=i.setWrappedInstance.bind(h(h(i))),b()(i.store,'Could not find "'+j+'" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, or explicitly pass "'+j+'" as a prop to "'+r+'".'),i.initSelector(),i.initSubscription(),i}i(s,n);var u=s.prototype;return u.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[I]=t||this.context[I],e},u.componentDidMount=function(){w&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},u.componentWillReceiveProps=function(e){this.selector.run(e)},u.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},u.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=k,this.store=null,this.selector.run=k,this.selector.shouldComponentUpdate=!1},u.getWrappedInstance=function(){return b()(P,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+f+"() call."),this.wrappedInstance},u.setWrappedInstance=function(e){this.wrappedInstance=e},u.initSelector=function(){var t=e(this.store.dispatch,a);this.selector=(function(e,t){var n={run:function(r){try{var i=e(t.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n})(t,this.store),this.selector.run(this.props)},u.initSubscription=function(){if(w){var e=(this.propsMode?this.props:this.context)[I];this.subscription=new E(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},u.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(x)):this.notifyNestedSubs()},u.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},u.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},u.addExtraProps=function(e){if(!(P||y||this.propsMode&&this.subscription))return e;var t=Object(p.a)({},e);return P&&(t.ref=this.setWrappedInstance),y&&(t[y]=this.renderCount++),this.propsMode&&this.subscription&&(t[I]=this.subscription),t},u.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(o.createElement)(t,this.addExtraProps(e.props))},s})(o.Component);return S&&(s.prototype.UNSAFE_componentWillReceiveProps=s.prototype.componentWillReceiveProps,delete s.prototype.componentWillReceiveProps),s.WrappedComponent=t,s.displayName=r,s.childContextTypes=N,s.contextTypes=M,s.propTypes=M,g()(s,t)}}var j=Object.prototype.hasOwnProperty;function R(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function P(e,t){if(R(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!j.call(t,n[i])||!R(e[n[i]],t[n[i]]))return!1;return!0}var D=n(254);function I(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function A(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function M(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=A(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=A(i),i=r(t,n)),i},r}}var N=[function(e){return"function"==typeof e?M(e):void 0},function(e){return e?void 0:I((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?I((function(t){return Object(D.a)(e,t)})):void 0}];var L=[function(e){return"function"==typeof e?M(e):void 0},function(e){return e?void 0:I((function(){return{}}))}];function F(e,t,n){return Object(p.a)({},n,e,t)}var B=[function(e){return"function"==typeof e?(function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var u=e(t,n,s);return a?i&&o(u,r)||(r=u):(a=!0,r=u),r}}})(e):void 0},function(e){return e?void 0:function(){return F}}];function U(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function z(e,t,n,r,i){var o,a,s,u,c,l=i.areStatesEqual,d=i.areOwnPropsEqual,f=i.areStatePropsEqual,h=!1;function p(i,h){var p=!d(h,a),m=!l(i,o);return o=i,a=h,p&&m?(s=e(o,a),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):p?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):m?(function(){var t=e(o,a),r=!f(t,s);return s=t,r&&(c=n(s,u,a)),c})():c}return function(i,l){return h?p(i,l):(function(i,l){return s=e(o=i,a=l),u=t(r,a),c=n(s,u,a),h=!0,c})(i,l)}}function V(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=Object(m.a)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,o),s=r(e,o),u=i(e,o);return(o.pure?z:U)(a,s,u,e,o)}function H(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function W(e,t){return e===t}var G=(function(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?T:n,i=t.mapStateToPropsFactories,o=void 0===i?L:i,a=t.mapDispatchToPropsFactories,s=void 0===a?N:a,u=t.mergePropsFactories,c=void 0===u?B:u,l=t.selectorFactory,d=void 0===l?V:l;return function(e,t,n,i){void 0===i&&(i={});var a=i,u=a.pure,l=void 0===u||u,f=a.areStatesEqual,h=void 0===f?W:f,v=a.areOwnPropsEqual,g=void 0===v?P:v,y=a.areStatePropsEqual,b=void 0===y?P:y,_=a.areMergedPropsEqual,O=void 0===_?P:_,w=Object(m.a)(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),E=H(e,o,"mapStateToProps"),S=H(t,s,"mapDispatchToProps"),C=H(n,c,"mergeProps");return r(d,Object(p.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:S,initMergeProps:C,pure:l,areStatesEqual:h,areOwnPropsEqual:g,areStatePropsEqual:b,areMergedPropsEqual:O},w))}})();n.d(t,"Provider",(function(){return f})),n.d(t,"createProvider",(function(){return d})),n.d(t,"connectAdvanced",(function(){return T})),n.d(t,"connect",(function(){return G}))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"PUBLISH",(function(){return E})),n.d(t,"UNPUBLISH",(function(){return S})),n.d(t,"FOTKI_INFO",(function(){return C})),n.d(t,"SHOW_FULLSIZE",(function(){return x})),n.d(t,"DOWNLOAD",(function(){return k})),n.d(t,"CLEAN_TRASH",(function(){return T})),n.d(t,"RESTORE",(function(){return j})),n.d(t,"EDIT",(function(){return R})),n.d(t,"VIEW",(function(){return P})),n.d(t,"RENAME",(function(){return D})),n.d(t,"MOVE",(function(){return I})),n.d(t,"MOVE_INTO",(function(){return A})),n.d(t,"DELETE",(function(){return M})),n.d(t,"DELETE_FROM_TRASH",(function(){return N})),n.d(t,"COPY",(function(){return L})),n.d(t,"ADD_TO_ALBUM",(function(){return F})),n.d(t,"EXCLUDE_FROM_ALBUM",(function(){return B})),n.d(t,"EXCLUDE_FROM_GEO_ALBUM",(function(){return U})),n.d(t,"EXCLUDE_FROM_PERSONAL_ALBUM",(function(){return z})),n.d(t,"SHARE_ACCESS",(function(){return V})),n.d(t,"VERSIONS",(function(){return H})),n.d(t,"GO_TO_FILE",(function(){return W})),n.d(t,"GO_TO_FOLDER",(function(){return G})),n.d(t,"CREATE_INSIDE",(function(){return q})),n.d(t,"TOGGLE_FAVORITES",(function(){return $})),n.d(t,"SET_AS_COVER",(function(){return Y})),n.d(t,"PIN",(function(){return K})),n.d(t,"REMOVE_FROM_DOCS",(function(){return X})),n.d(t,"DISABLE_REASONS",(function(){return Z})),n.d(t,"can",(function(){return re})),n.d(t,"getAvailableActions",(function(){return se})),n.d(t,"getDisableReasons",(function(){return ue})),n.d(t,"reasonsMessages",(function(){return ce})),n.d(t,"titles",(function(){return le})),n.d(t,"getTitle",(function(){return de}));var r,i,o,a,s=n(66),u=n.n(s),c=n(10),l=n.n(c),d=n(38),f=n(34),h=n(31),p=n(9),m=n.n(p),v=n(30),g=n(72),y=n(122),b=n(14),_=n(33),O=n(64),w=n(22),E="publish",S="unpublish",C="fotki-info",x="show-fullsize",k="download",T="clean-trash",j="restore",R="edit",P="view",D="rename",I="move",A="move-into",M="delete",N="delete-from-trash",L="copy",F="add-to-album",B="exclude-from-album",U="exclude-from-geo-album",z="exclude-from-personal-album",V="share-access",H="versions",W="go-to-file",G="go-to-folder",q="create-inside",$="toggle-favorites",Y="set-as-cover",K="pin",X="remove-from-docs",Z={ALL_FILES_VERSIONING_DISABLED:"all-files-versioning-disabled",NESTED_SHARED_FOLDERS:"nested-shared-folders",IS_LAST_ITEM_IN_LOADING_ALBUM:"is-last-item-in-loading-album"},J=function(e){return w.isParent("/attach",e.id)&&!w.isParent("/attach/YaFotki",e.id)},Q=function(e){return w.isParent("/search",e)&&"disk"===w.filename(e)},ee=(r={},l()(r,E,(function(e,t){var n=t.user,r=t.defaultFolders.folders;return!(!e.meta||e.meta.group&&e.meta.group.readonly&&!e.meta.public||e.meta.with_shared&&"640"===e.meta.shared_rights||e.isInTrash||"/trash"===e.id||2===e.meta.drweb||J(e)||w.isParent("/narod",e.id)&&!m.a.get(n,"states.narod_migrated")||f.default.isYateamNDA(e.id,r)||"/disk"===e.id||Object(O.getIsInsideVirtualDisk)(e.id))})),l()(r,S,(function(e){var t;return Boolean(null===(t=e.meta)||void 0===t?void 0:t.public)&&!w.isParent("/album",e.id)&&!J(e)&&!(e.meta.group&&e.meta.group.readonly)&&"/disk"!==e.id&&!e.isVicariousDoc})),l()(r,C,(function(e){return"file"===e.type&&w.isParent("/attach/YaFotki",e.id)&&Boolean(e.meta.fotki_data_url)})),l()(r,x,(function(e){return!e.isInTrash&&"file"===e.type&&"image"===e.meta.mediatype&&(e.meta.sizes||[]).some((function(e){return"ORIGINAL"===e.name}))})),l()(r,Y,(function(e,t){if("album"!==Object(d.getPage)(t))return!1;var n=Object(h.i)(t);return e.albumIds&&e.albumIds.includes(n.id)&&n.coverResourceId!==e.id&&"faces"===n.album_type})),l()(r,k,(function(e){return!e.isInTrash&&"/trash"!==e.id&&"/disk"!==e.id})),l()(r,M,(function(e,t){var n=t.defaultFolders.folders;return!(e.isInTrash||f.default.isYateamNDA(e.id,n)||"/trash"===e.id||e.meta&&e.meta.group&&e.meta.group.in_readonly||w.isParent("/album",e.id)||"/disk"===e.id||Object(h.w)(t)||e.isVicariousDoc)})),l()(r,N,(function(e){return e.isInTrash})),l()(r,T,(function(e,t){var n=m.a.get(e,"children."+Object(v.resourceChildrenKey)(t,e.id)+".ids");return"/trash"===e.id&&!e.isLoading&&(e.meta&&e.meta.size||n&&n.length)})),l()(r,j,(function(e){return ee[N](e)})),l()(r,R,(function(e,t){var n=t.environment.agent.isSmartphone,r=t.user.officeEditorType,i=e.meta.group&&!e.meta.group.is_owned;return!(!e.meta||!e.isEditable||e.isInTrash||e.meta.group&&e.meta.group.in_readonly||n&&"only_office"!==r&&!i&&!Object(_.isDocsPage)(t)||w.isParent("/attach",e.id))})),l()(r,P,(function(e,t){var n=Object(g.isDvInDocsTouchExp)(t);return"docviewer"===e.app&&!e.isInTrash&&e.meta&&2!==e.meta.drweb&&(n||!t.environment.agent.isMobile||!(Object(_.isDocsPage)(t)&&ee[R](e,t)))})),l()(r,D,(function(e,t){var n=t.defaultFolders.folders;return!(e.isInTrash||f.default.isYateamNDA(e.id,n)||e.meta&&e.meta.group&&e.meta.group.in_readonly||"/trash"===e.id||w.isParent("/album",e.id)||w.isParent("/narod",e.id)||w.isParent("/attach",e.id)||"/disk"===e.id||e.isVicariousDoc)})),l()(r,I,(function(e,t){return(ee[D](e,t)||w.isParent("/attach/YaFotki",e.id)||e.meta&&"photounlim"===e.meta.storage_type)&&!Object(_.isDocsPage)(t)})),l()(r,A,(function(e,t){var n=t.page.idContext,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n&&"/disk"===e.id)return"/disk"!==n&&(!n.startsWith("/attach")||"/attach/YaFotki"===n);if(n&&"/trash"===e.id)return"/trash"!==n;var i=f.default.isResourceSharedRoot(e);return!r.some((function(t){return!(t.id!==e.id&&!w.isParent(t.id,e.id))||i&&f.default.isResourceSharedRoot(t)}))&&("dir"===e.type&&!(e.meta&&e.meta.group&&e.meta.group.readonly||e.isInTrash||w.isParent("/attach",e.id)))})),l()(r,L,(function(e,t){var n=t.defaultFolders.folders;return!(e.isInTrash||"/trash"===e.id||f.default.isYateamNDA(e.id,n)||"/disk"===e.id||w.isParent("/album",e.id)||Object(_.isDocsPage)(t))})),l()(r,F,(function(e,t){return e.isAvailableToAlbum&&!e.isInTrash&&!Object(y.isScansPage)(t)&&!Object(O.getIsInsideVirtualDisk)(e.id)})),l()(r,B,(function(e,t){var n=t.page,r=n.idContext,i=n.filter;return!(e.meta&&e.meta.group&&!e.meta.group.is_owned)&&"/photo"===r&&["beautiful","unbeautiful"].includes(i)})),l()(r,U,(function(e,t){return"album"===Object(d.getPage)(t)&&"geo"===Object(h.i)(t).album_type})),l()(r,z,(function(e,t){return"album"===Object(d.getPage)(t)&&e.albumIds&&e.albumIds.includes(Object(h.j)(t))&&!Object(h.w)(t)&&"geo"!==Object(h.i)(t).album_type})),l()(r,V,(function(e,t){var n=t.environment.agent.isMobile,r=t.defaultFolders.folders;return"dir"===e.type&&!e.isInTrash&&"/trash"!==e.id&&!n&&e.meta&&(!e.meta.group||e.meta.group.is_owned&&e.meta.group.is_root)&&!e.meta.with_shared&&!f.default.isYateamNDA(e.id,r)&&!w.isParent("/attach",e.id)&&"/disk"!==e.id&&!Object(_.isDocsPage)(t)&&!Object(O.getIsInsideVirtualDisk)(e.id)})),l()(r,H,(function(e){return Boolean(e.id.startsWith("/disk")&&"file"===e.type&&e.meta&&e.meta.resource_id&&e.meta.versioning_status)})),l()(r,W,(function(e,t){var n=t.page.idContext;return"file"===e.type&&(e.id.startsWith("/photounlim")&&!n.startsWith("/photo")||!Object(_.isDocsPage)(t)&&e.id.startsWith("/disk")&&w.dirname(e.id)!==n||Q(n)||Object(_.isDocsPage)(t)&&!e.isVicariousDoc)})),l()(r,G,(function(e,t){var n=t.page.idContext;return"dir"===e.type&&(["/published","/shared"].includes(n)||Q(n))})),l()(r,q,(function(e){var t,n;return(Object(O.getIsInsideVirtualDisk)(e.id)||e.id.startsWith("/disk"))&&"dir"===e.type&&!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&null!==(n=t.group)&&void 0!==n&&n.readonly)})),l()(r,$,(function(e,t){return ee[F](e,t)})),l()(r,K,(function(e,t){return Object(_.isDocsPage)(t)&&!Object(y.isScansPage)(t)})),l()(r,X,(function(e,t){return Object(_.isDocsPage)(t)&&e.isVicariousDoc})),r),te=[S,C,R,P,D,V,x,Y,W,G,H,$],ne=["/recent","/shared","/published","/narod","/attach","/attach/yaruarchive"],re=function(e,t,n,r){return!(t.error||ne.includes(t.id)||(function(e){return e&&e.state&&(e.state.part||e.state.blocked||e.state.hidden)})(t))&&ee[e](t,n,r)},ie=[B],oe=(i={},l()(i,k,(function(e){return e.every((function(e){return re(k,e)&&"dir"!==e.type&&(!w.isParent("/attach",e.id)||w.isParent("/attach/YaFotki",e.id))}))})),l()(i,E,(function(e,t){return e.every((function(e){return re(F,e,t)}))})),i),ae=(o={},l()(o,z,l()({},Z.IS_LAST_ITEM_IN_LOADING_ALBUM,(function(e,t){return Object(h.w)(t)}))),l()(o,M,l()({},Z.IS_LAST_ITEM_IN_LOADING_ALBUM,(function(e,t){return Object(h.w)(t)}))),l()(o,V,l()({},Z.NESTED_SHARED_FOLDERS,(function(e){if(1!==e.length)return!1;var t=u()(e,1)[0];return t.meta&&t.meta.group&&!t.meta.group.is_root&&"dir"===t.type}))),o),se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return 0===e.length?[]:Object.keys(ee).filter((function(n){return e.length>1&&oe[n]?oe[n](e,t):!(e.length>1&&te.includes(n))&&(e.length>1&&ie.includes(n)?e.some((function(e){return re(n,e,t,[])})):e.every((function(e){return re(n,e,t,[])})))}))},ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(ae).map((function(n){var r=Object.keys(ae[n]).find((function(r){return ae[n][r](e,t)}));return r?{action:n,reason:r}:!!r&&{action:n,reason:r}})).filter(Boolean)},ce=l()({},Z.NESTED_SHARED_FOLDERS,"Пригласить участников в папку нельзя. Она находится внутри общей папки."),le=(a={},l()(a,W,(function(){return Object(_.isDocsPage)(Object(b.default)().getState())?"Перейти к файлу на Диске":"Перейти к файлу"})),l()(a,G,"Перейти к папке"),l()(a,E,(function(e){var t=e[0],n=Object(b.default)().getState(),r=t.meta.public&&re(S,t,n)||!t.meta.public&&re(E,t,n);return Object(_.isDocsPage)(n)&&r?"Настроить доступ":"Поделиться"})),l()(a,S,(function(e){return"dir"===e[0].type?"Удалить ссылку на папку":"Удалить ссылку на файл"})),l()(a,C,"Описание с Яндекс.Фоток"),l()(a,x,"Открыть оригинал"),l()(a,Y,"Поставить на обложку"),l()(a,k,"Скачать"),l()(a,T,"Очистить Корзину"),l()(a,j,"Восстановить"),l()(a,R,"Редактировать"),l()(a,P,"Просмотреть"),l()(a,D,"Переименовать"),l()(a,I,"Переместить"),l()(a,M,"Удалить"),l()(a,N,"Удалить навсегда"),l()(a,L,"Копировать"),l()(a,F,"Добавить в альбом"),l()(a,B,"Убрать из альбома"),l()(a,U,"Убрать из альбома"),l()(a,z,"Убрать из альбома"),l()(a,V,"Настроить доступ"),l()(a,H,"История изменений"),l()(a,K,(function(e){return e[0].pinned?"Открепить":"Закрепить"})),l()(a,X,"Удалить"),a),de=function(e,t){return"function"==typeof le[e]?le[e](t):le[e]}}),(function(e,t,n){var r=n(813),i=n(814),o=n(535),a=n(815);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";var r=n(9),i=n(500),o=i.split,a=i.basename,s=i.extname,u=i.escape,c=i.unescape,l=n(820).getClientResourceDialogUrl,d={split:o,basename:a,filename:function(e){return d.basename(e).split(".").shift()},dirname:function(e){e=d.normalize(e);var t=d.split(e);return t.pop(),t.length?("public"===t[0]&&2===t.length&&(t[1]=t[1].replace(/:$/,"")),"/"+t.join("/")):null},parentname:function(e){return d.basename(d.dirname(e))},extname:s,addNameSuffix:function(e,t,n){if(!n)return e;var r=s(e);return t||!r?e+n:e.replace(new RegExp("\\."+r+"$"),"")+n+"."+r},normalize:function(e){return(e=(e||"").replace(/^(\d+):/,"").replace(/^disk:/,"disk").replace(/^trash:/,"trash").replace(/^photounlim:/,"photounlim").replace(/^attach:/,"attach"))?"/"+d.split(e).join("/"):"/"},formatPropertyPath:function(e){return e.replace(/^\./,"")},equals:function(e,t){return d.normalize(e)===d.normalize(t)},join:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.normalize(r.flatten(t).join("/"))},isParent:function(e,t){var n=d.split(t),r=d.split(e);if(r.length===n.length)return!1;for(var i=0,o=r.length;i<o;i+=1){if(0===i&&"narod"===r[i]&&-1!==["narod","lnarod"].indexOf(n[i]))return!0;if(r[i]!==n[i])return!1}return!0},isParentOrEqualToCurrentFolder:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ns.page.current.params.idContext;return t===e||d.isParent(e,t)},escape:u,unescape:c,getIdApp:function(e){var t=e.split("/")[1];return"album"===t?t:"client"},getFolderUrl:function(e){var t=d.normalize(e);return"/client"+("/photounlim"===e?"/photo":t)},_replacePhotounlim:function(e){return e.replace(/^\/photounlim(\/?)/,"/photo$1")},_getResourceDialogUrl:function(e,t){return e=d.escape(d.normalize(e)),l(d.dirname(d._replacePhotounlim(e)),e,t)},getResourceSliderUrl:function(e){return d._getResourceDialogUrl(e,"slider")},getResourceSelectedUrl:function(e){return d._getResourceDialogUrl(e,"select")},revertFileExtension:function(e,t,n){var r;if(n){var i=t?".":"";r=e.replace(/\.[^\..]+$/,"".concat(i).concat(t))}else r=t?"".concat(e,".").concat(t):e;return r}};e.exports=d}),(function(e,t,n){"use strict";n.r(t),n.d(t,"openDialog",(function(){return o})),n.d(t,"updateDialog",(function(){return a})),n.d(t,"closeDialog",(function(){return s})),n.d(t,"STATE",(function(){return u}));var r=n(13),i=n(26),o=function(e,t){return{type:r.OPEN_DIALOG,payload:{dialog:e,data:t}}},a=function(e,t){return{type:r.UPDATE_DIALOG,payload:{dialog:e,data:t}}},s=function(e,t){return function(n){n({type:r.CLOSE_DIALOG,payload:{dialog:e,data:t}}),ns.page.current.params.reduxDialog&&n(Object(i.goToUrlBase)())}},u={OPENED:"opened",CLOSED:"closed"}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return le})),n.d(t,"b",(function(){return U})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return V})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return W})),n.d(t,"h",(function(){return Z})),n.d(t,"i",(function(){return L})),n.d(t,"j",(function(){return te})),n.d(t,"k",(function(){return G})),n.d(t,"l",(function(){return ne})),n.d(t,"m",(function(){return fe})),n.d(t,"n",(function(){return me})),n.d(t,"o",(function(){return ce})),n.d(t,"p",(function(){return ge})),n.d(t,"q",(function(){return B})),n.d(t,"r",(function(){return M})),n.d(t,"s",(function(){return z})),n.d(t,"t",(function(){return $})),n.d(t,"u",(function(){return F})),n.d(t,"v",(function(){return we})),n.d(t,"w",(function(){return se})),n.d(t,"x",(function(){return Q})),n.d(t,"y",(function(){return re})),n.d(t,"z",(function(){return ie})),n.d(t,"A",(function(){return oe})),n.d(t,"B",(function(){return ae})),n.d(t,"C",(function(){return H})),n.d(t,"D",(function(){return de})),n.d(t,"E",(function(){return he})),n.d(t,"F",(function(){return pe})),n.d(t,"G",(function(){return ve})),n.d(t,"H",(function(){return ye})),n.d(t,"I",(function(){return be})),n.d(t,"J",(function(){return _e})),n.d(t,"K",(function(){return Oe})),n.d(t,"L",(function(){return q})),n.d(t,"M",(function(){return l})),n.d(t,"N",(function(){return Y})),n.d(t,"O",(function(){return N})),n.d(t,"P",(function(){return K})),n.d(t,"Q",(function(){return X})),n.d(t,"R",(function(){return J})),n.d(t,"S",(function(){return b})),n.d(t,"T",(function(){return x})),n.d(t,"U",(function(){return s})),n.d(t,"V",(function(){return C})),n.d(t,"W",(function(){return _})),n.d(t,"X",(function(){return A})),n.d(t,"Y",(function(){return p})),n.d(t,"Z",(function(){return d})),n.d(t,"ab",(function(){return g})),n.d(t,"bb",(function(){return h})),n.d(t,"cb",(function(){return S})),n.d(t,"db",(function(){return u})),n.d(t,"eb",(function(){return f})),n.d(t,"fb",(function(){return k})),n.d(t,"gb",(function(){return E})),n.d(t,"hb",(function(){return w}));var r=n(61),i=n(127),o=n(47),a=n(399),s=(function(e){return function(){return e}})(!0),u=function(){};var c=function(e){return e};"function"==typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;function l(e,t,n){if(!t(e))throw new Error(n)}var d=function(e,t){Object(i.a)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))},f=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))};function h(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function p(e){var t=!1;return function(){t||(t=!0,e())}}var m=function(e){throw e},v=function(e){return{value:e,done:!0}};function g(e,t,n){void 0===t&&(t=m),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:v,isSagaIterator:!0};return"undefined"!=typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function y(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var b=function(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")},_=function(e){return Array.apply(null,new Array(e))},O=function(e){return function(t){return e(Object.defineProperty(t,r.f,{value:!0}))}},w=function(e){return e===r.k},E=function(e){return e===r.j},S=function(e){return w(e)||E(e)};function C(e,t){var n=Object.keys(e),r=n.length;var i,a=0,s=Object(o.a)(e)?_(r):{},c={};return n.forEach((function(e){var n=function(n,o){i||(o||S(n)?(t.cancel(),t(n,o)):(s[e]=n,++a===r&&(i=!0,t(s))))};n.cancel=u,c[e]=n})),t.cancel=function(){i||(i=!0,n.forEach((function(e){return c[e].cancel()})))},c}function x(e){return{name:e.name||"anonymous",location:k(e)}}function k(e){return e[r.g]}var T="Channel's Buffer overflow!",j=1,R=3,P=4,D={isEmpty:s,put:u,take:u};function I(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,i=0,o=0,a=function(t){n[i]=t,i=(i+1)%e,r++},s=function(){if(0!=r){var t=n[o];return n[o]=null,r--,o=(o+1)%e,t}},u=function(){for(var e=[];r;)e.push(s());return e};return{isEmpty:function(){return 0==r},put:function(s){var c;if(r<e)a(s);else switch(t){case j:throw new Error(T);case R:n[i]=s,o=i=(i+1)%e;break;case P:c=2*e,n=u(),r=n.length,i=n.length,o=0,n.length=c,e=c,a(s)}},take:s,flush:u}}var A=function(){return D},M=function(e){return I(e,R)},N=function(e){return I(e,P)},L=Object.freeze({__proto__:null,none:A,fixed:function(e){return I(e,j)},dropping:function(e){return I(e,2)},sliding:M,expanding:N}),F="TAKE",B="PUT",U="ALL",z="RACE",V="CALL",H="CPS",W="FORK",G="JOIN",q="CANCEL",$="SELECT",Y="ACTION_CHANNEL",K="CANCELLED",X="FLUSH",Z="GET_CONTEXT",J="SET_CONTEXT",Q=Object.freeze({__proto__:null,TAKE:F,PUT:B,ALL:U,RACE:z,CALL:V,CPS:H,FORK:W,JOIN:G,CANCEL:q,SELECT:$,ACTION_CHANNEL:Y,CANCELLED:K,FLUSH:X,GET_CONTEXT:Z,SET_CONTEXT:J}),ee=function(e,t){var n;return(n={})[r.c]=!0,n.combinator=!1,n.type=e,n.payload=t,n},te=function(e){return ee(W,Object(i.a)({},e.payload,{detached:!0}))};function ne(e,t){return void 0===e&&(e="*"),Object(o.i)(e)?ee(F,{pattern:e}):Object(o.f)(e)&&Object(o.g)(t)&&Object(o.i)(t)?ee(F,{channel:e,pattern:t}):Object(o.b)(e)?ee(F,{channel:e}):void 0}var re=function(){var e=ne.apply(void 0,arguments);return e.payload.maybe=!0,e};function ie(e,t){return Object(o.n)(t)&&(t=e,e=void 0),ee(B,{channel:e,action:t})}var oe=function(){var e=ie.apply(void 0,arguments);return e.payload.resolve=!0,e};function ae(e){var t=ee(U,e);return t.combinator=!0,t}function se(e){var t=ee(z,e);return t.combinator=!0,t}function ue(e,t){var n,r=null;return Object(o.d)(e)?n=e:(Object(o.a)(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&Object(o.k)(n)&&Object(o.d)(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function ce(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ee(V,ue(e,n))}function le(e,t,n){void 0===n&&(n=[]);return ee(V,ue([e,t],n))}function de(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ee(H,ue(e,n))}function fe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ee(W,ue(e,n))}function he(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return te(fe.apply(void 0,[e].concat(n)))}function pe(e){return ee(G,e)}function me(e){return void 0===e&&(e=r.h),ee(q,e)}function ve(e){void 0===e&&(e=c);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ee($,{selector:e,args:n})}function ge(e,t){return ee(Y,{pattern:e,buffer:t})}function ye(){return ee(K,{})}function be(e){return ee(X,e)}function _e(e){return ee(Z,e)}function Oe(e){return ee(J,e)}var we=ce.bind(null,a.a)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(109),o=n(911),a=n(913),s=n(915),u=n(917),c=n(919),l=n(921),d=n(544),f=n(546),h=n(925),p=n(927),m=n(929),v=n(931),g=n(933);n(935),t.Button=r.compose(r.composeU(p.withSizeXXS,i.withSizeS,i.withSizeM,i.withSizeL,d.withSizeXL,f.withSizeXXL,h.withSizeXXXL),r.composeU(i.withViewAction,i.withViewDefault,i.withViewRaised,o.withViewClearInverse,i.withViewClear,i.withViewPseudo,i.withViewLink,m.withViewPseudoInverse,a.withViewDark,s.withViewB2BBanner,u.withViewTundora,c.withViewTransparent,l.withViewClearBlack,v.withViewSuggest),r.composeU(i.withThemeRaised,i.withThemeNormal),r.composeU(i.withTypeLink,i.withTypeSubmit),i.withWidthMax,g.withCenteredIcon,r.composeU(i.withPinCircleCircle,i.withPinClearRound))(i.Button)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"maybeBlockActionOverdraft",(function(){return _})),n.d(t,"showLimitUploadDialog",(function(){return O})),n.d(t,"createFolder",(function(){return w})),n.d(t,"openEditor",(function(){return E})),n.d(t,"updatePage",(function(){return S})),n.d(t,"checkVersion",(function(){return C})),n.d(t,"changeIdContext",(function(){return x})),n.d(t,"updateSearch",(function(){return k})),n.d(t,"search",(function(){return T})),n.d(t,"upload",(function(){return j})),n.d(t,"cleanTrash",(function(){return R})),n.d(t,"createSharedFolder",(function(){return P})),n.d(t,"goToUrl",(function(){return D})),n.d(t,"goToUrlBase",(function(){return I})),n.d(t,"closeNsDialog",(function(){return A})),n.d(t,"openUrlWithSk",(function(){return M})),n.d(t,"updateUser",(function(){return N})),n.d(t,"copyPublicLink",(function(){return L}));var r=n(21),i=n.n(r),o=n(51),a=n.n(o),s=n(54),u=n.n(s),c=n(73),l=n(100),d=n(23),f=n(45),h=n(17),p=n(13),m=n(29),v=(n(829),n(447),n(42)),g=n(33),y=n(43),b=n(75),_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var r=Object.assign({forHard:!0},e),i=n(),o=i.environment.agent.isSmartphone;return!!(Object(y.isOverdraftHard)(i)&&r.forHard||Object(y.isOverdraftLite)(i)&&r.forLite)&&(t(o?Object(f.updateSettings)({closedOverdraftScreen:!1}):Object(d.openDialog)("overdraft")),!0)}},O=function(e){return function(t,n){var r=n();if(Object(l.isDialogOpened)(r,"limit-upload")){var o=Object(l.getDialogData)(r,"limit-upload");t(Object(d.updateDialog)("limit-upload",{files:[].concat(i()(o.files),i()(e))}))}else t(Object(d.openDialog)("limit-upload",{files:e}))}},w=function(){return function(e){e(_())||ns.action.run("folder.create")}},E=function(e,t){return function(n,r){if(!n(_({forLite:!0}))){if(ns.page.current.params.create){var i=new URL(location.href);i.searchParams.delete("create"),ns.history.replaceState(i.toString())}var o={idContext:t,extension:e},a=Object(g.isDocsPage)(r());a&&(o.source="docs"),n(Object(d.openDialog)("document-name",{extension:e,onClose:function(){n(Object(d.closeDialog)("document-name"))},onSubmit:function(t){o.filename=t,n(Object(d.closeDialog)("document-name")),a&&n(Object(b.changeDocsPageType)(e)),ns.action.run("editor.open",o)}}))}}},S=function(e){return function(t,n){var r,i=e.idContext||"",o=n(),a=o.page.idContext!==i;if(a){var s=o.uploader.uploadingStatus;if(o.page.refreshAfter&&Date.now()>o.page.refreshAfter&&(!s||s===h.UPLOAD_STATUSES.DONE)&&!ns.Model.get("operations").models.some((function(e){return e.isActive()})))return void window.location.reload();var u=Object(l.getOpenedDialogs)(o);u.length&&u.forEach((function(e){var n=o.dialogs[e];n.data&&n.data.onCancel?n.data.onCancel():n.data&&n.data.onClose?n.data.onClose():t(Object(d.closeDialog)(e))}))}(a||e.filter!==o.page.filter)&&(o.settings.lastContext!==(r=["/recent","/albums"].includes(i)?i:"/photo"===i?Object(c.j)({page:e})?"/albums":"/photo":m.USER_SETTINGS_DEFAULTS.lastContext)&&t(Object(f.saveSettings)({key:"lastContext",value:r})),t({type:p.DESELECT_ALL}));t({type:p.UPDATE_PAGE,payload:e})}},C=function(e){return function(t,n){var r=n(),i=r.environment.session.version,o=r.page,a=o.idContext,s=o.refreshAfter;e&&i&&i!==e&&!s&&t(S({idContext:a,refreshAfter:Date.now()+108e5}))}},x=function(e,t){return function(){var n={id:e};t&&(n.from=t),ns.action.run("listing.openFolder",n)}},k=function(e){return{type:p.UPDATE_SEARCH,payload:e}},T=function(e,t,n){return function(){ns.action.run("app.search",{querySearch:e,scopeSearch:t,from:n})}},j=function(e){return function(){var t={files:e};return ns.action.run("resource.upload",t)}},R=function(){return function(){return ns.action.run("trash.clean")}},P=function(){return function(e){e(_({forLite:!0}))||ns.action.run("dialog-create-shared-folder.open")}},D=function(e,t){return function(){return t?a.a.go(e,t):a.a.go(e)}},I=function(){return function(){return a.a.go(a.a.getUrlBase())}},A=function(e){return function(t,n){"slider"===e&&(n().settings.videoAutoPlayId&&t(Object(f.updateSettings)({videoAutoPlayId:null})));(!e||e===ns.page.current.params.dialog||ns.page.current.params.idDialog&&ns.page.current.params.idDialog.startsWith("/album"))&&ns.action.run("dialog.close")}},M=function(e,t){return function(n,r){var i=r(),o=i.config.skExternal,a=i.environment.agent.BrowserName,s=u.a.addParams(e,{sk:o});t&&["Firefox","Safari"].includes(a)?location.assign(s):window.open(s,"_blank")}},N=function(e){return function(t){t({type:p.UPDATE_USER,payload:e}),ns.Model.get("userCurrent").trigger("ns-model-changed")}},L=function(e){return function(t){if(e)try{navigator.clipboard.writeText(e).then((function(){t(Object(v.notify)({operation:"copyPublicLink",status:"done"}))}),(function(){}))}catch(e){}}}}),(function(e,t,n){e.exports=n(858)()}),(function(e,t,n){"use strict";e.exports=n(843)}),(function(e,t,n){var r=n(37),i=r.SOCIAL,o=r.PHOTO_GRID_TYPES,a=1073741824;e.exports={ONE_DAY:864e5,GB:a,UPLOADER_FILE_SIZE_LIMIT:50*a,INTERVALS_COUNT_CONTACTS:[0,20,100,200,300,400,500],SOCIAL:i,TYPE_FOLDER_SOCIAL:[i.VK,i.FB,i.OK,i.MOIMIR,i.INSTAGRAM,i.GOOGLE],ROOT_CONTENT_TOP:70,HEADER_HEIGHT:60,HEIGHT_TITLE_PHOTOSLICE_GROUP:76,COUNT_ITEMS_TO_FETCH_AROUND_PHOTO:10,PORTION_SIZE:40,HASH_LONG_NOT_FOUND:"404",USER_SETTINGS_DEFAULTS:{lastContext:"/disk",view:"icons",docsView:"icons",photoView:o.WOW,beautifulAlbumPhotoView:o.WOW,unbeautifulAlbumPhotoView:o.WOW,screenshotsAlbumPhotoView:o.TILE,cameraAlbumPhotoView:o.WOW,videosAlbumPhotoView:o.WOW,countDisplaysDialogWelcome:"0",timestampLastClosedDiscountPromo:"0",timestampLastDisplayedDialogWelcome:"0",timestampLastClosedDesktopPromo:"0",timestampLastDownloadedDesktopPromo:"0",timestampLastClosedMobilePromo:"0",timestampLastSentMobilePromoSms:"0",timestampLastB2CBannerShow:"0",timestampLastClosedB2CBanner:"0",timestampLastClosedSubscriptionOnboarding:"0",timestampLastGrassTooltipWasShown:"0",lastClosedSubscriptionOnboardingId:"",isNeedToResetB2cBannerShowDuration:"0",timestampLastCollapseInfoSpaceDiscount:"0",timestampLastExpandInfoSpaceDiscount:"0",timestampLastShownDiskUpsale:"0",lastShownInfoSpaceDiscountId:"",showAgreementOfficeConvertation:"1",MSOfficeHeaderPromoState:"0",MSOfficeHeaderPromoLastShowTimestamp:0,beautifulAlbumDescriptionClosed:"0",unbeautifulAlbumDescriptionClosed:"0",screenshotsAlbumDescriptionClosed:"0",confirmExcludeFromAlbumShowed:"0",confirmExcludeFromGeoAlbumShowed:"0",shareEditOnboardingClosed:"0",shareEditMenuExpandedShowed:"0",personalAlbumsOnboardingClosed:"0",geoAlbumsOnboardingClosed:"0",facesAlbumsOnboardingClosed:"0",videoThemeOnboardingClosed:"0",videoThemeOnboardingV2Closed:"0"},YA_IMAGES_CONTEXT:"/disk/Мои Яндекс.Картинки",COMMENTS:{MESSAGE_LIMIT:1e3},STATUS_CREATE_FOLDER:{EXISTS:0,UNKNOWN:1},LOCALSTORAGE_SIZE:4980736,SOURCES:{APP_NAME:{ALBUM:"album",AUTH:"landing",CLIENT:"client",EMAIL:"email",PUBLIC:"public"},AGENT_TYPE:{DESKTOP:"web",TOUCH:"touch"},ACTION_NAME:{COMMENT:"comment",COPY:"copy",COPY_LIMIT:"copy_limit",CREATE_ALBUM:"newalbum",CREATE_DOCUMENT:"newdoc",DISLIKE_COMMENT:"dislike_comment",DISLIKE_PAGE:"dislike_page",EDIT:"edit",INVITE:"invite",LIKE_COMMENT:"like_comment",LIKE_PAGE:"like_page",REGISTER:"register",REGISTER_BUTTON:"register_button",REGISTER_HEADER:"register_header",SEARCH:"search",SIGNIN:"signin"}},LISTING_ID_CONTEXTS:["/disk","/recent","/trash","/shared","/vd","/published","/attach","/narod","/search"],SEARCH_SCOPES:{DISK:"/disk",TRASH:"/trash",JOURNAL:"/journal"},MOBILE_PROMO_ACTIVITY_TIMEOUT:2592e6,APP_PROMO_ACTIVITY_TIMEOUT:15552e6,DESKTOP_APP_LAST_ACTIVITY_TIMEOUT:5184e6,DESKTOP_APP_CLOSED_BANNER_TIMEOUT:2592e6,DESKTOP_APP_DOWNLOAD_ACTIVITY_TIMEOUT:1728e5,APP_PROMO_IN_UPLOADER_ACTIVITY_TIMEOUT:12096e5,APP_DOWNLOAD_ACTIVITY_TIMEOUT:15552e6,B2C_BANNER_TIMEOUT_DEFAULT:2592e5,B2C_BANNER_DURATION_SHOW_TIMEOUT:1728e5,DISK_UPSALE_TIMEOUT:15552e6,NOTIFICATIONS:{TYPE:{PROMO:"promo",SERVICE:"service"},DEFAULT_COOLDOWN:2592e5},PHOTOSLICE_FILTERS:{ALL:"all",ONLY_UNLIM:"photounlim",ONLY_FROM_FOLDERS:"nonphotounlim"},PREVENT_CUSTOM_CONTEXT_MENU_CLASS:"prevent-custom-context-menu",PHOTOSLICE_DB:{NAME:"photosliceDB",STORE:"snapshot",OBJECT:"geo"},MAX_ACTIONABLE_SELECTION:500,PHOTOSLICE_MAX_FETCHING_SELECTION:1e3,MPFS_ERROR_CODES:{MKDIR_EXISTS:13,STORE_NOT_FOUND:19,STORE_FILE_EXISTS:47,OWNER_HAS_NO_FREE_SPACE:234,BILLING_CANNOT_BUY_PRODUCT_FROM_NOT_CHEAPEST_LINE_AVAILABLE:243,UPLOAD_LIMIT_QUOTA:311,UPLOAD_LIMIT_TECH:312},OVERDRAFT_TYPES:{LITE:"lite",HARD:"hard"},MPFS_OVERDRAFT_STATUSES:{1:"lite",2:"hard",3:"hard"},COMMON_SUBSCRIPTION_ONBOARDING_ID:"commonSubscriptionOnboarding",DISK_UXFEEDBACK_ACCOUNT_ID:"frxmhmts71glkyqo49h7cjl5",DOCS_UXFEEDBACK_ACCOUNT_ID:"iiqca36lhdbi5llgos1k2xvo",DOCS_UXFEEDBACK_EVENT:"viewer",DISK_UXFEEDBACK_EVENT_DEFAULT:"disk_default",DISK_UXFEEDBACK_EVENT_SECURITY:"disk_security"}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"resourcesSelector",(function(){return p})),n.d(t,"currentResourceSelector",(function(){return m})),n.d(t,"isSliderResource",(function(){return v})),n.d(t,"isSliderOpened",(function(){return g})),n.d(t,"sliderResourceSelector",(function(){return y})),n.d(t,"getCurrentResource",(function(){return b})),n.d(t,"resourceChildrenKey",(function(){return _})),n.d(t,"resourceChildrenIds",(function(){return O})),n.d(t,"currentResourceChildrenIds",(function(){return w})),n.d(t,"resourceIsComplete",(function(){return E})),n.d(t,"currentResourceIsComplete",(function(){return S})),n.d(t,"getResourceChildren",(function(){return C})),n.d(t,"getResourceSubfoldersIds",(function(){return x})),n.d(t,"getResources",(function(){return k})),n.d(t,"getNextSliderResource",(function(){return T})),n.d(t,"getSliderStateOpened",(function(){return j})),n.d(t,"getCurrentSliderResource",(function(){return R})),n.d(t,"OBJECT_TYPES",(function(){return P})),n.d(t,"isPublishSelected",(function(){return D})),n.d(t,"getCreatedAlbumFromSelected",(function(){return I})),n.d(t,"isCooperativelyEditable",(function(){return M})),n.d(t,"getPublishObjectData",(function(){return N})),n.d(t,"getListingStubId",(function(){return L})),n.d(t,"isEmptyResource",(function(){return F})),n.d(t,"isNotEmptyResource",(function(){return B})),n.d(t,"isLoadingResource",(function(){return U})),n.d(t,"shouldScrollToResource",(function(){return z})),n.d(t,"getListingMetrikaSection",(function(){return V}));var r=n(59),i=n(137),o=n(38),a=n(174),s=n(79),u=n(17),c=n(22),l=n.n(c),d=n(113),f=n(9),h=n.n(f),p=function(e){return e.resources},m=function(e){return e.resources[e.page.idContext]},v=function(e){return e&&"file"===e.type&&!e.state.hidden&&!e.state.blocked},g=function(e){return"slider"===e.page.dialog},y=function(e){return g(e)&&v(e.resources[e.page.idDialog])?e.resources[e.page.idDialog]:null},b=function(e){return m(e)},_=function(e,t){var n=Object(d.getSortForIdContext)(e,t);return n.sort+"_"+n.order},O=function(e,t){var n=t&&t.id||"",r=n.startsWith("/remember/")?"children":"children."+_(e,n)+".ids";return h.a.get(t,r,[])},w=function(e){return O(e,m(e))},E=function(e,t){var n=t&&t.id||"";return n.startsWith("/remember/")?t.isComplete:Boolean(h.a.get(t,"children."+_(e,n)+".isComplete"))},S=function(e){return E(e,m(e))},C=function(e,t){var n=p(e),r=e.uploader.uploadingStatesByIds;return O(e,t).map((function(e){return n[e]})).filter((function(e){if(!e||e.state&&e.state.hidden)return!1;var t=r[e.id]||{};return!("file"===e.type&&t.status===u.UPLOAD_STATUSES.ERROR||t.error===u.UPLOAD_ERRORS.FOLDER_NOT_CREATED)}))},x=function(e,t){var n=p(e);return Object.keys(n).filter((function(e){return e!==t&&e.startsWith(t)&&"dir"===n[e].type}))},k=Object(i.resourcesSelectorCreator)((function(e){return C(e,m(e))}),(function(e){return e})),T=Object(r.createSelector)([y,w,p],(function(e,t,n){if(!e)return null;var r=t.indexOf(e.id);return-1===r||r===t.length-1?null:n[t[r+1]]})),j=Object(r.createSelector)([g],(function(e){return e})),R=Object(r.createSelector)([y],(function(e){return e||null})),P={RESOURCE:"resource",ALBUM:"album"},D=function(e){var t=e.personalAlbums,n=t.lastCreatedAlbumId,r=t.isPublishSelected;return!n&&r},I=function(e){var t=e.personalAlbums,n=t.lastCreatedAlbumId,r=t.isPublishSelected,i=t.albumsByIds;return n&&r?i[n]:null},A=function(e,t){return{objectType:P.ALBUM,shortUrl:t&&t.public&&t.public.short_url,isPublishing:t&&Boolean(t.isPublishing)||!t&&D(e),isPublishingReverse:t&&t.isPublishingReverse,resourceType:"album",resourceName:t&&t.title,canUnpublish:!0,isPublic:t&&t.is_public,resourceId:t&&t.id}},M=function(e){var t;return Boolean(e.isEditable&&(null===(t=e.meta)||void 0===t?void 0:t.office_access_state))},N=function(e,t){if(t.length>1){var r=I(e);return A(e,r?r:null)}var i=t[0];if(!i.startsWith("/")){var o=e.personalAlbums.albumsByIds[i];return A(e,o)}var a,s,u,c,l,d,f,h=e.resources[i]||{},p=Boolean(h.meta&&h.meta.public),m=n(20),v=m.can,g=m.UNPUBLISH;return{objectType:P.RESOURCE,shortUrl:null===(a=h.meta)||void 0===a?void 0:a.short_url,isPublic:p,isPublishing:Boolean(null===(s=h.state)||void 0===s?void 0:s.publishing),resourceId:h.id,metaResourceId:null===(u=h.meta)||void 0===u?void 0:u.resource_id,resourceType:h.type,resourcePath:h.path,resourceName:h.name,resourceMediaType:null===(c=h.meta)||void 0===c?void 0:c.mediatype,isEditable:h.isEditable,officeAccessState:null===(l=h.meta)||void 0===l?void 0:l.office_access_state,isCooperativelyEditable:M(h),canUnpublish:v(g,h,e),isGuestInSharedFolder:0===(null===(d=h.meta)||void 0===d?void 0:null===(f=d.group)||void 0===f?void 0:f.is_owned),publicSettings:h.publicSettings,isVicariousDoc:h.isVicariousDoc}},L=function(e){if("album"===Object(o.getPage)(e))return"album";var t=e.page,n=t.idContext,r=t.filter,i=e.defaultFolders.folders;if(n.startsWith("/search"))return"search";switch(n){case"/recent":return"recent";case"/photo":return r?"photo_filter":"photo";case"/published":return"published";case"/shared":return"shared";case"/albums":return"albums";case i.downloads:return"downloads";case i.screenshots:return"screenshots";case i.scans:return"scans"}},F=Object(r.createSelector)([m,k],(function(e,t){return Boolean(e&&!1===e.isLoading&&t&&0===t.length)})),B=Object(r.createSelector)([m,k],(function(e,t){return Boolean(e&&!1===e.isLoading&&t&&t.length>0)})),U=Object(r.createSelector)([m,k],(function(e,t){return Boolean(e&&!0===e.isLoading&&t&&0===t.length)})),z=function(e){var t=e.environment.agent.isMobile,n=Object(o.getPage)(e),r="photo"===n,i="album"===n,u=(Object(a.isIdContextWithListing)(e)||"remember-block"===n||r||i)&&!Object(s.e)(e);return{shouldScroll:u,shouldSelect:u&&!t&&!r&&!i}},V=function(e){if(Object(a.isIdContextWithListing)(e)){var t=e.page.idContext,n=e.defaultFolders.folders;if(l.a.isParent(n.downloads,t)||l.a.equals(n.downloads,t))return"downloads";var r=Object(a.getTopLevelCurrentItem)(e);return r&&r.id||"files"}}}),(function(e,t,n){"use strict";n.d(t,"p",(function(){return v})),n.d(t,"o",(function(){return g})),n.d(t,"e",(function(){return y})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return _})),n.d(t,"x",(function(){return O})),n.d(t,"r",(function(){return w})),n.d(t,"u",(function(){return E})),n.d(t,"v",(function(){return S})),n.d(t,"y",(function(){return C})),n.d(t,"j",(function(){return x})),n.d(t,"i",(function(){return k})),n.d(t,"n",(function(){return T})),n.d(t,"t",(function(){return j})),n.d(t,"s",(function(){return R})),n.d(t,"b",(function(){return P})),n.d(t,"q",(function(){return D})),n.d(t,"m",(function(){return I})),n.d(t,"d",(function(){return A})),n.d(t,"w",(function(){return M})),n.d(t,"c",(function(){return N})),n.d(t,"l",(function(){return L})),n.d(t,"k",(function(){return F})),n.d(t,"h",(function(){return B})),n.d(t,"a",(function(){return U}));var r=n(38),i=n(137),o=n(9),a=n.n(o),s=n(149),u=n(401),c=n(128),l=n(30),d=n(297),f=n(118),h=n(80),p={untitled:["camera","videos","screenshots"],gathered:["beautiful","unbeautiful"]},m=function(e){return function(t){var n=t.albums,r=n.albums,i=n.isLoaded;return p[e].map((function(e){return r[e]})).filter((function(e){var t=e.count;return!i||t>0}))}},v=function(e){var t=e.albums,n=t.albums,r=t.isLoaded,i=m("untitled")(e);return!n.favorite||r&&!n.favorite.preview||i.unshift(n.favorite),i},g=function(e){var t=e.albums.albums,n=m("gathered")(e);return t.faces&&t.faces.id&&n.unshift(t.faces),t.geo&&t.geo.id&&n.unshift(t.geo),n},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.albums,r=e.personalAlbums;return t&&n.albums[t]?n.albums[t]:r},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=y(e,t);if(n.isLoaded){var r=(n.ids||[]).map((function(t){return e.personalAlbums.albumsByIds[t]})).filter(Boolean);return t||r.unshift({id:"new"}),"faces"===t?r.filter((function(e){return!e.is_empty&&!e.hidden})):r}return[]},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=b(e,t);return!t&&r.length&&e.albums.albums.favorite&&e.albums.albums.favorite&&r.splice(1,0,e.albums.albums.favorite),n&&(r=r.filter((function(e){return!n.includes(e.id)}))),r},O=function(e){var t=e.page.idContext;return t.startsWith("/album/")&&"/album/faces"!==t&&"/album/geo"!==t},w=function(e){if("/albums"!==e.page.idContext)return!1;var t=Boolean(v(e).length),n=Boolean(g(e).length),r=y(e);return!(!r.isLoaded||r.ids.length>0)&&!t&&!n},E=function(e){var t=e.environment.session.shouldShowFacesAlbumsOnboarding,n=e.settings.facesAlbumsOnboardingClosed;return Object(h.a)(e)&&!Object(h.d)(e)&&!Object(h.c)(e)&&!Object(h.b)(e)&&t&&!Boolean(Number(n))},S=function(e){var t=e.environment.session.shouldShowGeoAlbumsOnboarding,n=e.settings.geoAlbumsOnboardingClosed;return Object(h.a)(e)&&!Object(h.d)(e)&&!Object(h.c)(e)&&!Object(h.b)(e)&&!E(e)&&t&&!Boolean(Number(n))},C=function(e){var t=e.environment.session.shouldShowPersonalAlbumsOnboarding,n=e.settings,r=n.personalAlbumsOnboardingClosed,i=n.geoAlbumsOnboardingClosed;return Object(h.a)(e)&&!Object(h.d)(e)&&!Object(h.c)(e)&&!Object(h.b)(e)&&!E(e)&&!S(e)&&!Boolean(Number(r))&&!Boolean(Number(i))&&t},x=function(e){return e.page.albumId},k=function(e){var t=x(e);return e.personalAlbums.albumsByIds[t]||{}},T=function(e){return Object(f.c)(k(e))},j=function(e){var t=k(e);return void 0===t.isLoading||t.isLoading},R=function(e){var t=k(e);return void 0!==t.isCompleted&&t.isCompleted},P=function(e,t){return e.personalAlbums.albumsByIds[t]},D=function(e){if("album"!==Object(r.getPage)(e))return!1;var t=k(e);return!t.clusters||0===t.clusters.length},I=function(e){var t=k(e),n=e.resources,r=(t.clusters||[]).map((function(e){return e.items.map((function(e){var t=e.id;return n[t]}))}));return a.a.flatten(r)},A=Object(i.resourcesSelectorCreator)(I,(function(e){return e})),M=function(e){if("album"!==Object(r.getPage)(e))return!1;var t=k(e),n=A(e),i=e.page.idDialog;return!t.isCompleted&&n.length>0&&n[n.length-1].id===i},N=function(e,t,n){return a.a.last(Object(s.b)(Object(c.a)(e).sliderResources,t,{take:n,loop:!1,matcher:function(e,n){return n&&t===n.id},filter:l.isSliderResource}))},L=function(e){var t=k(e);return Object(u.a)(t.layout)},F=function(e,t,n){for(var r=e.resources,i=e.statesContext,o=i.selected,s=void 0===o?[]:o,u=i.highlighted,c=void 0===u?[]:u,l=k(e).clusters,d={},f=t.clusterIndex;f<=n.clusterIndex;f++){d[f]={};for(var h=l[f],p=f===t.clusterIndex?t.resourceIndex:0,m=f===n.clusterIndex?n.resourceIndex:h.size-1,v=p;v<=m;v++){var g=h.items[v],y=r[g.id],b=a.a.get(y,"state.disabled");d[f][v]={id:g.id,name:y.name,defaultPreview:a.a.get(y,"defaultPreview"),selected:!b&&s.includes(g.id),disabled:b,highlighted:c.includes(g.id),isVideo:a.a.get(y,"canPlayVideo"),videoDuration:a.a.get(y,"meta.video_info.duration")}}}return d},B=function(e,t,n){for(var r=k(e).clusters,i=e.statesContext.selected,o=void 0===i?[]:i,a={},s=t;s<=n;++s){var u=r[s],c=u.items.filter((function(e){return o.includes(e.id)})).length,l=d.a.NONE;c===u.size?l=d.a.ALL:c>0&&(l=d.a.SOME),a[u.id]=l}return a},U=function(e){return"reindexed"===e.user.faces_indexing_state}}),(function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(265),s=n(137),u=n(59),c=n(122),l=n(113),d=n(72),f=n(266),h=o(n(54)),p=o(n(22));t.currentDocsType=function(e){var t=e.page.type;return t||c.isScansPage(e)?t:"docx"},t.currentSideBarDocsType=function(e){var t=e.page,n=t.type,r=t.idPage;return n||r||"docx"},t.docsList=function(e){var n=e.docs,r=t.currentDocsType(e);return n.lists[r]},t.listingType=function(e){return e.settings.docsView},t.getResourceType=function(e,t){var n=t.docs.lists;return Object.keys(n).find((function(t){return n[t].items.includes(e)}))},t.sortingType=function(e){var t=e.docs.sortingType;return c.isScansPage(e)?l.getSort(e):t},t.getFilterType=function(e){return e.docs.filterType};t.docsListResources=s.resourcesSelectorCreator((function(e){var n=e.resources,r=e.docs.sortingType,o=r.sort,s=r.order,u=[],c=[];t.docsList(e).items.forEach((function(e){var t=n[e];t&&(t.pinned?u.push(n[e]):c.push(n[e]))})),u.sort((function(e,t){return Number(t.pinned)-Number(e.pinned)})),c.sort((function(e,t){if(s===a.SortOrder.ASC){var n=e.openInEditorTimestamp-t.openInEditorTimestamp,r=Number(e.meta.size)-Number(t.meta.size);switch(o){case a.SortBy.DATE_LAST_VIEW:return Number.isNaN(n)?1:n;case a.SortBy.SIZE:return Number.isNaN(r)?1:r;case a.SortBy.NAME:return e.name.localeCompare(t.name,"en",{numeric:!0})}}else if(s===a.SortOrder.DESC)switch(n=t.openInEditorTimestamp-e.openInEditorTimestamp,r=Number(t.meta.size)-Number(e.meta.size),o){case a.SortBy.DATE_LAST_VIEW:return Number.isNaN(n)?-1:n;case a.SortBy.SIZE:return Number.isNaN(r)?-1:r;case a.SortBy.NAME:return t.name.localeCompare(e.name,"en",{numeric:!0})}return 0}));var l=t.getFilterType(e);return i(u,c).filter((function(e){var t;return!(null===(t=e.state)||void 0===t?void 0:t.hidden)&&(l===a.FilterType.ALL||l===a.FilterType.MY&&!e.isVicariousDoc||l===a.FilterType.OTHER&&e.isVicariousDoc)}))}),(function(e){return e})),t.docsListIsEmpty=function(e){var n=t.docsList(e),r=n.items;return!n.isLoading&&0===Object.keys(r).length},t.docsListIsLoading=function(e){return t.docsList(e).isLoading},t.isDocsPage=function(e){return e.config.isDocsHost},t.isDocsView=function(e){var n=e.page.idPage;return t.isDocsPage(e)&&"view"===n},t.pageCurrentUrl=function(e){return e.page.currentUrl},t.getViewFileDetails=u.createSelector([t.pageCurrentUrl],(function(e){var t=h.default.getQueryParam(e,"name")||"";t="string"==typeof t?t:"";var n=h.default.getQueryParam(e,"url");return n="string"==typeof n?n:"",{ext:(p.default.extname(t)||"").toLowerCase(),protocol:n.split("//")[0],fileId:n.replace(/^[\w-]+:\/\//,"")}})),t.docsNavigation=function(e){var n=t.currentSideBarDocsType(e),i=[{id:"docx",name:"Документы",url:"/docs?type=docx"},{id:"xlsx",name:"Таблицы",url:"/docs?type=xlsx"},{id:"pptx",name:"Презентации",url:"/docs?type=pptx"},{id:"scans",name:"Сканы",url:"/docs/scans"}];if(t.isDocsView(e)){var o={id:"view",name:"Просмотр"};d.isDvInDocsTouchExp(e),i.push(o)}return i.map((function(t){return f.isUnAuth(e)&&t.url&&(t.url=f.getLoginUrl(e,t.url)),r({current:n===t.id},t)}))}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"NAME_VALIDATION_ERRORS",(function(){return w})),n.d(t,"resourceNameValidationResultI18n",(function(){return E}));var r,i=n(10),o=n.n(i),a=n(9),s=n.n(a),u=n(22),c=n.n(u),l=n(54),d=n.n(l),f=n(132),h=n.n(f),p=n(69),m=(n(447),n(516),n(14)),v=n(18),g=n(16),y=n(29),b=n(64),_=n(846),O={preserveData:function(e,t){return["clusterId","albumIds","children","isLoading","lastFetchTime","meta.size","meta.videoInfo","meta.videoInfoLoadFailed","meta.onlyImageAndVideo","meta.uploadingState","state.hidden","state.blocked","state.portional","state.publishing","originalSize","sharedRoot","meta.search_scope","favorite","isVicariousDoc","pinned","openInEditorTimestamp","recordId"].forEach((function(n){var r=s.a.get(t,n),i=s.a.get(e,n);!s.a.isUndefined(r)&&s.a.isUndefined(i)&&s.a.set(e,n,r)})),e},getIdUnique:function(e,t){var n=t?e+"_"+t:e;return Object(v.isExistsResource)(Object(m.default)().getState(),n)?(t=t?t+1:1,O.getIdUnique(e,t)):n},getParents:function(e){for(var t=[];e=c.a.dirname(e);)t.unshift({id:e,name:O.getAlias(e)});return t},getAlias:function(e){return O.DEFAULT_FOLDERS_DATA[e]?O.DEFAULT_FOLDERS_DATA[e].name:Object(b.isRootOfVirtualDisk)(e)?"Файлы":c.a.basename(e)},updateParentsOf:function(e){var t=Object(m.default)(),n=c.a.dirname(e);s.a.isNull(c.a.dirname(n))||(Object(v.isExistsResource)(t.getState(),n)&&t.dispatch(Object(g.fetchSingleResource)(n)),O.updateParentsOf(n))},preprocess:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(m.default)().getState().settings,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ns.Model.get("config").getData(),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Object(p.getPreloadedData)("defaultFolders.folders");if(e.id=c.a.normalize(e.id),e.name=e.name||c.a.basename(e.id),e.id===y.YA_IMAGES_CONTEXT&&(e.name="Я.Картинки"),e.meta=e.meta||{},e.state=e.state||{},e.isInTrash=0===e.id.indexOf("/trash/"),e.ext=e.ext||c.a.extname(e.name).toLowerCase(),s.a.get(e,"meta.group")&&s.a.extend(e.meta.group,{readonly:640===e.meta.group.rights,in_readonly:640===e.meta.group.rights&&!e.meta.group.is_root}),0===e.id.indexOf("/photounlim/")&&(e.parents=["/disk","/photo"].map((function(e){return{id:e,name:O.getAlias(e)}}))),c.a.isParent("/attach/YaFotki/",e.id)){var i=O.getParents(e.id);i.splice(0,2,{id:"/attach",name:"Архив"},{id:"/attach/YaFotki",name:O.getAlias("/attach/YaFotki")}),e.parents=i}e.parents||(e.parents=O.getParents(e.id),c.a.isParent("/attach/yaruarchive",e.id)&&e.parents.unshift({id:"/disk",name:O.DEFAULT_FOLDERS_DATA["/disk"].name}),Object(b.getIsInsideVirtualDisk)(e.id)&&(e.parents=e.parents.slice(2))),s.a.some(e.parents,{id:"/attach/yaruarchive"})&&(e.parents=e.parents.filter((function(e){return"/attach"!==e.id&&("/attach/yaruarchive"===e.id&&(e.name=O.DEFAULT_FOLDERS_DATA["/attach/yaruarchive"].name),e)})));if(e.hasPreview=!1,e.meta&&s.a.includes(["document","video","image","book"],e.meta.mediatype)&&(e.hasPreview=e.meta.hasPreview=!!e.meta.sizes),e.meta&&"video"===e.meta.mediatype){var o=e.state.part||e.state.blocked||e.state.disabled;e.isAvialableForVideoPlayer=!o}"file"===e.type?(e.icon=O.getIconFile(e),e.app=O.getAppFile(e,t)):e.icon=O.getIconFolder(e,r),s.a.get(e,"meta.short_url")&&(e.meta.short_url=O.fixShortUrl(e.meta.short_url,n)),e.isEditable=Boolean(s.a.get(e,"meta.office_online_url")||s.a.get(e,"meta.office_online_sharing_url")),e.isAvailableToAlbum="file"===e.type&&(c.a.isParent("/disk",e.id)||c.a.isParent("/attach/YaFotki",e.id)||c.a.isParent("/photounlim",e.id))&&e.meta&&("video"===e.meta.mediatype&&e.isAvialableForVideoPlayer&&e.hasPreview||"image"===e.meta.mediatype&&e.hasPreview),0===e.id.indexOf("/public")&&(e.groupPublic=O.getNameGroupPublic(e)),e.meta&&"video"===e.meta.mediatype&&("photounlim"===e.meta.storage_type?e.meta.videoStreamingParams={path:e.id.replace(/^\/photounlim\//,"photounlim:/")}:e.id.startsWith("/attach/")?e.meta.videoStreamingParams={path:e.id.replace(/^\/attach\//,"attach:/")}:e.meta.videoStreamingParams={path:e.id.replace(/^\/disk\//,"disk:/")}),e.canPlayVideo="video"===e.meta.mediatype&&e.isAvialableForVideoPlayer&&!e.isInTrash;var a=2===e.meta.drweb;return(["vd","dir"].includes(e.type)||a)&&(e.iconType=e.icon),"trash"===e.icon&&e.meta.size&&(e.iconType="trash-full"),a&&(e.virus=a),e.meta.sizes&&e.meta.sizes.length&&(e.meta.sizes.forEach((function(t){"DEFAULT"===t.name&&(e.defaultPreview=t.url),"XXXL"===t.name&&(e.xxxlPreview=t.url)})),e.defaultPreview||(e.defaultPreview=e.meta.sizes[0].url)),e},fixShortUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ns.Model.get("config").getData();return d.a.fixShortUrl(e,t)},getIconFile:function(e){var t=e.meta&&2===e.meta.drweb,n="."+e.ext,r=e.meta&&e.meta.mediatype||"";return t&&h.a.virus||h.a.extnames[n]||h.a.mediatypes[r]||h.a.default},getIconFolder:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(p.getPreloadedData)("defaultFolders.folders"),n="dir",r=s.a.get(e,"meta.group.is_shared")&&1===s.a.get(e,"meta.group.is_root");return"/disk"===e.id?n="root":"/trash"===e.id?n="trash":r?n="shared":O.isScreenshots(e.id,t)?n="screenshots":O.isYateamNDA(e.id,t)?n="yateamnda":"vd"===e.type&&(n="vd"),n},isOpenableImage:function(e){var t=e.meta,n=t&&t.mediatype,r=t&&t.sizes;return Boolean("image"===n&&r)},getAppFile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(m.default)().getState().settings,n=c.a.extname(e.name).toLowerCase(),r=e.meta&&e.meta.mimetype,i=e.meta&&e.meta.mediatype;return e.isInTrash?null:e.state&&e.state.part?null:"video"===i&&e.isAvialableForVideoPlayer||"audio"===i||O.isOpenableImage(e)?"slider":c.a.isParent("/narod",e.id)&&!t.narodMigrated?null:_(r,n,e.hasPreview)?"docviewer":void 0},castSuggestItemToResource:function(e){var t=e.id,n=e.key,r=e.text,i=e.type,o=e.mimetype,a=e.mediatype;if(["files","folders"].includes(i))return O.preprocess({id:n,name:r,type:{files:"file",folders:"dir"}[i],path:n,meta:{mimetype:o,mediatype:a,resource_id:t,sizes:["video","image"].includes(a)&&[]}})},isCamera:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(p.getPreloadedData)("defaultFolders.folders")).photostream===e},isScreenshots:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(p.getPreloadedData)("defaultFolders.folders")).screenshots===e},isYateamNDA:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(p.getPreloadedData)("defaultFolders.folders")).yateamnda===e}},w={NAME_HAS_SLASH:"NAME_HAS_SLASH",NAME_EXCEEDS_MAX_LENGTH:"NAME_EXCEEDS_MAX_LENGTH"},E=(r={},o()(r,w.NAME_HAS_SLASH,{file:"Название файла не может содержать символ «/»",dir:"Название папки не может содержать символ «/»"}),o()(r,w.NAME_EXCEEDS_MAX_LENGTH,{file:"Название файла не может быть длиннее 255 символов",dir:"Название папки не может быть длиннее 255 символов"}),r);O.validateName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.includes("/")?w.NAME_HAS_SLASH:e.length>255?w.NAME_EXCEEDS_MAX_LENGTH:void 0},O.preprocessIdREST=function(e){return e.replace(/^photounlim:/,"/photounlim").replace(/^disk:/,"/disk")},O.isResourceSharedRoot=function(e){return Boolean(s.a.get(e,"meta.group.is_root"))},O.getNameGroupPublic=function(e){if("dir"===e.type)return"folder";var t=e.meta&&e.meta.mediatype;return"video"===t?"image":"image"===t&&e.meta.sizes?"image":"file"},O.getSrcPreviewBaseUrl=function(e){return O.getDownloaderUrl(e,"DEFAULT")},O.getDownloaderUrl=function(e,t){var n=s.a.get(e,"meta.sizes",[]).find((function(e){return e.name===t}));return n&&n.url},O.getIdFromFakeId=function(e){return e.replace(/\.\d+$/,"")},O.getFakeId=function(e){return e+"."+Date.now()},O.DEFAULT_FOLDERS_DATA={"/recent":{name:"Последние файлы"},"/disk":{path:"/disk",type:"dir",name:"Файлы",parents:[]},"/published":{type:"dir",isSlice:!0,name:"Публичные ссылки",parents:[{id:"/disk",name:"disk"}]},"/shared":{type:"dir",isSlice:!0,name:"Общие папки",parents:[{id:"/disk",name:"disk"}]},"/trash":{type:"dir",isSlice:!0,name:"Корзина",parents:[{id:"/disk",name:"disk"}]},"/attach":{type:"dir",isSlice:!0,name:"Почтовые вложения",parents:[]},"/narod":{id:"/narod",type:"dir",isSlice:!0,name:"Народ",parents:[{id:"/disk",name:"disk"}]},"/attach/yaruarchive":{type:"dir",isSlice:!0,name:"Другие сервисы",parents:[{id:"/disk",name:"disk"}]},"/attach/YaFotki":{type:"dir",name:"Яндекс.Фотки",parents:[{id:"/attach",name:"Архив"}]},"/photo":{name:"Все фото",isSlice:!0},"/photounlim":{name:"Все фото",isSlice:!0,path:"/photo",parents:[{id:"/disk",name:"disk"}]},"/albums":{name:"Альбомы",isSlice:!0}},O.preprocessResources=function(e,t){var n=t.settings,r=t.config,i=t.defaultFolders,o=t.resources;return e.map((function(e){var t=O.preprocess(e,n,r,i&&i.folders||{});return o[e.id]?O.preserveData(t,o[e.id]):t}))},O.updateResourceData=function(e,t){return e=O.preprocess(e),e=O.preserveData(e,t)},t.default=O}),(function(e,t,n){"use strict";var r,i=n(2),o=n(0),a=n.n(o),s=n(28),u=n(87),c=n(55),l=(n(865),function(e){var t=e.side,n=e.provider,r=Object(i.__rest)(e,["side","provider"]);return n(f("Icon",{side:t},[r.className]))}),d=(n(866),function(e){var t=e.children,n=e.className,r=Object(i.__rest)(e,["children","className"]);return a.a.createElement("span",Object(i.__assign)({},r,{className:f("Text",null,[n])}),t)});n(864);n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p}));var f=Object(s.cn)("Button2"),h={autoComplete:"off",pressKeys:[c.a.SPACE,c.a.ENTER],prvntKeys:[],as:"button",type:"button"},p=((r=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={pressed:!1},t.internalInnerRef=Object(o.createRef)(),t.onKeyDown=function(e){Object(c.b)(e.keyCode,t.props.pressKeys)&&(t.setState({pressed:!0}),Object(c.b)(e.keyCode,t.props.prvntKeys)&&e.preventDefault()),void 0!==t.props.onKeyDown&&t.props.onKeyDown(e)},t.onKeyUp=function(e){Object(c.b)(e.keyCode,t.props.prvntKeys)&&e.preventDefault(),Object(c.b)(e.keyCode,t.props.pressKeys)&&t.setState({pressed:!1}),void 0!==t.props.onKeyUp&&t.props.onKeyUp(e)},t.onClick=function(e){null!==t.internalInnerRef.current&&t.internalInnerRef.current.focus(),void 0!==t.props.onClick&&t.props.onClick(e)},t.onMouseDown=function(e){navigator.userAgent.match(/safari/i)&&e.preventDefault(),t.setState({pressed:!0}),void 0!==t.props.onMouseDown&&t.props.onMouseDown(e)},t.onMouseUp=function(e){t.setState({pressed:!1}),void 0!==t.props.onMouseUp&&t.props.onMouseUp(e)},t.onMouseLeave=function(e){t.setState({pressed:!1}),void 0!==t.props.onMouseLeave&&t.props.onMouseLeave(e)},t.onBlur=function(e){t.setState({pressed:!1}),void 0!==t.props.onBlur&&t.props.onBlur(e)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.addonAfter,n=e.addonBefore,r=e.autoComplete,o=e.checked,s=e.children,c=e.icon,h=e.iconLeft,p=e.iconRight,m=e.progress,v=e.disabled,g=e.as,y=e.type,b=e.className,_=e.innerRef,O=e.controlRef,w=e.title,E=e.role,S=(e.pressKeys,e.prvntKeys,e.view,e.theme,e.baseline,e.pin,e.width,Object(i.__rest)(e,["addonAfter","addonBefore","autoComplete","checked","children","icon","iconLeft","iconRight","progress","disabled","as","type","className","innerRef","controlRef","title","role","pressKeys","prvntKeys","view","theme","baseline","pin","width"])),C=this.state.pressed,x=g;S["string"==typeof g?"ref":"innerRef"]=Object(u.a)(this.internalInnerRef,_,O);var k=h||c,T=Boolean(s)&&!0!==s||0===s;return a.a.createElement(x,Object(i.__assign)({},S,{type:y,disabled:Boolean(m||v),className:f({checked:o,progress:m,pressed:C},[b]),onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onClick:this.onClick,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseLeave:this.onMouseLeave,onBlur:this.onBlur,"aria-pressed":o,"aria-disabled":v,autoComplete:r,title:w,role:E,"aria-busy":m}),n,k&&a.a.createElement(l,{provider:k,side:T&&h?"left":void 0}),p&&a.a.createElement(l,{provider:p,side:T?"right":void 0}),T&&a.a.createElement(d,null,s),t)},t})(o.PureComponent)).displayName=f(),r.defaultProps=h,r)}),(function(e,t,n){"use strict";var r=n(140),i=n(14),o=n(26),a=function e(t,n,a,s){var u=Object.assign({retriesLeft:3,retryOffline:!0},a),c=Object.assign(function(){var e=ns.Model.get("config");return{idClient:e.get(".idClient"),version:e.get(".version"),sk:e.get(".sk")}}(),(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};return n["_model.0"]=e,Object.keys(t).forEach((function(e){n[e+".0"]=t[e]})),n})(t,n),s);return new Promise(function(e,n){return ns.http(ns.request.URL+"?_m="+t,c).then(e,n)}).then((function(e){Object(i.default)().dispatch(Object(o.checkVersion)(e.version));var t=e.models[0],n=t.data,r=t.error;return r?Promise.reject(Object.assign({uid:e.uid,sk:e.sk},r)):n&&n.error?Promise.reject(n.error):n})).catch((function(o){var a=function(){return e(t,n,Object.assign({},u,{retriesLeft:u.retriesLeft-1}))},s=o&&o.id||"";if("WRONG_SK"===s){if(Object(i.default)().getState().user.uid!==o.uid)return location.reload(),new Promise(function(){});var c=ns.Model.get("config");if(c.get(".sk")!==o.sk)return c.setData(Object.assign(c.getData(),{sk:o.sk})),a()}return u.retriesLeft>0&&(!s||s.startsWith("HTTP_5")&&"HTTP_507"!==s)?u.retryOffline&&o.xhr&&0===o.xhr.status?Object(r.waitOnline)("/check-online").then(a):a():Promise.reject(o)}))};"undefined"!=typeof window&&(window.rawFetchModel=a),t.a=a}),(function(e,t){var n={TILE:"tile",WOW:"wow"},r=Object.assign({},n,{ICONS:"icons",LIST:"list"});e.exports={RESOURCE_VIEWS:{NONE:"",ERROR:"error",DIR:"dir",ALBUM:"album",IMAGE:"image",VIDEO:"video",AUDIO:"audio",PREVIEW:"preview",ICON:"icon"},SOCIAL:{MAIL:"mail",VK:"vkontakte",FB:"facebook",OK:"odnoklassniki",MOIMIR:"moimir",GOOGLE:"google",INSTAGRAM:"instagram",QR:"qr"},SERVICES:{DISK:"disk",SEARCH:"search",CALENDAR:"calendar",TELEMOST:"telemost",MAIL:"mail",MONEY:"money",IMAGES:"images",NEWS:"news",MAPS:"maps",MARKET:"market",WEATHER:"pogoda",TV:"tv",MUSIC:"music",AFISHA:"afisha",BROWSER:"browser",METRIKA:"metrika",DIRECT:"direct",NOTES:"notes"},KEYS:{ENTER:13,ESC:27,TAB:9,BACKSPACE:8,DELETE:46,RIGHT:39,LEFT:37,UP:38,DOWN:40,SHIFT:16,SPACE:32},THROTTLE_DELAY:300,DOUBLE_CLICK_DELAY:500,PHOTO_GRID_TYPES:n,LISTING_TYPES:r,PHOTO_GRID_COVER_THRESHOLD:200}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"getNowServerTime",(function(){return s})),n.d(t,"isMail360Available",(function(){return u})),n.d(t,"isBuyButtonMail360",(function(){return c})),n.d(t,"getPage",(function(){return l})),n.d(t,"shouldShowWelcomePopup",(function(){return d})),n.d(t,"isFooterHidden",(function(){return f})),n.d(t,"getBuyButtonUrl",(function(){return h})),n.d(t,"shouldShowBuyButton",(function(){return p})),n.d(t,"isInMobileApp",(function(){return m})),n.d(t,"shouldWidgetsBeVisible",(function(){return v})),n.d(t,"isWidgetsVisible",(function(){return g})),n.d(t,"isTavernVisible",(function(){return y})),n.d(t,"shouldShowVideothemeCongratulationPopup",(function(){return b}));var r=n(29),i=n(72),o=n(33),a=n(208),s=function(e,t){return e.environment.session.serverTime+Date.now()-t},u=function(e){var t=e.environment.session,n=t.tld,r=t.experiment,i=r.mail360UsdPaymentExp,o=r.mail360UsdPaymentTrExp,s=r.mail360UsdPaymentByExp;return Object(a.isTuningWithUsdPayment)(n,i,o,s)||"ru"===n},c=function(e){return u(e)||Object(o.isDocsPage)(e)},l=function(e){var t=e.page,n=t.page,r=t.idContext;return"tuning"===n?"tuning":"docs"===n?"docs":r.startsWith("/remember")?"remember-block":"/album/geo"===r?"geo":"/album/faces"===r?"faces":r.startsWith("/album/")?"album":"/albums"===r?"albums":"/photo"===r?"photo":"/journal"===r?"journal":"/error"===r?"error":"listing"},d=function(e,t){var n=e.user,i=n.isPDD,a=n.justInitialized,s=n.devices,u=e.environment,c=u.agent,l=c.OSFamily,d=c.isMobile,f=u.session,h=f.shouldShowWelcomePopupDueInactiveApp,p=f.experiment.diskWebDisableAppPromoExp,m=e.settings,v=m.timestampLastDisplayedDialogWelcome,g=m.countDisplaysDialogWelcome,y=t.idContext,b=t.dialog,_=t["hide-promo"],O=t.reduxDialog,w=t.page;if(p||Object(o.isDocsPage)(e))return!1;if(i&&"Linux"===l)return!1;var E=Number(v)||0,S=Number(g)||0;return!d&&!_&&"/error"!==y&&!b&&!O&&"tuning"!==w&&(h||a||!a&&(!s||!s.desktop)&&S<3&&(!E||Date.now()-E>r.ONE_DAY))},f=function(e){var t=e.environment.agent.isInMobileApp;return"photo"===l(e)||Object(o.isDocsView)(e)||Object(o.isDocsPage)(e)&&t},h=function(e){var t=e.config.urlsBase.mail360;return c(e)||Object(i.isTuningRedirectExperiment)(e)?t:"/tuning"},p=function(e){var t=e.settings.roNoB2cTariffPromo;return!Boolean(t&&t.enabled)},m=function(e){var t=e.environment.agent.isInMobileApp;return t},v=function(e){return!["photo","albums","album","geo","faces","remember-block"].includes(l(e))&&!Object(o.isDocsView)(e)},g=function(e){return v(e)&&Object(i.isSidebarWithWidgetsExperiment)(e)},y=function(e){return v(e)&&Object(i.isTavernExperiment)(e)},b=function(e){var t=e.user,n=t.hasProSubscription,r=t.isYandexStaff;return!n&&!r}}),(function(e,t,n){"use strict";n.d(t,"m",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"k",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"l",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"o",(function(){return f})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return p})),n.d(t,"n",(function(){return m})),n.d(t,"h",(function(){return v})),n.d(t,"g",(function(){return g}));var r="top",i="bottom",o="right",a="left",s="auto",u=[r,i,o,a],c="start",l="end",d="clippingParents",f="viewport",h="popper",p="reference",m=u.reduce((function(e,t){return e.concat([t+"-"+c,t+"-"+l])}),[]),v=[].concat(u,[s]).reduce((function(e,t){return e.concat([t,t+"-"+c,t+"-"+l])}),[]),g=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"]}),(function(e,t,n){"use strict";e.exports=n(950)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"LISTING_PREVENT_DESELECT_CLASS",(function(){return r})),n.d(t,"LISTING_PREVENT_MOUSE_SELECTION_CLASS",(function(){return i})),n.d(t,"LISTING_PREVENT_DRAG_CLASS",(function(){return o})),n.d(t,"LISTING_ITEM_CLASS",(function(){return a})),n.d(t,"LISTING_PREVENT_DOUBLE_CLICK",(function(){return s}));var r="js-prevent-deselect",i="js-prevent-mouse-selection",o="js-prevent-drag",a="listing-item",s="prevent-double-click"}),(function(e,t,n){"use strict";n.r(t),n.d(t,"MAX_TIMEOUT",(function(){return h})),n.d(t,"updatePromoNotification",(function(){return g})),n.d(t,"handleCheckTimerTick",(function(){return y})),n.d(t,"openDB",(function(){return b})),n.d(t,"getWaitTime",(function(){return _})),n.d(t,"getVisiblePromoNotification",(function(){return O})),n.d(t,"updatePromoNotifications",(function(){return w})),n.d(t,"handleFetchErrorAndRetry",(function(){return E})),n.d(t,"fetchPromoNotifications",(function(){return S})),n.d(t,"hidePromoNotification",(function(){return C})),n.d(t,"markPromoNotificationAsShown",(function(){return x})),n.d(t,"listenServiceNotificationsQueue",(function(){return k})),n.d(t,"notify",(function(){return T}));var r,i=n(10),o=n.n(i),a=n(13),s=n(202),u=n(9),c=n.n(u),l=n(29),d=n.n(l),f=n(12),h=Math.pow(2,30),p=d.a.NOTIFICATIONS,m=p.DEFAULT_COOLDOWN,v=p.TYPE,g=function(e,t,n){var r;if(e.forEach("notifications",(function(e){var n=Object(s.processRecord)(e);r||n.recordId!==t||(r=e)})),r){var i=e.createTransaction();return i.updateRecordFields(r,n),i.push().catch((function(){}))}return Promise.resolve()};function y(e,t){var n=t().notifications.promo;e(w(n.all,{cooldown:n.cooldown}))}var b=function(e){return function(t,n){var r=n().config,i={apiHost:r.urlsBase.hostCloudAPI,databaseId:r.notificationsDatabase,session:r.idClient};return e&&(i.onUpdate=e),Object(s.openDatabase)(i)}},_=function(e,t,n){var r=Date.now(),i=(Number(e.length&&e[0].hide_date)||0)+n-r,o=(Number(t.length&&t[0].send_date)||r)-r;return Math.min(Math.max(i,o),h)},O=function(e,t){if(e.length)return["title","text","link_text"].reduce((function(e,n){return Object.assign(e,o()({},n,e["".concat(n,"_").concat(t)]))}),e[0])};function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,i){var o=Date.now(),s=t.cooldown,u=void 0===s?m:s,l=i(),d=l.environment.session.locale,f=l.notifications,h=c.a.groupBy(e,(function(e){return e.hide_date?"shown":!e.end_date||Number(e.end_date)>o?"pending":void 0})),p=h.shown,g=void 0===p?[]:p,b=h.pending,w=void 0===b?[]:b;g.sort((function(e,t){var n=e.hide_date;return t.hide_date-n})),w.sort((function(e,t){var n=e.priority,r=e.send_date,i=t.priority,o=t.send_date;return i-n||r-o}));var E=null;if(r&&clearTimeout(r),w.length){var S=_(g,w,u);S>0?r=setTimeout((function(){return n(y)}),S):E=O(w,d)}var C={cooldown:u,visible:E,type:v.PROMO,all:e,fetched:!0};void 0===f.promo.hasPromoOnPageOpen&&(C.hasPromoOnPageOpen=Boolean(E)),n({type:a.UPDATE_NOTIFICATIONS,payload:C})}}var E=function(e,t,n){return function(r){if(n<t){var i=100*Math.pow(2,n+1);setTimeout((function(){r(S({retries:t,currentRetry:n+1}))}),i)}else r({type:a.NOTIFICATIONS_ERROR,error:e})}};function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.retries,r=void 0===n?12:n,i=e.currentRetry,o=void 0===i?0:i,a=function(e){var n=[],r={};e.forEach("notifications",(function(e){var t=Object(s.processRecord)(e);t.id=t.recordId,n.push(t)})),e.forEach("settings",(function(e){var t=Object(s.processRecord)(e);r[t.name]=t.value})),t(w(n,r))};return t(b(a)).then(a).catch((function(e){return t(E(e,r,o))}))}}var C=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return n({type:a.HIDE_NOTIFICATION,payload:{type:"promo"}}),f.default.count("interface elements","promo notification",t?"submit":"cancel",e.statistics_id),n(b()).then((function(n){return g(n,e.id,{visited:t,hide_date:new Date})}))}},x=function(e){return function(t){return t(b()).then((function(t){return g(t,e.id,{show_date:new Date}).then((function(){f.default.count("interface elements","promo notification","show",e.statistics_id)}))}))}},k=function(){return function(e,t){var n=ns.Model.get("queueNotifications"),r=function(){var r=t().notifications.service.count,i=n.itemsProcessing.length;r!==i&&e({type:a.UPDATE_NOTIFICATIONS,payload:{type:v.SERVICE,count:i}})};n.on("added",r),n.on("processing",r),n.on("processed",r),n.on("drained",r)}},T=function(e){return function(){return ns.Model.get("queueNotifications").add(e)}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"getPercentageOfUsed",(function(){return d})),n.d(t,"getTuningButtonInfo",(function(){return f})),n.d(t,"isUserWithPaidTariff",(function(){return h})),n.d(t,"getPricesOfferWithTemporaryDiscount",(function(){return p})),n.d(t,"getOverdraftType",(function(){return m})),n.d(t,"shouldNotifyOverdraft",(function(){return v})),n.d(t,"getSpaceOverdraftValue",(function(){return g})),n.d(t,"isOverdraftHard",(function(){return y})),n.d(t,"getBlockOverdraftDate",(function(){return b})),n.d(t,"isOverdraftLite",(function(){return _})),n.d(t,"getTariffDiscount",(function(){return O})),n.d(t,"getPromoDiscount",(function(){return w})),n.d(t,"getFinishPromoTime",(function(){return E})),n.d(t,"getInfoSpaceDiscountData",(function(){return S})),n.d(t,"shouldShowInfoSpaceDiscount",(function(){return C})),n.d(t,"getLimitUploadSize",(function(){return x}));var r=n(520),i=n(208),o=n(120),a=n(38),s=n(80),u=n(29),c=n(33),l=n(141),d=function(e){var t=e.space,n=t.used,r=t.limit;return Math.min(n/r*100,100)},f=function(e){var t=e.spaceTariffs,n=e.billingProducts,o=Object(r.a)(t&&t.items,"1tb_1m"),s=o.tariff,u=o.period;if(Object(a.isBuyButtonMail360)(e)){if(n&&!n.current_subscription&&n.items&&n.items.length){var c=n.items.find((function(e){return e.best_offer}));if(c){var d=c.prices.find((function(e){return"month"===e.period})),f=c.prices.find((function(e){return"year"===e.period})),h=!Object(i.isPriceWithTemporaryDiscount)(d)&&Object(i.isPriceWithTemporaryDiscount)(f)?f:d,p=c.features.find((function(e){return"mpfs_disk_space"===e.code}));if(h&&p){var m,v,g=null===(m=Object(l.getBillingPromoAppearanceData)(e))||void 0===m?void 0:m.infoSpaceBlock;if(null!==g&&void 0!==g&&g.buyButtonRUB&&"RUB"===h.currency)v=g.buyButtonRUB;else if(null!==g&&void 0!==g&&g.buyButtonUSD&&"USD"===h.currency)v=g.buyButtonUSD;else{var y=p.value,b="RUB"===h.currency?Object(i.getBestPrice)(h)+" ₽":"$"+Object(i.getBestPrice)(h);v=yr.externals.entityify(y)+" за "+yr.externals.entityify(b)}return{text:v,priceId:h.price_id}}}return{text:"Купить место"}}return{text:"Управление"}}if(s){var _=s.display_space+" "+s.display_space_units,O="RUB"===s.currency?u.price+"₽":"$"+u.price;return{text:"+"+yr.externals.entityify(_)+" за "+yr.externals.entityify(O)}}return{text:"Купить место"}},h=function(e){var t=e.billingProducts;return Boolean(t&&t.current_subscription)},p=function(e){var t=e.billingProducts;if(t.items&&t.items.length){var n=t.items.find((function(e){return e.best_offer}));if(n){var r=n.prices.find((function(e){return"year"===e.period})),i=n.prices.find((function(e){return"month"===e.period}));if(n.features.find((function(e){return"mpfs_disk_space"===e.code}))&&null!==i&&void 0!==i&&i.start_discount||null!==r&&void 0!==r&&r.start_discount)return{priceYear:null!==r&&void 0!==r&&r.start_discount?r:void 0,priceMonth:null!==i&&void 0!==i&&i.start_discount?i:void 0}}}},m=function(e){var t=e.user,n=t.overdraftType,r=t.overdraft_status;return n||r&&u.MPFS_OVERDRAFT_STATUSES[r]||""},v=function(e){var t=e.environment.agent.isMobile,n=e.space;return!Object(c.isDocsPage)(e)&&!t&&Object(o.isOverdraft)(n)||Boolean(m(e))},g=function(e){var t=e.space,n=t.used-t.limit;return n>0?n:0},y=function(e){return m(e)===u.OVERDRAFT_TYPES.HARD},b=function(e){var t=e.user.overdraft_block_date,n=Date.now(),r=t?new Date(t).getTime():0;return r&&r>n?r:n},_=function(e){return m(e)===u.OVERDRAFT_TYPES.LITE},O=function(e){var t=e.spaceTariffs.items;return(void 0===t?[]:t).reduce((function(e,t){return t.discount&&t.discount.active_until_ts&&(!e||t.discount.percentage>e.percentage)?t.discount:e}),null)},w=function(e){var t=e.settings.timestampLastClosedDiscountPromo;return t&&(new Date).getTime()-t<30*u.ONE_DAY?null:O(e)},E=function(e){var t,n,r=null===(t=e.billingProducts)||void 0===t?void 0:null===(n=t.active_promo)||void 0===n?void 0:n.active_until_date,i=r&&new Date(r);return i&&i.getTime()||0},S=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),i=e.billingProducts,o=e.environment.session.experiment.diskWebDiscountLeftColumnExp,u=o.periodWithTimer,c=o.periodAtention,d=e.settings,f=d.timestampLastCollapseInfoSpaceDiscount,h=d.timestampLastExpandInfoSpaceDiscount,p=d.lastShownInfoSpaceDiscountId,m=Object(a.getNowServerTime)(e,r),v=null===i||void 0===i?void 0:null===(t=i.active_promo)||void 0===t?void 0:t.key,g=E(e),y=-180===(new Date).getTimezoneOffset(),b=g-1e3*u,_=Boolean(Number(f)&&p===v&&f>h),O=!Object(s.c)(e)&&Boolean(!Number(h)||p!==v||_&&h<b&&m>b),w=y&&!_&&m>b,S=w&&g<1e3*c+m,C=null===(n=Object(l.getBillingPromoAppearanceData)(e))||void 0===n?void 0:n.infoSpaceBlock;if(C)return{discountId:v,shouldShowTimer:w,finishDiscountTime:g,canShowTimer:y,timeWithTimer:b,timeAttentionTimer:g-1e3*c,attentionTimer:S,shouldExpandWithAnimation:O,shouldCollapse:_&&!O,payload:C}},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=e.environment.session,r=n.experiment.diskWebDiscountLeftColumnExp;return n.canShowDiscountInInfoSpaceBlock&&Boolean(r)&&Object(a.isBuyButtonMail360)(e)&&Object(a.shouldShowBuyButton)(e)&&!h(e)&&Boolean(S(e,t))},x=function(e){var t=e.space,n=t.filesize_limit;return n!==t.paid_filesize_limit&&n||0}}),(function(e,t,n){"use strict";function r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(9),a=n.n(o),s=n(190),u=n.n(s),c=(n(828),n(69)),l=n(14),d=n(22),f=n.n(d);u.a.define("settings",{methods:{getData:function(){return Object(l.default)().getState().settings},setData:function(e){Object(l.default)().dispatch(p(e))},get:function(e){return a.a.get(Object(l.default)().getState().settings,f.a.formatPropertyPath(e))},set:function(e,t){var n=Object.assign({},Object(l.default)().getState().settings);a.a.set(n,f.a.formatPropertyPath(e),t),Object(l.default)().dispatch(p(n))},save:function(e){return Object(l.default)().dispatch(m(e))}},defaults:c.modelDefaults});var h=n(13);n.d(t,"updateSettings",(function(){return p})),n.d(t,"saveSettings",(function(){return m}));var p=function(e){return{type:h.UPDATE_SETTINGS,payload:e}},m=function(e){var t=e.key,n=e.value,r=e.serverOnly;return function(e){if(t&&n)return r||e(p(i()({},t,n))),ns.Model.get("queueRequest").push({id:"do-settings-set",params:{key:t,value:n}})}}}),(function(e,t,n){"use strict";var r=n(2),i=n(0),o=n.n(i),a=n(40),s=n(28),u=n(1887),c=n(1880),l=function(e,t){var n=Object(i.useRef)(!0),r=Object(i.useRef)(e);r.current=e,Object(i.useEffect)((function(){if(!n.current)return r.current();n.current=!1}),t)};var d=n(238);n(1039);n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p}));var f=Object(s.cn)("Textinput"),h=function(e){var t=e.addonAfter,n=e.addonBefore,s=e.className,d=e.disabled,h=e.focused,p=e.iconLeft,m=e.iconRight,v=e.innerRef,g=e.onMouseEnter,y=e.onMouseLeave,b=e.style,_=(e.pressed,e.view,e.pin,e.size,e.theme,e.hint),O=e.state,w=e.title,E=e.renderControl,S=Object(r.__rest)(e,["addonAfter","addonBefore","className","disabled","focused","iconLeft","iconRight","innerRef","onMouseEnter","onMouseLeave","style","pressed","view","pin","size","theme","hint","state","title","renderControl"]),C=Object(a.useComponentRegistry)(f()),x=C.Control,k=C.Box,T=C.Icon,j=C.Hint,R=Object(u.c)(x,E),P=Object(c.a)("hint"),D=(function(e){var t=e.hint,n=Object(r.__read)(Object(i.useState)(t),2),o=n[0],a=n[1],s=Object(r.__read)(Object(i.useState)(!1),2),u=s[0],c=s[1],d=Object(i.useRef)(t);return l((function(){t&&a(t),c(Boolean(d.current&&!t)),d.current=t}),[t]),{hint:o,hintProps:{leave:u,onAnimationEnd:Object(i.useCallback)((function(){t||(a(""),c(!1))}),[t])}}})({hint:_}),I=D.hint,A=D.hintProps;return o.a.createElement("span",{className:f({disabled:d,focused:h,iconRight:void 0!==m,iconLeft:void 0!==p,state:O},[s]),onMouseEnter:g,onMouseLeave:y,ref:v,style:b,title:w},n,p&&o.a.createElement(T,{side:"left",component:p}),m&&o.a.createElement(T,{side:"right",component:m}),o.a.createElement(R,Object(r.__assign)({},S,{"aria-invalid":"error"===O,disabled:d,"aria-describedby":I?P:void 0})),o.a.createElement(k,null),t,I&&o.a.createElement(j,Object(r.__assign)({},A,{id:P}),I))};h.displayName=f();var p=Object(d.a)(h)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return s})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return i}));var r=n(61),i=function(e){return null===e||void 0===e},o=function(e){return null!==e&&void 0!==e},a=function(e){return"function"==typeof e},s=function(e){return"string"==typeof e},u=Array.isArray,c=function(e){return e&&!u(e)&&"object"==typeof e},l=function(e){return e&&a(e.then)},d=function(e){return e&&a(e.next)&&a(e.throw)},f=function e(t){return t&&(s(t)||m(t)||a(t)||u(t)&&t.every(e))},h=function(e){return e&&a(e.take)&&a(e.close)},p=function(e){return a(e)&&e.hasOwnProperty("toString")},m=function(e){return Boolean(e)&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},v=function(e){return h(e)&&e[r.e]},g=function(e){return e&&e[r.c]}}),(function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(21),a=n.n(o),s=n(9),u=n.n(s),c=n(51),l=n.n(c),d=n(12),f=n(83),h=n.n(f),p=n(34),m=n(210),v=n(206),g=n(36),y=n(45),b=n(26),_=n(16),O=n(104),w=n(62),E=n(561),S=n(20),C=n(118),x=n(149),k=n(53),T=n(90),j=n(49),R=n(37),P=n(31),D=n(38),I=n(42),A=n(23),M=n(100),N=n(54),L=n.n(N),F=n(30),B=n(18),U=function(e){var t=e.personalAlbums;return t.albumsByIds[t.favoriteAlbumId]},z=n(13),V=n(108);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}n.d(t,"fetchAlbum",(function(){return q})),n.d(t,"maybeFetchAlbum",(function(){return $})),n.d(t,"createAlbum",(function(){return Y})),n.d(t,"updateAlbumsCommonData",(function(){return K})),n.d(t,"setNewAlbumTitle",(function(){return X})),n.d(t,"ALBUMS_SCROLL",(function(){return Z})),n.d(t,"setAlbumsScroll",(function(){return J})),n.d(t,"requestNewAlbumTitle",(function(){return Q})),n.d(t,"addToAlbum",(function(){return te})),n.d(t,"addToCurrentAlbum",(function(){return ne})),n.d(t,"removeItemsFromAlbum",(function(){return re})),n.d(t,"excludeFromAlbum",(function(){return oe})),n.d(t,"excludeFromGeoAlbum",(function(){return ae})),n.d(t,"removeItemsFromAlbumByItemId",(function(){return se})),n.d(t,"excludeFromPersonalAlbum",(function(){return ue})),n.d(t,"deleteAlbum",(function(){return ce})),n.d(t,"renameAlbum",(function(){return le})),n.d(t,"downloadAlbum",(function(){return de})),n.d(t,"maybeFetchResourcesForSlider",(function(){return fe})),n.d(t,"setAlbumPhotoView",(function(){return he})),n.d(t,"publishPhotos",(function(){return me})),n.d(t,"unpublishPhotos",(function(){return ve})),n.d(t,"publishAlbum",(function(){return ge})),n.d(t,"unpublishAlbum",(function(){return ye})),n.d(t,"positiveUnpublishAlbum",(function(){return be})),n.d(t,"cleanAlbum",(function(){return Oe})),n.d(t,"remoteUpdateAlbum",(function(){return we})),n.d(t,"syncAlbum",(function(){return Ee})),n.d(t,"setResourceAsAlbumCover",(function(){return Se})),n(1143),n(459);var W=function(e){return function(t){if(!e)return t(Object(b.goToUrl)(l.a.getUrlBase())),!0}},G={},q=function(e){return function(t){var n=G[e];return n||(n=Object(g.a)("getAlbum",{albumId:e}).then((function(n){return delete G[e],m.a.preprocessAlbum(n),"favorites"===n.album_type&&t({type:V.e,payload:[n]}),t(Object(w.f)(n)),n})).catch((function(t){if(delete G[e],t instanceof Error)throw t})),G[e]=n,n)}},$=function(e){return function(t,n){var r=Object(P.b)(n(),e);r?t(W(r)):t(q(e)).then((function(){t(W(Object(P.b)(n(),e)))})).catch((function(){t(W())}))}},Y=function(e,t,n,r,i){return function(o,a){var s=function(){o(Object(A.closeDialog)("album-title"))},u=function(t){s(),Object(M.isDialogOpened)(a(),"selectAlbum")&&o(Object(k.decideSelectAlbum)(!1)),o({type:z.CREATE_ALBUM,payload:{isPublishSelected:i}}),o(Object(j.f)(j.a.ADD,j.b.CREATE_ALBUM));var u=a(),c=u.page,d=c.idContext,f=c.originalNSParams.action,h=u.personalAlbums.returnPath;return"/photo"===d&&"create-album"===f&&(o(J(Z.RESTORE)),o(Object(O.deselectAllStatesContext)()),l.a.go(h)),Object(g.a)("do-create-album",{title:t,cover:n,noItems:"1",isPublic:r?"true":"false",idsResources:JSON.stringify(Object(x.a)(e))},{retriesLeft:0,retryOffline:!1}).then((function(e){return o(Object(j.f)(j.a.REMOVE,j.b.CREATE_ALBUM)),m.a.preprocessAlbum(e),o({type:z.CREATE_ALBUM_SUCCESS,payload:e}),o(Object(I.notify)({operation:"createAlbum",status:"success",url:"/client/albums/".concat(e.id),name:e.title})),e.id}),(function(){o(Object(j.f)(j.a.REMOVE,j.b.CREATE_ALBUM)),o({type:z.CREATE_ALBUM_FAIL}),o(Object(I.notify)({operation:"createAlbum",status:"failed"}))}))};return void 0===t?(o(Object(A.openDialog)("album-title",{onClose:s,onSubmit:u})),Promise.resolve()):u(t)}},K=function(e){return{type:z.UPDATE_ALBUMS_COMMON_DATA,payload:e}},X=function(e){return K({newAlbumTitle:e})},Z={RESTORE:"restore",SCROLL:"scroll"},J=function(e){return K({scrollInAlbums:e})},Q=function(){return function(e,t){if(!e(Object(b.maybeBlockActionOverdraft)())){e(Object(A.openDialog)("album-title",{onClose:function(){e(Object(A.closeDialog)("album-title"))},onSubmit:function(n){e(K({newAlbumTitle:n,returnPath:L.a.getPath(t().page.currentUrl)})),e(Object(A.closeDialog)("album-title")),l.a.go("/client/photo|create-album")}}))}}},ee=function(e,t,n){var r=n.shouldRedirectToAlbum,i=n.shouldShowNotification;return function(n,o){r&&(n(Object(O.deselectAllStatesContext)()),n(Object(b.goToUrl)("/client/albums/".concat(t))));var s=U(o()),u=s&&s.id===t;return Object(g.a)("do-add-resources-to-album",{id:t,resourcesIds:JSON.stringify(e)}).then((function(r){if(n(Object(j.f)(j.a.REMOVE,j.b.ADD_TO_ALBUM)),r.items.length){var c=o();r.resources=[],r.items.forEach((function(e){var t=e.id,i=Object(B.getResourceData)(c,t),o=i.albumIds||[];n(Object(_.setResourceData)(t,[].concat(a()(o),[r.id]),"albumIds")),r.resources.push(i)})),n({type:z.ADD_ITEMS_TO_ALBUM,payload:r}),u&&n(Object(_.batchSetResourceData)(r.items.map((function(e){var t=e.itemId;return[e.id,{state:!0,itemId:t},"favorite"]})))),i&&n(Object(I.notify)({operation:"addToAlbum",status:"done",count:r.items.length,typeAddition:r.items.length<e.length?"half":"full",dst:u?{title:"Избранные",id:s.id}:r}));var l=Object(P.b)(c,t);return l&&!l.cover&&n(q(t)),r}n(Object(I.notify)({operation:"addToAlbum",status:"failed",typeAddition:"none"}))})).catch((function(r){var i;return n(Object(j.f)(j.a.REMOVE,j.b.ADD_TO_ALBUM)),i=u?{title:"Избранные"}:Object(P.b)(o(),t)||{},n(Object(I.notify)({operation:"addToAlbum",status:"failed",count:e.length,dst:i})),r instanceof Error&&setTimeout((function(){throw r}),0),null}))}},te=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.shouldRedirectToAlbum,i=void 0!==r&&r,o=n.shouldShowNotification,a=void 0===o||o;return function(n,r){if(n(Object(b.maybeBlockActionOverdraft)()))return Promise.reject();var o=Object(x.a)(e);return t?(n(Object(j.f)(j.a.ADD,j.b.ADD_TO_ALBUM,{srcContextId:"/album/".concat(t)})),n(ee(o,t,{shouldRedirectToAlbum:i,shouldShowNotification:a}))):(n(Object(k.add)("select-album",{dialogParams:{ids:e},onSubmit:function(e){var t=e.albumId;n(Object(j.f)(j.a.ADD,j.b.ADD_TO_ALBUM,{srcContextId:r().page.idContext})),n(ee(o,t,{shouldRedirectToAlbum:!1,shouldShowNotification:a}))}})),Promise.resolve(null))}},ne=function(e){return function(t,n){t(Object(b.maybeBlockActionOverdraft)())||(t(K({returnPath:L.a.getPath(n().page.currentUrl)})),t(Object(b.goToUrl)("/client/photo|add-to-album?targetAlbumId=".concat(e))))}},re=function(e,t){return function(n,r){var i,o=r(),a=Object(x.a)(t),s=Object(F.sliderResourceSelector)(o);if(s&&a.includes(s.id)&&"album"===Object(D.getPage)(o)){var u=Object(P.c)(o,s.id,1);i=u?u.id:""}n({type:z.REMOVE_ITEMS_FROM_ALBUM,payload:{newIdDialog:i,albumId:e,resourcesIds:a}}),n(Object(_.maybeSyncSliderUrl)(s&&s.id,i));var c=U(o);c&&c.id===e&&n(Object(_.batchSetResourceData)(a.map((function(e){return[e,{state:!1},"favorite"]}))))}},ie=function(e,t){var n=t.filter,r=t.settingsName,i=t.metrikaName;return function(t,o){if("1"===o().settings[r])return Promise.resolve();t(Object(y.saveSettings)({key:r,value:"1"}));var a=E.a[n],s=function(e){d.default.count("interface elements","dialog confirm",i,e)};return new Promise(function(n,r){t(Object(k.add)("confirmation",{dialogParams:{text:1===e.length?"Фото будет скрыто из альбома «"+yr.externals.entityify(a)+"», но останется на Диске и будет доступно в других альбомах. Вернуть фото в этот альбом не получится":"Выбранные фото будут скрыты из альбома «"+yr.externals.entityify(a)+"», но останутся на Диске и будут доступны в других альбомах. Вернуть фото в этот альбом не получится",submitButtonText:"Убрать из альбома",cancelButtonText:"Отмена"},onSubmit:function(){s("ok"),n()},onReject:function(){s("cancel"),r(new Error("cancel"))}}))})}},oe=function(e){return function(t,n){var r=n(),i=r.page,o=i.filter,a=i.idContext,s=r.resources,u=Array.isArray(e)?e:[e];t(ie(u,{filter:o,metrikaName:"exclude from album",settingsName:"confirmExcludeFromAlbumShowed"})).then((function(){var e=u.filter((function(e){return Object(S.can)(S.EXCLUDE_FROM_ALBUM,s[e],r,[])}));return t(Object(_.excludeResourceFromAlbum)(e.map((function(e){return s[e]})),o)),t(Object(O.deselectAllStatesContext)()),e.length!==u.length&&t(Object(I.notify)({operation:"excludeFromAlbum",status:"cannotExclude"})),h.a.create("excludeFromAlbum",e.map((function(e){return{idSrc:e,albumType:o,srcContextId:a}})))})).catch((function(e){if("cancel"!==e.message)throw e}))}},ae=function(e){return function(t,n){var r=n(),i=Array.isArray(e)?e:[e];t(ie(i,{filter:"geo",metrikaName:"exclude from geo album",settingsName:"confirmExcludeFromGeoAlbumShowed"})).then((function(){var e=Object(P.j)(r);t(re(e,i)),h.a.create("excludeFromAlbum",i.map((function(e){return{idSrc:e,albumType:"geo"}})))})).catch((function(e){if("cancel"!==e.message)throw e}))}},se=function(e,t){return function(n,r){var i=r(),o=u.a.get(i,"personalAlbums.albumsByIds['".concat(e,"']"));if(o){var a=t.map((function(e){return Object(C.b)(o,{itemId:e})})).filter(Boolean).map((function(e){return e&&o.clusters[e.clusterIndex].items[e.resourceIndex].id}));a.length&&n(re(e,a))}}},ue=function(e){return function(t,n){var r=n(),i=Object(P.i)(r),o=Object(x.a)(e),a=o.map((function(e){var t=Object(C.b)(i,{id:e});return t&&i.clusters[t.clusterIndex].items[t.resourceIndex]})).filter(Boolean);t(re(i.id,o));var s=h.a.create("removeResourceAlbum",a.map((function(e){return{itemId:e.itemId,resourceId:e.id,albumId:i.id,srcContextId:r.page.idContext}}))),c=Object(P.e)(r,"faces");if("faces"===i.album_type&&c&&c.previewAlbumId===i.id&&o.includes(c.previewResourceId)){s.find((function(e){return e.get(".resourceId")===c.previewResourceId})).on("status.done",(function(){t(Object(T.d)()),t(q(i.id))}))}else{var l=i.coverResourceId||u.a.get(i,"cover.object.id");if(o.includes(l))s.find((function(e){return e.get(".resourceId")===l})).on("status.done",(function(){t(q(i.id))}))}}},ce=function(e){return function(t,n){var r=n(),i=Object(P.b)(r,e),o=i&&i.album_type,a="faces"===o,s=function(e){d.default.count("interface elements","dialog confirm","delete album",a?"faces":"personal",e)};return t(Object(k.add)("confirmation",{dialogParams:{text:"faces"===o?"Альбом с этим человеком будет удалён, но фото останутся на Диске. Вы действительно хотите удалить альбом?":"Вы действительно хотите удалить альбом?",submitButtonText:"Удалить",cancelButtonText:"Отмена"},onSubmit:function(){return s("ok"),Object(g.a)("do-remove-album",{id:e}).then((function(){if(t({type:z.REMOVE_ALBUM,payload:{id:e,albumType:o}}),t(Object(b.goToUrl)("/client/albums"+(a?"/faces":""))),t(Object(I.notify)({operation:"removeAlbum",status:"done",title:i.title})),a){var n=Object(P.e)(r,"faces");if(n&&n.previewAlbumId===i.id)return t(Object(T.d)())}})).catch((function(){t(Object(I.notify)({operation:"removeAlbum",status:"failed",title:i.title}))}))},onReject:function(){s("cancel")}}))}},le=function(e){return function(t,n){if(!t(Object(b.maybeBlockActionOverdraft)())){var r=n().personalAlbums.albumsByIds[e];t(Object(A.openDialog)("album-title",{isFacesAlbum:"faces"===r.album_type,title:r.title,onSubmit:function(n){t(Object(A.updateDialog)("album-title",{progress:!0})),Object(g.a)("do-edit-album",{id:e,key:"title",value:n,no_items:"1"}).then((function(n){var r=n.title;t(Object(w.f)({id:e,title:r})),t(Object(A.closeDialog)("album-title",{}))})).catch((function(){t(Object(A.updateDialog)("album-title",{progress:!1,errorText:"Не удалось переименовать альбом"}))}))},onClose:function(){return t(Object(A.closeDialog)("album-title"))}}))}}},de=function(e){return function(t,n){var r=n().personalAlbums.albumsByIds[e];return Object(g.a)("do-download-album",{publicKey:r.public.public_key}).then((function(e){if(!e.url)return Promise.reject();Object(v.a)(e.url)})).catch((function(){t(Object(I.notify)({status:"failed",operation:"downloadAlbum"}))}))}},fe=function(){return function(e,t){var n=t();if(Object(F.isSliderOpened)(n)&&"album"===Object(D.getPage)(n)){var r=Object(F.sliderResourceSelector)(n);Object(P.d)(n).find((function(e){var t=e.id;return r.id===t}))||e(Object(w.b)())}}},he=function(e,t){return function(n){var r=t===R.PHOTO_GRID_TYPES.TILE?"squares":"waterfall";return n({type:z.UPDATE_ALBUM,payload:{id:e,layout:r}}),Object(g.a)("do-edit-album",{id:e,key:"layout",value:r,no_items:"1"}).catch((function(){}))}},pe=function(e,t){return function(n,r){return n(Object(w.f)({id:e,isPublishing:!0,isPublishingReverse:"true"===t})),Object(g.a)("do-publish-album",{id:e,reverse:t,noItems:"1"}).then((function(r){return r.public&&(r.public.short_url=p.default.fixShortUrl(r.public.short_url)),n(Object(w.f)(Object.assign({id:e,isPublishing:!1},u.a.pick(r,"public","is_public")))),n(Object(I.notify)({operation:"publishAlbum",status:"done",reverse:t,src:r})),e}),(function(){n(Object(w.f)({id:e,isPublishing:!1})),n(Object(I.notify)({operation:"publishAlbum",status:"failed",reverse:t,src:r().personalAlbums.albumsByIds[e]}))}))}},me=function(e){return function(t,n){var r=n(),i=Object(F.getCreatedAlbumFromSelected)(r);if(i)return t(pe(i.id));var o=r.resources,a=Object(C.d)(e.map((function(e){return o[e]})));return t(Y(e,a,void 0,!0,!0))}},ve=function(){return function(e,t){var n=t().personalAlbums.lastCreatedAlbumId;return e(pe(n,"true"))}},ge=function(e){return function(t){return t(Object(b.maybeBlockActionOverdraft)({forLite:!0}))?Promise.reject():t(pe(e))}},ye=function(e){return function(t){return t(pe(e,"true"))}},be=function(e,t){return function(n,r){n(Object(w.f)({id:e,is_public:!1})),t.catch((function(){n(Object(w.f)({id:e,is_public:!0})),n(Object(I.notify)({operation:"publishAlbum",status:"failed",reverse:!0,src:r().personalAlbums.albumsByIds[e]}))}))}},_e=function(e,t){return function(n,r){return Object(g.a)("albumItems",{albumId:e,itemsIds:JSON.stringify(t)}).then((function(t){var o=r(),s=(function(e,t){return e.personalAlbums.favoriteAlbumId===t})(o,e),u=p.default.preprocessResources(t.resources,o).map((function(n){return Object.assign({},n,{albumIds:[].concat(a()(n.albumIds||[]),[e])},(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e})({},s?{favorite:{state:!0,itemId:t.items.find((function(e){return e.id===n.id})).itemId}}:{}))}));n({type:z.ADD_ITEMS_TO_ALBUM,payload:{id:e,items:t.items,resources:u}})}))}},Oe=function(e){return function(t,n){var r=Object(P.b)(n(),e),i=Object.assign({},r,{isCompleted:!1,clusters:void 0});t(Object(w.f)(i))}},we=function(e){return function(t,n){var r=u.a.get(e,"root.parameters.type"),i=u.a.get(e,"root.parameters.id"),o=u.a.get(e,"root.parameters.album_type"),a=u.a.get(e,"root.parameters.auto_handle"),s=n(),c=Object(P.b)(s,i),l=Boolean(c&&c.clusters),d={status:"done"},f=Object(P.e)(s,o||c&&c.album_type),h=Object(P.e)(s,"faces");switch(r){case"append_items":var p=e.values.map((function(e){return e.parameters.id}));c&&c.is_empty&&t(q(i)),l&&t(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(i){return r===n.length?Promise.resolve():i(_e(t,n[r])).then((function(){return i(e(t,n,r+1))}))}}(i,u.a.chunk(p,10))),1!==Number(a)&&Object.assign(d,{operation:"addToAlbum",count:p.length});break;case"title_change":c&&t(Object(w.f)({id:i,title:u.a.get(e,"root.parameters.title")}));break;case"cover_change":c&&t(q(i)).then((function(e){"faces"===e.album_type&&h&&h.previewAlbumId===i&&t(Object(T.d)())}));break;case"publish":case"unpublish":var m=u.a.get(e,"root.parameters.is_public");c&&t(Object(w.f)({id:i,is_public:m})),Object.assign(d,{operation:"publishAlbum",reverse:!m});break;case"album_remove":f&&f.isLoaded&&t({type:z.REMOVE_ALBUM,payload:{id:i,albumType:o}}),h&&h.previewAlbumId===i&&t(Object(T.d)()),Object(P.j)(s)===i&&t(Object(b.goToUrl)("/client/albums"));break;case"items_remove":var v=e.values.map((function(e){return e.parameters.id}));if(l)t(se(i,v));else if(c&&"favorites"===c.album_type){var g=t(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t,n){var r=n().resources,i=[];return Object.values(r).forEach((function(t){t.favorite&&t.favorite.state&&e.includes(t.favorite.itemId)&&i.push(t)})),i}}(v));t(Object(_.batchSetResourceData)(g.map((function(e){return[e.id,{state:!1},"favorite"]}))))}var y=h&&h.previewAlbumId===i;(f&&f.isLoaded||y)&&t(q(i)).then((function(e){y&&u.a.get(e,"cover.object.id")!==h.previewResourceId&&t(Object(T.d)())})),d.operation="removeResourceAlbum",v.length>1&&(d.count=v.length);break;case"album_create":f&&f.isLoaded&&t(q(i)).then((function(e){[null,"personal"].includes(e.album_type)&&t({type:z.CREATE_ALBUM_SUCCESS,payload:e})}));break;case"albums_merged":var O=u.a.get(e,"root.parameters.src_id"),E=u.a.get(e,"root.parameters.dst_id"),S=u.a.get(e,"root.parameters.new_dst_title"),C=Object(P.b)(s,O),x=Object(P.b)(s,E);C&&t({type:z.REMOVE_ALBUM,payload:{id:O,albumType:"faces"}}),h&&h.previewAlbumId===O&&t(Object(T.d)()),x&&(t(Oe(E)),S&&t(Object(w.f)({id:E,title:S}))),d.operation="mergeAlbums"}if(f&&f.isLoaded&&d.operation){var k=Object(P.b)(s,i);t(Object(I.notify)(Object.assign(d,{src:k,dst:k})))}"geo"===o&&t(Object(T.e)())}},Ee=function(e){return function(t,n){var r=n().personalAlbums.albumsByIds[e.id],i=["id","title","is_public","public"],o=u.a.pick(e,i);r&&!u.a.isEqual(o,u.a.pick(r,i))&&t(Object(w.f)(o))}},Se=function(e){return function(t,n){if(t(Object(b.maybeBlockActionOverdraft)()))return Promise.reject();var r=n(),i=Object(P.i)(r),o=Object(C.b)(i,{id:e});if(!o)return Promise.reject();var a=i.clusters[o.clusterIndex].items[o.resourceIndex].itemId;return Object(g.a)("do-edit-album",{id:i.id,key:"cover",value:a,no_items:"1"}).then((function(n){if("faces"===i.album_type){var o=Object(P.e)(r,"faces");o&&o.previewAlbumId===i.id&&t(Object(T.g)([n],!0))}m.a.preprocessAlbum(n),t({type:z.UPDATE_ALBUM,payload:Object.assign({},n,{coverResourceId:e})}),t(Object(I.notify)({operation:"editAlbum",status:"done",target:"cover"}))})).catch((function(){t(Object(I.notify)({operation:"editAlbum",status:"failed",target:"cover"}))}))}}}),(function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return y}));var r=n(13),i=n(36),o="FAILED",a="COMPLETED",s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return new Promise(function(n,r){var s;!(function u(){return Object(i.a)("do-status-operation",{oid:e}).then((function(i){var c=i.state,l=i.error;return c===o?(clearTimeout(s),void r(l)):c===a?(clearTimeout(s),void n(i)):void(e&&(s=setTimeout(u,t)))})).catch(r)})()})},u={CREATE_ALBUM:"createAlbum",ADD_TO_ALBUM:"addToAlbum",MERGE_ALBUMS:"mergeAlbums",CLEAN_TRASH:"cleanTrash"},c={ADD:"ADD",UPDATE:"UPDATE",REMOVE:"REMOVE"},l=[],d=null,f=function(e){return function(t){return l.push(e),d||(d=Promise.resolve().then((function(){d=null,t(function(e){return function(t){t({type:r.ADD_OPERATIONS,payload:{operations:e}})}}(l)),l=[]}))),d}},h=function(e){return function(t){t({type:r.UPDATE_OPERATION,payload:{operation:e}})}},p=[],m=null,v=function(e){return function(t){return p.push(e.id),m||(m=Promise.resolve().then((function(){m=null,t(function(e){return function(t){t({type:r.REMOVE_OPERATIONS,payload:{operationsIds:e}})}}(p)),p=[]}))),m}},g={ADD:f,UPDATE:h,REMOVE:v},y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){r(g[e]({id:t,type:t,data:n}))}}}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var r=n(2),i=n(0),o=n.n(i),a=n(28),s=(n(1049),Object(a.cn)("Icon")),u=function(e){var t=e.direction,n=e.size,i=e.url,a=e.style,u=void 0===a?{}:a,c=e.children,l=e.title,d=e.onClick,f=(e.type,e.glyph,Object(r.__rest)(e,["direction","size","url","style","children","title","onClick","type","glyph"])),h=s({direction:t,size:n},[f.className]);return void 0!==i&&(u.backgroundImage="url('"+i+"')"),o.a.createElement("span",Object(r.__assign)({},f,{"aria-hidden":!0,className:h,style:u,title:l,onClick:d}),c)};u.displayName=s()}),(function(e,t,n){var r,i,o=n(9),a=n(22),s=n(712),u=n(99).log,c=n(174).hasListing,l={setOnBeforeFirstRenderCallback:function(e){i=e},onBeforeFirstRender:function(){"function"==typeof i&&i.apply(void 0,arguments)},go:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!arguments.length)throw new Error("`go` should be called with arguments. Use `update` to update views.");cancelAnimationFrame(r);var i=ns.router(e),o=ns.page.current.params.idContext===i.params.idContext,a=ns.page.current.params.dialog===i.params.dialog,s=ns.page.current.params.filter===i.params.filter,l=!o&&"/client/error"===e;l&&n.reason&&(e+="?reason="+n.reason),"/photo"===ns.page.current.params.idContext&&"create-album"===ns.page.current.params.action&&(t=!0),!t&&o&&a&&s&&(t=!0);var d=ns.page.go(e,t);if(l){var f={event:"errorPage",context:ns.page.current.params.idContext,reason:n.reason||""};if(n.error)try{"string"==typeof n.error?f.error=n.error:n.error instanceof Error?f.error=JSON.stringify({message:n.error.message,stack:n.error.stack}):(n.error.requestId&&(f.requestId=n.error.requestId),f.error=JSON.stringify(n.error))}catch(e){f.error=e.message}f.requestId||(f.requestId="none"),u(f)}return o||c(i.params.idContext)||window.scrollTo(0,0),d},update:function(){cancelAnimationFrame(r),r=requestAnimationFrame((function(){ns.page.go(null,"preserve")}))},updateSync:function(){cancelAnimationFrame(r),ns.page.go(null,"preserve")},getUrlBase:function(e){var t,n=$.extend(!0,{},ns.page.current.params,e),r=n.idContext&&a.getIdApp(n.idContext),i=ns.page.current.page;return"/journal"!==n.idContext||l.isSearch(n)?(l.isSearch(n)?(t=e&&e.typeSearch?o.pick(n,"querySearch","scopeSearch","typeSearch"):o.pick(n,"querySearch","scopeSearch"),i="client-dualPane"):t=0===["album","public"].indexOf(r)?o.pick(n,"albumId"):n.idContext&&n.idContext.startsWith("/remember/")?o.pick(n,"idContext","from_pool"):n.idContext&&n.idContext.startsWith("/photo")?o.pick(n,"idContext","filter"):o.pick(n,"idContext","page","idPage"),ns.router.generateUrl(i,t)):s.generateUrl({dialog:null})},scrollToTop:function(){window.scrollTo(0,0)},isSearch:function(e){var t=e||ns.page.current.params;return!!(t&&t.querySearch&&t.scopeSearch)},appendImage:function(e){return this.containerImage||(this.containerImage=$("<div />",{class:"js-images-container _hidden"}).appendTo("body")),$("<img />",{src:e}).appendTo(this.containerImage)},getDimentionsViewport:function(e){var t=e||$(window);return{width:t.width(),height:t.height()}},scrollCenterElement:function(e){var t=e.getBoundingClientRect();window.scrollTo(0,scrollY+t.top-(innerHeight-t.height)/2)}};e.exports=l}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(44);function i(e){Object(r.a)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"decideSelectAlbum",(function(){return m})),n.d(t,"add",(function(){return g})),n.d(t,"getActiveConfirmationOperation",(function(){return y}));var r=n(228),i=n.n(r),o=n(64),a=n(23),s={},u=null,c=[],l="confirmation",d="rename",f="selectFolder",h="selectAlbum",p=function(e,t,n,r){return function(i){var o=[];r?Object.keys(s).forEach((function(e){s[e].data.operation.get(".gid")===r&&o.push(e)})):o.push(e),o.forEach((function(e){var r=s[e];r&&(t?r.data.onSubmit(n):r.data.onReject&&r.data.onReject()),delete s[e];var i=c.indexOf(e);i>-1&&c.splice(i,1)})),i(v())}},m=function(e,t){return function(n){if(u){requestAnimationFrame((function(){n(Object(a.closeDialog)(h))}));var r=s[u],i=r.type,o=r.data.operation;if("select-album"===i){var c=o&&o.get(".gid");n(p(u,e,{albumId:t},c))}}}},v=function(){return function(e,t){var n=t().page.idContext;if(c.length){u=c.shift();var r=s[u],i=r.type,v=r.data,g=v.operation,y=v.dialogParams,b=g&&g.get(".gid");switch(i){case"confirmation":e(Object(a.openDialog)(l,Object.assign({isGroup:Boolean(b),onSubmit:function(){e(Object(a.closeDialog)(l)),e(p(u,!0))},onSubmitAll:function(){e(Object(a.closeDialog)(l)),e(p(u,!0,null,b))},onReject:function(){e(Object(a.closeDialog)(l)),e(p(u,!1))},onRejectAll:function(){e(Object(a.closeDialog)(l)),e(p(u,!1,null,b))}},y)));break;case"prompt":e(Object(a.openDialog)(d,Object.assign({onSubmit:function(t){e(Object(a.closeDialog)(d)),e(p(u,!0,{name:t}))},onClose:function(){e(Object(a.closeDialog)(d)),e(p(u,!1))}},y)));break;case"select-folder":e(Object(a.openDialog)(f,Object.assign({folderId:Object(o.getCurrentVirtualDisk)(n)||"/disk",onSubmit:function(t){var n=t.folderId,r=t.name;e(Object(a.closeDialog)(f)),e(p(u,!0,{folderId:n,name:r},b))},onCancel:function(){e(Object(a.closeDialog)(f)),e(p(u,!1,null,b))}},y)));break;case"select-album":e(Object(a.openDialog)(h,Object.assign({onCancel:function(){e(m(!1))}},y)))}}else u=null}},g=function(e,t){return function(n){var r=String(i()());s[r]={type:e,data:t},c.push(r),u||n(v())}},y=function(){return u?s[u].data.operation:null}}),(function(e,t,n){"use strict";var r=n(455),i=n(92),o=n(536).domains,a=n(827).replaceServiceTld,s=e.exports={cutProto:function(e){return e.replace(/^(https:|http:)/,"")},replaceTld:a,replaceTldByLang:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=s.getTld(e);return!n.length||n.includes(r)?e:["en","tr"].includes(t)&&n.includes("com")?s.replaceTld(e,"com"):s.replaceTld(e,"ru")},getHost:function(e){return r.parse(e).hostname},getSearch:function(e){return r.parse(e).search},getPath:function(e){return r.parse(e).pathname},getTld:function(e){var t=s.getHost(e);return t?t.split(".").pop():null},makeRelative:function(e){return"/"+(e=e.replace(/^(https:|http:)/,"").replace(/^\/\//,"")).split("/").slice(1).join("/")},isDownloader:function(e){return/^(https?:)?\/\/downloader\.(dst|disk)\.yandex\./.test(e)},isDisk:function(e){var t=o[this.getTld(e)];return!!t&&new RegExp("^(https?:)?\\/\\/disk.(dst\\.)?yandex\\.(".concat(t.domain,")($|\\/|\\?)")).test(e)},isMail:function(e){return/^(https?:)?\/\/mail\.yandex\./.test(e)},addPrefixDownloader:function(e){if(s.isDownloader(e)){var t=i.hashCode(e)%4+1;return e.replace(/^(.*?\/\/)/,"$1"+t+".")}return e},getQueryParam:function(e,t){return r.parse(e,!0).query[t]},replaceParam:function(e,t,n,i){var o=r.parse(e,!0);return n?o.query[t]=n:i&&delete o.query[t],o.search="",r.format(o)},addParams:function(e,t){var n=r.parse(e,!0);for(var i in t)t.hasOwnProperty(i)&&(n.query[i]=t[i]);return n.search="",r.format(n)},mergeSlashes:function(e){return e.replace(/([^:\/]|^)\/{2,}/g,"$1/")},fixShortUrl:function(e,t){return e.replace(/^http:/,"https:").replace(/^https:\/\/[^\/]+/,t.urlsBase.disk)}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r={BACKSPACE:8,TAB:9,ENTER:13,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46};function i(e,t){return t.some((function(t){return r[t]===e||t===e}))}}),(function(e,t,n){"use strict";n.r(t);n(61),n(127);var r=n(47),i=n(24),o=(n(399),function(e){return{done:!0,value:e}}),a={};function s(e){return Object(r.b)(e)?"channel":Object(r.l)(e)?String(e):Object(r.d)(e)?e.name:String(e)}function u(e,t,n){var r,s,u,c=t;function l(t,n){if(c===a)return o(t);if(n&&!s)throw c=a,n;r&&r(t);var i=n?e[s](n):e[c]();return c=i.nextState,u=i.effect,r=i.stateUpdater,s=i.errorState,c===a?o(t):u}return Object(i.ab)(l,(function(e){return l(null,e)}),n)}function c(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a,c={done:!1,value:Object(i.l)(e)},l=function(e){return a=e};return u({q1:function(){return{nextState:"q2",effect:c,stateUpdater:l}},q2:function(){return{nextState:"q1",effect:(function(e){return{done:!1,value:i.m.apply(void 0,[t].concat(r,[e]))}})(a)}}},"q1","takeEvery("+s(e)+", "+t.name+")")}function l(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a,c,l={done:!1,value:Object(i.l)(e)},d=function(e){return{done:!1,value:i.m.apply(void 0,[t].concat(r,[e]))}},f=function(e){return a=e},h=function(e){return c=e};return u({q1:function(){return{nextState:"q2",effect:l,stateUpdater:h}},q2:function(){return a?{nextState:"q3",effect:(function(e){return{done:!1,value:Object(i.n)(e)}})(a)}:{nextState:"q1",effect:d(c),stateUpdater:f}},q3:function(){return{nextState:"q1",effect:d(c),stateUpdater:f}}},"q1","takeLatest("+s(e)+", "+t.name+")")}function d(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a,c={done:!1,value:Object(i.l)(e)},l=function(e){return a=e};return u({q1:function(){return{nextState:"q2",effect:c,stateUpdater:l}},q2:function(){return{nextState:"q1",effect:(function(e){return{done:!1,value:i.o.apply(void 0,[t].concat(r,[e]))}})(a)}}},"q1","takeLeading("+s(e)+", "+t.name+")")}function f(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];var c,l,d={done:!1,value:Object(i.p)(t,Object(i.r)(1))},f={done:!1,value:Object(i.v)(e)},h=function(e){return c=e},p=function(e){return l=e};return u({q1:function(){return{nextState:"q2",effect:d,stateUpdater:p}},q2:function(){return{nextState:"q3",effect:{done:!1,value:Object(i.l)(l)},stateUpdater:h}},q3:function(){return{nextState:"q4",effect:(function(e){return{done:!1,value:i.m.apply(void 0,[n].concat(o,[e]))}})(c)}},q4:function(){return{nextState:"q2",effect:f}}},"q1","throttle("+s(t)+", "+n.name+")")}function h(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];var c,l,d={done:!1,value:Object(i.l)(t)},f={done:!1,value:Object(i.w)({action:Object(i.l)(t),debounce:Object(i.v)(e)})},h=function(e){return c=e},p=function(e){return l=e};return u({q1:function(){return{nextState:"q2",effect:d,stateUpdater:h}},q2:function(){return{nextState:"q3",effect:f,stateUpdater:p}},q3:function(){return l.debounce?{nextState:"q1",effect:(function(e){return{done:!1,value:i.m.apply(void 0,[n].concat(o,[e]))}})(c)}:{nextState:"q2",effect:(function(e){return{done:!1,value:e}})(l.action),stateUpdater:h}}},"q1","debounce("+s(t)+", "+n.name+")")}function p(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return i.m.apply(void 0,[c,e,t].concat(r))}function m(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return i.m.apply(void 0,[l,e,t].concat(r))}function v(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return i.m.apply(void 0,[d,e,t].concat(r))}function g(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];return i.m.apply(void 0,[f,e,t,n].concat(o))}function y(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),s=3;s<r;s++)o[s-3]=arguments[s];return i.o.apply(void 0,[function(e,t,n){for(var r=e,o=arguments.length,s=new Array(o>3?o-3:0),c=3;c<o;c++)s[c-3]=arguments[c];var l={done:!1,value:i.o.apply(void 0,[n].concat(s))},d={done:!1,value:Object(i.v)(t)};return u({q1:function(){return{nextState:"q2",effect:l,errorState:"q10"}},q2:function(){return{nextState:a}},q10:function(e){if((r-=1)<=0)throw e;return{nextState:"q1",effect:d}}},"q1","retry("+n.name+")")},e,t,n].concat(o))}function b(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];return i.m.apply(void 0,[h,e,t,n].concat(o))}n.d(t,"actionChannel",(function(){return i.p})),n.d(t,"all",(function(){return i.B})),n.d(t,"apply",(function(){return i.a})),n.d(t,"call",(function(){return i.o})),n.d(t,"cancel",(function(){return i.n})),n.d(t,"cancelled",(function(){return i.H})),n.d(t,"cps",(function(){return i.D})),n.d(t,"delay",(function(){return i.v})),n.d(t,"effectTypes",(function(){return i.x})),n.d(t,"flush",(function(){return i.I})),n.d(t,"fork",(function(){return i.m})),n.d(t,"getContext",(function(){return i.J})),n.d(t,"join",(function(){return i.F})),n.d(t,"put",(function(){return i.z})),n.d(t,"putResolve",(function(){return i.A})),n.d(t,"race",(function(){return i.w})),n.d(t,"select",(function(){return i.G})),n.d(t,"setContext",(function(){return i.K})),n.d(t,"spawn",(function(){return i.E})),n.d(t,"take",(function(){return i.l})),n.d(t,"takeMaybe",(function(){return i.y})),n.d(t,"debounce",(function(){return b})),n.d(t,"retry",(function(){return y})),n.d(t,"takeEvery",(function(){return p})),n.d(t,"takeLatest",(function(){return m})),n.d(t,"takeLeading",(function(){return v})),n.d(t,"throttle",(function(){return g}))}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(0)),u=n(6),c=n(40),l=n(218),d=a(n(11)),f=a(n(166)),h=n(1329),p=n(1331),m=n(1333),v=n(1335),g=a(n(37));n(1337);var y=function(){return d.default()("menu")},b=l.cnMenu("Icon");t.Menu=u.compose(u.composeU(l.withSizeS,l.withSizeM),l.withThemeNormal,l.withViewDefault,l.withWidthMax,h.withWide,m.withPaddingless,p.withTypeNavigation,v.withRightGlyph)(l.withJsxContent(l.Menu)),t.Menu.defaultProps={renderItem:function(e){var t=e.needIconGlyph,n=e.children,o=e.innerRef,a=e.tooltipText,u=e.icon,d=e.iconLeft,h=e.iconRight,p=i(e,["needIconGlyph","children","innerRef","tooltipText","icon","iconLeft","iconRight"]),m=c.useComponentRegistry(l.cnMenu()),v=m.Text,_=m.Icon,O=l.useMenuItem(p),w=d||u,E=s.useCallback((function(e){e.charCode===g.default.KEYS.ENTER&&O.onClick&&O.onClick(e)}),[O]),S=s.default.createElement("div",r({ref:o,onKeyPress:E},O),t&&s.default.createElement(_,{glyph:"type-check"}),w&&w(b),s.default.createElement(v,null,n),h&&h(b)),C=s.useRef("undefined"!=typeof document?document.body:null);return a?s.default.createElement(f.default,{text:a,className:y().e("hover-tooltip"),tooltipCls:String(y().e("hover-tooltip-tooltip")),direction:["left","right"],boundary:C},S):S}},t.Item=function(){return null},t.Item.getCollectionNode=function(e,t){var n=e.className,o=e.highlighted,a=i(e,["className","highlighted"]);return l.Item.getCollectionNode(r({className:l.cnMenu("Item",{highlighted:o},[n])},a),t)},t.Group=function(){return null},t.Group.getCollectionNode=function(e,t){var n=e.className,o=e.paddingless,a=i(e,["className","paddingless"]);return l.Group.getCollectionNode(r({className:l.cnMenu("Group",{paddingless:o},[n])},a),t)}}),(function(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";function r(e,t){return e===t}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,i=null;return function(){return (function(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0})(t,n,arguments)||(i=e.apply(null,arguments)),n=arguments,i}}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=0,s=r.pop(),u=(function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t})(r),c=e.apply(void 0,[function(){return a++,s.apply(null,arguments)}].concat(n)),l=i((function(){for(var e=[],t=u.length,n=0;n<t;n++)e.push(u[n].apply(null,arguments));return c.apply(null,e)}));return l.resultFunc=s,l.recomputations=function(){return a},l.resetRecomputations=function(){return a=0},l}}t.__esModule=!0,t.defaultMemoize=i,t.createSelectorCreator=o,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}))};var a=t.createSelector=o(i)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(498),o=n(1354),a=n(1356);t.Link=r.compose(r.composeU(i.withThemeNormal,i.withThemeBlack,i.withThemeGhost,i.withThemePseudo,i.withThemeStrong,o.withThemePrimary),r.composeU(i.withViewDefault),a.withIcons,i.withPseudo)(i.Link)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return h}));var r=function(e){return"@@redux-saga/"+e},i=r("CANCEL_PROMISE"),o=r("CHANNEL_END"),a=r("IO"),s=r("MATCH"),u=r("MULTICAST"),c=r("SAGA_ACTION"),l=r("SELF_CANCELLATION"),d=r("TASK"),f=r("TASK_CANCEL"),h=r("TERMINATE"),p=r("LOCATION")}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l}));var r=n(86),i=n(13),o=Object(r.createAction)("@SAGAS/FETCH_ALBUM_WITH_ITEMS"),a=Object(r.createAction)(i.UPDATE_ALBUM),s=Object(r.createAction)(i.FETCH_ALBUM_SUCCESS),u=Object(r.createAction)("@SAGAS/SELECT_ALL_ITEMS_IN_CLUSTER"),c=Object(r.createAction)(i.SET_IS_SELECTING_PHOTOS,(function(e){return{payload:{flag:e}}})),l=Object(r.createAction)("@SAGAS/TOGGLE_ALBUM_ITEM_SELECTION")}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r={FOLDED:"FOLDED",UNFOLDED_ACTIVE:"UNFOLDED_ACTIVE",UNFOLDED_INACTIVE:"UNFOLDED_INACTIVE"},i={ENTER_PRESS:"enter",SEARCH_BUTTON:"button"}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIRTUAL_DISKS_ROOT="/vd",t.getIsVirtualDiskList=function(e){return e===t.VIRTUAL_DISKS_ROOT};var r=new RegExp("^"+t.VIRTUAL_DISKS_ROOT+"/[^/]+/disk(?:$|/)");t.getIsInsideVirtualDisk=function(e){return r.test(e)},t.getIsVirtualDisk=function(e){return t.getIsVirtualDiskList(e)||t.getIsInsideVirtualDisk(e)},t.getCurrentVirtualDisk=function(e){var t=/^\/vd\/([^\/]+)\//.exec(e);return t&&t[0]+"disk"},t.isRootOfVirtualDisk=function(e){return/^\/vd\/([^\/]+)\/disk\/?$/.test(e)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);r.__exportStar(n(1822),t),r.__exportStar(n(1815),t),r.__exportStar(n(1836),t),r.__exportStar(n(269),t),r.__exportStar(n(270),t),r.__exportStar(n(555),t),r.__exportStar(n(271),t),r.__exportStar(n(1825),t),r.__exportStar(n(1837),t),r.__exportStar(n(1826),t),r.__exportStar(n(272),t),r.__exportStar(n(1838),t),r.__exportStar(n(191),t),r.__exportStar(n(1839),t),r.__exportStar(n(1840),t),r.__exportStar(n(1809),t),r.__exportStar(n(1841),t),r.__exportStar(n(1814),t),r.__exportStar(n(558),t),r.__exportStar(n(458),t),r.__exportStar(n(1819),t),r.__exportStar(n(1842),t),r.__exportStar(n(1823),t),r.__exportStar(n(1820),t),r.__exportStar(n(1843),t),r.__exportStar(n(1827),t),r.__exportStar(n(1093),t)}),(function(e,t,n){var r=n(817),i=n(818),o=n(535),a=n(819);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";var r=n(204),i=n(14),o=n(16),a=n(42),s=n(49);n(97),n(459),n(1142);var u=n(9),c=n(92),l=n(190),d=function(){},f=["copy","move","delete","restore","rename","excludeFromAlbum","removeResourceAlbum"],h=function(){};no.inherit(h,l,{_init:function(){this.countRequestStatus=0,this.queueSetStatus=[];for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.prototype._init.apply(this,t)},init:d,initFromMessage:d,resetCounter:function(){this.countRequestStatus=0},onbeforedestroy:function(){this.removeOperationFromStore()},setStatus:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.queueSetStatus.push(function(e){var t=this,n=e[0],r=f.includes(c.toLowerFirstLetter(this.id.replace("operation","")));!this.get(".status")&&r&&this.addOperationToStore();if(n!==this.get(".status")){this.set(".status",n),r&&this.updateOperationInStore();var i=this["onStatus"+c.capitalize(n)];"function"==typeof i&&i.apply(this,e.slice(1)),this.trigger("status."+n),this.queueSetStatus.shift(),this.queueSetStatus.length&&this.queueSetStatus[0].call()}var o=this.get(".gid");if(!o&&this.isCompleted())setTimeout((function(){t.destroy()}));else if(o){var a=ns.Model.get("operations");a.models.some((function(e){return e.get(".gid")===o&&!e.isCompleted()}))||setTimeout((function(){u.invokeMap(a.models.filter((function(e){return e.get(".gid")===o})),"destroy")}))}}.bind(this,[].slice.call(t))),1===this.queueSetStatus.length&&this.queueSetStatus[0].call()},complete:function(){this.isCompleted()||this.setStatus("completed")},isCompleted:function(){return u.includes(["canceled","failed","done","rejected"],this.get(".status"))},run:function(){return this.setStatus(this.get(".status")||"created"),this},getTimeoutStatus:function(){var e=Math.min(2e3+2e3*Math.floor(this.countRequestStatus/5),2e4);return this.countRequestStatus++,e},doRequestStatus:function(){this.nextTick((function(){var e=this.handleResponseStatus.bind(this);ns.Model.get("queueRequest").push({id:"do-status-operation",params:{oid:this.get(".oid")}}).then(e,e)}))},getType:function(){var e=this.id.replace(/^operation/,"");return e.charAt(0).toLowerCase()+e.substr(1)},nextTick:function(e){window.setTimeout(e.bind(this),this.getTimeoutStatus())},isActive:function(){return u.includes(["started","progressing","determined"],this.get(".status"))},countItems:function(){return 1},getResourcePathKeyForLockError:function(){return".idSrc"},extractErrorFromResponse:function(e){return e&&(e.get(".error")||e.getError())},checkReasonFailed:function(e){var t=this.extractErrorFromResponse(e)||{};if("HTTP_507"===t.id||"507"===t.response||507===t.response)t.body&&234===t.body.code?this.set(".reason","NO_SPACE_OWNER"):this.set(".reason","NO_SPACE");else if("HTTP_423"===t.id){this.set(".reason","READ_ONLY");var n=u.get(t,"body.data"),o=n.op_type,a=n.path,s=n.uid,c=Object(r.b)({lockType:o,lockInitiatorUid:s,lockedResourcePath:a,targetResourcePath:this.get(this.getResourcePathKeyForLockError()),myUid:Object(i.default)().getState().user.uid,failedOperationType:this.getType()}),l=c.reasonText,d=c.reasonTextAux;this.set(".reasonText",l),this.set(".reasonTextAux",d)}},onEnd:function(e){this.on("ns-model-changed.status",(function t(n,r){u.includes(["done","failed"],this.get(".status"))&&(e(n,r),this.off("ns-model-changed.status",t))}))},fetchResource:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(i.default)(),s=a.getState().page.idContext;(n&&s===e?a.dispatch(Object(o.fetchCurrentListing)()):a.dispatch(Object(o.fetchSingleResource)(e,r))).then((function(){t.handleSyncResource()})).catch((function(){t.handleSyncResource()}))},handleSyncResource:d,showNotification:function(e){Object(i.default)().dispatch(Object(a.notify)(e))},getStoreOperationId:function(){return this.key.replace("model=","").replace("&id=","")},addOperationToStore:function(){Object(i.default)().dispatch(Object(s.c)(Object.assign({},{id:this.getStoreOperationId(),type:this.getType(),data:this.getData()})))},updateOperationInStore:function(){Object(i.default)().dispatch(Object(s.g)(Object.assign({},{id:this.getStoreOperationId(),type:this.getType(),data:this.getData()})))},removeOperationFromStore:function(){Object(i.default)().dispatch(Object(s.e)({id:this.getStoreOperationId()}))}}),h.define=function(e,t){return t.params={id:null},t.events={"ns-model-before-destroyed":"onbeforedestroy"},ns.Model.define(e,t,h)},t.a=h}),(function(e,t,n){"use strict";n.d(t,"h",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"k",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return g})),n.d(t,"d",(function(){return y})),n.d(t,"i",(function(){return _})),n.d(t,"l",(function(){return O})),n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return E})),n.d(t,"e",(function(){return S}));var r=n(13),i=n(34),o=n(16),a=n(150),s=n(17),u=n(22),c=n.n(u),l=n(26),d=n(43),f=function(){return{type:r.HIDE_UPLOADER}},h=function(){return{type:r.OPEN_UPLOADER}},p=function(){return{type:r.CLOSE_UPLOADER}},m=function(e){return{type:r.SET_HIGHLIGHTED_UPLOAD_RESOURCES,payload:e}},v=function(e){return{type:r.HIDE_UPLOAD_NOTIFICATION,payload:e}},g=function(e){return function(t,n){var r=n().uploader.notifications.filter((function(t){var n=t.type,r=t.data;return n===s.UPLOAD_NOTIFICATION_TYPES.SERVICE&&r&&r.reason===e})).map((function(e){return e.id}));t(v(r))}},y=function(e){return function(t,n){var r=n().resources;e.forEach((function(e){var n=e.id,a=e.isFakeId,s=e.entry,u=s.size,l=void 0===u?0:u,d=s.isDirectory,f=r[n];if(f)f.state&&(f.state.hidden||f.state.disabled)&&(t(Object(o.showHiddenResource)(n)),t(Object(o.setResourceBlocked)(n,!0)),t(Object(o.setResourceData)(n,!1,"hasPreview")));else{var h={id:n,type:d?"dir":"file",mtime:Date.now()/1e3,meta:{size:d?void 0:l}};a&&(h.name=c.a.basename(i.default.getIdFromFakeId(n)),h.state={hidden:a}),t(Object(o.createResource)(h,{insertOnlyIfPortionLoaded:!0,part:!0}))}}))}},b=function(e){return e.map((function(e){var t=e.id,n=e.entry,r=n.size;return{id:t,size:void 0===r?0:r,isDirectory:n.isDirectory,readFail:e.readFail}}))},_=function(e,t){return function(n){var i=b(e);n({type:r.INIT_UPLOADING_STATES,payload:{rootFolderId:t,states:i}})}},O=function(e,t){var n=t.files,i=void 0===n?[]:n,o=t.folders,u=void 0===o?[]:o,c=t.statsId;return function(t,n){var o=n(),f=o.uploader.uploadingStatesByIds,h=Object(d.getLimitUploadSize)(o);if(h){var p=Object(s.getLimitedForUploadFiles)(i,h);p&&p.length>0&&t(Object(l.showLimitUploadDialog)(p))}var m=Object(a.e)(n(),Array.from(i).concat(u),e,c,null).filter((function(e){return Object(a.k)(f[e.id]&&f[e.id].status)}));m.length&&(t(function(e,t){return function(n,i){var o=i().environment.session,a=o.shouldShowAppPromoInUploader,s=o.experiment.diskWebDisableAppPromoExp;n({type:r.START_UPLOAD,payload:{states:b(e),shouldShowAppPromo:!s&&a,position:t}})}}(m)),t(y(m)),t(Object(a.a)(m)))}},w=function(e){return function(t){t(Object(a.c)(e))}},E=function(){return function(e){e(Object(a.b)())}},S=function(e){return function(t){t(Object(a.i)(e,1))}}}),(function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r);n.d(t,"modelDefaults",(function(){return a})),n.d(t,"getPreloadedData",(function(){return s}));var o={};o=JSON.parse(document.getElementById("preloaded-data").innerHTML);var a=function(){return o[this.id]||null},s=function(e){return e?i.a.get(o,e):Object.assign({},o)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(661),o=n(945);t.Spin=r.compose(r.composeU(i.withSizeS,i.withSizeM,i.withSizeL,i.withSizeXS,i.withSizeXXS),r.composeU(i.withViewDefault,o.withViewDark))(i.Spin)}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n(2),i=n(0),o=n.n(i),a=n(40),s=n(28),u=n(417),c=(n(952),Object(s.cn)("Radiobox")),l=function(e){var t=e.children,n=e.className,s=e.disabled,l=e.innerRef,d=e.name,f=e.onChange,h=e.options,p=void 0===h?[]:h,m=e.value,v=(e.view,e.size,e.theme,Object(a.useComponentRegistry)(c()).Radio),g=Object(r.__read)(Object(i.useState)({onChange:f,value:m,disabled:s,name:d}),2),y=g[0],b=g[1];return Object(i.useEffect)((function(){b({onChange:f,value:m,disabled:s,name:d})}),[f,m,s,d]),o.a.createElement("span",{className:c(null,[n]),ref:l,role:"radiogroup"},o.a.createElement(u.a,{value:y},t||p.map((function(e){var t=e.label,n=Object(r.__rest)(e,["label"]);return o.a.createElement(v,Object(r.__assign)({key:n.value},n),t)}))))};l.displayName=c()}),(function(e,t,n){"use strict";n.r(t),n.d(t,"isTuningRedirectExperiment",(function(){return r})),n.d(t,"isOpenTuningFormExp",(function(){return i})),n.d(t,"isSidebarWithWidgetsExperiment",(function(){return o})),n.d(t,"isTavernExperiment",(function(){return a})),n.d(t,"isHeaderPromoToLanding",(function(){return s})),n.d(t,"getTopAdExp",(function(){return u})),n.d(t,"isDvInDocsTouchExp",(function(){return c})),n.d(t,"isDiskWebNpsExp",(function(){return l})),n.d(t,"isDiskWebNpsSecurityExp",(function(){return d})),n.d(t,"isDiskViewerNpsExp",(function(){return f})),n.d(t,"isShowVirtualDisksExpSelector",(function(){return h}));var r=function(e){var t=e.environment.session.isTuningRedirectExperiment;return t},i=function(e){return e.environment.session.experiment.diskOpenTuningFormExp},o=function(e){return e.environment.session.experiment.diskSidebarWidgets},a=function(e){return e.environment.session.experiment.diskTavern},s=function(e){return e.environment.session.experiment.diskWebHeaderPromoToLanding},u=function(e){return e.environment.session.experiment.diskWebTopAdExp},c=function(e){return!!e.environment.session.experiment.diskDvInDocsTouchExp},l=function(e){return!!e.environment.session.experiment.diskWebNpsExp},d=function(e){return!!e.environment.session.experiment.diskWebNpsSecurityExp},f=function(e){return!!e.environment.session.experiment.diskViewerNpsExp},h=function(e){return!!e.environment.session.experiment.showVirtualDisksExp}}),(function(e,t,n){"use strict";n.d(t,"l",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"k",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return O})),n.d(t,"j",(function(){return w})),n.d(t,"i",(function(){return E})),n.d(t,"f",(function(){return S})),n.d(t,"c",(function(){return C}));var r=n(9),i=n.n(r),o=n(29),a=n(94),s=n(59),u=["beautiful","unbeautiful","camera","screenshots","videos"],c=[o.PHOTOSLICE_FILTERS.ONLY_FROM_FOLDERS,o.PHOTOSLICE_FILTERS.ONLY_UNLIM],l=function(e){return!!e&&(u.includes(e)||c.includes(e))},d=Object(s.createSelectorCreator)(s.defaultMemoize,(function(e,t){return e.clusters===t.clusters&&e.clustersByIds===t.clustersByIds&&e.filter===t.filter}))((function(e){var t=e.photoslice;return{clusters:(t=void 0===t?{}:t).clusters,clustersByIds:t.clustersByIds,filter:e.page.filter}}),(function(e){return e})),f=Object(s.createSelector)(d,(function(e){var t=e.clusters,n=e.clustersByIds,r=e.filter,i=(t||[]).map((function(e){return n[e]}));return l(r)&&(i=i.filter((function(e){return e.albums&&isFinite(e.albums[r])&&e.albums[r]>0})).map((function(e){var t=Object.assign({},e);return t.size=e.albums[r],t.items&&(t.items=t.items.filter((function(e){return e.albums&&e.albums.includes(r)}))),t}))),i})),h=function(e,t,n,r){for(var o=f(e),a=e.resources,s=e.statesContext,u=s.selected,c=s.highlighted,l=f(e),d={},h=function(e){var s=l[e];d[e]={resources:{}};var f=r.find((function(t){return t.clusterIndexes.from===e}));if(f)if(f.clusterIndexes.from===f.clusterIndexes.to)d[e].title=i.a.pick(s,["from","to","city","streets"]),d[e].title.clusterIds=[s.id];else{for(var h=[],p=f.clusterIndexes.from;p<=f.clusterIndexes.to;p++)h.push(o[p]);var m,v,g=h[h.length-1].from,y=h[0].to;if(y-g<=6048e5){var b=h.map((function(e){return e.city})).filter(Boolean),_=i.a.uniq(b);_.length>1?m=_.join(", "):1===_.length&&(m=_[0],v=i.a.uniq(h.reduce((function(e,t){var n=t.streets;return e.concat(n||[])}),[])))}d[e].title={clusterIds:h.map((function(e){return e.id})),from:g,to:y,city:m,streets:v}}for(var O=e===t.clusterIndex?t.resourceIndex:0,w=e===n.clusterIndex?n.resourceIndex:s.size-1,E=O;E<=w;E++){var S=s.items&&s.items[E]&&s.items[E].id,C=S&&s.items?a[S]:null,x=i.a.get(C,"state.disabled");d[e].resources[E]={id:S,name:C&&C.name,loaded:Boolean(C),selected:!x&&u.includes(S),disabled:x,highlighted:c.includes(S),defaultPreview:i.a.get(C,"defaultPreview"),isPhotoUnlim:"photounlim"===i.a.get(C,"meta.storage_type"),isVideo:i.a.get(C,"canPlayVideo"),videoDuration:i.a.get(C,"meta.video_info.duration")}}},p=t.clusterIndex;p<=n.clusterIndex;p++)h(p);return d},p=Object(s.createSelector)(f,(function(e){return 0===e.length})),m=function(e,t){for(var n=t.clusterIndex,r=t.resourceIndex,i=t.diff,o=f(e),a=n,s=r,u=0,c=!1;Math.abs(u)<Math.abs(i)&&!c;){var l=o[a].size,d=i-u;s+d<0?0===a?(u-=s,s=0,c=!0):(u-=s+1,s=o[--a].size-1):s+d>l-1?a===o.length-1?(u+=l-s-1,s=l-1,c=!0):(a++,u+=l-s,s=0):(s+=d,u+=d)}return{clusterIndex:a,resourceIndex:s,diff:u}},v=function(e,t){return f(e)[t]},g=function(e,t){var n=f(e)[t.clusterIndex],r=i.a.get(n,"items[".concat(t.resourceIndex,"].id"));return r&&e.resources[r]},y=function(e,t,n){if(!e.photoslice)return null;var r=t.clusterIndex,i=t.resourceIndex,o=f(e);return n<0&&0===i?r<=0?null:{clusterIndex:r-1,resourceIndex:v(e,r-1).size-1}:n>0&&i===v(e,r).size-1?r>=o.length-1?null:{clusterIndex:r+1,resourceIndex:0}:{clusterIndex:r,resourceIndex:i+Math.sign(n)}},b=function(e,t,n){var r=f(e),o=e.photoslice,s=(o=void 0===o?{}:o).clustersByIds,u=o.clustersDeletedItems,c=e.resources,l=e.page.filter,d=c[t].clusterId;if(d&&!s[d]){var h=Object(a.g)(r,c[t]);d=h?r[h.clusterIndex]&&r[h.clusterIndex].id:void 0}var p,m,v,b=d&&Object(a.d)(r,d,(function(e){return e.id})),_=b&&r[b.index]&&r[b.index].items;if(!_)return{resource:null};if(b.found){var O=_.findIndex((function(e){return e.id===t}));if(-1===O&&u&&u[d]){var w=u[d].find((function(e){return e.id===t}));if(!w)return{resource:null};O=Object(a.i)(w.itemId,_)-1}else if(-1===O&&l&&i.a.get(c[t],"meta.albums_exclusions",[]).includes(l)){var E=s[d].items.findIndex((function(e){return e.id===t})),S=-1!==E&&s[d].items[E];S&&(O=Object(a.i)(S.itemId,_)-1)}p=y(e,{clusterIndex:b.index,resourceIndex:O},n)}else p=r.length?{clusterIndex:b.index,resourceIndex:0}:null;for(var C=!1;!m&&!C;)v=p&&g(e,p),!(m=Boolean(v))&&p&&(p=y(e,p,n)),C=!v||!p;return p?v?{resource:v}:{possiblyNotLoaded:!0}:{resource:null,possiblyNotLoaded:!1}},_=function(e,t,n,r){for(var i={resource:t},o=[];i.resource&&i.resource.clusterId&&o.length<n;)(i=b(e,i.resource.id,r)).resource&&i.resource.clusterId&&o.push(i.resource);return{resources:o,possiblyNotLoaded:i.possiblyNotLoaded}},O=function(e){var t=e.settings,n=e.page.filter;return t["".concat(n,"AlbumPhotoView")]||t.photoView},w=function(e){var t=e.page,n=t.idContext,r=t.filter;return"/photo"===n&&u.includes(r||"")},E=function(e){var t=e.page,n=t.filter;return"/photo"===t.idContext&&(p(e)&&(!n||u.includes(n)))},S=function(e){var t=e.page.filter;return c.includes(t)?t:o.PHOTOSLICE_FILTERS.ALL},C=function(e){return w(e)?["album-slice",e.page.filter]:["photo"]}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(6),s=n(667),u=n(501),c=n(198),l=a.compose(s.withViewDefault,s.withTargetAnchor,s.withNonvisual,s.withThemeNormal)(s.Popup);t.Popup=(function(e){return o.memo((function(t){var n=o.useRef(null),i=t.onClose;u.useFocusTrap({enabled:Boolean(!t.noTrapAutoFocus&&t.visible),scopeRef:n,autoFocus:!0,restoreFocus:!0});var a=o.useCallback((function(e){n.current=e,e&&e.setAttribute("role","dialog")}),[n]),s=o.useCallback((function(e,t){"esc"===t&&e.stopPropagation(),i&&i(e,t)}),[i]);if(t.noTrapAutoFocus){var l=c(t,"noTrapAutoFocus");return o.default.createElement(e,r({},l))}return o.default.createElement(e,r({},t,{onClose:s,innerRef:a}))}))})(function(e){return function(t){var n=t.position,i=o.useMemo((function(){return (function(e,t){return{current:{getBoundingClientRect:function(){var n=document.scrollingElement||document.documentElement,r=e-n.scrollLeft,i=t-n.scrollTop;return{width:0,height:0,left:r,top:i,right:r,bottom:i}},contains:function(){return!1}}}})((null===n||void 0===n?void 0:n.x)||0,(null===n||void 0===n?void 0:n.y)||0)}),[null===n||void 0===n?void 0:n.x,null===n||void 0===n?void 0:n.y]),a=o.useRef("undefined"!=typeof document?document.body:null),s=c(t,"position");return s.boundary=a,n&&(s=r(r({},s),{target:"anchor",anchor:i,modifiers:[{name:"hide",enabled:!1}]})),o.default.createElement(e,r({},s))}}(l))}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var i=n(86),o=n(265);t.maybeFetchDocs=i.createAction("docs/fetch"),t.remoteTogglePinDoc=i.createAction("docs/remoteTogglePinDoc"),t.addDocFromDisk=i.createAction("docs/addDocFromDisk"),t.removeFromDocs=i.createAction("docs/removeFromDocs"),t.setListingType=i.createAction("docs/setListingType"),t.watchUploadStates=i.createAction("docs/watchUploadStates"),t.goToDocsPageByExt=i.createAction("docs/goToDocsPageByExt"),t.showNotAllowedExtNotification=i.createAction("docs/showNotAllowedExtNotification"),t.redirectToDocsPageOnLoadFiles=i.createAction("docs/redirectToDocsPageOnLoadFiles"),t.changeDocsPageType=i.createAction("docs/changeDocsPageType");var a={lists:{docx:{isLoading:!0,isComplete:!1,items:[]},xlsx:{isLoading:!0,isComplete:!1,items:[]},pptx:{isLoading:!0,isComplete:!1,items:[]}},sortingType:{sort:o.SortBy.DATE_LAST_VIEW,order:o.SortOrder.DESC},filterType:o.FilterType.ALL},s=i.createSlice({name:"docs",initialState:a,reducers:{updateList:function(e,t){var n=t.payload,r=n.type,i=n.ids;e.lists[r].items=i,e.lists[r].isComplete=!0,e.lists[r].isLoading=!1},removeItem:function(e,t){var n=t.payload,r=n.type,i=n.id;e.lists[r].items=e.lists[r].items.filter((function(e){return e!==i}))},setSortingType:function(e,t){e.sortingType=t.payload},moveClonedResources:function(e,t){Object.keys(e.lists).forEach((function(n){t.payload.forEach((function(t){var r=t.src,i=t.dst;e.lists[n].items.includes(r.id)&&(i.isInTrash||(e.lists[n].items=e.lists[n].items.filter((function(e){return e!==r.id})),e.lists[n].items.push(i.id)))}))}))},setFilterType:function(e,t){e.filterType=t.payload}}});t.updateList=(r=s.actions).updateList,t.setSortingType=r.setSortingType,t.removeItem=r.removeItem,t.moveClonedResources=r.moveClonedResources,t.setFilterType=r.setFilterType,t.default=s.reducer}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f}));var r=n(2),i=n(0),o=n.n(i),a=n(40),s=n(28),u=n(515),c=n(1845),l=n(1847),d=(n(1002),Object(s.cn)("Popup2")),f=function(e){var t=e.addonAfter,n=e.addonBefore,s=e.children,f=e.className,h=e.direction,p=e.hasTail,m=e.innerRef,v=e.keepMounted,g=e.scope,y=e.style,b=e.tailRef,_=e.tailSize,O=e.visible,w=e.zIndex,E=e.unstable_onRenderTail,S=e.onClose,C=e.unstable_essentialRefs,x=void 0===C?[]:C,k=e.onClick,T=(e.theme,e.view,e.nonvisual,Object(r.__rest)(e,["addonAfter","addonBefore","children","className","direction","hasTail","innerRef","keepMounted","scope","style","tailRef","tailSize","visible","zIndex","unstable_onRenderTail","onClose","unstable_essentialRefs","onClick","theme","view","nonvisual"])),j=Object(i.useRef)(null),R=Object(a.useComponentRegistry)(d()).Tail;return Object(l.a)({visible:O,onClose:S,essentialRefs:Object(r.__spread)([j],x)}),o.a.createElement(c.a,{scope:g,visible:O,keepMounted:v},o.a.createElement("div",Object(r.__assign)({},T,{className:d({visible:O},[f]),"data-popper-placement":h,onClick:k,ref:Object(u.a)(j,m),style:Object(r.__assign)(Object(r.__assign)({},y),{zIndex:w})}),n,"function"==typeof s?s({tailRef:b}):s,t,E&&E(o.a.createElement(R,{ref:b,style:{height:_,width:_}})),!E&&p&&o.a.createElement(R,{ref:b,style:{height:_,width:_}})))};f.displayName=d()}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n(36),i=n(16),o=n(13),a=n(400),s=n(18),u=n(43),c=function(){return function(e,t){return Object(r.a)("space",{locale:t().environment.session.locale}).then((function(n){var r=Object(s.getResourceData)(t(),"/trash");e(Object(i.setResourceData)("/trash",Object.assign({},r,{meta:Object.assign({},r.meta,{size:n.trash})}))),e({type:o.UPDATE_SPACE,payload:n})})).catch()}},l=function(){return function(e,t){Object(u.getOverdraftType)(t())&&e(Object(a.a)())}},d=function(){return function(e){e(l()),e(c())}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}));var r=n(89);function i(e){return e instanceof Object(r.a)(e).Element||e instanceof Element}function o(e){return e instanceof Object(r.a)(e).HTMLElement||e instanceof HTMLElement}function a(e){return e instanceof Object(r.a)(e).ShadowRoot||e instanceof ShadowRoot}}),(function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return h}));var r=n(59),i=n(29),o=i.SEARCH_SCOPES.DISK,a=["/trash","/journal"],s=function(e){var t=e.page,n=t.search.scope,r=t.idContext;return n||(a.includes(r)?r:o)},u=function(e){return e.suggest.active},c=Object(r.createSelector)(s,a.includes.bind(a)),l=Object(r.createSelector)(c,u,(function(e,t){return t&&!e})),d=(Object(r.createSelector)(l,(function(e){return e.page.dialog}),(function(e,t){return e&&!t})),Object(r.createSelector)(s,(function(e){switch(e){case i.SEARCH_SCOPES.TRASH:return"Поиск по Корзине";case i.SEARCH_SCOPES.MAIL:return"Поиск по вложениям";case i.SEARCH_SCOPES.JOURNAL:return"Поиск по Истории";default:return"Поиск в моём Диске"}}))),f=function(e){var t=e.suggest.sessionId;return Boolean(t)},h=function(e){return{sessionId:e.suggest.sessionId}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d}));var r=n(43),i=n(33),o=n(38),a=n(141),s=n(95),u=function(e){var t=e.environment.session.skipOnboardings,n=e.page,o=n.reduxDialog,a=n.page,s=e.settings,u=s.showWelcomePopupInSession,c=s.wasShownOnboardingInSession;return!(Object(i.isDocsPage)(e)||Object(r.shouldNotifyOverdraft)(e)||u||c||"welcome"===o||"tuning"===a||t)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=e.user.hasProSubscription,i=e.environment.agent.isMobile,s=e.settings.lastClosedSubscriptionOnboardingId,c=Object(a.getBillingPromoAppearanceData)(e),l=null===c||void 0===c?void 0:c.onboarding,d=l&&(null===c||void 0===c?void 0:c.id)!==s,f=(null===l||void 0===l?void 0:l.startIntervalToShow)||0,h=(null===l||void 0===l?void 0:l.endIntervalToShow)||0,p=!f;if(f){var m=Object(o.getNowServerTime)(e,t),v=Object(r.getFinishPromoTime)(e);m>=v-1e3*f&&m<v-1e3*h&&(p=!0)}return u(e)&&d&&p&&Object(r.getPricesOfferWithTemporaryDiscount)(e)&&!n&&!i},l=function(e){var t=e.user.showShareEditOnboarding,n=e.settings,r=n.shareEditOnboardingClosed,i=n.showWelcomePopupInSession;return t&&!i&&!Object(o.shouldShowWelcomePopup)(e,e.page.originalNSParams||{})&&!c(e)&&!Number(r)},d=function(e){var t=e.user,n=t.isB2b,r=t.isPDD,i=t.isWS,o=t.hasProSubscription,a=e.settings,c=a.videoThemeOnboardingClosed,l=a.videoThemeOnboardingV2Closed,d=e.environment,f=d.session,h=f.tld,p=f.experiment,m=p.mail360VideothemeExp,v=p.mail360VideothemeV2Exp,g=d.agent.isHermione;return u(e)&&"ru"===h&&!n&&!r&&!i&&!Object(s.isVideothemeFlowEnabled)(e)&&(m&&!Number(c)&&Date.now()<Number(new Date(2022,6,23))||v&&!o&&!Number(l)&&!Number(g)&&Date.now()>=Number(new Date(2022,6,25))&&Date.now()<Number(new Date(2022,7,1)))}}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(5),l=n.n(c),d=n(7),f=n.n(d),h=n(1),p=n.n(h),m=n(435),v=n.n(m),g=n(70),y=n(51),b=n.n(y),_=n(232),O=n(0),w=n.n(O);function E(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var S=(function(e){l()(n,e);var t=E(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._retries=2,r._onOnline=r._onOnline.bind(u()(r)),r}return a()(n,[{key:"_getSpin",value:function(){return w.a.createElement("div",{className:"root__loadable-spin-wrap"},w.a.createElement(g.Spin,{view:"default",progress:!0,size:"m"}))}},{key:"_getError",value:function(){return b.a.go("/client/error","preserve",{reason:"loadable_error",error:this.props.error}),null}},{key:"_onOnline",value:function(){this._retryError(),this._offlineMonitor.removeOnlineEventListener(this._onOnline)}},{key:"_retryError",value:function(){this._retries--,this.props.retry()}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.error&&!e.error&&this._retries>0&&(this._offlineMonitor=this._offlineMonitor||new _.a("/check-online"),this._offlineMonitor.checkIsOnline().then((function(e){e?t._retryError():t._offlineMonitor.addOnlineEventListener(t._onOnline)})))}},{key:"render",value:function(){var e=this.props,t=e.error,n=e.pastDelay;return t?this._retries>0?this._getSpin():this._getError():n?this._getSpin():null}}]),n})(O.Component),C=(function(e){l()(n,e);var t=E(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getSpin",value:function(){return w.a.createElement("div",{className:"dialog__loadable-spin-wrap"},w.a.createElement(g.Spin,{view:"default",progress:!0,size:"m"}))}},{key:"_getError",value:function(){return w.a.createElement("div",{className:"dialog__load-error"},"Произошла ошибка. Попробуйте снова.")}}]),n})(S);t.default=function(e){var t=e.loader,n=e.webpack,r=e.modules,i=e.isDialog,o=void 0!==i&&i;return v()({loader:t,webpack:n,modules:r,loading:o?C:S})}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return"undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement}}),(function(e,t,n){var r=n(9),i=n(228),o=n(92),a=n(22);function s(e,t,n){var o=r.clone(n);t&&(o.gid=t);var a=ns.Model.get(e,{id:i()}).setData(o);return ns.Model.get("operations").insert(a),a.init(),a}n(844),e.exports={create:function(e,t){var n=this.initialize(e,t);return r.isArray(n)?r.invokeMap(n,"run"):n.run(),n},initialize:function(e,t){return t=t||{},/^operation/.test(e)||(e="operation"+o.capitalize(e)),r.isArray(t)?r.map(t,r.partial(s,e,i())):s(e,null,t)},initializeRemote:function(e){var t="operationRemote"+o.capitalize(e);return ns.Model.get(t,{id:i()})},catchUp:function(e){var t=(function(e){var t=e.type,n=e.subtype;if("move"===t){var r=e.data.source&&a.normalize(e.data.source),i=e.data.target&&a.normalize(e.data.target);return a.dirname(r)!==a.dirname(i)?"move":"rename"}if("trash"===t){if("append"===n||"droppath"===n)return"delete";if("drop"===n)return"cleanTrash";if("restore"===n)return"restore"}if("copy"===t)return"copy";return!1})(e);if(t){if("cleanTrash"===t){var r=n(14).default,s=n(282),u=s.startOperationCleanTrash,c=s.onRequestCleanTrash;return r().dispatch(u()),void r().dispatch(c(e.id))}var l=ns.Model.get("operations"),d=e.id;if(!l.models.some((function(e){return e.data.oid===d}))){t="operation"+o.capitalize(t);var f=ns.Model.get(t,{id:i()}).setData({oid:e.id});l.insert(f),f.initFromMessage(e)}}},getActiveOperations:function(e){return ns.Model.get("operations").models.filter((function(t){return t.getType()===e&&t.isActive()}))},completeRemote:function(e,t){e.setData(t);var n=e.toLocal();r.isArray(n)?r.invokeMap(n,"complete"):n&&n.complete()}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.widgetIconClass=void 0;const r=n(28);n(1676),t.widgetIconClass=r.cn("WidgetIcon")}),(function(e,t,n){"use strict";n.r(t),n.d(t,"isIosSafariSelector",(function(){return r})),n.d(t,"isMacSafariSelector",(function(){return i})),n.d(t,"shouldShowYaPlus",(function(){return o})),n.d(t,"getOsId",(function(){return a}));var r=function(e){var t=e.environment.agent,n=t.OSFamily,r=t.BrowserBase;return"iOS"===n&&"Safari"===r},i=function(e){var t=e.environment.agent,n=t.OSFamily,r=t.BrowserName;return"MacOS"===n&&"Safari"===r},o=function(e){var t,n=e.environment.session,r=n.locale,i=n.tld,o=n.region.country_tld,a=e.user,s=a.hasYaPlus,u=a.isWS,c=a.isPDD,l=e.settings,d=["ru","kz","by","uz"];return!Boolean(null===l||void 0===l?void 0:null===(t=l.roNoB2cTariffPromo)||void 0===t?void 0:t.enabled)&&!u&&!c&&"ru"===r&&d.includes(i)&&(d.includes(o)||s)},a=function(e){var t=e.environment.agent,n=t.OSFamily,r=t.isMobile,i=n.toLowerCase();if(r)switch(i){case"android":case"ios":return i;case"windowsphone":return"winphone"}switch(i){case"windows":return"win";case"macos":return"mac";default:return"linux"}}}),(function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[$]}function o(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[q]||!!e.constructor[q]||f(e)||h(e))}function a(e,t,n){void 0===n&&(n=!1),0===s(e)?(n?Object.keys:Y)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function s(e){var t=e[$];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:f(e)?2:h(e)?3:0}function u(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return 2===s(e)?e.get(t):e[t]}function l(e,t,n){var r=s(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){return V&&e instanceof Map}function h(e){return H&&e instanceof Set}function p(e){return e.o||e.t}function m(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=K(e);delete t[$];for(var n=Y(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function v(e,t){y(e)||i(e)||!o(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=g),Object.freeze(e),t&&a(e,(function(e,t){return v(t,!0)}),!0))}function g(){r(2)}function y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function b(e){var t=X[e];return t||r(18,e),t}function _(e,t){X[e]||(X[e]=t)}function O(){return U}function w(e,t){t&&(b("Patches"),e.u=[],e.s=[],e.v=t)}function E(e){S(e),e.p.forEach(x),e.p=null}function S(e){e===U&&(U=e.l)}function C(e){return U={p:[],l:U,h:e,m:!0,_:0}}function x(e){var t=e[$];0===t.i||1===t.i?t.j():t.g=!0}function k(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.O||b("ES5").S(t,e,i),i?(n[$].P&&(E(t),r(4)),o(e)&&(e=T(t,e),t.l||R(t,e)),t.u&&b("Patches").M(n[$],e,t.u,t.s)):e=T(t,n,[]),E(t),t.u&&t.v(t.u,t.s),e!==G?e:void 0}function T(e,t,n){if(y(t))return t;var r=t[$];if(!r)return a(t,(function(i,o){return j(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return R(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=m(r.k):r.o;a(3===r.i?new Set(i):i,(function(t,o){return j(e,r,i,t,o,n)})),R(e,i,!1),n&&e.u&&b("Patches").R(r,n,e.u,e.s)}return r.o}function j(e,t,n,r,a,s){if(i(a)){var c=T(e,a,s&&t&&3!==t.i&&!u(t.D,r)?s.concat(r):void 0);if(l(n,r,c),!i(c))return;e.m=!1}if(o(a)&&!y(a)){if(!e.h.N&&e._<1)return;T(e,a),t&&t.A.l||R(e,a)}}function R(e,t,n){void 0===n&&(n=!1),e.h.N&&e.m&&v(t,n)}function P(e,t){var n=e[$];return(n?p(n):e)[t]}function D(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function I(e){e.P||(e.P=!0,e.l&&I(e.l))}function A(e){e.o||(e.o=m(e.t))}function M(e,t,n){var r=f(t)?b("MapSet").T(t,n):h(t)?b("MapSet").F(t,n):e.O?(function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:O(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=Z;n&&(i=[r],o=J);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u})(t,n):b("ES5").J(t,n);return(n?n.A:O()).p.push(r),r}function N(e){return i(e)||r(22,e),(function e(t){if(!o(t))return t;var n,r=t[$],i=s(t);if(r){if(!r.P&&(r.i<4||!b("ES5").K(r)))return r.t;r.I=!0,n=L(t,i),r.I=!1}else n=L(t,i);return a(n,(function(t,i){r&&c(r.t,t)===i||l(n,t,e(i))})),3===i?new Set(n):n})(e)}function L(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return m(e)}function F(){function e(e,t){var n=o[e];return n?n.enumerable=t:o[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[$];return Z.get(t,e)},set:function(t){var n=this[$];Z.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][$];if(!i.P)switch(i.i){case 5:r(i)&&I(i);break;case 4:n(i)&&I(i)}}}function n(e){for(var t=e.t,n=e.k,r=Y(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==$){var a=t[o];if(void 0===a&&!u(t,o))return!0;var s=n[o],c=s&&s[$];if(c?c.t!==a:!d(s,a))return!0}}var l=!!t[$];return r.length!==Y(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var o={};_("ES5",{J:function(t,n){var r=Array.isArray(t),i=(function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=K(n);delete o[$];for(var a=Y(o),s=0;s<a.length;s++){var u=a[s];o[u]=e(u,t||!!o[u].enumerable)}return Object.create(Object.getPrototypeOf(n),o)})(r,t),o={i:r?5:4,A:n?n.A:O(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,$,{value:o,writable:!0}),i},S:function(e,n,o){o?i(n)&&n[$].A===e&&t(e.p):(e.u&&(function e(t){if(t&&"object"==typeof t){var n=t[$];if(n){var i=n.t,o=n.k,s=n.D,c=n.i;if(4===c)a(o,(function(t){t!==$&&(void 0!==i[t]||u(i,t)?s[t]||e(o[t]):(s[t]=!0,I(n)))})),a(i,(function(e){void 0!==o[e]||u(o,e)||(s[e]=!1,I(n))}));else if(5===c){if(r(n)&&(I(n),s.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)s[l]=!1;else for(var d=i.length;d<o.length;d++)s[d]=!0;for(var f=Math.min(o.length,i.length),h=0;h<f;h++)void 0===s[h]&&e(o[h])}}}})(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}n.r(t);var B,U,z="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),V="undefined"!=typeof Map,H="undefined"!=typeof Set,W="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,G=z?Symbol.for("immer-nothing"):((B={})["immer-nothing"]=!0,B),q=z?Symbol.for("immer-draftable"):"__$immer_draftable",$=z?Symbol.for("immer-state"):"__$immer_state",Y=("undefined"!=typeof Symbol&&Symbol.iterator,"undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames),K=Object.getOwnPropertyDescriptors||function(e){var t={};return Y(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},X={},Z={get:function(e,t){if(t===$)return e;var n=p(e);if(!u(n,t))return (function(e,t,n){var r,i=D(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0})(e,n,t);var r=n[t];return e.I||!o(r)?r:r===P(e.t,t)?(A(e),e.o[t]=M(e.A.h,r,e)):r},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,n){var r=D(p(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=P(p(e),t),o=null==i?void 0:i[$];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(d(n,i)&&(void 0!==n||u(e.t,t)))return!0;A(e),I(e)}return e.o[t]=n,e.D[t]=!0,!0},deleteProperty:function(e,t){return void 0!==P(e.t,t)||t in e.t?(e.D[t]=!1,A(e),I(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=p(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},J={};a(Z,(function(e,t){J[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),J.deleteProperty=function(e,t){return Z.deleteProperty.call(this,e[0],t)},J.set=function(e,t,n){return Z.set.call(this,e[0],t,n,e[0])};var Q=new(function(){function e(e){this.O=W,this.N=!1,"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var t=e.prototype;return t.produce=function(e,t,n){if("function"==typeof e&&"function"!=typeof t){var i=t;t=e;var a=this;return function(e){var n=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=t).call.apply(r,[n,e].concat(o))}))}}var s;if("function"!=typeof t&&r(6),void 0!==n&&"function"!=typeof n&&r(7),o(e)){var u=C(this),c=M(this,e,void 0),l=!0;try{s=t(c),l=!1}finally{l?E(u):S(u)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return w(u,n),k(e,u)}),(function(e){throw E(u),e})):(w(u,n),k(s,u))}if(!e||"object"!=typeof e){if((s=t(e))===G)return;return void 0===s&&(s=e),this.N&&v(s,!0),s}r(21,e)},t.produceWithPatches=function(e,t){var n,r,i=this;return"function"==typeof e?function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return i.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(r))}))}:[this.produce(e,t,(function(e,t){n=e,r=t})),n,r]},t.createDraft=function(e){o(e)||r(8),i(e)&&(e=N(e));var t=C(this),n=M(this,e,void 0);return n[$].C=!0,S(t),n},t.finishDraft=function(e,t){var n=(e&&e[$]).A;return w(n,t),k(void 0,n)},t.setAutoFreeze=function(e){this.N=e},t.setUseProxies=function(e){e&&!W&&r(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var o=b("Patches").$;return i(e)?o(e,t):this.produce(e,(function(e){return o(e,t.slice(n+1))}))},e}()),ee=Q.produce,te=(Q.produceWithPatches.bind(Q),Q.setAutoFreeze.bind(Q),Q.setUseProxies.bind(Q),Q.applyPatches.bind(Q),Q.createDraft.bind(Q),Q.finishDraft.bind(Q),ee),ne=n(257);function re(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ie="function"==typeof Symbol&&Symbol.observable||"@@observable",oe=function(){return Math.random().toString(36).substring(7).split("").join(".")},ae={INIT:"@@redux/INIT"+oe(),REPLACE:"@@redux/REPLACE"+oe(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+oe()}};function se(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ue(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(re(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(re(1));return n(ue)(e,t)}if("function"!=typeof e)throw new Error(re(2));var i=e,o=t,a=[],s=a,u=!1;function c(){s===a&&(s=a.slice())}function l(){if(u)throw new Error(re(3));return o}function d(e){if("function"!=typeof e)throw new Error(re(4));if(u)throw new Error(re(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(re(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function f(e){if(!se(e))throw new Error(re(7));if(void 0===e.type)throw new Error(re(8));if(u)throw new Error(re(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:ae.INIT}),(r={dispatch:f,subscribe:d,getState:l,replaceReducer:function(e){if("function"!=typeof e)throw new Error(re(10));i=e,f({type:ae.REPLACE})}})[ie]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(re(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[ie]=function(){return this},e},r}function ce(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!(function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:ae.INIT}))throw new Error(re(12));if(void 0===n(void 0,{type:ae.PROBE_UNKNOWN_ACTION()}))throw new Error(re(13))}))})(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var u=a[s],c=n[u],l=e[u],d=c(l,t);if(void 0===d){t&&t.type;throw new Error(re(14))}i[u]=d,r=r||d!==l}return(r=r||a.length!==Object.keys(e).length)?i:e}}function le(e,t){return function(){return t(e.apply(this,arguments))}}function de(e,t){if("function"==typeof e)return le(e,t);if("object"!=typeof e||null===e)throw new Error(re(16));var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=le(i,t))}return n}function fe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function he(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(re(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=fe.apply(void 0,o)(n.dispatch),Object(ne.a)(Object(ne.a)({},n),{},{dispatch:r})}}}var pe="NOT_FOUND";var me=function(e,t){return e===t};var ve=(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o,a=0,s={memoizeOptions:void 0},u=r.pop();if("object"==typeof u&&(s=u,u=r.pop()),"function"!=typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var c=s.memoizeOptions,l=void 0===c?n:c,d=Array.isArray(l)?l:[l],f=(function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t})(r),h=e.apply(void 0,[function(){return a++,u.apply(null,arguments)}].concat(d)),p=e((function(){for(var e=[],t=f.length,n=0;n<t;n++)e.push(f[n].apply(null,arguments));return o=h.apply(null,e)}));return Object.assign(p,{resultFunc:u,memoizedResultFunc:h,dependencies:f,lastResult:function(){return o},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),p}})((function(e,t){var n="object"==typeof t?t:{equalityCheck:t},r=n.equalityCheck,i=void 0===r?me:r,o=n.maxSize,a=void 0===o?1:o,s=n.resultEqualityCheck,u=(function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}})(i),c=1===a?(function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:pe},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}})(u):(function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}return pe}return{get:r,put:function(t,i){r(t)===pe&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}})(a,u);function l(){var t=c.get(arguments);if(t===pe){if(t=e.apply(null,arguments),s){var n=c.getEntries().find((function(e){return s(e.value,t)}));n&&(t=n.value)}c.put(arguments,t)}return t}return l.clearCache=function(){return c.clear()},l}));function ge(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var ye=ge();ye.withExtraArgument=ge;var be=ye;function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e,t,n){return(Ee=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}})()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&we(i,n.prototype),i}).apply(null,arguments)}function Se(e){var t="function"==typeof Map?new Map:void 0;return(Se=function(e){if(null===e||!(function(e){return-1!==Function.toString.call(e).indexOf("[native code]")})(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ee(e,arguments,Oe(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),we(n,e)})(e)}n.d(t,"MiddlewareArray",(function(){return ke})),n.d(t,"configureStore",(function(){return Me})),n.d(t,"createAction",(function(){return Ne})),n.d(t,"createAsyncThunk",(function(){return Ze})),n.d(t,"createEntityAdapter",(function(){return qe})),n.d(t,"createImmutableStateInvariantMiddleware",(function(){return je})),n.d(t,"createReducer",(function(){return Ue})),n.d(t,"createSerializableStateInvariantMiddleware",(function(){return De})),n.d(t,"createSlice",(function(){return ze})),n.d(t,"findNonSerializableValue",(function(){return Pe})),n.d(t,"getDefaultMiddleware",(function(){return Ie})),n.d(t,"getType",(function(){return Fe})),n.d(t,"isImmutableDefault",(function(){return Te})),n.d(t,"isPlain",(function(){return Re})),n.d(t,"nanoid",(function(){return $e})),n.d(t,"unwrapResult",(function(){return Je})),n.d(t,"createNextState",(function(){return te})),n.d(t,"current",(function(){return N})),n.d(t,"__DO_NOT_USE__ActionTypes",(function(){return ae})),n.d(t,"applyMiddleware",(function(){return he})),n.d(t,"bindActionCreators",(function(){return de})),n.d(t,"combineReducers",(function(){return ce})),n.d(t,"compose",(function(){return fe})),n.d(t,"createStore",(function(){return ue})),n.d(t,"createSelector",(function(){return ve}));var Ce="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?fe:fe.apply(null,arguments)};function xe(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}var ke=(function(e){function t(){return e.apply(this,arguments)||this}!(function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t})(t,e);var n=t.prototype;return n.concat=function(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ee(t,(n=e.prototype.concat).call.apply(n,[this].concat(i)))},n.prepend=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?Ee(t,n[0].concat(this)):Ee(t,n.concat(this))},t})(Se(Array));function Te(e){return"object"!=typeof e||null===e||void 0===e}function je(e){return void 0===e&&(e={}),function(){return function(e){return function(t){return e(t)}}}}function Re(e){return void 0===e||null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e||Array.isArray(e)||xe(e)}function Pe(e,t,n,r,i){var o;if(void 0===t&&(t=[]),void 0===n&&(n=Re),void 0===i&&(i=[]),!n(e))return{keyPath:t.join(".")||"<root>",value:e};if("object"!=typeof e||null===e)return!1;var a=null!=r?r(e):Object.entries(e),s=i.length>0,u=a,c=Array.isArray(u),l=0;for(u=c?u:u[Symbol.iterator]();;){var d;if(c){if(l>=u.length)break;d=u[l++]}else{if((l=u.next()).done)break;d=l.value}var f=d,h=f[0],p=f[1],m=t.concat(h);if(!(s&&i.indexOf(m.join("."))>=0)){if(!n(p))return{keyPath:m.join("."),value:p};if("object"==typeof p&&(o=Pe(p,m,n,r,i)))return o}}return!1}function De(e){return void 0===e&&(e={}),function(){return function(e){return function(t){return e(t)}}}}function Ie(e){void 0===e&&(e={});var t=e,n=t.thunk,r=void 0===n||n,i=(t.immutableCheck,t.serializableCheck,new ke);return r&&(!(function(e){return"boolean"==typeof e})(r)?i.push(be.withExtraArgument(r.extraArgument)):i.push(be)),i}var Ae=!0;function Me(e){var t,n=function(e){return Ie(e)},r=e||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,s=void 0===a?n():a,u=r.devTools,c=void 0===u||u,l=r.preloadedState,d=void 0===l?void 0:l,f=r.enhancers,h=void 0===f?void 0:f;if("function"==typeof o)t=o;else{if(!xe(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=ce(o)}var p=he.apply(void 0,"function"==typeof s?s(n):s),m=fe;c&&(m=Ce(_e({trace:!Ae},"object"==typeof c&&c)));var v=[p];return Array.isArray(h)?v=[p].concat(h):"function"==typeof h&&(v=h(v)),ue(t,d,m.apply(void 0,v))}function Ne(e,t){function n(){if(t){var n=t.apply(void 0,arguments);if(!n)throw new Error("prepareAction did not return an object");return _e({type:e,payload:n.payload},"meta"in n&&{meta:n.meta},{},"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Le(e){return["type","payload","error","meta"].indexOf(e)>-1}function Fe(e){return""+e}function Be(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"==typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Ue(e,t,n,r){void 0===n&&(n=[]);var a="function"==typeof t?Be(t):[t,n,r],s=a[0],u=a[1],c=a[2];return function(t,n){void 0===t&&(t=e);var r=[s[n.type]].concat(u.filter((function(e){return(0,e.matcher)(n)})).map((function(e){return e.reducer})));return 0===r.filter((function(e){return!!e})).length&&(r=[c]),r.reduce((function(e,t){if(t){if(i(e)){var r=t(e,n);return void 0===r?e:r}if(o(e))return te(e,(function(e){return t(e,n)}));var a=t(e,n);if(void 0===a)throw Error("A case reducer on a non-draftable value must not return undefined");return a}return e}),t)}}function ze(e){var t=e.name,n=e.initialState;if(!t)throw new Error("`name` is a required option for createSlice");var r=e.reducers||{},i=void 0===e.extraReducers?[]:"function"==typeof e.extraReducers?Be(e.extraReducers):[e.extraReducers],o=i[0],a=void 0===o?{}:o,s=i[1],u=void 0===s?[]:s,c=i[2],l=void 0===c?void 0:c,d={},f={},h={};Object.keys(r).forEach((function(e){var n,i,o=r[e],a=(function(e,t){return e+"/"+t})(t,e);"reducer"in o?(n=o.reducer,i=o.prepare):n=o,d[e]=n,f[a]=n,h[e]=i?Ne(a,i):Ne(a)}));var p=Ue(n,_e({},a,{},f),u,l);return{name:t,reducer:p,actions:h,caseReducers:d}}function Ve(e){return function(t,n){function r(e){return (function(e){return xe(e)&&"string"==typeof e.type&&Object.keys(e).every(Le)})(e)}var o=function(t){r(n)?e(n.payload,t):e(n,t)};return i(t)?(o(t),t):te(t,o)}}function He(e,t){return t(e)}function We(e){function t(t,n){var r=He(t,e);r in n.entities||(n.ids.push(r),n.entities[r]=t)}function n(e,n){Array.isArray(e)||(e=Object.values(e));var r=e,i=Array.isArray(r),o=0;for(r=i?r:r[Symbol.iterator]();;){var a;if(i){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}t(a,n)}}function r(e,t){var n=!1;e.forEach((function(e){e in t.entities&&(delete t.entities[e],n=!0)})),n&&(t.ids=t.ids.filter((function(e){return e in t.entities})))}function i(t,n){var r={},i={};(t.forEach((function(e){e.id in n.entities&&(i[e.id]={id:e.id,changes:_e({},i[e.id]?i[e.id].changes:null,{},e.changes)})})),(t=Object.values(i)).length>0)&&(t.filter((function(t){return (function(t,n,r){var i=r.entities[n.id],o=Object.assign({},i,n.changes),a=He(o,e),s=a!==n.id;return s&&(t[n.id]=a,delete r.entities[n.id]),r.entities[a]=o,s})(r,t,n)})).length>0&&(n.ids=n.ids.map((function(e){return r[e]||e}))))}function o(t,r){Array.isArray(t)||(t=Object.values(t));var o=[],a=[],s=t,u=Array.isArray(s),c=0;for(s=u?s:s[Symbol.iterator]();;){var l;if(u){if(c>=s.length)break;l=s[c++]}else{if((c=s.next()).done)break;l=c.value}var d=l,f=He(d,e);f in r.entities?a.push({id:f,changes:d}):o.push(d)}i(a,r),n(o,r)}return{removeAll:(function(e){var t=Ve((function(t,n){return e(n)}));return function(e){return t(e,void 0)}})((function(e){Object.assign(e,{ids:[],entities:{}})})),addOne:Ve(t),addMany:Ve(n),setAll:Ve((function(e,t){Array.isArray(e)||(e=Object.values(e)),t.ids=[],t.entities={},n(e,t)})),updateOne:Ve((function(e,t){return i([e],t)})),updateMany:Ve(i),upsertOne:Ve((function(e,t){return o([e],t)})),upsertMany:Ve(o),removeOne:Ve((function(e,t){return r([e],t)})),removeMany:Ve(r)}}function Ge(e,t){var n=We(e);function r(t,n){Array.isArray(t)||(t=Object.values(t));var r=t.filter((function(t){return!(He(t,e)in n.entities)}));0!==r.length&&a(r,n)}function i(t,n){var r=[];t.forEach((function(t){return (function(t,n,r){if(!(n.id in r.entities))return!1;var i=r.entities[n.id],o=Object.assign({},i,n.changes),a=He(o,e);return delete r.entities[n.id],t.push(o),a!==n.id})(r,t,n)})),0!==r.length&&a(r,n)}function o(t,n){Array.isArray(t)||(t=Object.values(t));var o=[],a=[],s=t,u=Array.isArray(s),c=0;for(s=u?s:s[Symbol.iterator]();;){var l;if(u){if(c>=s.length)break;l=s[c++]}else{if((c=s.next()).done)break;l=c.value}var d=l,f=He(d,e);f in n.entities?a.push({id:f,changes:d}):o.push(d)}i(a,n),r(o,n)}function a(n,r){n.sort(t),n.forEach((function(t){r.entities[e(t)]=t}));var i=Object.values(r.entities);i.sort(t);var o=i.map(e);(function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(e[n]!==t[n])return!1;return!0})(r.ids,o)||(r.ids=o)}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:Ve((function(e,t){return r([e],t)})),updateOne:Ve((function(e,t){return i([e],t)})),upsertOne:Ve((function(e,t){return o([e],t)})),setAll:Ve((function(e,t){Array.isArray(e)||(e=Object.values(e)),t.entities={},t.ids=[],r(e,t)})),addMany:Ve(r),updateMany:Ve(i),upsertMany:Ve(o)}}function qe(e){void 0===e&&(e={});var t=_e({sortComparer:!1,selectId:function(e){return e.id}},e),n=t.selectId,r=t.sortComparer;return _e({selectId:n,sortComparer:r},{getInitialState:function(e){return void 0===e&&(e={}),Object.assign({ids:[],entities:{}},e)}},{},{getSelectors:function(e){var t=function(e){return e.ids},n=function(e){return e.entities},r=ve(t,n,(function(e,t){return e.map((function(e){return t[e]}))})),i=function(e,t){return t},o=function(e,t){return e[t]},a=ve(t,(function(e){return e.length}));if(!e)return{selectIds:t,selectEntities:n,selectAll:r,selectTotal:a,selectById:ve(n,i,o)};var s=ve(e,n);return{selectIds:ve(e,t),selectEntities:s,selectAll:ve(e,r),selectTotal:ve(e,a),selectById:ve(s,i,o)}}},{},r?Ge(n,r):We(n))}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var $e=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Ye=["name","message","stack","code"],Ke=function(e){this.value=e},Xe=function(e){if("object"==typeof e&&null!==e){var t={},n=Ye,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var a=o;"string"==typeof e[a]&&(t[a]=e[a])}return t}return{message:String(e)}};function Ze(e,t,n){var r=Ne(e+"/fulfilled",(function(e,t,n){return{payload:e,meta:{arg:n,requestId:t}}})),i=Ne(e+"/pending",(function(e,t){return{payload:void 0,meta:{arg:t,requestId:e}}})),o=Ne(e+"/rejected",(function(e,t,n,r){var i=!!e&&"AbortError"===e.name,o=!!e&&"ConditionError"===e.name;return{payload:r,error:Xe(e||"Rejected"),meta:{arg:n,requestId:t,aborted:i,condition:o}}})),a="undefined"!=typeof AbortController?AbortController:(function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){}}}return e.prototype.abort=function(){0},e})();return Object.assign((function(e){return function(s,u,c){var l,d=$e(),f=new a,h=new Promise(function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))}),p=!1,m=(function(){try{var a,l=function(e){return m?e:(n&&!n.dispatchConditionRejection&&o.match(a)&&a.meta.condition||s(a),a)},m=!1,v=(function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n})((function(){if(n&&n.condition&&!1===n.condition(e,{getState:u,extra:c}))throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return p=!0,s(i(d,e)),Promise.resolve(Promise.race([h,Promise.resolve(t(e,{dispatch:s,getState:u,extra:c,requestId:d,signal:f.signal,rejectWithValue:function(e){return new Ke(e)}})).then((function(t){return t instanceof Ke?o(null,d,e,t.value):r(t,d,e)}))])).then((function(e){a=e}))}),(function(t){a=o(t,d,e)}));return Promise.resolve(v&&v.then?v.then(l):l(v))}catch(e){return Promise.reject(e)}})();return Object.assign(m,{abort:function(e){p&&(l=e,f.abort())}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}function Je(e){if("error"in e)throw e.error;return e.payload}F()}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(82),i=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Object(r.a)()&&requestAnimationFrame((function(){t.forEach((function(t){void 0!==e&&void 0!==t&&("function"==typeof t?t(e.current):t.current=e.current)}))})),e};function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){e.forEach((function(e){"function"==typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}))}}}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n(2),i=n(0),o=n(28),a=(n(1339),Object(o.cn)("Link")),s=function(e){var t=e.as,n=e.children,o=e.controlRef,s=e.disabled,u=e.innerRef,c=e.role,l=(e.pseudo,e.view,Object(r.__rest)(e,["as","children","controlRef","disabled","innerRef","role","pseudo","view"])),d=t||(l.href?"a":"span"),f=l.rel;return"_blank"===l.target&&void 0!==f&&-1===f.indexOf("noopener")&&(f+=" noopener"),Object(i.createElement)(d,Object.assign(l,{"aria-disabled":s,className:a(null,[l.className]),ref:u||o,rel:f,role:c,tabIndex:s?-1:l.tabIndex}),n)};s.displayName=a()}),(function(e,t,n){"use strict";function r(e){if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.d(t,"g",(function(){return b})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return C})),n.d(t,"a",(function(){return x})),n.d(t,"e",(function(){return k})),n.d(t,"d",(function(){return T})),n.d(t,"f",(function(){return j}));var r=n(10),i=n.n(r),o=n(36),a=n(108),s=n(13),u=n(62),c=n(48),l=n(12),d=n(210),f=n(51),h=n.n(f),p=n(31),m=n(42),v=n(53),g=n(26),y=function(e){return{type:a.c,payload:e}},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:a.b,payload:{album:e,refresh:t}}},_=function(){return Object(o.a)("albums",{albumType:"geo",amount:1})},O=function(){return Object(o.a)("getAlbumFaces")},w=function(e,t){return function(n){n(e?{type:a.a,payload:{albums:i()({},e,t),single:!0}}:Object(c.updateAlbumsCommonData)(t))}},E={},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,i){var a=(e||"personal")+t,u=E[a];if(u)return u;if(!Object(p.e)(i(),e).isLoaded||t||n){var c={isLoading:!0};return n&&(c=Object.assign(c,{ids:[],isLoaded:!1,isCompleted:!1})),r(w(e,c)),u=r(function(e,t){return function(n,r){return Object(o.a)("albums",{offset:e,amount:40,albumType:t}).then((function(e){var i=e.map((function(e){return d.a.preprocessAlbum(e)})),o=i.map((function(e){return e.id})),a=r(),u=Object(p.e)(a,t).ids||[],c=o.filter((function(e){return!u.includes(e)}));return n({type:s.FETCH_ALBUMS_LIST_SUCCESS,payload:{albums:i,albumType:t,ids:c}}),n(w(t,Object.assign({isLoading:!1,isLoaded:!0},t&&c.length?{ids:c}:{},o.length<40?{isCompleted:!0}:{})))}))}}(t,e)).then((function(){delete E[a]})).catch((function(e){if(delete E[a],e instanceof Error)throw e;e&&e.id&&h.a.go("/client/error","preserve",{reason:"fetch_albums_error",error:e})})),E[a]=u,u}}},C=function(e){return function(t,n){var r=Object(p.e)(n(),e);t(S(e,r.ids?r.ids.length:0))}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){e.silent||t({type:a.d,payload:{isLoading:!0}});var r=[Object(o.a)("getAlbumsSlices"),Object(o.a)("getAlbumFavorites"),_()],i=Object(p.a)(n());return i&&r.push(O()),Promise.all(r.map((function(e){return e.then((function(e){return{status:"fulfilled",value:e}})).catch((function(e){return{status:"rejected",reason:e}}))}))).then((function(e){var n=e.shift();if("fulfilled"!==n.status||n.value.error){!(function(e){h.a.go("/client/error","preserve",{reason:"albums2_fetch_albums_error",error:e})})("rejected"===n.status?n.reason:n.value.error)}else{var r=e.shift();"fulfilled"!==r.status||r.value.error||t(function(e){return function(t){var n=e&&e.length&&d.a.preprocessAlbum(e[0]);t({type:a.e,payload:n?[n]:[]}),n&&t(Object(u.f)(n))}}(r.value)),t(function(e){return{type:a.a,payload:e}}(n.value));var o=e.shift();if("fulfilled"!==o.status||o.value.error||t(y(o.value)),i){var s=e.shift();"fulfilled"!==s.status||s.value.error||t(b(s.value))}t({type:a.d,payload:{isLoading:!1,isLoaded:!0}})}}))}},k=function(){return function(e){return _().then((function(t){if(t.error)return Promise.reject(t.error);e(y(t))}))}},T=function(){return function(e,t){return Object(p.a)(t())?O().then((function(t){if(t.error)return Promise.reject(t.error);e(b(t,!0))})):Promise.reject()}},j=function(){return function(e){var t=function(e){l.default.count("interface elements","faces meta-album","refuse albums",e)};return e(Object(v.add)("confirmation",{dialogParams:{title:"Отключить группировку фото по людям?",text:"Включить обратно ее будет нельзя. Альбом «Люди на фото» будет удален навсегда. Сами фото останутся на Диске.",submitButtonText:"Отключить",cancelButtonText:"Отмена"},onSubmit:function(){return t("ok"),Object(o.a)("do-refuse-albums-faces",{}).then((function(){e(Object(g.updateUser)({faces_indexing_state:"user_refused"})),e(b([])),e(Object(g.goToUrl)("/client/albums"));return e(Object(v.add)("confirmation",{dialogParams:{text:"Группировка фото по людям отключена. Удаление альбома «"+yr.externals.entityify("Люди на фото")+"» займет некоторое время.",submitButtonText:"Закрыть",cancelButtonText:""},onSubmit:function(){}}))})).catch((function(){e(Object(m.notify)({operation:"refuseAlbumsFaces",status:"failed"}))}))},onReject:function(){t("cancel")}}))}}}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));var r=function(e){e.preventDefault()},i=function(e){return e.resources.indexOf(e.activeResource)},o=function(e,t){var n=i(e),r=e.fetchResourcesThreshold||10;return-1===t?n<r&&Boolean(e.possiblyHasPrevious):n>e.resources.length-r-1&&Boolean(e.possiblyHasNext)}}),(function(e,t,n){var r=n(9),i=n(211);e.exports={capitalize:function(e){return"string"==typeof e&&e.length?e.charAt(0).toUpperCase()+e.slice(1):e},toLowerFirstLetter:function(e){return"string"==typeof e&&e.length?e.charAt(0).toLowerCase()+e.slice(1):e},isEmail:function(e){return"string"==typeof e&&/^[-a-zа-яё0-9!#$%&'*+\/=?^_`{|}~]+(?:\.[-a-zа-яё0-9!#$%&'*+\/=?^_`{|}~]*)*@(?:[a-zа-яё0-9]([-a-zа-яё0-9]{0,61}[a-zа-яё0-9])?\.)+(?:aero|arpa|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|рф|[a-z]{2})$/i.test(e.toLowerCase())},getUnique:(function(){var e=null,t=1;return function(){var n=i.timestampToDate(Date.now()/1e3,"YYYY-MM-DD HH-mm-ss"),r=n;return n===e?(r=n+" ("+t.toString()+")",t+=1):t=1,e=n,r}})(),crop:function(e,t,n){return t=parseInt(t,10)||27,n=r.isUndefined(n)?"…":n,t+=Math.floor(.6*(e.match(/i|I|l|j/g)||[]).length),e.length>t?e.substring(0,t).trim().replace(/(\.{1,3})$/g,"")+n:e},processHashResource:function(e){var t=e.split(":/"),n=t.length>1?":/"+t.slice(1).join(":/"):"";return t[0].replace(/\s/g,"+")+n},breakNumber:function(e){for(var t=String(e)||"0",n=t.length%3||3,r=[];t.length;)r.push(t.substring(0,n)),t=t.substring(n),n=3;return r},createId:(function(){var e={},t=1;return function(n){return e[n]||(e[n]=t++),e[n]}})(),hashCode:(function(){var e={};return function(t){if(e[t])return e[t];for(var n=0,r=0,i=t.length;r<i;r++){n=(n<<5)-n+t.charCodeAt(r),n|=0}return n>>>=0,e[t]=n,n}})()}}),(function(e,t,n){n(516);var r=ns.Model.get("config");e.exports=r&&r.getData()||{}}),(function(e,t,n){"use strict";n.d(t,"d",(function(){return g})),n.d(t,"i",(function(){return y})),n.d(t,"f",(function(){return _})),n.d(t,"h",(function(){return O})),n.d(t,"b",(function(){return w})),n.d(t,"m",(function(){return E})),n.d(t,"l",(function(){return S})),n.d(t,"k",(function(){return C})),n.d(t,"a",(function(){return x})),n.d(t,"e",(function(){return k})),n.d(t,"c",(function(){return T})),n.d(t,"g",(function(){return j})),n.d(t,"j",(function(){return R}));var r=n(10),i=n.n(r),o=n(66),a=n.n(o),s=n(102),u=n(281),c=n(22),l=n(9),d=n.n(l);function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)})(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){return e},m=function(e,t){return t<e.from?-1:t>e.to?1:0},v=function(e){var t=e.split("_").map((function(e){return parseInt(e,10)})),n=a()(t,2);return{from:n[0],to:n[1]}},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p,r=v(t),i=r.from,o=r.to,a=Object(s.sortedIndex)(e,t,(function(e){var t=v(n(e)),r=t.from,a=t.to;return r>=i&&a>=o?-1:1}));return a&&n(e[a-1])===t?{found:!0,index:a-1}:{found:!1,index:a}},y=function(e,t){return Object(s.sortedIndex)(t,{itemId:e},(function(e,t){return e.itemId>=t.itemId?-1:1}))},b=function(e,t){var n=y(e,t);return n&&t[n-1].itemId===e?n-1:-1},_=function(e,t){return t.findIndex((function(t){return t.id===e}))},O=function(e,t){var n={clusters:{},revision:e.revision};return e.items.forEach((function(e){var r=e.base_revision;t>r||(n.revision=e.revision,e.index_changes&&e.index_changes.forEach((function(e){var t=e.cluster_id,r=d.a.get(e.data,"albums",[]).reduce((function(e,t){return Object.assign(e,i()({},t.album,t))}),{}),o=Object.assign({id:t},d.a.pick(e.data,["size","from","to","city","streets"]),{albums:r});switch(n.clusters[t]||(n.clusters[t]={}),e.change_type){case"insert":n.clusters[t]={insert:o};break;case"update":if(n.clusters[t].insert){var a=n.clusters[t].insert;n.clusters[t].insert=Object.assign(a,o,{albums:Object.assign(d.a.get(a,"albums",{}),o.albums)})}else{var s=n.clusters[t].update||{};n.clusters[t].update=Object.assign(s,o,{albums:Object.assign(d.a.get(s,"albums",{}),o.albums)})}break;case"delete":n.clusters[t]={delete:!0}}})),e.items_changes&&e.items_changes.forEach((function(e){var t=e.cluster_id,r=e.item_id;if(n.clusters[t]||(n.clusters[t]={}),!n.clusters[t].delete)switch(n.clusters[t].items||(n.clusters[t].items={}),n.clusters[t].items[r]||(n.clusters[t].items[r]={}),e.change_type){case"insert":var i=Object.assign({id:Object(c.normalize)(e.data.path),itemId:r},d.a.pick(e.data,["height","width","beauty","albums"]));if(n.clusters[t].insert){n.clusters[t].insert.items||(n.clusters[t].insert.items=[]);var o=y(i.itemId,n.clusters[t].insert.items);n.clusters[t].insert.items.splice(o,0,i),n.clusters[t].items[r].delete&&delete n.clusters[t].items[r].delete}else n.clusters[t].items[r]={insert:i};break;case"update":if(!e.data||!e.data.path)return;n.clusters[t].items[r]={update:Object.assign({id:Object(c.normalize)(e.data.path),itemId:r},d.a.pick(e.data,"albums"))};break;case"delete":n.clusters[t].items[r]={delete:!0}}})))})),n},w=function(e,t){if(Object.assign(e,d.a.pick(t,["items","size","from","to"])),t.streets){var n=e.streets||[];t.streets.forEach((function(e){var t=e.place_index;switch(e.change_type){case"insert":n.splice(t,0,e.data);break;case"delete":n.splice(t,1);break;case"update":n.splice(t,1,e.data)}})),n.length?e.streets=n:delete e.streets}if(t.city)switch(t.city.change_type){case"insert":case"update":e.city=t.city.data;break;case"delete":delete e.city}if(t.albums){var r=Object.assign({},e.albums);for(var i in t.albums){var o=t.albums[i];switch(o.change_type){case"insert":case"update":r[o.album]=o.count;break;case"delete":delete r[o.album]}}e.albums=Object(u.getAlbums)(r)}},E=function(e,t){var n=b(e,t);if(-1===n)return t;var r=t.slice(0);return r.splice(n,1),r},S=function(e,t){var n=g(t,e),r=n.index;if(!n.found)return t;var i=t.slice(0);return i.splice(r,1),i},C=function(e,t){var n=g(t,e),r=n.index;if(!n.found){var i=t.slice(0);return i.splice(r,0,e),i}return t},x=function(e,t){var n=b(e.itemId,t);if(-1===n){var r=t.slice(),i=y(e.itemId,r);return r.splice(i,0,e),r}var o=t[n],a=d.a.get(o,"albums",[]),s=e.albums;if(o.id!==e.id||s&&!d.a.isEqual(a,s)){var u=t.slice();return u[n]=Object.assign({},u[n],{id:e.id,albums:s||u[n].albums}),u}return t},k=function(e,t){return Object(s.sortedFind)(e,t,m)},T=function(e,t){return e[k(e,t)]},j=function(e,t){if(t.meta&&t.meta.photoslice_time){var n=k(e,1e3*t.meta.photoslice_time);if(!(n<0)&&e[n].items){var r=e[n].items.findIndex((function(e){return e.id===t.id}));if(!(r<0))return{clusterIndex:n,resourceIndex:r}}}},R=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=f(e);try{for(o.s();!(n=o.n()).done;)for(var s=a()(n.value,2),u=s[0],c=s[1],l=u.clusterIndex;l<=c.clusterIndex;l++){var d=l,h=t[d],p=0,m=h.size-1;if(d===u.clusterIndex&&(p=u.resourceIndex),d===c.clusterIndex&&(m=c.resourceIndex),h.items)for(var v=p;v<=m;v++)r(h,h.items[v],{clusterIndex:d,resourceIndex:v});else i(h,p,m)}}catch(e){o.e(e)}finally{o.f()}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(105),i=n(164);t.getThemeName=function(e){var t=e.environment.session.forceTheme,n=e.settings.generalThemes,i=t||(null===n||void 0===n?void 0:n.theme);return i&&r.isThemeExists(i)?i:null},t.isCoverLayerEnabled=function(e){var n=t.getThemeName(e);return Boolean(n)&&Boolean(r.getCover(n))},t.getThemeSettings=function(e){return t.isCoverLayerEnabled(e)?e.settings.generalThemes.settings:null},t.isVideothemeFlowEnabled=function(e){var t=e.settings.generalThemes;return(null===t||void 0===t?void 0:t.theme)===i.ThemeName.GeneralFlow}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(78);function i(e){return((Object(r.a)(e)?e.ownerDocument:e.document)||window.document).documentElement}}),(function(e,t,n){"use strict";n.r(t);var r=n(21),i=n.n(r),o=n(9),a=n.n(o),s=n(203),u=n(415);s.a.define("queueRequest",{limit:10,methods:{TIMEOUT_RETRY_REQUEST:5e3,_bindBeforeunload:function(){this._isBindedBeforeunload||(this._isBindedBeforeunload=!0,window.addEventListener("beforeunload",this._onBeforeunload))},_unbindBeforeunload:function(){this._isBindedBeforeunload=!1,window.removeEventListener("beforeunload",this._onBeforeunload)},_onBeforeunload:function(e){e.preventDefault(),e.returnValue=""},push:function(e){return e.isAction&&this._bindBeforeunload(),s.a.prototype.push.call(this,e)},handlePortion:function(e){var t=this,n=this,r=[],o=[];a.a.each(e,(function(e){var t={id:e.item.id,params:e.item.params};r.push(t),o.push(e.promise||null)}));var s=ns.forcedRequest(r);return s.always((function(){t._isBindedBeforeunload&&!t.items.some((function(e){return e.item.isAction}))&&t._unbindBeforeunload()})),s.then((function(e){a.a.each(e,(function(e,t){var r=o[t];if(r){var i=e.getError();i?"WRONG_SK"===i.id?n.push(e).then((function(){r.fulfill()}),(function(){r.reject()})):r.reject(e):r.fulfill(e)}}))}),(function(n){Object(u.a)(n,e,t.TIMEOUT_RETRY_REQUEST).then((function(e){var n;(n=t.items).unshift.apply(n,i()(e)),t.doIteration()})).catch((function(){}))})),s}}}),ns.Model.get("queueRequest").setDataDefault()}),(function(e,t,n){"use strict";n.r(t);var r=n(32),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),d=n(5),f=n.n(d),h=n(7),p=n.n(h),m=n(1),v=n.n(m),g=n(0),y=n.n(g),b=n(437),_=n(117),O=n(126),w=n(25),E=n(11),S=n.n(E);n(1447);function C(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var x=function(){return S()()("dialog")},k=(function(e){f()(n,e);var t=C(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={titleTabIndex:0},r._onAnimationEnd=r._onAnimationEnd.bind(l()(r)),r}return u()(n,[{key:"componentDidMount",value:function(){this.setState({titleTabIndex:0})}},{key:"componentDidUpdate",value:function(e){!e.visible&&this.props.visible&&this.setState({titleTabIndex:0})}},{key:"_onAnimationEnd",value:function(){var e=this.props.onAnimationEnd;e&&e(),this.setState({titleTabIndex:-1})}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.visible,r=e.children,o=e.cls,a=e.noCloseButton,s=e.closeButtonAriaLabel,u=e.onClose,c=e.useMobilePane,l=e.hasAnimation,d=e.keepMounted,f=e.trapFocus,h=e.onRender,p=e.modalRef,m=e.theme,v=e.zIndex,g=c?_.Drawer:b.Modal,E={onClose:this.props.preventCloseOnOutsideClick?void 0:u,visible:n,innerRef:p,zIndex:v};return Object.assign(E,c?{view:"default"}:{className:x().mix(o),theme:m,onRender:h,hasAnimation:l,keepMounted:d,trapFocus:f}),y.a.createElement(g,i()({},E,{onAnimationEnd:this._onAnimationEnd}),y.a.createElement("div",{className:x().e("wrap")},t?y.a.createElement("h2",{className:x().e("title"),tabIndex:this.state.titleTabIndex},t):null,a?null:y.a.createElement(w.Button,{view:"clear",size:"s",className:x().e("close"),"aria-label":s,onClick:u,icon:function(e){return y.a.createElement(O.default,{cls:e,iconSize:"m"})}}),y.a.createElement("div",{className:x().e("body")},r)))}}]),n})(g.Component);k.defaultProps={theme:"normal",visible:!1,onClose:function(){}},t.default=k}),(function(e,t,n){var r=n(821).default;t.log=function(e,t){var i=n(14).default,o=n(93).environment,a=(i().getState().environment.session.experimentBoxes||[]).join(";"),s=Object.assign({},e,{exp:a});"development"===o&&ns.DEBUG?console.log(s):r.send(s,"",t)}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"hasOpenedDialogs",(function(){return i})),n.d(t,"getOpenedDialogs",(function(){return o})),n.d(t,"isDialogOpened",(function(){return a})),n.d(t,"getDialogData",(function(){return s}));var r=n(23),i=function(e){return Object.keys(e.dialogs).some((function(t){return e.dialogs[t].state===r.STATE.OPENED}))},o=function(e){return Object.keys(e.dialogs).filter((function(t){return e.dialogs[t].state===r.STATE.OPENED}))},a=function(e,t){return e.dialogs[t]&&e.dialogs[t].state===r.STATE.OPENED},s=function(e,t){return e.dialogs[t]&&e.dialogs[t].data}}),(function(e,t,n){"use strict";var r=n(10),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(5),l=n.n(c),d=n(7),f=n.n(d),h=n(1),p=n.n(h),m=n(132),v=n.n(m),g=n(0),y=n.n(g),b=n(11),_=n.n(b);n(1316);function O(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var w=(function(e){l()(n,e);var t=O(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"_getClassName",value:function(e){var t=this.props,n=t.size,r=t.cls,o=t.shadow,a=[];return r&&a.push(String(r)),_()()("file-icon").m(i()({size:n,shadow:o},e,!0)).mix(a)}},{key:"render",value:function(){var e,t=this.props,n=t.ext,r=t.type,i=t.mediatype;return e=["album","vd",v.a.virus].includes(r)?r:/^dir/.test(r)?(function(e){return e!==v.a.folderDefault&&-1!==v.a.folderTypes.indexOf(e)?e:v.a.folderDefault})(r):(function(e,t){return"."!==(e=e?e.toLowerCase():"")[0]&&(e="."+e),t=t?t.toLowerCase():"",v.a.extnames[e]||v.a.mediatypes[t]||v.a.default})(n,i),y.a.createElement("span",{className:this._getClassName(e)})}}]),n})(g.Component);w.defaultProps={size:"s",shadow:!1},t.a=w}),(function(e,t,n){"use strict";var r=function(e,t,n){for(var r=0,i=e.length;r<i;){var o=r+i>>>1;n(e[o],t)<0?r=o+1:i=o}return r};e.exports={sortedIndex:r,sortedFind:function(e,t,n){var i=r(e,t,n);return i<e.length&&0===n(e[i],t)?i:-1}}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),a=n(657);t.Corner=a.Corner,t.Wrapper=a.Wrapper,n(1383);var s=i(n(0)),u=o.compose(o.composeU(a.withViewDefault,a.withViewInverse),o.composeU(a.withSizeM,a.withSizeL)),c=u(a.MessageBox);t.MessageBox=(function(e){return s.memo((function(t){var n=s.useRef(null);return s.useEffect((function(){n.current&&(n.current.setAttribute("role","alert"),n.current.setAttribute("aria-live","assertive"))}),[n]),s.default.createElement(e,r({},t,{innerRef:n}))}))})(c),t.MessageBoxPopup=u(a.MessageBoxPopup)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"setPhotoSelection",(function(){return l})),n.d(t,"deselectAllStatesContext",(function(){return d})),n.d(t,"setSelection",(function(){return f})),n.d(t,"setFilteredSelection",(function(){return h})),n.d(t,"setHighlighted",(function(){return p})),n.d(t,"deselectResources",(function(){return m}));var r=n(21),i=n.n(r),o=n(13),a=n(284),s=n(12),u=n(73),c=n(262),l=function(e){var t=e.total,n=e.missing,r=e.unfilteredTotal;return function(e,o){var l=o(),d=l.photoslice,f=d.hasDiff,h=d.unfilteredTotalSelected;e({type:a.b,payload:{total:t,missing:n,unfilteredTotal:r}}),0===r&&f&&e(Object(c.b)()),h!==r&&r>0&&s.default.count.apply(s.default,["interface elements"].concat(i()(Object(u.c)(l)),["select",1===r?"one":"many"]))}},d=function(){return function(e){e({type:o.DESELECT_ALL})}},f=function(e){return{type:o.SET_SELECTED,payload:{selected:Array.isArray(e)?e:[e]}}},h=function(e){var t=e.total,n=e.missing,r=e.resources,i=e.unfilteredTotal;return function(e){e(f(r)),e(l({total:t,missing:n,unfilteredTotal:i}))}},p=function(e){return{type:o.SET_HIGHLIGHTED,payload:{highlighted:e}}},m=function(e){return{type:o.DESELECT_RESOURCES,payload:{resourcesIds:Array.isArray(e)?e:[e]}}}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(538).themes,o=n(301),a=n(831),s=n(834),u=n(837),c=n(840),l=n(302),d={"ps-light":o.theme,"ps-dark":a.theme,"ps-light-transparent":s.theme,"ps-dark-transparent":u.theme,"ps-superdark-transparent":c.theme},f=r({"default-dark":{content:{base:{root:"ps-dark",color:"ps-dark"}},page:{base:{root:"ps-superdark-transparent",color:"ps-superdark-transparent"}}}},i),h=["ps-dark","ps-dark-transparent","ps-superdark-transparent"];t.isThemeExists=function(e){return Boolean(e&&f[e])};var p=function(e,t){return e&&f[e]?f[e][t].base.root:""},m=function(e,t){return e&&f[e]?l.cnTheme(d[p(e,t)]):""};t.getPageClassName=function(e){return m(e,"page")},t.getPageOverrides=function(e){return e&&f[e]?f[e].page.override:""},t.getContentClassName=function(e){return m(e,"content")},t.getCover=function(e){var t,n;return e&&f[e]?null===(n=null===(t=f[e])||void 0===t?void 0:t.layers)||void 0===n?void 0:n.cover:null},t.isContentDark=function(e){return h.includes(p(e,"content"))},t.isPageDark=function(e){return h.includes(p(e,"page"))}}),(function(e,t,n){"use strict";function r(e){return e.split("-")[0]}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";function r(e){return e?(e.nodeName||"").toLowerCase():null}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return s}));var r="UPDATE_ALBUMS",i="FETCH_ALBUMS_SUCCESS",o="FETCH_SINGLE_GEO_ALBUM",a="FETCH_SINGLE_FACES_ALBUM",s="UPDATE_FAVORITE_ALBUM"}),(function(e,t,n){"use strict";n.r(t);n(278),n(863);var r=n(35),i=n(303),o=n(304),a=n(305),s=n(306),u=n(307),c=n(308),l=n(309),d=n(310),f=n(311),h=n(312),p=n(313),m=n(314),v=n(315),g=n(316),y=n(317),b=n(318),_=n(319),O=n(320),w=(n(885),n(321)),E=(n(887),n(322)),S=n(323),C=(n(890),n(324)),x=(n(892),n(325)),k=(n(894),n(326)),T=(n(896),n(327)),j=n(328),R=n(329),P=(n(898),n(330)),D=(n(900),n(331)),I=(n(902),n(332)),A=(n(904),n(333)),M=(n(906),n(334)),N=(n(908),n(335)),L=n(336);n.d(t,"cnButton",(function(){return r.b})),n.d(t,"Button",(function(){return r.a})),n.d(t,"withBaseline",(function(){return i.a})),n.d(t,"withPinBrickBrick",(function(){return o.a})),n.d(t,"withPinBrickCircle",(function(){return a.a})),n.d(t,"withPinBrickClear",(function(){return s.a})),n.d(t,"withPinBrickRound",(function(){return u.a})),n.d(t,"withPinCircleBrick",(function(){return c.a})),n.d(t,"withPinCircleCircle",(function(){return l.a})),n.d(t,"withPinCircleClear",(function(){return d.a})),n.d(t,"withPinClearBrick",(function(){return f.a})),n.d(t,"withPinClearCircle",(function(){return h.a})),n.d(t,"withPinClearClear",(function(){return p.a})),n.d(t,"withPinClearRound",(function(){return m.a})),n.d(t,"withPinRoundBrick",(function(){return v.a})),n.d(t,"withPinRoundClear",(function(){return g.a})),n.d(t,"withSizeL",(function(){return y.a})),n.d(t,"withSizeM",(function(){return b.a})),n.d(t,"withSizeS",(function(){return _.a})),n.d(t,"withThemeAction",(function(){return O.a})),n.d(t,"withThemeClear",(function(){return w.a})),n.d(t,"withThemeLink",(function(){return E.a})),n.d(t,"withThemeNormal",(function(){return S.a})),n.d(t,"withThemePseudo",(function(){return C.a})),n.d(t,"withThemeRaised",(function(){return x.a})),n.d(t,"withThemeWebSearch",(function(){return k.a})),n.d(t,"withTypeLink",(function(){return T.a})),n.d(t,"withTypeSubmit",(function(){return j.a})),n.d(t,"withViewAction",(function(){return R.a})),n.d(t,"withViewClear",(function(){return P.a})),n.d(t,"withViewDefault",(function(){return D.a})),n.d(t,"withViewLink",(function(){return I.a})),n.d(t,"withViewPseudo",(function(){return A.a})),n.d(t,"withViewRaised",(function(){return M.a})),n.d(t,"withWidthAuto",(function(){return N.a})),n.d(t,"withWidthMax",(function(){return L.a}))}),(function(e,t,n){"use strict";function r(e){return e<10?"0"+e:String(e)}e.exports=function(e,t,n,i,o){void 0===t&&(t="DD.MM.YYYY HH:mm");var a=e instanceof Date?e:new Date(e);return t.replace(/([MDEYHhpms])\1{0,3}/g,(function(e){switch(e){case"M":return a.getMonth()+1;case"MM":return r(a.getMonth()+1);case"MMMM":if(!n||!n.length)throw new TypeError("helpers/date/date-to-string::monthsNominative must be defined for MMMM format");return n[a.getMonth()];case"mmmm":if(!i||!i.length)throw new TypeError("helpers/date/date-to-string::monthsGenitive must be defined for mmmm format");return i[a.getMonth()];case"D":return a.getDate();case"DD":return r(a.getDate());case"E":if(!o||!o.length)throw new TypeError("helpers/date/date-to-string::weekDays must be defined for E format");return o[a.getDay()];case"YY":return a.getFullYear()%100;case"YYYY":return a.getFullYear();case"H":return a.getHours();case"HH":return r(a.getHours());case"h":return a.getHours()%12||12;case"p":return a.getHours()<12?"am":"pm";case"m":return a.getMinutes();case"mm":return r(a.getMinutes());case"s":return a.getSeconds();case"ss":return r(a.getSeconds());default:return e}}))}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(89);function i(e){return Object(r.a)(e).getComputedStyle(e)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isKeyCode=t.Keys=void 0,t.Keys={BACKSPACE:8,TAB:9,ENTER:13,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46},t.isKeyCode=function(e,n){return n.some((function(n){return t.Keys[n]===e||n===e}))}}),(function(e,t,n){"use strict";n.r(t);var r=n(22),i=n.n(r),o=n(64),a=function(e,t){return Object(o.getIsVirtualDiskList)(e)?"tile":i.a.isParent("/search",e)&&"disk"!==i.a.filename(e)?"list":t.view},s=function(e,t,n){var r={sort:"name",order:"1",display:"normal",view:a(e,n),selected:[],highlighted:[],dialog:null};return"/trash"===e&&(r.sort="append_time",r.order="0"),["/recent","/attach","/attach/yaruarchive",t.downloads,t.screenshots,t.scans].includes(e)&&(r.sort="mtime",r.order="0"),r},u=n(9),c=n.n(u);n.d(t,"getSortForIdContext",(function(){return l})),n.d(t,"getSort",(function(){return d})),n.d(t,"getView",(function(){return f})),n.d(t,"isSelectableResource",(function(){return h})),n.d(t,"getSelectedResources",(function(){return p})),n.d(t,"isInsideFolderYateamNDA",(function(){return m})),n.d(t,"getStatesContext",(function(){return v}));var l=function(e,t){var n=e.statesContext.sort,r=e.defaultFolders.folders,i=e.settings;return n[t]?n[t]:c.a.pick(s(t,r,i),["sort","order"])},d=function(e){var t=e.page.idContext;return l(e,t)},f=function(e){var t=e.page.idContext,n=e.settings;return a(t,n)},h=function(e){return!(!e||e.state&&e.state.disabled)},p=function(e){var t=e.statesContext.selected,n=e.resources;return(t||[]).map((function(e){return n[e]})).filter(h)},m=function(e){var t=e.page.idContext;return (function(e,t){return Boolean(e)&&(e===t||i.a.isParent(e,t))})(e.defaultFolders.folders.yateamnda,t)},v=function(e,t){var n=e.statesContext,r=e.defaultFolders.folders,i=e.settings,o=s(t,r,i),a=n.sort[t];return Object.assign({},o,c.a.omit(n,["sort"]),a)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(267),i={};i.ru=n(966);t.default=function(e,t,n){return r.getComponentI18n(i,"share-dialog",e,t,n)}}),(function(e,t,n){"use strict";e.exports=n(991)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"defaultActionButtonProps",(function(){return D}));var r=n(32),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),d=n(5),f=n.n(d),h=n(7),p=n.n(h),m=n(1),v=n.n(m),g=n(10),y=n.n(g),b=n(0),_=n.n(b),O=n(131),w=n.n(O),E=n(98),S=n(25),C=n(11),x=n.n(C);n(1448);function k(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(){return x()()("confirmation-dialog")},P={view:"default",size:"m"},D=j(j({},P),{},{view:"action"}),I=function(e){return"_".concat(e,"Ref")},A=(function(e){f()(n,e);var t=k(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onShow=r._onShow.bind(l()(r)),r}return u()(n,[{key:"_onShow",value:function(){if(this.props.autofocusButton){var e=I(this.props.actionButton);this[e]&&!this[e].disabled&&this[e].focus()}}},{key:"_setButtonRef",value:function(e,t){this[I(e)]=t}},{key:"render",value:function(){var e=this.props,t=e.submitButtonText,n=e.submitDisabled,r=e.extraButtonText,o=e.cancelButtonText,a=e.actionButton,s=e.progress,u=e.children,c=e.onSubmit,l=e.onExtraButtonClick,d=e.onCancel,f=this.props.submitButtonProps||("submit"===a?D:P),h=this.props.extraButtonProps||("extra"===a?D:P),p=this.props.cancelButtonProps||("cancel"===a?D:P);return _.a.createElement(E.default,i()({},this.props,{onRender:this._onShow,keepMounted:!1,cls:R().mix(this.props.cls||"")}),_.a.createElement("div",{className:R().e("content")},u),_.a.createElement("div",{className:R().e("footer")},o?_.a.createElement(S.Button,i()({innerRef:this._setButtonRef.bind(this,"cancel")},Object.assign({onClick:d,disabled:s,className:R().e("button").m({cancel:!0}).mix(p.className||"")},p)),o):null,r?_.a.createElement(S.Button,i()({innerRef:this._setButtonRef.bind(this,"extra")},Object.assign({onClick:l,className:R().e("button").m({extra:!0}).mix(h.className||"")},h)),r):null,t?_.a.createElement(S.Button,i()({innerRef:this._setButtonRef.bind(this,"submit")},Object.assign({onClick:c,progress:s,disabled:n,className:R().e("button").m({submit:!0}).mix(f.className||"")},f)),t):null))}}]),n})(b.Component);A.defaultProps=Object.assign({},E.default.defaultProps,{actionButton:"submit",autofocusButton:!0,onExtraButtonClick:w.a,onSubmit:w.a,onCancel:w.a}),t.default=A}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(6),s=n(659);n(1366);var u=a.compose(s.withViewDefault)(s.Drawer);t.Drawer=function(e){return o.default.createElement(u,r({animation:{tension:230,friction:24}},e))}}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return c}));var r=n(21),i=n.n(r),o=n(138),a=function(e,t){var n=e.clusters,r=-1,i=t.id?"id":"itemId",o=n.findIndex((function(e){var n=e.items;return-1!==(r=n.findIndex((function(e){return e[i]===t[i]})))}));return-1!==o&&-1!==r?{clusterIndex:o,resourceIndex:r}:null},s=function(e,t){var n,r,i=e.clusters,o=i[i.length-1];return!i[0].items.length||t.orderIndex<i[0].items[0].orderIndex?(n=0,r=0):t.orderIndex>o.items[o.items.length-1].orderIndex?(n=i.length-1,r=o.items.length):r=i[n=i.findIndex((function(e){var n=e.items;return t.orderIndex>n[0].orderIndex&&t.orderIndex<n[n.length-1].orderIndex}))].items.findIndex((function(e){var n=e.orderIndex;return t.orderIndex<n})),{clusterIndex:n,resourceIndex:r}},u=function(e){return e.album_type||"personal"},c=function(e){var t=e.map((function(e){return 1e3*(e.meta&&e.meta.photoslice_time||e.ctime)})),n=Math.min.apply(Math,i()(t)),r=Math.max.apply(Math,i()(t));return Object(o.b)(n,r)}}),(function(e,t,n){e.exports=n(1134)}),(function(e,t,n){var r=n(537),i=Math.pow(2,53)-1;function o(e,t){try{this.unitNames=e||["байт","КБ","МБ","ГБ","ТБ"],this.separator=t||","}catch(e){}this.format=this.format.bind(this)}o.prototype={create:function(e,t){return new o(e,t)},format:function(e){((e=Math.floor(parseFloat(e)))<0||e>i||isNaN(e))&&(e=0);for(var t=new d(e,this.unitNames,this.separator),n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var a=0,s=r.length;a<s;a++){var u=r[a];if("precision"===u||"length"===u){var c=parseInt(r[a+1],10);isNaN(c)||(t.format(u,c),a++)}else t.format(u)}return t.getString()},formatSpace:function(e){return r.getSpaceString(e,["байт","КБ","МБ","ГБ","ТБ"],",",{length:3})}};var a=1024,s=1024*a,u=1024*s,c=1024*u,l=[1,a,s,u,c];function d(e,t,n){this.bytes=e,this.unitNames=t,this.separator=n,this.units="best unit",this.fixed=!1,this.withUnit=!0,this.withNumber=!0,this.calculation="precise"}o.prototype.B=1,o.prototype.KB=a,o.prototype.MB=s,o.prototype.GB=u,o.prototype.TB=c,o.prototype.isOverdraft=function(e){return e.used-e.limit>=u};var f={"best unit":function(){this.units="best unit"},GB:function(){this.units=u},MB:function(){this.units=s},KB:function(){this.units=a},fixed:function(){this.fixed=!0},float:function(){this.fixed=!1},int:function(){this.precision=0},precision:function(e){this.precision=e},number:function(){this.withUnit=!1},unit:function(){this.withNumber=!1},precise:function(){this.calculation="precise"},rough:function(){this.calculation="rough"},length:function(e){this.calculation="length",this.length=e}};function h(e,t){return e>=t}function p(e,t){var n;return{number:e/=n="best unit"===t?(function(e){for(var t=l.length;t>=0;t--){var n=l[t];if(h(e,n))return n}return l[0]})(e):t,unit:n}}function m(e){return e.replace(/\.[0-9]*/,"")}function v(e,t){var n=m(e),r=e.replace(/[0-9]*\.?/,"").slice(0,t);return n+(0!==r?"."+r:"")}d.prototype.format=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length){var r=t[0],i=t.slice(1);"function"==typeof f[r]&&f[r].apply(this,i)}return this},d.prototype.getString=function(){var e=p(this.bytes,this.units),t=this.getNumber().toString();return t=this.localize(t,e.unit,this.withUnit,this.withNumber).replace(".",this.separator)},d.prototype.getNumber=function(){var e=p(this.bytes,this.units),t=(function(e,t,n,r,i){if(!r)switch(t){case"length":var o=m(e).length;e=v(e,o<=i?i-o:0);break;case"precise":n<=a&&(e=v(e,0)),n===s&&(e=v(e,1)),n>=u&&(e=v(e,2));break;case"rough":(n===a||n===s||n===u&&m(e)>=100)&&(e=v(e,0)),n===u&&(e=v(e,1))}return e})(e.number.toString(),this.calculation,e.unit,this.precision,this.length);return t=(function(e,t,n){var r=e;if(void 0!==t)if(n)r=e.toFixed(t);else{var i=Math.pow(10,t);r=(Math.round(e*i)/i).toString()}return r})(parseFloat(t,10),this.precision,this.fixed)},d.prototype.getUnit=function(){return this.localizeUnit(p(this.bytes,this.units).unit)},d.prototype.localizeUnit=function(e){for(var t=0,n=l.length;t<n;t++)if(e===l[t])return this.unitNames[t]},d.prototype.localize=function(e,t,n,r){return n&&r?e=e+" "+this.localizeUnit(t):r||(e=this.localizeUnit(t)),e},e.exports=new o}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(109),o=n(544),a=n(546),s=r.compose(r.composeU(i.withSizeS,i.withSizeM,i.withSizeL,o.withSizeXL,a.withSizeXXL),r.composeU(i.withViewAction,i.withViewPseudo,i.withViewClear,i.withViewRaised,i.withViewDefault,i.withViewLink),r.composeU(i.withPinCircleCircle),i.withWidthMax,i.withTypeLink)(i.Button);t.default=s}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getScansPath=function(e){return e.defaultFolders.folders.scans},t.isScansPage=function(e){return"scans"===e.page.idPage},t.isScansLoading=function(e){var n=t.getScansPath(e);return!e.resources[n]||e.resources[n].isLoading}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"close3IconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(15),p=n(0),m=n.n(p);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return m.a.createElement("path",{fill:"currentColor",d:"M13.684 1.679l-1.52-1.52-5.321 5.32L1.52.16 0 1.678l5.322 5.32L0 12.322l1.52 1.521L6.843 8.52l5.32 5.322 1.521-1.521L8.363 7z"})}}]),n})(h.default),y=Object(h.iconProvider)(g)}),(function(e,t,n){"use strict";var r=n(66),i=n.n(r),o=n(9),a=n.n(o),s=n(295),u=n.n(s),c={init:function(e,t){this._rumServiceIdArray=[u.a.TLD.ru,u.a.SERVICE.disk,u.a.APP[e]],this._rumSubPage=null,this._lastUrl="",t&&(this._blocks=t,ns.events.on("ns-page-before-load",this._onPageBeforeLoad.bind(this))),this._handleFirstLoad=a.a.once(this._handleFirstLoad.bind(this)),this._runningXhrCount=0,this._tempResourceTimingBuffer=[],"function"==typeof performance.addEventListener&&performance.addEventListener("resourcetimingbufferfull",this._onResourceTimingBufferFull.bind(this))},reachBlock:function(e){return e===this._blockName&&(this._isBlockReached=!0,!0)},withResourceTimingsPreserved:function(e){var t=this;return this._runningXhrCount++,e.then((function(e){var n=[e,t.getResourceTimings()];return t._decXrhCount(),n}),(function(e){throw t._decXrhCount(),e}))},collectNSTimings:function(e){this._blockName&&(this._collectedNSTimings.push(e),this._isBlockReached&&this._finishCollectTimings())},collectTimings:function(e){this._blockName&&(Object.assign(this._collectedTimings,e),this._isBlockReached&&this._finishCollectTimings())},reachBlockAndFinishCollectTimings:function(e){this.reachBlock(e),this.collectTimings({})},sendHeroElement:function(){this._sendHeroElement&&(Ya.Rum.sendHeroElement(),this._sendHeroElement=!1)},startCollectTimings:function(e){this._startCollectTimings(e)},_getResourceTimings:function(){return performance&&"function"==typeof performance.getEntriesByType?performance.getEntriesByType("resource"):[]},getResourceTimings:function(){return this._tempResourceTimingBuffer.concat(this._getResourceTimings())},_onResourceTimingBufferFull:function(){this._runningXhrCount&&(this._tempResourceTimingBuffer=this._tempResourceTimingBuffer.concat(this._getResourceTimings())),performance.clearResourceTimings()},_getRumSubPageId:function(e){return this._rumServiceIdArray.concat(u.a.BLOCK[e]).join(".")},_onPageBeforeLoad:function(e,t,n){var r=i()(t,2)[1];if(n!==this._lastUrl&&!this._blockName){var o=this._findBlock(r);o&&this._startCollectTimings(o),this._handleFirstLoad(o)}this._lastUrl=n},_handleFirstLoad:function(e){e&&(this._sendHeroElement=!0)},_startCollectTimings:function(e){this._collectedNSTimings=[],this._collectedTimings={},this._blockName=e,this._isBlockReached=!1,this._rumSubPage=Ya.Rum.makeSubPage(this._getRumSubPageId(e))},_finishCollectTimings:function(){var e,t=this._collectedTimings.paint||Ya.Rum.getTime();["listing","slider"].includes(this._blockName)?(this._collectedTimings.blockFirstPaint&&Ya.Rum.sendTimeMark("2793",this._collectedTimings.blockFirstPaint,!1,this._rumSubPage),this._collectedTimings.xhrDuration&&(e=this._collectedTimings.xhrDuration)):e=this._collectedNSTimings.reduce((function(e,t){return e+Object.keys(t).reduce((function(e,n){return n.startsWith("requestModels")?e+t[n]:e}),0)}),0),Ya.Rum.sendTimeMark("1926",t,!1,this._rumSubPage),e&&Ya.Rum.sendTimeMark("3375",t-e,!1,this._rumSubPage),this._collectedTimings.allPreviewsLoaded&&Ya.Rum.sendTimeMark("3669",this._collectedTimings.allPreviewsLoaded.time,!1,Object.assign({1385:this._collectedTimings.allPreviewsLoaded.count},this._rumSubPage)),this._rumSubPage&&!this._rumSubPage.isCanceled()&&this._rumSubPage.cancel(),this._rumSubPage=null,this.sendHeroElement(),this._blockName="",this._isBlockReached=!1},_findBlock:function(e){var t=this;return Object.keys(this._blocks).find((function(n){return t._blocks[n](e)}))},_decXrhCount:function(){this._runningXhrCount--,this._runningXhrCount||(this._tempResourceTimingBuffer=[])}};t.a=c}),(function(e,t,n){var r=n(947);function i(){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"close2IconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",d:"M21 5.421L19.579 4 12.5 11.079 5.421 4 4 5.421l7.079 7.079L4 19.579 5.421 21l7.079-7.079L19.579 21 21 19.579 13.921 12.5z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return v}));var r=n(59),i=n(30),o=n(38),a=n(73),s=n(31),u=n(158),c=n(9),l=n.n(c),d=n(149),f=Object(r.createSelector)([i.currentResourceIsComplete,i.currentResourceChildrenIds,i.resourcesSelector,i.sliderResourceSelector],(function(e,t,n,r){return r?t.includes(r.id)?{sliderResources:t.reduce((function(e,t){var r=n[t];return Object(i.isSliderResource)(r)&&e.push(r),e}),[]),possiblyHasNext:!e}:{sliderResources:[r]}:{sliderResources:[]}})),h=function(e){var t=Object(i.sliderResourceSelector)(e);if(!t)return{sliderResources:[]};var n=Object(a.d)(e,t,u.a,-1),r=Object(a.d)(e,t,u.a,1);return{sliderResources:n.resources.reverse().concat(t).concat(r.resources),possiblyHasPrevious:n.possiblyNotLoaded,possiblyHasNext:r.possiblyNotLoaded}},p=function(e){var t=Object(s.i)(e),n=Object(i.sliderResourceSelector)(e),r=Object(s.m)(e);return n?r.find((function(e){return e.id===n.id}))?{sliderResources:Object(s.m)(e),possiblyHasNext:!t.isCompleted}:{sliderResources:[n]}:{sliderResources:[]}},m=function(e){var t=Object(o.getPage)(e);return"photo"===t?h(e):"album"===t?p(e):f(e)},v=function(e,t){var n=Object(o.getPage)(e),r=e.page.idDialog;if("photo"===n){var u=e.resources[e.page.idDialog];return Object(a.g)(e,u.id,t).resource}if("album"===n)return Object(s.c)(e,r,t);var c=e.resources,f=Object(i.currentResourceChildrenIds)(e);return l.a.last(Object(d.b)(f.map((function(e){return c[e]})),r,{take:t,loop:!1,matcher:function(e,t){return t&&r===t.id},filter:i.isSliderResource}))}}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(600),i=n.n(r),o=function(e){return"row"===e},a=function(e,t,n){var r=Object.assign(e||{},t);return n&&i()(n,r)?n:r}}),(function(e,t,n){"use strict";n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return v})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return O}));var r=n(10),i=n.n(r),o=n(36),a=n(34),s=n(16),u=n(13),c=n(79),l=n(12);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h,p={zero:"history",full:"history,content,folders,files"},m=function(e){return{type:u.UPDATE_SUGGEST_ACTIVATION,active:e}},v=function(e){return{type:u.UPDATE_SUGGEST_QUERY,payload:e}},g=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.UPDATE_SUGGEST_RESULT;return function(i,a){i(v(t));var s=a();if(!Object(c.d)(s)){var l=Date.now();h=l;var d=Object.assign({length:10,suggestTypes:p.full,timeout:200,locale:s.environment.session.locale,sessionId:Object(c.a)(s).sessionId},n,{request:t});return Object(o.a)("do-suggest",d,{retriesLeft:0,retryOffline:!1}).then((function(n){if(l===h){var o=n.suggest,a=n["retry-suggest-types"];if(o&&i({type:r,payload:{state:"loaded",items:o}}),a&&a.length&&o&&d.length-o.length>0){var s=Object.assign(d,{timeout:2*d.timeout,length:d.length-o.length,suggestTypes:a.join(",")});return i(e(t,s,u.APPEND_SUGGEST_RESULT))}return n}})).catch((function(e){l===h&&i({type:u.UPDATE_SUGGEST_RESULT,payload:{state:"error",error:e||""}})}))}}},y=function(e,t){return function(n,r){var i=r(),o=i.page.idContext;o.startsWith("/journal")||(Object(c.c)(i)?l.default.count("search-stat",e,f(f({},Object(c.a)(i)),{},{timestamp:Date.now()},t)):o.startsWith("/search")&&l.default.count("search-stat",e,f({timestamp:Date.now()},t)))}},b=function(){return function(e,t){var n=t(),r=n.environment.session.requestId;"/journal"!==n.page.idContext&&(e({type:u.START_SEARCH_SESSION,payload:r}),e(y("start")))}},_=function(e){l.default.countSuggest("select",e)},O=function(e,t,n){return function(r,i){var o=i().suggest.query;"history"!==e.type&&r(y("suggest-item-select",{position:t,queryText:o}));var u=!1;switch(e.type){case"history":_("recent");break;case"content":_("file");break;case"files":case"folders":var c=r(function(e){return function(t,n){var r=e.key,i=n(),o=i.resources,u=i.page.idContext,c=o[r]||a.default.castSuggestItemToResource(e);if(c)return"dir"===c.type||"docviewer"===c.app?t(Object(s.openResource)(c)):"slider"===c.app?u&&u.startsWith("/album")?(t(m(!1)),t(Object(s.goToResource)(r)).then((function(){return t(Object(s.openResource)(c))}))):t(Object(s.openResource)(c)):t(Object(s.goToResource)(r)),c}}(e));if(c){var l=c.app,d=c.type,f=c.meta,h=f&&f.mediatype;["docviewer","slider"].includes(l)?u=void 0:n||r(m(!1));var p="file";"docviewer"===l?p="dv":"dir"===d?p="folder":"video"===h?p="video":a.default.isOpenableImage(c)&&(p="photo"),_(p)}}return u}}}),(function(e,t){e.exports=function(){}}),(function(e,t){e.exports={default:"blank",virus:"virus",folderDefault:"dir",folderTypes:["dir_plus","dir_back","dir_gray","dir_root","dir_screenshots","dir_shared","dir_trash","dir_trash-full","dir_yateamnda","vd_vd"],mediatypes:{image:"image",audio:"audio",video:"video",archive:"archive",text:"text",book:"book",development:"development",executable:"executable",font:"font",mail:"mail",compressed:"archive"},extnames:{".7z":"7z",".cab":"archive",".gz":"archive",".gzip":"archive",".rar":"rar",".tar":"archive",".zip":"zip",".zipx":"zip",".aud":"audio",".flac":"audio",".iff":"audio",".m3u":"audio",".m3u8":"audio",".m4a":"audio",".m4b":"audio",".m4r":"audio",".mp3":"audio",".pls":"audio",".ogg":"audio",".wav":"audio",".wma":"audio",".asf":"video",".avi":"video",".flv":"video",".mov":"video",".mp4":"video",".mpeg":"video",".mkv":"video",".mpg":"video",".srt":"video",".swf":"video",".vob":"video",".wmv":"video",".ai":"ai",".cur":"image",".bmp":"image",".dng":"image",".djvu":"djvu",".ico":"image",".gif":"image",".jpg":"image",".jpeg":"image",".png":"image",".psd":"psd",".pcx":"image",".mng":"image",".sketch":"sketch",".tif":"image",".tiff":"image",".xcf":"image",".epub":"epub",".fb2":"fb2",".csv":"table",".doc":"doc",".docx":"doc",".dot":"doc",".dotx":"doc",".indd":"text",".key":"text",".odt":"odt",".odp":"odp",".pdf":"pdf",".pps":"text",".ppsm":"text",".ppsx":"text",".ppt":"ppt",".pptx":"ppt",".ods":"ods",".rtf":"rtf",".txt":"txt",".xls":"xls",".xlsb":"xls",".xlsx":"xls",".xltm":"xls",".xltx":"xls",".xps":"text",".css":"css",".htm":"html",".html":"html",".js":"js",".xhtml":"html",".ini":"ini",".xml":"xml",".exe":"exe",".dll":"dll",".vcf":"vcf"}}}),(function(e,t){var n;n=(function(){return this})();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n}),(function(e,t){e.exports=ReactDOM}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(267);t.HeaderContext=i.default.createContext({getI18nFn:function(){return""},timeZone:"",tld:"ru",lang:o.SupportedLangs.ru,theme:"light",currentService:"",isLegoOnReact:!1,countMetrika:function(){return null},LegoPopup:function(){return null},morePopupProps:{},isB2bAdmin:!1,yandex360Link:""})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppContext=t.Service=void 0;const r=n(0);!(function(e){e.Telemost="Telemost",e.Disk="Disk",e.Notes="Notes",e.Mail="Mail",e.Pro="Pro"})(t.Service||(t.Service={})),t.AppContext=r.createContext({})}),(function(e,t,n){"use strict";n.r(t),n.d(t,"resourceView",(function(){return a})),n.d(t,"isResourcesEqual",(function(){return s})),n.d(t,"resourcesSelectorCreator",(function(){return u}));var r=n(59),i=n(37),o=n(200),a=function(e){if(!e)return i.RESOURCE_VIEWS.NONE;if(e.errorCode||e.blocked)return i.RESOURCE_VIEWS.ERROR;if("album"===e.type)return i.RESOURCE_VIEWS.ALBUM;if("dir"===e.type)return i.RESOURCE_VIEWS.DIR;if(e.virus)return i.RESOURCE_VIEWS.ICON;var t=e.meta;if(t){if("image"===t.mediatype&&t.hasPreview)return i.RESOURCE_VIEWS.IMAGE;if("video"===t.mediatype&&!e.videoStreamsFetchError&&e.isAvialableForVideoPlayer)return i.RESOURCE_VIEWS.VIDEO;if("audio"===t.mediatype&&Object(o.default)(t.mimetype))return i.RESOURCE_VIEWS.AUDIO;if(t.hasPreview)return i.RESOURCE_VIEWS.PREVIEW}return i.RESOURCE_VIEWS.ICON},s=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},u=Object(r.createSelectorCreator)(r.defaultMemoize,s)}),(function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n(110),i=n.n(r),o=(n(288),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=e instanceof Date?new Date(e.getTime()):new Date(e);return o.setHours(t),o.setMinutes(n),o.setSeconds(r),o.setMilliseconds(i),o}),a=function(e){return o(e,0)},s=function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()};var u=function(e,t){var n,r,o=new Date,a=new Date(e),s=new Date(t);if(a.getFullYear()===s.getFullYear()){var u=a.getFullYear()===o.getFullYear()?"":" YYYY";a.getMonth()===s.getMonth()?a.getDate()===s.getDate()?n="D mmmm"+u:(n="D",r="D mmmm"+u):(n="D mmmm",r="D mmmm"+u)}else n=r="D mmmm YYYY";return i()(e,n,["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"])+(r?" - "+i()(t,r,["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]):"")}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u}));var r=n(59),i=n(17),o=function(e){var t=e.uploader,n=t.totalUploadingSize,r=t.totalUploadedSize,o=t.uploadingStatus===i.UPLOAD_STATUSES.DONE?100:Number(100*(n?r/n:0));return{uploadingTimeRemaining:void 0,uploadingPercentage:o=isNaN(o)?0:Math.min(100,Math.max(0,o))}},a=Object(r.createSelectorCreator)(r.defaultMemoize,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e.id===t[n].id}))}))((function(e){var t=e.uploader.resourcesToUpload,n=e.resources;return t.filter((function(e){return n[e]})).map((function(e){return n[e]}))}),(function(e){return e})),s=function(e){var t=e.uploader,n=t.resourcesToUpload,r=t.uploadingStatesByIds;return n.some((function(e){var t=r[e].status;return Object(i.canCancelUpload)(t)||Object(i.willCanCancelUpload)(t)}))},u=function(e,t){var n=e.uploader.uploadingStatesByIds;return n[t]&&Object(i.isUploadInProgress)(n[t].status)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defer=function(e){return new Promise(function(t){setTimeout((function(){t()}),e)})};var r=null;t.waitNavigatorOnline=function(){return new Promise(function(e){if(navigator.onLine)e();else{var t=function(){window.removeEventListener("online",t),e()};window.addEventListener("online",t)}})},t.waitOnline=function(e){return t.waitNavigatorOnline().then((function(){return (function(e){if(r)return r;var n=500;function i(){return n=Math.min(2*n,3e4),t.defer(n).then(o)}function o(){return fetch(e).catch(i)}return(r=o()).then((function(){r=null})),r})(e)}))}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"getBillingPromoAppearanceData",(function(){return u})),n.d(t,"getDiscountPercent",(function(){return c})),n.d(t,"getMail360DiscountTooltipData",(function(){return l})),n.d(t,"canShowMail360DiscountTooltip",(function(){return d}));var r=n(43),i=n(33),o=n(38),a=n(29),s=n(80),u=function(e){var t,n=e.billingProducts,r=null===n||void 0===n?void 0:null===(t=n.active_promo)||void 0===t?void 0:t.key;if(r){var i;try{var o,a;i=(null===n||void 0===n?void 0:null===(o=n.active_promo)||void 0===o?void 0:o.payload)&&JSON.parse(null===n||void 0===n?void 0:null===(a=n.active_promo)||void 0===a?void 0:a.payload)}catch(e){}if(i)return i.id=r,i}},c=function(e){var t=e.billingProducts,n=t.items&&t.items.length&&t.items.find((function(e){return e.best_offer}));if(n){var r=n.prices.find((function(e){return Boolean(e.discount_percent)}));if(r)return r.discount_percent}},l=function(e){var t,n,r,i=e.billingProducts;if(i.active_promo){var o=i.items.find((function(e){return e.trial}));if(o&&o.trial&&o.trial.definition&&"day"===o.trial.definition.period)return{untilDate:i.active_promo.active_until_date,trialPeriodsCount:o.trial.definition.periods_count,trialPeriod:o.trial.definition.period,promoId:i.active_promo.key}}if(null!==(t=i.active_promo)&&void 0!==t&&t.active_until_date){var a=u(e),s=c(e)||(null===a||void 0===a?void 0:a.discountPercent);if(s||a)return{untilDate:null===(n=i.active_promo)||void 0===n?void 0:n.active_until_date,discountPercent:s,promoId:null===(r=i.active_promo)||void 0===r?void 0:r.key}}},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=e.settings,c=n.shouldSkipPromoTooltipInSession,d=n.wasShownOnboardingInSession,f=e.environment.session.experiment.diskWebDiscountLeftColumnExp;return!c&&!d&&(function(e,t){var n,s,c=e.settings,l=c.showWelcomePopupInSession,d=c.lastShownDiscountPromo,f=c.lastShownDiscountPromoId,h=e.user.hasProSubscription,p=e.notifications.promo,m=p.fetched,v=p.hasPromoOnPageOpen,g=e.promo.discountPromoShown,y=e.billingProducts,b=null===y||void 0===y?void 0:y.active_promo;if(!b)return!1;var _=m&&!v,O=!d||b.key!==f,w=!1,E=Object(r.getFinishPromoTime)(e),S=Object(o.getNowServerTime)(e,t),C=u(e),x=(null===C||void 0===C?void 0:null===(n=C.tooltip)||void 0===n?void 0:n.startIntervalToShow)||0,k=(null===C||void 0===C?void 0:null===(s=C.tooltip)||void 0===s?void 0:s.endIntervalToShow)||0;if(x&&O)S>=E-1e3*x&&S<E-1e3*k&&(w=!0);else{var T=d&&E&&d<E-a.ONE_DAY&&E-Date.now()<=a.ONE_DAY;w=Boolean(O||T)}return!l&&w&&!h&&!g&&_&&!Object(i.isDocsPage)(e)})(e,t)&&Object(o.isBuyButtonMail360)(e)&&!Object(s.d)(e)&&Object(o.shouldShowBuyButton)(e)&&!Object(r.isUserWithPaidTariff)(e)&&Boolean(l(e))&&!(Object(r.shouldShowInfoSpaceDiscount)(e)&&null!==f&&void 0!==f&&f.withoutTooltip)}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(540)),u=a(n(14));t.onSkUpdate=function(e){var t=ns.Model.get("config");t.setData(Object.assign({},t.getData(),{sk:e}))},t.onAuthChanged=function(){location.reload()},t.psModelsRoute="/models-v2",t.psFetchDefaultOptions={pingUrl:"/check-online"},t.api=function(e,n,a){return i(void 0,void 0,void 0,(function(){var i,c,l,d,f;return o(this,(function(o){return i=u.default().getState(),c=i.config,l=c.sk,d=c.idClient,f=i.user.uid,[2,s.default({modelsRoute:t.psModelsRoute,options:r(r({},t.psFetchDefaultOptions),a),apiMethod:e,requestParams:n,sk:l,onSkUpdate:t.onSkUpdate,uid:f,onAuthChanged:t.onAuthChanged,connectionId:d})]}))}))},"undefined"!=typeof window&&(window.modelsV2Api=t.api)}),(function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(32),a=n.n(o),s=n(3),u=n.n(s),c=n(4),l=n.n(c),d=n(8),f=n.n(d),h=n(5),p=n.n(h),m=n(7),v=n.n(m),g=n(1),y=n.n(g),b=n(0),_=n.n(b),O=n(131),w=n.n(O),E=n(598);function S(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var C=(function(e){p()(n,e);var t=S(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContentSVG",value:function(){return _.a.createElement("path",{fill:"currentColor",d:"m1 0v16l14-8"})}}]),n})(n(15).default),x=n(256),k=n(527),T=n(41),j=n(11),R=n.n(j),P=n(129);n(1402);function D(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}n.d(t,"POSITIONS",(function(){return A}));var I=function(){return R()()("listing-item")},A={ALWAYS_RIGHT:"ALWAYS_RIGHT",TOP_RIGHT:"TOP_RIGHT"},M=(function(e){p()(n,e);var t=D(n);function n(e){var r;return u()(this,n),(r=t.call(this,e))._setRef=r._setRef.bind(f()(r)),r}return l()(n,[{key:"componentWillUnmount",value:function(){this.props.resourceRef(this.props.id,null)}},{key:"_getIcon",value:function(){var e=this.props,t=e.listingMods,n=e.type,r=e.defaultPreview,i=e.noIcon,o=e.iconType,s=e.canPlayVideo,u=e.theme;if(i)return null;var c=r&&!o?{type:"preview"}:{type:"icon",resource:n},l=[_.a.createElement(E.a,a()({key:"icon-preview"},this.props))];return Object(P.b)(u)||(l.push(_.a.createElement("div",{className:I().e("fields"),key:"fields"},this._getAdditionalData())),l=_.a.createElement("div",{className:I().e("icon-wrapper").m({"with-shadow":Boolean(s)}).mix(t["with-drag-and-drop"]&&t["with-mouse-selection"]&&T.LISTING_PREVENT_MOUSE_SELECTION_CLASS)},l)),_.a.createElement("div",{className:I().e("icon").m(c)},l)}},{key:"_getColumns",value:function(e,t){var n=this.props.theme,r=Object(P.b)(n)?"column":"field";return e.filter((function(e){return(!e.themes||e.themes.includes(n))&&t&&t(e)})).map((function(e,t){var n=e.type,o=e.content,a=e.mix,s=e.role;return _.a.createElement("div",{className:I().e(r).m(i()({},n,!0)).mix(a),key:"".concat(n,"_").concat(t),role:s||"cell"},o)}))}},{key:"_getAdditionalData",value:function(){var e=this.props,t=e.id,n=e.additionalFields,r=e.theme,i=e.onPlayVideoClick,o=e.canPlayVideo,a=n||[];return o&&i&&a.push({type:"play-video",themes:["tile"],role:"none",content:_.a.createElement(C,{iconSize:"l",onClick:function(){return i(t)}})}),this._getColumns(a,(function(e){return!(Object(P.b)(r)&&e.position===A.ALWAYS_RIGHT||!Object(P.b)(r)&&e.position===A.TOP_RIGHT)}))}},{key:"_getRightColumn",value:function(){var e=this.props,t=e.additionalFields,n=e.theme;return Object(P.b)(n)&&t?this._getColumns(t,(function(e){return e.position===A.ALWAYS_RIGHT})):null}},{key:"_getTopRightContent",value:function(){var e=this.props,t=e.additionalFields,n=e.theme;return Object(P.b)(n)||!t?null:this._getColumns(t,(function(e){return e.position===A.TOP_RIGHT}))}},{key:"_getTitle",value:function(){var e=this,t=this.props,n=t.name,r=t.titleOverflow,i=t.theme,o=t.size,a=t.isTouch,s=n;if("clamp"===r)s=_.a.createElement(x.a,{font:"".concat(a?"15px/16px":"13px/14px",' "YS Text", sans-serif'),numberOfRows:"tile"===i?2:1,text:n,width:this.props.titleWidth});else if("length-limit"===r&&"tile"===i){var u="l"===o?23:16;s=s.length>u?s.slice(0,u).trim()+"…":s}return _.a.createElement("div",{className:I().e("title").m({overflow:r}),ref:function(t){e.props.titleNodeRef&&e.props.titleNodeRef(t)},"aria-label":n},s)}},{key:"_setRef",value:function(e){var t=this.props,n=t.resourceRef,r=t.id;this._ref=e,n(r,e)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.modifier,o=n.theme,a=n.size,s=n.type,u=n.noIcon,c=n.selected,l=n.highlighted,d=n.virus,f=n.listingMods,h=n.isDisabled,p=n.isMacSafari,m=n.isTouch;if("tile-empty"===o)return _.a.createElement("div",{className:I().m({theme:o,size:a})});var v=h(this.props),g={ref:this._setRef,className:I().m((e={},i()(e,r,!!r),i()(e,"theme",o),i()(e,"size",a),i()(e,"type",s),i()(e,"no-icon",u),i()(e,"selected",c),i()(e,"highlighted",l),i()(e,"disabled",v),i()(e,"virus",d),i()(e,"isMacSafari",p),i()(e,"listening-long-tap",Boolean(this.props.onLongTap)),e)).mix(this.props.cls).mix(Object(P.b)(o)&&f["with-drag-and-drop"]&&f["with-mouse-selection"]&&T.LISTING_PREVENT_MOUSE_SELECTION_CLASS),"aria-selected":c};v||(["onClick","onDoubleClick","onFocus","onTouchEnd","onTouchStart","onTouchMove","onContextMenu"].forEach((function(e){g[e]=t.props[e]})),m||(g.onKeyDown=this.props.onKeyDown,g.tabIndex=this.props.tabIndex,g.role="row"));var y=this._getRightColumn(),b=this._getTopRightContent();return _.a.createElement("div",g,_.a.createElement("div",{className:I().e("info")},this._getTitle(),Object(P.b)(o)?this._getAdditionalData():null),this._getIcon(),y&&y.length>0&&_.a.createElement("div",{className:I().e("right")},y),b&&b.length>0&&_.a.createElement("div",{className:I().e("top-right")},b))}}]),n})(b.PureComponent);M.defaultProps={theme:"row",size:"m",selected:!1,virus:!1,isDisabled:function(e){var t=e.state;return Boolean(t&&t.disabled)},listingMods:{},resourceRef:w.a,onContextMenu:w.a};t.default=Object(k.a)(M)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{d:"M14.398 1.253L.884 14.465l.805.788 2.786-2.724a8.57 8.57 0 0 0 3.531.745c5.463 0 7.948-4.77 7.948-4.77l.13-.252L15.953 8s-1.065-2.032-3.33-3.437l2.58-2.523-.805-.787zm-6.289 2C2.682 3.253.213 7.979.213 7.979l-.129.251.13.249s.776 1.475 2.411 2.774L5.35 8.595a2.67 2.67 0 0 1-.03-.388c0-1.517 1.272-2.758 2.828-2.758.135 0 .267.012.397.03l1.94-1.892a8.667 8.667 0 0 0-2.375-.334zm2.298 3.6a2.8 2.8 0 0 1 .477 1.56 2.849 2.849 0 0 1-2.84 2.84 2.804 2.804 0 0 1-1.56-.477l3.923-3.923z",fill:"currentColor",fillRule:"evenodd"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}),(function(e,t,n){var r=n(577),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return w})),n.d(t,"c",(function(){return E}));var r=n(13),i=n(69),o=n(36),a=n(42),s=n(16),u=n(22),c=u.normalize,l=u.basename,d={INITIAL:"INITIAL",PROGRESS:"PROGRESS"},f="ACCEPT",h="REJECT",p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hash";return function(n,r){var i=r().invitesToFolders,o=i.invites,a=i.invitesByHash,s="hash"===t?e:o.find((function(n){return a[n][t]===e}));return a[s]}},m=function(e){return{type:r.UPDATE_INVITE_TO_FOLDER,payload:{hash:e,hidden:!0}}},v=function(e,t){return{type:r.UPDATE_INVITE_TO_FOLDER,payload:{hash:e,status:t}}},g=function(e){return{type:r.REMOVE_INVITE_TO_FOLDER,payload:{hash:e}}},y=function(e,t){return function(n,r){var i=r().invitesToFolders.invitesByHash[e];if(i&&i.status===d.PROGRESS)return Promise.resolve({});n(v(e,d.PROGRESS));var s=t===f,u=s?"acceptInvite":"rejectInvite",c=s?"do-resource-invite-accept":"do-resource-invite-reject";return Object(o.a)(c,{hash:e}).then((function(t){return n(Object(a.notify)({invite:i,operation:u,status:"done"})),n(g(e)),Promise.resolve(t)})).catch((function(t){return n(v(e,d.INITIAL)),n(Object(a.notify)({invite:i,operation:u,status:"failed"})),Promise.reject(t)}))}},b=function(e){return function(t){return t(y(e,f)).then((function(e){var n=e.id;if(n)return t(Object(s.fetchSingleResource)(c(n)))}))}},_=function(e){return function(t){return t(y(e,h))}},O=function(e,t){return function(n){var r=c(e.folder.path),i=e.folder.gid;if("actor"===t){var o=n(p(i,"gid"));o&&(n(Object(a.notify)({invite:o,operation:"acceptInvite",status:"done"})),n(g(o.hash))),n(Object(s.fetchSingleResource)(r))}else"owner"!==t&&"user"!==t||(Object(s.maybeFetchUsersFolder)({idFolder:r,gidFolder:i}),"owner"===t&&n(Object(a.notify)({role:t,folderName:e.folder.name||l(r),userName:e.user.name,operation:"acceptInvite"})))}},w=function(e,t){return function(n){var r=c(e.folder.path),i=e.folder.gid;if("actor"===t){var o=n(p(i,"gid"));if(o)return n(Object(a.notify)({invite:o,operation:"rejectInvite",status:"done"})),n(g(o.hash)),Promise.resolve()}else if("owner"===t)return Object(s.maybeFetchUsersFolder)({idFolder:r,gidFolder:i})}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var a=n().invitesToFolders.isLoaded;if(e||!a)return Object(o.a)("invitesFolder",{}).then((function(e){var n=Array.isArray(e)?e:[],o=Object(i.getPreloadedData)("inviteCurrent");o&&o.owner_uid&&!n.some((function(e){return e.hash===o.hash}))&&n.unshift(o),t(function(e){return{type:r.UPDATE_INVITES_TO_FOLDERS,payload:e}}(n))}))}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{d:"M5.809 3.243c.094-.392.268-1.123.432-1.243l3.551-.016c.167.136.346.877.443 1.275.054.23.116.484.194.741H5.611c.083-.269.144-.53.198-.757zM12.583 4c-.151-.171-.309-.814-.404-1.21C11.911 1.679 11.505 0 9.817 0H6.241c-1.716 0-2.13 1.741-2.377 2.78-.092.385-.262 1.103-.406 1.22H1v2h2v7.985C3 15.098 3.887 16 5 16h5.985A2.015 2.015 0 0 0 13 13.985V6h2V4h-2.417z",fill:"currentColor",fillRule:"evenodd"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(9),i=n.n(r),o=function e(t,n,r){var o=i.a.extend({loop:!1,take:1},r);o.negative=o.take<0,o.take=Math.abs(o.take);var a=o.negative?"reduceRight":"reduce",s=i.a[a](t,(function(e,t){return r.matcher(n,t)?[]:(i.a.isArray(e)&&e.length<o.take&&(!i.a.isFunction(o.filter)||o.filter(t))&&e.push(t),e)}),!n&&[]);return s&&s.length<o.take&&o.loop&&(s=s.concat(e(t,null,i.a.extend(r,{take:(o.take-s.length)*(o.negative?-1:1)})))),s||[]},a=function(e){return Array.isArray(e)?e.slice():[e]}}),(function(e,t,n){"use strict";var r,i,o=n(21),a=n.n(o),s=n(9),u=n.n(s),c=n(36),l=n(17),d=n(140),f=n(68),h=function(){var e=n(93);try{if(!(Worker&&Promise&&URL&&Blob)||window.__DISABLE_UPLOAD_HASHES)return null;var t=e.links.static.root+"/_/_forge.js";return 0===t.indexOf("//")&&(t="https:"+t),t=JSON.stringify(t),new Worker(URL.createObjectURL(new Blob(["importScripts("+t+");","("+function(e){var t="crypto"in self,n=function(e){return new Promise(function(t,n){try{var r=new Uint8Array((new FileReaderSync).readAsArrayBuffer(e));crypto.subtle.digest("SHA-256",r).then((function(n){var r=(new FileReaderSync).readAsBinaryString(e);t({md5:forge.md5.create().update(r).digest().toHex(),sha256:(function(e){e=new Uint8Array(e);for(var t="",n=0;n<e.length;n++)t+=("0"+e[n].toString(16)).slice(-2);return t})(n),webCrypto:!0})}))}catch(e){n(e)}})};self.addEventListener("message",(function(r){var i=r.data;"Promise"in self?(function(r){if(t&&r.size<=e)return n(r);for(var i=forge.md5.create(),o=forge.sha256.create(),a=0,s=r.size;a<s;a+=e){var u=r.slice(a,a+e),c=(new FileReaderSync).readAsBinaryString(u);i.update(c),o.update(c)}return Promise.resolve({md5:i.digest().toHex(),sha256:o.digest().toHex()})})(i.file).catch((function(e){return{error:String(e)||"calculate hashes error"}})).then((function(e){postMessage(e)})):postMessage({error:"no promise in worker"})}),!1)}.toString()+")(47185920)"])))}catch(e){return null}},p=[],m=!0,v=function(e){r&&(r.resolvePromise(e),r=null,y())},g=function(e){"error"===e.type&&(m=!0,v({error:"worker error"}));var t=u.a.get(e,"data.error");return v(t?{error:t}:u.a.pick(e.data,["md5","sha256"]))},y=function(){if(p.length&&!r){if((r=p.shift()).entry.size>47185920)return v({error:"file too big"});if(m&&(i&&(i.removeEventListener("message",g,!1),i.removeEventListener("error",g,!1)),(i=h())&&(i.addEventListener("message",g,!1),i.addEventListener("error",g,!1),m=!1)),!i)return v({error:"no worker"});try{i.postMessage({file:r.entry})}catch(e){v({error:"error"})}}},b=function(e){return new Promise(function(t){!(function(e){p=p.concat(e),y()})({entry:e,resolvePromise:t})})},_=n(18),O=n(43),w=n(16),E=n(12),S=n(14),C=n(77),x=n(29),k=x.MPFS_ERROR_CODES,T=x.GB,j=x.UPLOADER_FILE_SIZE_LIMIT,R={FAILED:"FAILED",DONE:"DONE",COMPLETED:"COMPLETED"},P={Trident:2*T,Edge:.25*T},D=[0,1e3,1e3,1e3,1e3],I=[0,1e3,1e3,1e3,1e3],A=function(e,t,n){return new Promise(function(r,i){var o,a;!(function s(){return Object(c.a)("do-status-operation",{oid:t}).then((function(u){var c=u.state,l=u.resource,d=u.error;if(c===R.FAILED)return clearTimeout(a),void i(d);c!==o&&[R.DONE,R.COMPLETED].includes(c)&&(clearTimeout(a),(function(e,t){var n=Object(S.default)();Object(_.isExistsResource)(n.getState(),e)&&n.dispatch(Object(w.setResourceData)(e,t))})(e,l),r()),o=c,c!==R.COMPLETED&&t&&(a=setTimeout(s,n))})).catch(i)})()})},M=u.a.throttle((function(){Object(S.default)().dispatch(Object(C.a)())}),1e3),N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){return n(le(e,{status:l.UPLOAD_STATUSES.GETTING_URL})),Object(c.a)("do-resource-upload-url",Object.assign({dst:e.id,force:e.force,size:e.entry.size},t)).then((function(t){var n=t.upload_url,r=t.oid,i=t.status;return Promise.resolve("hardlinked"===i?{status:i}:{uploadUrl:n,oid:r,item:e})}))}},L=function(e,t){var n=0,r=0;return function i(o){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=function e(t){return n>=D.length?Promise.reject(t):Object(d.defer)(D[n++]).then((function(){return Object(d.waitOnline)("/check-online")})).then((function(){return (function(e){return fetch(e,{method:"HEAD"}).then((function(e){var t=e.status,n=e.headers;return 200===t?parseInt(n.get("content-length")||"",10)||0:Promise.reject({status:t})}))})(o.uploadUrl)})).catch(e).then((function(e){return e<o.item.entry.size?i(o,e):Promise.resolve(o)}))},c=function t(n){return r>=I.length?Promise.reject(n):Object(d.defer)(I[r++]).then((function(){return e(N(o.item))})).then(i,t)};e(le(o.item,{status:l.UPLOAD_STATUSES.UPLOADING}));var f=o.item.entry.size,h=t&&f-a>t?a+t:f;return (function(e,t){var n=e.item,r=e.uploadUrl,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.entry.size;return new Promise(function(e,a){var s=new XMLHttpRequest,u=!1;s.addEventListener("load",(function(){var t=this.status;t>=400?a({id:l.UPLOAD_ERROR_ID,status:t}):e({status:t})})),s.addEventListener("error",(function(){var t=this.status;u&&0===t&&e(),a({status:t})})),s.upload.addEventListener("load",(function(){u=!0})),s.upload.addEventListener("progress",(function(e){var r=e.loaded+i,o=n.entry.size;t({loaded:r,total:Math.max(o,r)})})),s.open("PUT",r),s.setRequestHeader("X-Disk-Uploader-Wait-Complete-Upload","false"),n.entry.type&&s.setRequestHeader("Content-Type",n.entry.type),0===i&&o===n.entry.size||s.setRequestHeader("Content-Range","bytes=".concat(i,"-").concat(o-1,"/").concat(n.entry.size)),s.send(n.entry.slice(i,o)),n.abortables.xhr=function(){return s.abort()}})})(o,(function(t){var r=t.loaded,i=t.total;e(ue(o.item.id,{loaded:r,total:i})),n=0}),a,h).then((function(){return h<f?s().then((function(){return o})):o}),(function(e){var t=u.a.get(e,"status");return 0===t||400===t?s(e).catch(c):404===t||t>=500&&507!==t?c(e):Promise.reject(e)}))}},F=n(26),B=n(34),U=n(29).MPFS_ERROR_CODES,z=[".DS_Store","Thumbs.db"],V=function(e){return new Promise(function(t,n){if(e.isDirectory)return t(e);e.file(t,n)})},H=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return (function(e){return new Promise(function(t,n){return e.readEntries(t,n)})})(t).then((function(r){return r.length?e(t,[].concat(a()(n),a()(Array.from(r)))):n}))},W=function e(t,n,r){return (function(e){return H(e.entry.createReader()).then((function(e){return Promise.all(e.map(V))}))})(n).then((function(i){var o=Array.from(i).filter((function(e){var t=z.includes(e.name);return t&&ns.events.trigger("ufo-upload-skip",{statId:n.statsId,type:e.isDirectory?"folder":"file"}),!t})),s=ge(t(),o,n.id,n.statsId,n.id),u=s.filter((function(e){return e.entry.isDirectory}));return Promise.all(u.map((function(n){return e(t,n,r)}))).then((function(e){return s.concat.apply(s,a()(e))}))})).catch((function(){return n.readFail=!0,[]}))},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){n(le(e,{status:l.UPLOAD_STATUSES.CREATING_FOLDER}));return (function n(r){return Object(c.a)("do-resource-create-folder",{id:r,force:t},{retriesLeft:1}).then((function(){return r})).catch((function(t){if(t&&t.body&&t.body.code===U.MKDIR_EXISTS&&!e.dependency){var r=t.body.data.autosuffix_path;return n(r)}return Promise.reject(t)}))})(e.isFakeId?B.default.getIdFromFakeId(e.id):e.id).then((function(t){if(n(we(e)))return Promise.resolve();if(t!==e.id){var i=e.id;e.id=t,delete e.isFakeId;var o=r().resources;o[t]||n(Object(f.d)([e])),n(Object(w.moveClonedResource)(o[i],Object(_.getResourceData)(r(),t)))}return n(Object(w.maybeFetchSingleResource)(t)).then((function(){n(Object(w.setResourceBlocked)(t,!1))})).catch((function(){}))})).catch((function(t){t instanceof Error&&setTimeout((function(){throw t}));var r={status:l.UPLOAD_STATUSES.ERROR,error:Object(l.getUploadError)(t)===l.UPLOAD_ERRORS.LOCKED?l.UPLOAD_ERRORS.LOCKED:l.UPLOAD_ERRORS.FOLDER_NOT_CREATED,data:t&&t.body&&t.body.data};return n(le(e,r)),Promise.reject(r)}))}},q=n(42),$=n(13),Y=n(92),K=n(22),X=n(500),Z=n(99),J=n(83),Q=n(204),ee=n(289),te=n(290),ne=n(291);n.d(t,"g",(function(){return ue})),n.d(t,"d",(function(){return le})),n.d(t,"k",(function(){return he})),n.d(t,"h",(function(){return me})),n.d(t,"a",(function(){return ve})),n.d(t,"e",(function(){return ge})),n.d(t,"i",(function(){return ye})),n.d(t,"j",(function(){return be})),n.d(t,"c",(function(){return _e})),n.d(t,"b",(function(){return Oe})),n.d(t,"f",(function(){return we}));var re=6,ie=[],oe=function(e,t){e.statsSent=!0;var n=e.entry.isDirectory?"folder":"file",r=!e.dependency;switch(t){case l.UPLOAD_STATUSES.DONE:ns.events.trigger("ufo-upload-done",{statId:e.statsId,type:n,root:r});break;case l.UPLOAD_STATUSES.ERROR:ns.events.trigger("ufo-upload-fail",{statId:e.statsId,type:n,root:r});break;case l.UPLOAD_STATUSES.CANCELED:ns.events.trigger("ufo-upload-cancel",{statId:e.statsId,type:n,root:r})}},ae=[],se=u.a.throttle((function(e){e({type:$.UPDATE_UPLOADING_PROGRESS,payload:ae}),ae=[]}),500),ue=function(e,t){return function(n){ae.push(Object.assign({id:e},t)),se(n)}},ce=function(e,t){return{type:$.UPDATE_UPLOADING_STATE,payload:Object.assign({id:e.id,isDirectory:e.entry.isDirectory,originalFileName:e.entry.name},t)}};function le(e,t){return function(n){var r=t.status;n(ce(e,t)),n(me()),r===l.UPLOAD_STATUSES.DONE&&n(Object(w.setResourceBlocked)(e.id,!1))}}var de=function(e){return function(t,n){return(e.entry.isDirectory?t(function(e){return function(t,n){return E.default.count("interface elements","upload dialog","try upload","folder"),e.dependency?t(G(e)).then((function(){t(le(e,{status:l.UPLOAD_STATUSES.DONE}))})):t(G(e)).then((function(){return W(n,e,e.id)})).then((function(r){var i=Object(O.getLimitUploadSize)(n()),o=[];if(i){var a=[];r.forEach((function(e){!e.entry.isDirectory&&Object(l.isOverLimitFileSize)(e.entry,i)?a.push({name:e.entry.name,size:e.entry.size}):o.push(e)})),a.length&&t(Object(F.showLimitUploadDialog)(a))}else o=r;t(Object(f.i)(o,e.id)),t(ve(o)),t(le(e,{status:l.UPLOAD_STATUSES.UPLOADING}))}))}}(e)):t(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return function(n,r){var i;E.default.count("interface elements","upload dialog","try upload","file");var o=Object(O.getLimitUploadSize)(r());if(e.entry.size>j)i=Promise.reject({id:l.UPLOAD_ERROR_ID,type:l.UPLOAD_ERRORS_TYPES.TOO_BIG});else if(o&&e.entry.size>=o)i=Promise.reject({id:l.UPLOAD_ERROR_ID,type:l.UPLOAD_ERRORS_TYPES.OVER_LIMIT});else{var a=r().environment.agent.BrowserEngine,s=L(n,P[a]),u=function(e){var r=e.item,i=e.oid;return n(le(r,{status:l.UPLOAD_STATUSES.PROCESSING})),n(ue(r.id,{loaded:r.entry.size,total:r.entry.size})),A(r.id,i,t)},c=function(){return n(le(e,{status:l.UPLOAD_STATUSES.DONE})),M(),e};i=(n(le(e,{status:l.UPLOAD_STATUSES.GETTING_HASH})),r().environment.agent.isMobile?Promise.resolve({error:"is mobile"}):b(e.entry)).then((function(t){return n(we(e))?null:n(N(e,t.error?{}:t))})).then((function(t){return t?"hardlinked"===t.status?(n(ue(e.id,{loaded:e.entry.size,total:e.entry.size})),n(le(e,{status:l.UPLOAD_STATUSES.PROCESSING})),n(Object(w.maybeFetchSingleResource)(e.id,{insertOnlyIfPortionLoaded:!0})).then(c)):n(we(e))?e:s(t).then(u).then(c):e}))}return i.catch((function(t){t instanceof Error&&setTimeout((function(){throw t}));var i={};return t&&t.body&&t.body.code===k.STORE_FILE_EXISTS?i.status=l.UPLOAD_STATUSES.CONFLICT:(Object.assign(i,{status:l.UPLOAD_STATUSES.ERROR,error:Object(l.getUploadError)(t),data:t&&t.body&&t.body.data}),i.error===l.UPLOAD_ERRORS.LIMIT&&(i.data=t&&t.body&&t.body.title?JSON.parse(t.body.title):null),t instanceof Error&&(i.verboseReason=t.message+t.stack),t&&t.status&&(i.xhrStatus=t.status)),r().resources[e.id]||n(Object(f.d)([e])),n(le(e,i)),Promise.reject(i)}))}}(e))).then((function(e){return Object(te.isReadOnlyActive)(n())&&t(Object(ee.deactivateReadOnly)()),e})).catch((function(n){if(n.error){if(n.error===l.UPLOAD_ERRORS.LIMIT){var r=n.data&&"UserReadOnly"!==n.data.reason?ne.Type.LIMIT:ne.Type.TECH;return E.default.count("interface elements",r===ne.Type.TECH?"upload_limit_tech":"upload_limit_quota"),t(Object(ee.activateReadOnly)({type:r}))}E.default.count("interface elements","upload dialog","error",(n.error||"").toLowerCase()),Object(Z.log)(Object.assign({event:"uploadError",type:e.entry.isDirectory?"folder":"file",statId:e.statsId,reason:n.error},u.a.pick(n,"verboseReason","xhrStatus"))),n.error===l.UPLOAD_ERRORS.LOCKED&&t(function(e,t){return function(n,r){var i=r().user.uid,o=t.op_type,a=t.path,s=t.uid,u=Object(Q.b)({lockType:o,lockInitiatorUid:s,lockedResourcePath:a,targetResourcePath:e,myUid:i,failedOperationType:"upload"}),c=u.reasonText,l=u.reasonTextAux;n(Object(q.notify)({status:"failed",reason:"READ_ONLY",reasonText:c,reasonTextAux:l}))}}(e.id,n.data))}else{if(n.status!==l.UPLOAD_STATUSES.CONFLICT)throw n;E.default.count("interface elements","upload dialog","error",n.status.toLowerCase())}}))}},fe=function(e){return function(t,n){for(var r in e.abortables)e.abortables[r]();var i=n().resources[e.id];if(t(Object(f.f)(e.id)),i&&i.state&&(i.state.part||i.state.blocked)){var o=Object(J.getActiveOperations)("move"),s=Object(J.getActiveOperations)("delete"),u=Object(J.getActiveOperations)("rename");[].concat(a()(o),a()(s),a()(u)).some((function(e){return e.get(".idSrc")===i.id&&("move"===e.get(".type")?t(Object(w.setResourceData)(i.id,!0,"state.disabled")):t(Object(w.hideResource)(i.id)),!0)}))||t(Object(w.removeResource)(e.id))}}},he=function(e){return!e||[l.UPLOAD_STATUSES.DONE,l.UPLOAD_STATUSES.CANCELED].includes(e)},pe=!1;function me(){return function(e,t){if(!pe){pe=!0;var n=t().uploader.uploadingStatesByIds,r=[];ie=ie.filter((function(t){var i=n[t.id]&&n[t.id].status;i&&i!==l.UPLOAD_STATUSES.CANCELED||e(fe(t));var o=he(i);return(o||i===l.UPLOAD_STATUSES.ERROR&&!t.statsSent)&&r.push({item:t,status:i}),!o})),r.reverse().forEach((function(e){var t=e.item,n=e.status;oe(t,n)}));for(var i=ie.filter((function(e){var t=n[e.id],r=t.status;return t.isDirectory?r===l.UPLOAD_STATUSES.CREATING_FOLDER:Object(l.isUploadInProgress)(r)})).length,o=0;o<ie.length&&i<re;o++){var a=ie[o];n[a.id].status!==l.UPLOAD_STATUSES.ENQUEUED||a.dependency&&![l.UPLOAD_STATUSES.UPLOADING,l.UPLOAD_STATUSES.DONE].includes(n[a.dependency].status)||(e(de(a)),i++)}pe=!1}}}var ve=function(e){return function(t){ie=ie.concat(e),t(me())}},ge=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=e.environment.agent.OSFamily,a=e.uploader.resourcesToUpload,s="iOS"===o;return t.map((function(e){var t=s?Object(Y.getUnique)()+Object(K.extname)(e.name,!0):e.name,o=Object(X.normalize)(n+"/"+t),u={entry:e,id:o,force:0,dependency:i,abortables:{},statsId:r};return a.includes(o)&&u.entry.isDirectory&&(u.id=B.default.getFakeId(o),u.isFakeId=!0),u}))},ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){var i,o=ie.find((function(t){var n=t.id;return e===n})),a=r().uploader.uploadingStatesByIds,s=[o.id];if(o.entry.isDirectory){var u=a[o.id].error;i=[l.UPLOAD_ERRORS.FOLDER_NOT_CREATED,l.UPLOAD_ERRORS.LOCKED].includes(u)?l.UPLOAD_STATUSES.ENQUEUED:l.UPLOAD_STATUSES.UPLOADING,ie.forEach((function(e){e.dependency===o.id&&a[e.id].status===l.UPLOAD_STATUSES.ERROR&&Object(l.canRetryUpload)(a[e.id].error)&&(s.push(e.id),e.force=t,n(Object(w.setResourceBlocked)(e.id,!0)))}))}else i=l.UPLOAD_STATUSES.ENQUEUED,o.force=t,n(Object(w.setResourceBlocked)(o.id,!0));n(Object(f.f)(s)),n(le(o,{status:i}))}},be=function(e){return function(t){t(ye(e))}},_e=function(e){return function(t){t(le(ie.find((function(t){return t.id===e})),{status:l.UPLOAD_STATUSES.CANCELED}))}},Oe=function(){return function(e,t){var n=t().uploader.resourcesToUpload.map((function(e){return{id:e,status:l.UPLOAD_STATUSES.CANCELED}}));e({type:$.UPDATE_UPLOADING_STATE,payload:n}),e(me())}},we=function(e){return function(t,n){var r=n().uploader.uploadingStatesByIds[e.id];return!(r&&!r.needCancel)&&(r&&t(le(e,{status:l.UPLOAD_STATUSES.CANCELED})),!0)}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"I18N",(function(){return f})),n.d(t,"bemifyClassName",(function(){return p}));var r=n(0),i=n.n(r),o=n(9),a=n.n(o),s=/(\x1d\d~?\x1d)/,u=/^\x1d\d\x1d$/,c=/^\x1d\d~\x1d$/,l="__",d="_";function f(e){var t=(function e(t,n){var r=t.length;var o=[];for(var s=0;s<r;s++){var l=t[s],d=n[l[1]];if(u.test(l))o.push(d);else if(c.test(l)){for(var f=r-1;t[f]!==l;)f--;if(s===f){o.push(d);continue}d=i.a.cloneElement(d,a.a.omit(d.props,["key","ref"]),e(t.slice(s+1,f),n)),o.push(d),s=f}else o.push(l)}return o})(e.loc.split(s),i.a.Children.toArray(e.children));return 1===t.length&&i.a.isValidElement(t[0])?t[0]:i.a.createElement("span",{className:e.className},t)}function h(e,t,n){var r=this.constructor.displayName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return[r,e?l+e:t?" "+r:"",t?d+t:"",n?d+n:"",this.props.className?" "+this.props.className:""].join("")}var p={bemClassName:h,bx:h};f.$1="0",f.$2="1",f.$3="2",f.$4="3",f.$5="4",f.$6="5",f.$7="6",f.$8="7",f.$9="8",f.$1_CLOSE=f.$1_OPEN="0~",f.$2_CLOSE=f.$2_OPEN="1~",f.$3_CLOSE=f.$3_OPEN="2~",f.$4_CLOSE=f.$4_OPEN="3~",f.$5_CLOSE=f.$5_OPEN="4~"}),,,(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetricContext=void 0;const r=n(0);t.MetricContext=r.createContext(()=>{})}),(function(e,t,n){"use strict";function r(e){return e.displayName||e.name||"Component"}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";var r=n(89),i=n(107),o=n(111),a=n(78);function s(e){return["table","td","th"].indexOf(Object(i.a)(e))>=0}var u=n(182),c=n(96);function l(e){if(!Object(a.b)(e)||"fixed"===Object(o.a)(e).position)return null;var t=e.offsetParent;if(t){var n=Object(c.a)(t);if("body"===Object(i.a)(t)&&"static"===Object(o.a)(t).position&&"static"!==Object(o.a)(n).position)return n}return t}function d(e){for(var t=Object(r.a)(e),n=l(e);n&&s(n)&&"static"===Object(o.a)(n).position;)n=l(n);return n&&"body"===Object(i.a)(n)&&"static"===Object(o.a)(n).position?t:n||(function(e){for(var t=Object(u.a)(e);Object(a.b)(t)&&["html","body"].indexOf(Object(i.a)(t))<0;){var n=Object(o.a)(t);if("none"!==n.transform||"none"!==n.perspective||n.willChange&&"auto"!==n.willChange)return t;t=t.parentNode}return null})(e)||t}n.d(t,"a",(function(){return d}))}),(function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(5),l=n.n(c),d=n(7),f=n.n(d),h=n(1),p=n.n(h),m=n(32),v=n.n(m),g=n(0),y=n.n(g),b=n(414),_=n(209);function O(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var w=(function(e){l()(n,e);var t=O(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getItems",value:function(){var e=this.props,t=e.limit,n=e.activeItemIndex,r=e.items,i=e.createItem,o=Math.floor(t/2),a=Math.max(n-o,0),s=Math.min(n+o,r.length-1);return r.map((function(e,t){return i(t,t>=a&&t<=s)})).filter(Boolean)}},{key:"render",value:function(){return y.a.createElement("div",{className:this.props.className,ref:this.props.itemsListRef},this._getItems())}}]),n})(g.Component),E=n(10),S=n.n(E),C=n(541),x=n(543),k=n(25),T=n(11),j=n.n(T),R=(n(936),{left:C.b,right:x.b}),P=function(e){var t,n=e.direction,r=e.hidden,i=e.ariaLabel,o=e.theme,a=void 0===o?"dark":o,s=e.buttonSize,u=void 0===s?"xxxl":s,c=e.iconSize,l=void 0===c?"xxl":c,d=e.onClick,f=R[n];return y.a.createElement(k.Button,{size:u,view:"clear","aria-label":i,className:j()()("switch-arrow-button").m((t={},S()(t,n,!0),S()(t,"theme",a),S()(t,"hidden",r),t)),onClick:d,icon:function(e){return y.a.createElement(f,{cls:e,iconSize:l})}})},D=n(112);function I(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var A="keyboard",M="button",N=["input","textarea","select","option"],L=function(e){var t=(function(t){l()(r,t);var n=I(r);function r(e){var t;return i()(this,r),(t=n.call(this,e))._onPreviousArrowClick=t._onPreviousArrowClick.bind(u()(t)),t._onNextArrowClick=t._onNextArrowClick.bind(u()(t)),t._onKeyDown=t._onKeyDown.bind(u()(t)),t}return a()(r,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this._onKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._onKeyDown)}},{key:"_canUseArrows",value:function(){return!(!this.props.enableKeyboardControl||this.props.disabledOnFormControls&&document.activeElement&&N.includes(document.activeElement.nodeName.toLowerCase()))}},{key:"_onKeyDown",value:function(e){if(this._canUseArrows())switch(e.keyCode){case D.Keys.LEFT:case D.Keys.UP:this.props.onPrevious(A),e.preventDefault();break;case D.Keys.RIGHT:case D.Keys.DOWN:case D.Keys.SPACE:this.props.onNext(A),e.preventDefault()}}},{key:"_onPreviousArrowClick",value:function(){this.props.onPrevious(M)}},{key:"_onNextArrowClick",value:function(){this.props.onNext(M)}},{key:"render",value:function(){var t=Object.assign({},this.props),n=(t.children||[]).slice();return t.showArrowLeft&&n.push(y.a.createElement(P,{direction:"left",key:"previous",ariaLabel:t.arrowLabels?t.arrowLabels.left:void 0,onClick:this._onPreviousArrowClick})),t.showArrowRight&&n.push(y.a.createElement(P,{direction:"right",key:"next",onClick:this._onNextArrowClick,ariaLabel:t.arrowLabels?t.arrowLabels.right:void 0})),delete t.children,delete t.showArrowLeft,delete t.showArrowRight,delete t.onPrevious,delete t.onNext,y.a.createElement(e,t,n)}}]),r})(g.Component);return t.defaultProps={enableKeyboardControl:!0,disabledOnFormControls:!0},t},F=n(70),B=n(37),U=n.n(B),z=n(91),V=n(501);function H(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}n.d(t,"a",(function(){return G})),n.d(t,"c",(function(){return q}));var W=function(){return j()()("slider")},G=10,q=function(e){return{resources:e.resources,activeResource:e.activeResource}},$=Object(g.memo)((function(e){var t=Object(g.useRef)(null);Object(V.useFocusTrap)({enabled:!0,scopeRef:t,autoFocus:!0,restoreFocus:!0});var n=Object(g.useCallback)((function(n){t.current=n,e.containerProps.ref&&e.containerProps.ref(n)}),[e]);return y.a.createElement("div",v()({},e.containerProps,{ref:n}),e.children)})),Y=L(function(e){l()(n,e);var t=H(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={itemsLimit:1},r._getSliderItem=r._getSliderItem.bind(u()(r)),r._onFirstActivePreviewLoad=r._onFirstActivePreviewLoad.bind(u()(r)),r._onKeyUp=r._onKeyUp.bind(u()(r)),r._itemsRefs={},r._isFirstPreviewLoaded=!1,r}return a()(n,[{key:"componentDidMount",value:function(){window.addEventListener("keyup",this._onKeyUp),this.props.activeResource.content&&this._onFirstActivePreviewLoad(),this.props.containerRef&&this.props.containerRef(this._rootRef),this.props.itemsContainerRef&&this.props.itemsContainerRef(this._itemsContainerRef),this.props.itemsRefs&&this.props.itemsRefs(this._itemsRefs),this._maybeFetchResources()}},{key:"componentWillUnmount",value:function(){this._rootRef.removeEventListener("keypress",this._onKeyUp)}},{key:"componentDidUpdate",value:function(e){e.activeResource.id!==this.props.activeResource.id&&this._maybeFetchResources()}},{key:"_maybeFetchResources",value:function(){var e=this;if(!this._isFetching){var t=this.props,n=t.possiblyHasPrevious,r=t.possiblyHasNext,i=t.fetchResourcesThreshold,o=[-1,1].filter((function(t){return Object(z.c)(Object.assign(q(e.props),{possiblyHasPrevious:n,possiblyHasNext:r,fetchResourcesThreshold:i}),t)}));if(o.length){var a=this.props.fetchResources(o);if(a instanceof Promise){this._isFetching=!0;var s=function(){e._isFetching=!1};a.then(s,s)}}}}},{key:"_getSliderItems",value:function(){var e=this;return y.a.createElement(w,{className:W().e("items"),itemsListRef:function(t){e._itemsContainerRef=t},limit:this.state.itemsLimit,items:this.props.resources,activeItemIndex:Object(z.a)(q(this.props)),createItem:this._getSliderItem})}},{key:"_onFirstActivePreviewLoad",value:function(){this.setState({itemsLimit:5})}},{key:"_getPreview",value:function(e){var t=this,n=this.props.resources[e],r=n===this.props.activeResource;if(n.content){var i="function"==typeof n.content?n.content(this.props.sliderApi):n.content;return y.a.createElement("div",{className:W().e("content")},n.background?y.a.createElement("div",{className:W().e("content-background"),style:{backgroundImage:"url(".concat(n.background,")")}}):null,i)}var o={onError:function(e){return t.props.onImageError(n,e)},className:W().e("preview"),active:r,nonce:this.props.nonce,fitToWidth:n.fitToWidth};if(r&&this.state.isZoomed)o.previewBaseUrl=o.defaultPreview=n.originalUrl;else if(this.props.useSrcSet)o.srcSet=n.srcSet,o.srcSetFallback=n.srcSetFallback;else{var a=this.props.viewportSize,s=a.width,u=a.height;Object.assign(o,{defaultPreview:n.originalUrl,previewBaseUrl:n.previewBaseUrl,width:s,height:u})}return!this._isFirstPreviewLoaded&&r&&(o.onLoad=this._onFirstActivePreviewLoad),y.a.createElement(b.a,o)}},{key:"_getSliderItem",value:function(e,t){var n=this,r=this.props.resources[e],i=r===this.props.activeResource;return y.a.createElement("div",{className:W().e("item").m({active:i,mobile:!this.props.showSwitchArrows}),"aria-hidden":!i,key:r.id||e,ref:function(t){n._itemsRefs[e]=t}},i||t?this._getPreview(e):null)}},{key:"_getToolbar",value:function(){var e=this,t=this.props,n=t.toolbarChildren,r=t.waitResource;return n?y.a.createElement("div",{className:W().e("toolbar").m({visible:this.props.toolbarVisible}),onTouchMove:z.b,onTransitionEnd:function(){return e.props.onToolbarAnimationEnd(e.props.toolbarVisible)}},"function"==typeof n?n(r):n):null}},{key:"_onKeyUp",value:function(e){this.props.enableKeyboardControl&&e.keyCode===U.a.KEYS.ESC&&this.props.onClose(A)}},{key:"render",value:function(){var e=this,t=this.props.activeResource;return y.a.createElement($,{containerProps:{className:W().m({zoomed:this.state.isZoomed}).mix(this.props.cls),ref:function(t){e._rootRef=t}}},y.a.createElement("div",{className:W().e("a11y"),role:"alert","aria-live":"assertive"},t&&(t.name||t.id)),this._getSliderItems(),this._getToolbar(),this.props.children)}}]),n}(g.PureComponent)),K=(function(e){l()(n,e);var t=H(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={waitPrevious:!1,waitNext:!1},r._setItemsRefs=r._setItemsRefs.bind(u()(r)),r.switchToPrevious=r.switchToPrevious.bind(u()(r)),r.switchToNext=r.switchToNext.bind(u()(r)),r._itemsRefs={},r}return a()(n,[{key:"componentDidUpdate",value:function(e){var t=Object(z.a)(q(this.props)),n=this.props,r=n.resources,i=n.possiblyHasPrevious,o=n.possiblyHasNext,a=n.onActiveResourceChange,s=r!==e.resources;(this.state.waitPrevious&&(s||i!==e.possiblyHasPrevious)||this.state.waitNext&&(s||o!==e.possiblyHasNext))&&(this.state.waitPrevious&&(t>0?(a(r[t-1],-1),this.setState({waitPrevious:!1})):i||this.setState({waitPrevious:!1})),this.state.waitNext&&(t<r.length-1?(a(r[t+1],1),this.setState({waitNext:!1})):o||this.setState({waitNext:!1})))}},{key:"switchToPrevious",value:function(e){var t=Object(z.a)(q(this.props));this.props.possiblyHasPrevious&&0===t&&this.setState({waitPrevious:!0}),this.state.waitNext?this.setState({waitNext:!1}):t>0&&this.props.onActiveResourceChange(this.props.resources[t-1],-1,e)}},{key:"switchToNext",value:function(e){var t=Object(z.a)(q(this.props));this.props.possiblyHasNext&&t===this.props.resources.length-1&&this.setState({waitNext:!0}),this.state.waitPrevious?this.setState({waitPrevious:!1}):t<this.props.resources.length-1&&this.props.onActiveResourceChange(this.props.resources[t+1],1,e)}},{key:"_getFakeItem",value:function(e,t){var n=this.props.viewportSize,r=n.width,i=n.height;return{id:"fake-wait-"+e,content:y.a.createElement(F.Spin,{view:"default",progress:!0,size:"m",className:W().e("fake-item-spin")}),background:this.props.showBackgroundWhileLoadNext&&t.previewBaseUrl&&Object(_.c)({previewBaseUrl:t.previewBaseUrl,width:r,height:i})}}},{key:"_getResources",value:function(){var e,t,n=this.props.resources.slice(),r=this.props.activeResource;return this.props.possiblyHasPrevious&&(e=this._getFakeItem("previous",this.props.resources[0]),n.unshift(e),this.state.waitPrevious&&(r=e)),this.props.possiblyHasNext&&(t=this._getFakeItem("next",this.props.resources[this.props.resources.length-1]),n.push(t),this.state.waitNext&&(r=t)),{resources:n,activeResource:r}}},{key:"isCurrentResourceAnImage",value:function(){return!this.state.waitPrevious&&!this.state.waitNext&&!this.props.activeResource.content}},{key:"_setItemsRefs",value:function(e){this._itemsRefs=e}},{key:"getItemsRefs",value:function(){var e;return this.state.waitPrevious?e=0:this.state.waitNext?e=this._itemsRefs.length-1:(e=Object(z.a)(q(this.props)),this.props.possiblyHasPrevious&&e++),{current:this._itemsRefs[e],next:this._itemsRefs[e+1],prev:this._itemsRefs[e-1]}}},{key:"render",value:function(){var e=Object(z.a)(q(this.props)),t=this.props.showSwitchArrows&&this.props.toolbarVisible,n=t&&(e>0||0===e&&this.props.possiblyHasPrevious&&!this.state.waitPrevious),r=t&&(e<this.props.resources.length-1||e===this.props.resources.length-1&&this.props.possiblyHasNext&&!this.state.waitNext);return y.a.createElement(Y,v()({showArrowLeft:n,showArrowRight:r,waitResource:this.state.waitPrevious||this.state.waitNext,onPrevious:this.switchToPrevious,onNext:this.switchToNext,itemsRefs:this._setItemsRefs},this.props,this._getResources()))}}]),n})(g.PureComponent),X=function(){};K.defaultProps={fetchResourcesThreshold:G,fetchResources:X,enableKeyboardControl:!0,onActiveResourceChange:X,onClose:X,onImageError:X,onToolbarAnimationEnd:X,toolbarVisible:!0,sliderApi:{}},K.ToolbarLeft=function(e){return y.a.createElement("div",{className:W().e("toolbar-left")},e.children)},K.ToolbarRight=function(e){return y.a.createElement("div",{className:W().e("toolbar-right")},e.children)};t.b=K}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(967)),s=i(n(968)),u=i(n(549)),c=i(n(969)),l=i(n(970)),d=i(n(971)),f=i(n(972)),h=i(n(973)),p=i(n(974)),m=i(n(975)),v=i(n(976)),g=i(n(977)),y=i(n(978)),b=i(n(979)),_=i(n(980)),O=i(n(981)),w=i(n(982)),E=i(n(983)),S=i(n(984)),C=i(n(985)),x=i(n(986)),k=i(n(987)),T=i(n(988)),j=i(n(989)),R=i(n(990)),P={mail:a.default,check:s.default,cross:u.default,more:c.default,eye:f.default,pen:h.default,penSmallGrey:p.default,arrowBottom:l.default,arrowShort:d.default,info:m.default,trash:b.default,securityLockB2b:_.default,securityLockB2c:O.default,share:w.default,shield:E.default,touchShare:S.default,androidShare:C.default,copy:x.default,qr:k.default,download:T.default,calendar:j.default,warning:v.default,warningGrey:g.default,warningSmall:y.default,group:R.default},D=o.forwardRef((function(e,t){var n=e.name,r=e.className,i=e.onClick;return o.default.createElement("div",{ref:t,className:r,onClick:i,dangerouslySetInnerHTML:{__html:P[n]}})}));D.displayName="SvgImage",t.default=D}),(function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}}),(function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}}),(function(e,t){var n=Array.isArray;e.exports=n}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"moreIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("g",{fill:"currentColor"},p.a.createElement("circle",{cx:"8",cy:"2",r:"2"}),p.a.createElement("circle",{cx:"8",cy:"8",r:"2"}),p.a.createElement("circle",{cx:"8",cy:"14",r:"2"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DATASYNC_KEY_NAME=t.ThemeName=void 0,(function(e){e.GeneralFlow="general-flow",e.GeneralGrass="general-grass",e.Void=""})(t.ThemeName||(t.ThemeName={})),t.DATASYNC_KEY_NAME="generalThemes"}),(function(e,t){function n(t){"@babel/helpers - typeof";return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(5),l=n.n(c),d=n(7),f=n.n(d),h=n(1),p=n.n(h),m=n(0),v=n.n(m),g=n(408),y=n(11),b=n.n(y);n(1328);function _(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var O=function(){return b()()("hover-tooltip")},w=(function(e){l()(n,e);var t=_(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onOpen=r._onOpen.bind(u()(r)),r._onClose=r._onClose.bind(u()(r)),r.state={visible:!1},r}return a()(n,[{key:"_onOpen",value:function(){this.setState({visible:!0})}},{key:"_onClose",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.children,r=e.view,i=e.size,o=e.direction,a=e.className,s=e.clsText,u=e.zIndexGroupLevel,c=e.showDelay,l=e.disabled,d=e.tooltipCls,f=e.mainOffset,h=e.boundary,p={className:d,view:r,size:i,direction:o,zIndexGroupLevel:u,visible:this.state.visible,mainOffset:f,boundary:h};return v.a.createElement(g.a,{visible:this.state.visible&&!l,className:a,onOpen:this._onOpen,onClose:this._onClose,showDelay:c,boundary:!0},v.a.createElement(g.a.Anchor,null,v.a.createElement("div",{className:O().e("tooltip-anchor")},n)),t&&v.a.createElement(g.a.Tooltip,p,v.a.createElement("span",{className:O().e("tooltip-text").mix(s)},t)))}}]),n})(m.Component);w.defaultProps={text:"",view:"default",size:"s",disabled:!1,direction:["bottom"],showDelay:1200},t.default=w}),(function(e,t,n){"use strict";var r=n(169),i=n(39),o=n(89),a=n(96),s=n(240);var u=n(111),c=n(241);var l=n(258),d=n(157),f=n(78),h=n(182),p=n(422),m=n(107);function v(e){return Object.assign(Object.assign({},e),{},{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function g(e,t){return t===i.o?v(function(e){var t=Object(o.a)(e),n=Object(a.a)(e),r=t.visualViewport,i=n.clientWidth,u=n.clientHeight,c=0,l=0;return r&&(i=r.width,u=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(c=r.offsetLeft,l=r.offsetTop)),{width:i,height:u,x:c+Object(s.a)(e),y:l}}(e)):Object(f.b)(t)?(function(e){var t=Object(r.a)(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t})(t):v(function(e){var t=Object(a.a)(e),n=Object(c.a)(e),r=e.ownerDocument.body,i=Math.max(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=Math.max(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-n.scrollLeft+Object(s.a)(e),d=-n.scrollTop;return"rtl"===Object(u.a)(r||t).direction&&(l+=Math.max(t.clientWidth,r?r.clientWidth:0)-i),{width:i,height:o,x:l,y:d}}(Object(a.a)(e)))}function y(e,t,n){var r="clippingParents"===t?(function(e){var t=Object(l.a)(Object(h.a)(e)),n=["absolute","fixed"].indexOf(Object(u.a)(e).position)>=0&&Object(f.b)(e)?Object(d.a)(e):e;return Object(f.a)(n)?t.filter((function(e){return Object(f.a)(e)&&Object(p.a)(e,n)&&"body"!==Object(m.a)(e)})):[]})(e):[].concat(t),i=[].concat(r,[n]),o=i[0],a=i.reduce((function(t,n){var r=g(e,n);return t.top=Math.max(r.top,t.top),t.right=Math.min(r.right,t.right),t.bottom=Math.min(r.bottom,t.bottom),t.left=Math.max(r.left,t.left),t}),g(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}var b=n(426),_=n(423),O=n(425);function w(e,t){void 0===t&&(t={});var n=t,o=n.placement,s=void 0===o?e.placement:o,u=n.boundary,c=void 0===u?i.d:u,l=n.rootBoundary,d=void 0===l?i.o:l,h=n.elementContext,p=void 0===h?i.i:h,m=n.altBoundary,g=void 0!==m&&m,w=n.padding,E=void 0===w?0:w,S=Object(_.a)("number"!=typeof E?E:Object(O.a)(E,i.b)),C=p===i.i?i.j:i.i,x=e.elements.reference,k=e.rects.popper,T=e.elements[g?C:p],j=y(Object(f.a)(T)?T:T.contextElement||Object(a.a)(e.elements.popper),c,d),R=Object(r.a)(x),P=Object(b.a)({reference:R,element:k,strategy:"absolute",placement:s}),D=v(Object.assign(Object.assign({},k),P)),I=p===i.i?D:R,A={top:j.top-I.top+S.top,bottom:I.bottom-j.bottom+S.bottom,left:j.left-I.left+S.left,right:I.right-j.right+S.right},M=e.modifiersData.offset;if(p===i.i&&M){var N=M[s];Object.keys(A).forEach((function(e){var t=[i.k,i.c].indexOf(e)>=0?1:-1,n=[i.m,i.c].indexOf(e)>=0?"y":"x";A[e]+=N[n]*t}))}return A}n.d(t,"a",(function(){return w}))}),(function(e,t,n){"use strict";function r(e){return e.split("-")[1]}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";function r(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r={M:300,L:500,XL:800,XXL:1024,XXXL:1280},i=function(e){return e.filter((function(e){var t=e.name;return r[t]})).map((function(e){var t=e.name,n=e.url;return"".concat(n," ").concat(r[t],"w")})).join(",")},o=function(e,t){var n=e.find((function(e){return e.name===t}));return n&&n.url}}),(function(e,t){e.exports={checkTimeIntervalCondition:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=(n||Date.now())-Number(e);return 0===e||(r?i<t:i>=t)}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(445),i=n(259);function o(e){if(!e.name)return!0;var t=(function(e){return e.checked?e:new r.a(e.form||e.ownerDocument.body,function(t){return Object(i.d)(t)&&t.name===e.name&&t.checked&&t.form===e.form}).next()})(e);return!t||t===e}function a(e){if(Object(i.d)(e)&&!o(e)||Object(i.c)(e))return-1;var t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?"true"===e.contentEditable?0:"AUDIO"!==e.nodeName&&"VIDEO"!==e.nodeName&&"DETAILS"!==e.nodeName||null!==e.getAttribute("tabindex")?e.tabIndex:0:t}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),i=n(498),o=r.compose(r.composeU(i.withThemeBlack,i.withThemeGhost),i.withViewDefault,i.withPseudo)(i.Link);t.default=o}),(function(e,t,n){"use strict";n.r(t),n.d(t,"getSlices",(function(){return m})),n.d(t,"getTopLevelCurrentItem",(function(){return _})),n.d(t,"getTopLevelItemsWithCurrent",(function(){return O})),n.d(t,"getLeftColumnItems",(function(){return w})),n.d(t,"getMobileTopLevelItemsWithCurrent",(function(){return E})),n.d(t,"getTabsItems",(function(){return S})),n.d(t,"hasListing",(function(){return C})),n.d(t,"isIdContextWithListing",(function(){return x}));var r=n(10),i=n.n(r),o=n(22),a=n.n(o),s=n(59),u=n(73),c=n(29),l=n(72),d=n(33);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){return e.page.idContext},m=Object(s.createSelector)([function(e){var t=e.resources;return t["/shared"]&&t["/shared"].isComplete&&t["/shared"].children&&0===t["/shared"].children.length},function(e){var t=e.user;return t},function(e){var t=e.defaultFolders;return t},l.isShowVirtualDisksExpSelector],(function(e,t,n,r){return[{id:"recent",idContext:"/recent",name:"Последние"},{id:"files",idContext:"/disk",name:"Файлы"},{id:"photo",idContext:"/photo",name:"Фото"},{id:"albums",idContext:"/albums",name:"Альбомы"},{id:"shared",idContext:e?"/published":"/shared",name:"Общий доступ"},{id:"shared_folders",idContext:"/shared",name:"Общие папки",parent:"shared"},{id:"published",idContext:"/published",name:"Ссылки",parent:"shared"},{id:"vd",idContext:"/vd",name:"Общие диски",hidden:!n.hasVirtualDisks||!r,parent:"shared"},{id:"journal",idContext:"/journal",name:"История"},{id:"aux",name:"Архив",idContext:"/attach",hideOnMobile:!0},{id:"downloads",idContext:n.folders.downloads||"",disabled:!n.folders.downloads,name:"Загрузки",hideOnMobile:!0},{id:"scans",idContext:n.folders.scans||"",disabled:!n.folders.scans,name:"Сканы",hideOnMobile:!0},{id:"trash",idContext:"/trash",name:"Корзина"},{id:"attach",idContext:"/attach",name:"Почтовые вложения",parent:"aux"},{id:"narod",idContext:"/narod",name:"Народ",hidden:!n.narod,parent:"aux"},{id:"yaru",idContext:"/attach/yaruarchive",name:"Другие сервисы",hidden:!n.yaru,parent:"aux"},{id:"yafotki",idContext:"/attach/YaFotki",name:"Яндекс.Фотки",hidden:!t.states||"done"!==t.states.fotki_migration_state,parent:"aux"}].filter((function(e){return!e.hidden}))})),v=function(e,t){return"albums"===e.id&&0===t.indexOf("/album")},g=Object(s.createSelector)([m],(function(e){return e.filter((function(e){return!e.parent}))})),y=Object(s.createSelector)([m,p],(function(e,t){var n=e.find((function(e){return e.parent&&(0===t.indexOf(e.idContext)||v(e,t))}));return n&&n.parent?e.filter((function(e){return e.parent===n.parent})):[]})),b=function(e){var t=e.page.idContext;return m(e).reduce((function(n,r){if(function(e,t){var n=t.page.idContext;return!("albums"!==e.id||!Object(u.j)(t))||v(e,n)}(r,e))return{item:r,maxPathLength:1/0};if(a.a.equals(r.idContext,t)||a.a.isParent(r.idContext,t)){var i=r.idContext.split("/").length;if(i>n.maxPathLength)return{item:r,maxPathLength:i}}return n}),{maxPathLength:0,item:null}).item},_=function(e){var t=b(e);return t&&t.parent?g(e).find((function(e){return e.id===t.parent})):t},O=Object(s.createSelector)([g,_],(function(e,t){return e.map((function(e){return t&&e.idContext===t.idContext?Object.assign({},e,{current:!0}):e}))})),w=Object(s.createSelector)([O,d.docsNavigation,d.isDocsPage],(function(e,t,n){return n?t:e.map((function(e){return h(h({},e),{},{url:"/client".concat(e.idContext)})}))})),E=Object(s.createSelector)([O],(function(e){return e.filter((function(e){return!e.hideOnMobile}))})),S=Object(s.createSelector)([y,b],(function(e,t){var n=e.find((function(e){return t&&t.idContext===e.idContext})),r=e.map((function(e){return{id:e.id,link:a.a.escape("/client".concat(e.idContext)),title:e.name}}));return{current:n&&n.id,items:r}})),C=function(e){return c.LISTING_ID_CONTEXTS.some((function(t){return null===e||void 0===e?void 0:e.startsWith(t)}))},x=Object(s.createSelector)(p,C)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"mapStateToProps",(function(){return A}));var r=n(21),i=n.n(r),o=n(66),a=n.n(o),s=n(0),u=n.n(s),c=n(19),l=n(416),d=n.n(l),f=n(685),h=n.n(f),p=n(142),m=n(686),v=n.n(m),g=n(687),y=n.n(g),b=n(688),_=n.n(b),O=n(41),w=n(296),E=n(26),S=n(48),C=n(33),x=n(30),k=n(43),T=n(12),j=h()(d.a),R="new editor confirm",P="close all editors confirm",D="update editor error confirm",I=function(e,t){Object(T.count)("share dialog",e,t)},A=function(e,t){var n,r=t.objectIds,i=t.publicShareUrl,o=e.environment,a=o.agent,s=a.isTablet,u=a.OSFamily,c=o.session.isOnlyOfficeAvailable,l=e.config,d=l.urlsBase,f=d.mail,h=d.yandex360,p=l.sk,m=l.idClient,v=e.user,g=v.uid,y=v.isOfficeAllowed,b=v.isB2b,_=v.features,O=v.pddOrgId,w=e.page.idContext,E=i?{isPublic:!0,shortUrl:i}:Object(x.getPublishObjectData)(e,r);return Object.assign({},E,{sk:p,connectionId:m,uid:g,isOfficeAllowed:y,idContext:w,mailOrigin:f,isDocs:Object(C.isDocsPage)(e),isTablet:s,isAndroid:"Android"===u,isOnlyOfficeAvailable:c,isLinkBlockedForOverdraft:Object(k.isOverdraftHard)(e)&&E.objectType!==x.OBJECT_TYPES.ALBUM&&!E.isGuestInSharedFolder,isPublicSettingsEnabled:Boolean(null===_||void 0===_?void 0:null===(n=_.public_settings)||void 0===n?void 0:n.enabled),isB2b:b,yandex360Link:h,pddOrgId:O})};t.default=Object(c.connect)(A,{positiveUnsetPublishResource:w.positiveUnsetPublishResource,positiveUpdateOfficeAccessState:w.positiveUpdateOfficeAccessState,positiveUnpublishAlbum:S.positiveUnpublishAlbum,fetchPublicLinkSettings:w.fetchPublicLinkSettings,positiveChangePublicSettings:w.positiveChangePublicSettings,onAuthChanged:p.onAuthChanged,onSkUpdate:p.onSkUpdate,maybeBlockActionOverdraft:E.maybeBlockActionOverdraft})((function(e){var t=e.objectType,n=e.resourceId,r=e.metaResourceId,o=e.resourceType,c=e.resourcePath,l=e.resourceName,d=e.resourceMediaType,f=e.publicSettings,h=e.isVicariousDoc,m=e.isEditable,g=e.shortUrl,b=e.officeAccessState,w=e.canUnpublish,E=e.isCooperativelyEditable,S=e.visible,C=e.mailOrigin,k=e.uid,A=e.isOfficeAllowed,M=e.sk,N=e.connectionId,L=e.positiveUnsetPublishResource,F=e.positiveUpdateOfficeAccessState,B=e.positiveUnpublishAlbum,U=e.fetchPublicLinkSettings,z=e.positiveChangePublicSettings,V=e.onSkUpdate,H=e.onAuthChanged,W=e.idContext,G=e.onClose,q=e.defaultExpanded,$=e.metrikaPath,Y=e.metrikaTail,K=void 0===Y?[]:Y,X=e.showDeleteLinkProgress,Z=e.isDocs,J=e.isTablet,Q=e.isAndroid,ee=e.isOnlyOfficeAvailable,te=e.isGuestInSharedFolder,ne=e.isLinkBlockedForOverdraft,re=e.maybeBlockActionOverdraft,ie=e.isPublicSettingsEnabled,oe=e.isB2b,ae=e.yandex360Link,se=e.pddOrgId,ue=Object(s.useState)(!1),ce=a()(ue,2),le=ce[0],de=ce[1],fe=Object(s.useState)(!1),he=a()(fe,2),pe=he[0],me=he[1],ve=Object(s.useState)(""),ge=a()(ve,2),ye=ge[0],be=ge[1],_e=Object(s.useRef)(g),Oe=Object(s.useRef)(W);Object(s.useEffect)((function(){S&&(_e.current&&!g||Oe.current!==W)&&G(),_e.current=g,Oe.current=W}),[S,g,W,G]);var we=Object(s.useCallback)((function(e){be(e),me(!1),e?I(e,"show"):de(!0)}),[]),Ee=Object(s.useCallback)((function(e){var t=e.newAccessType,r=e.promise,i=e.isFromConfirm;F(n,t,r,i,(function(){we(R)}),(function(){we(P)}),(function(){we(D)}))}),[n,F,we]),Se=Object(s.useCallback)((function(e){t===x.OBJECT_TYPES.ALBUM?B(n,e):L(n,e),G()}),[n,t,L,B,G]),Ce=Object(s.useCallback)((function(){G(),de(!1)}),[G]),xe=t===x.OBJECT_TYPES.ALBUM?"album":"dir"===o?"folder":"file",ke=Object(s.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];T.count.apply(void 0,i()($).concat(t,i()(K)))}),[$.join(),K.join()]),Te=ne||(!A||!ee||te)&&"dir"!==o,je=Object(s.useCallback)((function(){me(!0),I(ye,"submit");var e=Object(p.api)("mpfs/office-set-access-state",{resourceId:r,accessState:"all",setOnlyOffice:!0});e.then((function(){we("")})),Ee({newAccessType:"all",promise:e,isFromConfirm:!0})}),[r,Ee,ye,we]),Re=Object(s.useCallback)((function(){I(ye,"cancel"),we("")}),[ye,we]),Pe=Z&&w?"Настроить доступ":void 0,De=!ne&&E&&ee,Ie=Object(s.useCallback)((function(e,t,r){z(n,e,t,r)}),[n,z]),Ae=!ne&&"/published"===W,Me=t===x.OBJECT_TYPES.RESOURCE&&w&&!Ae;return Object(s.useEffect)((function(){S&&Me&&U(n).catch((function(){Ce(),ke("security settings","open error")}))}),[S,Me,n,U,Ce,ke]),u.a.createElement(u.a.Fragment,null,u.a.createElement(j,{officeAccessType:b||"disabled",onAccessTypeChange:Ee,defaultExpanded:q||le,lang:"ru",linkUrl:Me&&!f?null:g,resourceTitle:l,resourceId:t===x.OBJECT_TYPES.ALBUM?n:r,resourcePath:c,resourceType:xe,resourceMediaType:d,viewOnlyTooltipType:m&&!E?"doc":xe,modelsRoute:p.psModelsRoute,sk:M,onSkUpdate:V,uid:k,onAuthChanged:H,connectionId:N,fetchOptions:p.psFetchDefaultOptions,isTouch:!1,isTablet:J,isAndroid:Q,isResourceTypeAvailableToEdit:De,onClose:Ce,onDeleteLink:Se,showDeleteLinkProgress:X,visible:S&&!ye,mailOrigin:C,isUserHasRightsToModifyAccess:w,deselectClass:O.LISTING_PREVENT_DESELECT_CLASS,countMetrikaFn:ke,noViewOnlyTooltip:Te,noAccessBlock:Ae,isOverdraft:ne,isVicariousDoc:h,blockActionOverdraft:re,dialogTitle:Pe,userHasPublicSettingsFeature:ie,isB2bUser:oe,chooseTariffLink:ae+(oe?"/business":"/premium-plans")+"?from=share_settings",readOnlyValue:null===f||void 0===f?void 0:f.read_only,availableUntilValue:null===f||void 0===f?void 0:f.available_until,havePasswordValue:null===f||void 0===f?void 0:f.have_password,onChangeSecuritySettings:Ie,externalOrganizationIds:null===f||void 0===f?void 0:f.external_organization_ids,pddOrgId:se}),u.a.createElement(_.a,{lang:"ru",className:O.LISTING_PREVENT_DESELECT_CLASS,visible:ye===D,onClose:Re,onSubmit:Re}),u.a.createElement(v.a,{lang:"ru",className:O.LISTING_PREVENT_DESELECT_CLASS,visible:ye===P,progress:pe,onSubmit:je,onClose:Re,onCancel:Re}),u.a.createElement(y.a,{lang:"ru",className:O.LISTING_PREVENT_DESELECT_CLASS,visible:ye===R,progress:pe,onSubmit:je,onClose:Re,onCancel:Re}))}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",d:"M5.54 1.485a.3.3 0 01.3.3v1.95H7.7a.3.3 0 01.3.3v.898a.3.3 0 01-.3.3H5.84v1.95a.3.3 0 01-.3.3h-.9a.3.3 0 01-.3-.3v-1.95H2.483a.3.3 0 01-.3-.3v-.899a.3.3 0 01.3-.3H4.34v-1.95a.3.3 0 01.3-.3h.9zm.285 9.935zM9.64 7.116L5.825 11.42 4.139 9.718a.344.344 0 00-.5.01l-3.584 3.92a.211.211 0 00-.038.226.207.207 0 00.19.126h15.586a.207.207 0 00.189-.124.21.21 0 00-.035-.225l-5.792-6.535a.345.345 0 00-.515 0z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("g",{fill:"currentColor",fillRule:"evenodd"},p.a.createElement("path",{d:"M13 6l-5 5-5-5z"}),p.a.createElement("path",{d:"M6 2h4v5H6zM3 12h10v2H3z"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(194),o=n(1284),a=n(1286),s=n(1288),u=n(1291),c=n(1293),l=n(1295),d=n(1297);n(1310),n(1311),t.Textinput=r.compose(r.composeU(i.withSizeS,i.withSizeM,l.withSizeL,c.withSizeNote),r.composeU(i.withViewDefault,a.withViewNormal,o.withViewNote,s.withViewSearch,u.withViewSuggestPsHeaderLight),r.composeU(r.composeU(i.withPinBrickBrick,i.withPinBrickClear,i.withPinBrickRound,i.withPinClearBrick,i.withPinClearClear,i.withPinClearRound),i.withPinRoundBrick,i.withPinRoundClear,i.withPinRoundRound),i.withHasClear,d.withIconClassName)(i.Textinput)}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",d:"M16 7H3.8l5.6-5.6L8 0 0 8l8 8 1.4-1.4L3.8 9H16z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("g",{fill:"none",fillRule:"evenodd"},p.a.createElement("path",{fill:"currentColor",d:"M7 7h2v5H7zM7 4h2v2H7z"}),p.a.createElement("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"2"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(107),i=n(96);function o(e){return"html"===Object(r.a)(e)?e:e.assignedSlot||e.parentNode||e.host||Object(i.a)(e)}}),(function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}t.a=function(e,t,n,r){var o=Array.isArray(t)?t.slice():[t],s=o.map((function(e){return"saved"+e[0].toUpperCase()+e.slice(1)})),c=Array.isArray(t)?r:[r],l=(function(t){u()(l,t);var r=m(l);function l(e){var t;i()(this,l),t=r.call(this,e);var a=n(t.props);return t.state=o.reduce((function(e,n,r){return e[s[r]]=a?t.props[n]:c[r],e}),{}),t}return a()(l,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(n(e)){var t=o.reduce((function(t,n,r){return t[s[r]]=e[n],t}),{});this.setState(t)}}},{key:"render",value:function(){var t=Object.assign({},this.state,this.props);return p.a.createElement(e,t)}}]),l})(h.Component);return l.displayName="WithSavedProps(".concat(e.displayName||e.name,")"),l}}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",d:"M7 14h7V7H7v7zM5 5h11v11H5V5zm4-2v1-1zm1-3H0v10V0h10zM0 10v1h4-4v-1zM10 0h1v4-4h-1zM3 9h1-1zM0 0h11v4H9V2H2v7h2v2H0V0z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{d:"M1.694 11.531l8.63-8.63L13.1 5.674l-8.631 8.631L.999 15l.695-3.469zM13.1.125L15.876 2.9l-1.388 1.386-2.775-2.774L13.1.125z",fill:"currentColor",fillRule:"evenodd"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("g",{fill:"currentColor",fillRule:"evenodd"},p.a.createElement("path",{d:"M11 13h3V5H2v5H0v5h11v-2zM6.687 3H16v12H0V1h4.005c.776 0 1.24.271 1.624.73L6.687 3z"}),p.a.createElement("path",{d:"M9 11l-5 4v-3H0v-2h4V7z"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("g",{fillRule:"evenodd",fill:"currentColor"},p.a.createElement("path",{d:"M5 3h2L3 13H1z"}),p.a.createElement("path",{d:"M7 3H5l4 10h2z"}),p.a.createElement("path",{d:"M3 9h6v2H3zm10-9h2v16h-2z"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",d:"M15.194 2.53a2.765 2.765 0 0 1 0 3.902L13.45 8.181a2.737 2.737 0 0 1-1.948.807c-.646 0-1.25-.231-1.742-.638l1.437-1.438c.277.117.62.07.839-.147l1.745-1.75a.759.759 0 0 0 0-1.069l-1.745-1.748a.752.752 0 0 0-1.068 0L9.22 3.946a.755.755 0 0 0-.15.843L7.638 6.225a2.757 2.757 0 0 1 .168-3.695L9.552.782c1.041-1.043 2.856-1.043 3.897 0l1.745 1.748zM6.93 11.184L8.362 9.75a2.756 2.756 0 0 1-.169 3.695l-1.745 1.748A2.734 2.734 0 0 1 4.499 16a2.734 2.734 0 0 1-1.948-.808L.806 13.444a2.767 2.767 0 0 1 0-3.903L2.55 7.793c.976-.979 2.628-1.027 3.689-.167L4.808 9.059a.742.742 0 0 0-.842.15L2.22 10.958a.759.759 0 0 0 0 1.07l1.745 1.747a.777.777 0 0 0 1.068 0l1.746-1.747a.753.753 0 0 0 .15-.844z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t);var r,i,o=n(165),a=n.n(o),s={},u=document.documentElement,c="modernizr",l=document.createElement(c),d=l.style,f=":)",h=" -webkit- -moz- -o- -ms- ".split(" "),p="Webkit Moz O ms".split(" "),m="Webkit Moz O ms".toLowerCase().split(" "),v="http://www.w3.org/2000/svg",g={},y=[],b=y.slice,_=function(e,t,n,r){var i,o,a,s,l=document.createElement("div"),d=document.body,f=d||document.createElement("body");if(parseInt(n,10))for(;n--;)(a=document.createElement("div")).id=r?r[n]:c+(n+1),l.appendChild(a);return i=["&#173;",'<style id="s',c,'">',e,"</style>"].join(""),l.id=c,(d?l:f).innerHTML+=i,f.appendChild(l),d||(f.style.background="",f.style.overflow="hidden",s=u.style.overflow,u.style.overflow="hidden",u.appendChild(f)),o=t(l,e),d?l.parentNode.removeChild(l):(f.parentNode.removeChild(f),u.style.overflow=s),!!o},O=(function(){var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(t,n){n=n||document.createElement(e[t]||"div");var r=(t="on"+t)in n;return r||(n.setAttribute||(n=document.createElement("div")),n.setAttribute&&n.removeAttribute&&(n.setAttribute(t,""),r=S(n[t],"function"),S(n[t],"undefined")||(n[t]=void 0),n.removeAttribute(t))),n=null,r}})(),w={}.hasOwnProperty;function E(e){d.cssText=e}function S(e,t){return a()(e)===t}function C(e,t){return!!~(""+e).indexOf(t)}function x(e,t){for(var n in e){var r=e[n];if(!C(r,"-")&&void 0!==d[r])return"pfx"!=t||r}return!1}function k(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+p.join(r+" ")+r).split(" ");return S(t,"string")||S(t,"undefined")?x(i,t):(function(e,t,n){for(var r in e){var i=t[e[r]];if(void 0!==i)return!1===n?e[r]:S(i,"function")?i.bind(n||t):i}return!1})(i=(e+" "+m.join(r+" ")+r).split(" "),t,n)}for(var T in i=S(w,"undefined")||S(w.call,"undefined")?function(e,t){return t in e&&S(e.constructor.prototype[t],"undefined")}:function(e,t){return w.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=b.call(arguments,1);return function r(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var o=new i,a=t.apply(o,n.concat(b.call(arguments)));return Object(a)===a?a:o}return t.apply(e,n.concat(b.call(arguments)))}}),g.flexbox=function(){return k("flexWrap")},g.touch=function(){var e;return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?e=!0:_(["@media (",h.join("touch-enabled),("),c,")","{#modernizr{top:9px;position:absolute}}"].join(""),(function(t){e=9===t.offsetTop})),e},g.draganddrop=function(){var e=document.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},g.cssanimations=function(){return k("animationName")},g.csstransforms=function(){return!!k("transform")},g.csstransforms3d=function(){var e=!!k("perspective");return e&&"webkitPerspective"in u.style&&_("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",(function(t,n){e=9===t.offsetLeft&&3===t.offsetHeight})),e},g.csstransitions=function(){return k("transition")},g.generatedcontent=function(){var e;return _(["#",c,"{font:0/0 a}#",c,':after{content:"',f,'";visibility:hidden;font:3px/1 a}'].join(""),(function(t){e=t.offsetHeight>=3})),e},g.audio=function(){var e=document.createElement("audio"),t=!1;try{(t=!!e.canPlayType)&&((t=new Boolean(t)).ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),t.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),t.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),t.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(e){}return t},g.localstorage=function(){try{return localStorage.setItem(c,c),localStorage.removeItem(c),!0}catch(e){return!1}},g.svg=function(){return!!document.createElementNS&&!!document.createElementNS(v,"svg").createSVGRect},g)i(g,T)&&(r=T.toLowerCase(),s[r]=g[T](),y.push((s[r]?"":"no-")+r));s.addTest=function(e,t){if("object"==a()(e))for(var n in e)i(e,n)&&s.addTest(n,e[n]);else{if(e=e.toLowerCase(),void 0!==s[e])return s;t="function"==typeof t?t():t,u.className+=" "+(t?"":"no-")+e,s[e]=t}return s},E(""),l=null,s._version="2.8.3",s._prefixes=h,s._domPrefixes=m,s._cssomPrefixes=p,s.mq=function(e){var t,n=window.matchMedia||window.msMatchMedia;return n?n(e)&&n(e).matches||!1:(_("@media "+e+" { #"+c+" { position: absolute; } }",(function(e){t="absolute"==(window.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position})),t)},s.hasEvent=O,s.testProp=function(e){return x([e])},s.testAllProps=k,s.testStyles=_,u.className=u.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+y.join(" "),s.addTest("filereader",(function(){return!!(window.File&&window.FileList&&window.FileReader)})),s.addTest("fullscreen",(function(){for(var e=0;e<s._domPrefixes.length;e++)if(document[s._domPrefixes[e].toLowerCase()+"CancelFullScreen"])return!0;return!!document.cancelFullScreen||!1})),t.default=s}),(function(e,t,n){var r=n(9),i=e.exports=function(){};no.inherit(i,ns.Model,{isValid:no.true,_init:function(e,t){var n=ns.Model.prototype._init.call(this,e,t),i=this.info.defaults||{};return i&&(i=r.isFunction(i)?i.call(this,t):i,ns.Model.prototype.setData.call(this,i)),n}}),i.define=function(e,t){return ns.Model.define(e,t,i)}}),(function(e,t,n){"use strict";n.r(t);var r=n(510);n.d(t,"usePress",(function(){return r.a}))}),(function(e,t,n){var r=n(1217),i=n(1222);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.expandedWidgetContainerClass=t.collapsedWidgetContainerClass=t.ExpandedWidgetContainer=t.CollapsedWidgetContainer=void 0;const a=o(n(1669));t.CollapsedWidgetContainer=a.default,Object.defineProperty(t,"collapsedWidgetContainerClass",{enumerable:!0,get:function(){return a.collapsedWidgetContainerClass}});const s=o(n(1671));t.ExpandedWidgetContainer=s.default,Object.defineProperty(t,"expandedWidgetContainerClass",{enumerable:!0,get:function(){return s.expandedWidgetContainerClass}})}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=n.n(i),a=n(6),s=n(40),u=n(418),c=n(156),l=n(87),d=n(46),f=(n(1040),n(1041),n(1042),n(1043),n(1044),n(1045),new s.Registry({id:Object(d.b)()}));f.set("Control",(function(e){var t=e.autoComplete,n=void 0===t?"off":t,i=e.autoFocus,a=e.className,s=e.controlRef,u=e.defaultValue,c=e.disabled,l=e.id,f=e.inputMode,h=e.max,p=e.maxLength,m=e.min,v=e.name,g=e.onBlur,y=e.onChange,b=e.onFocus,_=e.onKeyDown,O=e.onKeyPress,w=e.onKeyUp,E=e.pattern,S=e.placeholder,C=e.readOnly,x=e.required,k=e.tabIndex,T=e.type,j=e.value,R=Object(r.__rest)(e,["autoComplete","autoFocus","className","controlRef","defaultValue","disabled","id","inputMode","max","maxLength","min","name","onBlur","onChange","onFocus","onKeyDown","onKeyPress","onKeyUp","pattern","placeholder","readOnly","required","tabIndex","type","value"]);return o.a.createElement("input",Object(r.__assign)({},R,{autoComplete:n,autoFocus:i,className:Object(d.b)("Control",null,[a]),defaultValue:u,disabled:c,id:l,inputMode:f,max:h,maxLength:p,min:m,name:v,onBlur:g,onChange:y,onFocus:b,onKeyDown:_,onKeyPress:O,onKeyUp:w,pattern:E,placeholder:S,readOnly:C,ref:s,required:x,tabIndex:k,type:T,value:j}))})).set("Box",(function(e){var t=e.className,n=Object(r.__rest)(e,["className"]);return o.a.createElement("span",Object(r.__assign)({},n,{className:Object(d.b)("Box",null,[t])}))})).set("Icon",(function(e){var t=e.component,n=e.side,o=Object(r.__rest)(e,["component","side"]);return Object(i.cloneElement)(t,Object(r.__assign)(Object(r.__assign)({},o),{className:Object(d.b)("Icon",{side:n},[t.props.className])}))})).set("Hint",(function(e){var t=e.leave,n=e.onAnimationEnd,r=e.children,i=e.id;return o.a.createElement("span",{className:Object(d.b)("Hint",{leave:t}),onAnimationEnd:n,id:i},r)}));var h=Object(a.compose)(Object(s.withRegistry)(f),u.a,(function(e){var t;return(t=(function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.controlRef=Object(i.createRef)(),e}return Object(r.__extends)(n,t),n.prototype.componentDidUpdate=function(e){null!==this.controlRef.current&&this.props.focused!==e.focused&&(this.props.focused?this.controlRef.current.focus():this.controlRef.current.blur())},n.prototype.render=function(){var t=this.props.controlRef,n=void 0===t?null:t;return o.a.createElement(e,Object(r.__assign)({},this.props,{controlRef:Object(l.a)(this.controlRef,n)}))},n})(i.PureComponent)).displayName="withAutoFocus("+Object(c.a)(e)+")",t}))((function(e){var t=e.className,n=e.hovered,i=Object(r.__rest)(e,["className","hovered"]);return o.a.createElement(d.a,Object(r.__assign)({},i,{className:Object(d.b)({hovered:n},[t])}))})),p=n(343),m=n(50),v=n(222),g=n(223),y=n(221),b=(n(1047),Object(a.compose)(y.a,Object(a.composeU)(v.a,g.a))(m.a)),_=f.set("Clear",(function(e){var t=e.visible,n=e.className,i=e.theme,a=e.view,u=e.icon,c=Object(r.__rest)(e,["visible","className","theme","view","icon"]),l=Object(s.useComponentRegistry)(Object(d.b)()).Icon,f={className:Object(d.b)("Clear",{visible:t},[n])},h=u?o.a.cloneElement(u,f):o.a.createElement(b,Object(r.__assign)({},(function(e,t){return"default"===t?{glyph:"x-sign"}:"websearch"===e?{type:"cross-websearch"}:{type:"cross"}})(i,a),f));return o.a.createElement(l,Object(r.__assign)({},c,{component:h}))})),O=n(224),w=Object(a.compose)(Object(s.withRegistry)(_),O.a),E=n(344),S=n(345),C=n(346),x=n(347),k=n(348),T=n(349),j=n(350),R=n(351),P=n(352),D=n(353),I=n(354),A=n(355),M=(n(1063),n(356)),N=(n(1065),n(357)),L=(n(1067),n(1068),n(396));n.d(t,"Textinput",(function(){return h})),n.d(t,"cnTextinput",(function(){return d.b})),n.d(t,"withBaseline",(function(){return p.a})),n.d(t,"withHasClear",(function(){return w})),n.d(t,"withPinBrickBrick",(function(){return E.a})),n.d(t,"withPinBrickClear",(function(){return S.a})),n.d(t,"withPinBrickRound",(function(){return C.a})),n.d(t,"withPinClearBrick",(function(){return x.a})),n.d(t,"withPinClearClear",(function(){return k.a})),n.d(t,"withPinClearRound",(function(){return T.a})),n.d(t,"withPinRoundBrick",(function(){return j.a})),n.d(t,"withPinRoundClear",(function(){return R.a})),n.d(t,"withPinRoundRound",(function(){return P.a})),n.d(t,"withSizeM",(function(){return D.a})),n.d(t,"withSizeS",(function(){return I.a})),n.d(t,"withThemeNormal",(function(){return A.a})),n.d(t,"withThemeWebsearch",(function(){return M.a})),n.d(t,"withViewDefault",(function(){return N.a})),n.d(t,"withViewMaterial",(function(){return L.a}))}),(function(e,t,n){var r=n(536).domains,i=Object.keys(r).map((function(e){return r[e].domain.replace(".","\\.")})),o=new RegExp("^(?:ya\\.ru|яндекс\\.рф|yandex\\.(?:".concat(i.join("|"),"))$")),a=/^(?:gmail\.com|googlemail.com)$/,s=e.exports={domainNormal:"yandex.ru",isEmail:function(e){return/.@[^@.]+\.[^@]*[^@.]$/.test(e)},yandexDomainRegExp:o,normalize:function(e){if(!s.isEmail(e))return e;var t=/^(.+)@([^@]+)$/.exec(e);if(!t)return e;var n=(e=t.slice(1))[0],r=e[1].toLowerCase();return o.test(r)&&(n=n.toLowerCase().split(".").join("-").split("+")[0],r="yandex.ru"),"narod.ru"===r&&(n=n.toLowerCase().split(".").join("-").split("+")[0]),a.test(r)&&(n=n.toLowerCase().split(".").join("").split("+")[0],r="gmail.com"),n+"@"+r}}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(342)),u=o(n(121)),c=n(28).cn("ConfirmDialog");n(1023);t.default=function(e){var t=e.visible,n=e.title,i=e.children,o=e.submitButtonText,l=e.submitButtonProps,d=void 0===l?{}:l,f=e.cancelButtonText,h=e.cancelButtonProps,p=void 0===h?{}:h,m=e.actionButton,v=void 0===m?"submit":m,g=e.autofocusButton,y=void 0===g||g,b=e.progress,_=e.submitDisabled,O=e.onClose,w=e.closeI18n,E=e.onSubmit,S=e.onCancel,C=void 0===S?O:S,x=e.zIndexGroupLevel,k=e.className,T=a.useRef(null),j=a.useRef(null);return a.useEffect((function(){y&&requestAnimationFrame((function(){switch(v){case"submit":T.current&&T.current.focus();break;case"cancel":j.current&&j.current.focus()}}))}),[t,v,y]),a.default.createElement(s.default,{visible:t,title:n,onClose:O,closeI18n:w,zIndexGroupLevel:x,className:c(null,[k])},a.default.createElement("div",{className:c("Content")},i),a.default.createElement("div",{className:c("Footer")},f?a.default.createElement(u.default,r({innerRef:j,size:"xl",view:"pseudo",disabled:b,onClick:C,className:c("Button",{cancel:!0},[p.className])},p),f):null,o?a.default.createElement(u.default,r({innerRef:T,size:"xl",view:"action",progress:b,disabled:_,onClick:E,className:c("Button",{submit:!0},[d.className])},d),o):null))}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(9));!(function(e){e.docx="docx",e.doc="doc",e.xlsx="xlsx",e.xls="xls",e.pptx="pptx",e.ppt="ppt"})(t.DocsExt||(t.DocsExt={})),t.acceptedExts={docx:["docx","doc"],xlsx:["xlsx","xls"],pptx:["pptx","ppt"]},t.getAllAcceptedExts=function(){return i.default.flatten(Object.values(t.acceptedExts))},t.getAcceptedExtsByDocsType=function(e){return t.acceptedExts[e]},t.getDocsTypeByExt=function(e){return Object.entries(t.acceptedExts).reduce((function(t,n){var r=n[0];return n[1].some((function(t){return t===e}))?r:t}),null)},t.getExtByFileName=function(e){var t=e.toLowerCase().match(/\.(.*)$/);return t&&t[1]?t[1]:null},t.filterDocsFiles=function(e){for(var n=0,r=t.getAllAcceptedExts();n<r.length;n++){var i=r[n];if(e.name.toLowerCase().match("."+i+"$"))return!0}return!1}}),(function(e,t,n){var r=n(465),i=n(1206),o=n(1266),a=n(215),s=n(274),u=n(1276),c=n(591),l=n(588),d=c((function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,(function(t){return t=a(t,e),c||(c=t.length>1),t})),s(e,l(e),n),c&&(n=i(n,7,u));for(var d=t.length;d--;)o(n,t[d]);return n}));e.exports=d}),(function(e,t,n){"use strict";n.r(t),n.d(t,"shareIconProvider",(function(){return _}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(27),v=n.n(m),g=n(15);function y(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var b=(function(e){u()(n,e);var t=y(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return this.props.isAndroid?p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.702 4.237L4.97 7.104a2.518 2.518 0 0 1-.042.998l5.862 3.576a2.5 2.5 0 1 1-.736 1.308L4.145 9.382a2.5 2.5 0 1 1 .152-3.62l5.734-2.866a2.5 2.5 0 1 1 .671 1.341z"}):p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.79767 3.15923C4.49622 3.47802 4.72222 4.00277 5.16096 4.00277H7V9.00003C7 9.55231 7.44772 10 8 10C8.55228 10 9 9.55231 9 9.00003V4.00277H10.839C11.2778 4.00277 11.5038 3.47802 11.2023 3.15923L8.36329 0.15695C8.16602 -0.0516654 7.83398 -0.0516656 7.63671 0.15695L4.79767 3.15923ZM13 7.00003C13 6.44775 13.4477 6.00003 14 6.00003C14.5523 6.00003 15 6.44775 15 7.00003V13.5C15 14.3285 14.3284 15 13.5 15H2.5C1.67157 15 1 14.3285 1 13.5V7.00003C1 6.44775 1.44772 6.00003 2 6.00003C2.55228 6.00003 3 6.44775 3 7.00003V13H13V7.00003Z"})}}]),n})(g.default);b.propTypes=Object.assign({isAndroid:v.a.bool.isRequired},g.default.propTypes),t.default=b;var _=Object(g.iconProvider)(b)}),(function(e,t,n){"use strict";var r;n.r(t),t.default=function(e,t){return"function"!=typeof Audio?"":(r||(r=new Audio),r.canPlayType(e+(t?'; codecs="'.concat(t,'"'):"")))}}),(function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=function(e,t){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)},i=function(e,t){return r(e,t)?Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left))*Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)):0},o=function(e){var t=e.getBoundingClientRect(),n=t.top,r=t.left,i=t.right,o=t.bottom;return{top:n+=window.pageYOffset,left:r+=window.pageXOffset,right:i+=window.pageXOffset,bottom:o+=window.pageYOffset}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])})(n(830))}),(function(e,t,n){"use strict";var r=n(9),i=n.n(r),o=function(){};o.define=function(e,t){return ns.Model.define(e,t,o)},no.inherit(o,ns.Model,{_init:function(e){var t;this.limit=ns.Model.infoLite(e).limit||10,this.items=[],this.itemsProcessing=[],this.busy=!1;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=ns.Model.prototype._init).call.apply(t,[this,e].concat(r))},push:function(e){var t=this.createItem(e);return this.items.push(t),this.trigger("added",t),this.nextTick(this.doIteration),t.promise},pushPriority:function(e){var t=this.createItem(e),n=this.items.indexOf(this.itemLastPriority);return this.items.splice(n+1,0,t),this.itemLastPriority=t,this.trigger("added",t),this.doIteration(),t.promise},doIteration:function(){var e=this;if(!this.busy){var t=this.getPortion(),n=function(){e.busy=!1,e.trigger("processed",t),e.doIteration()};t.length?(this.busy=!0,this.handlePortion(t).then(n,n),this.trigger("processing",t)):this.trigger("drained")}},getPortion:function(){return this.items.splice(0,this.limit)},createItem:function(e){return{item:e,promise:new Vow.Promise}},handlePortion:function(){throw new Error("You must implement method `handlePortion` in model "+this.id)},nextTick:function(e){i.a.defer(e.bind(this))}}),t.a=o}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n(21),i=n.n(r),o=n(22),a=n.n(o),s={move_resource:{target:{me:[{message:"Объект перемещается"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0}],other:[{message:"Объект перемещается другим участником общей папки"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0}]},child:{me:[{message:"Объект в этой папке перемещается"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}],other:[{message:"Объект в этой папке перемещается другим участником общей папки"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}]},parent:{me:[{message:"Папка с этим объектом перемещается"},{message:"Папка и объекты в ней доступны только для просмотра и скачивания",isForLong:!0}],other:[{message:"Папка с этим объектом перемещается другим участником общей папки"},{message:"Папка и объекты в ней доступны только для просмотра и скачивания",isForLong:!0}]},destination:{me:[{message:"Целевая папка перемещается"},{message:"Она доступна только для просмотра и скачивания",isForLong:!0}],other:[{message:"Целевая папка перемещается другим участником общей папки"},{message:"Она доступна только для просмотра и скачивания",isForLong:!0}]}},copy_resource:{target:{me:[{message:"Объект копируется"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0}],other:[{message:"Объект копируется другим участником общей папки"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0}]},child:{me:[{message:"Объект в этой папке копируется"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}],other:[{message:"Объект в этой папке копируется другим участником общей папки"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}]},parent:{me:[{message:"Папка с этим объектом копируется"},{message:"Папка и внутренние объекты доступны только для просмотра и скачивания",isForLong:!0}],other:[{message:"Папка с этим объектом копируется другим участником общей папки"},{message:"Папка и внутренние объекты доступны только для просмотра и скачивания",isForLong:!0}]},destination:{me:[{message:"Целевая папка копируется"},{message:"Она доступна только для просмотра и скачивания",isForLong:!0}],other:[{message:"Целевая папка копируется другим участником общей папки"},{message:"Она доступна только для просмотра и скачивания",isForLong:!0}]}},trash_append:{target:{me:[{message:"Объект перемещается в Корзину"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0}],other:[{message:"Объект удаляется другим участником общей папки"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0},{message:"После удаления он станет недоступен"}]},child:{me:[{message:"Объект в этой папке перемещается в Корзину"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}],other:[{message:"Объект в этой папке удаляется другим участником общей папки"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}]},parent:{me:[{message:"Папка с этим объектом перемещается в Корзину"},{message:"Папка и объекты в ней доступны только для просмотра и скачивания",isForLong:!0}],other:[{message:"Папка с этим объектом удаляется другим участником общей папки"},{message:"Папка и объекты в ней доступны только для просмотра и скачивания",isForLong:!0},{message:"После удаления они станут недоступны"}]},destination:{me:[{message:"Целевая папка перемещается в Корзину"},{message:"После удаления она станет недоступна"}],other:[{message:"Целевая папка перемещается в Корзину другим участником общей папки"},{message:"После удаления она станет недоступна"}]}},office:{target:{me:[{message:"Документ редактируется"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0}],other:[{message:"Документ редактируется другим участником общей папки"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0}]},child:{me:[{message:"Документ в этой папке редактируется"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}],other:[{message:"Документ в этой папке редактируется другим участником общей папки"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}]}},trash_drop_all:"Корзина уже очищается",clean_trash:"Корзина уже очищается",trash_restore:"Объект восстанавливается",trash_drop_element:"Объект удаляется из Корзины",rm:"Объект удаляется из Корзины",from_trash:{trash_append:"Идет перемещение в Корзину",trash_restore:"Идет восстановление из Корзины"}},u={copy:"Не удалось скопировать",move:"Не удалось переместить",moveToTrash:"Не удалось переместить в Корзину",delete:"Не удалось удалить",rename:"Не удалось переименовать",upload:"Не удалось загрузить",publish:"Не удалось опубликовать",restore:"Не удалось восстановить",unshare:"Не удалось закрыть доступ",cleanTrash:"Не удалось очистить Корзину",leaveFolder:"Не удалось покинуть папку",acceptInvite:"Не удалось принять приглашение",accessFolder:"Не удалось поменять права",createFolder:"Не удалось создать папку",inviteFolder:"Не удалось отправить приглашение",uploadFolder:"Не удалось загрузить папку"},c=function(e){var t=e.myUid,n=e.lockType,r=e.lockInitiatorUid,i=e.lockedResourcePath,o=e.targetResourcePath,u=e.failedOperationType,c=e.isLong,l=void 0!==c&&c;if("cleanTrash"===u&&["trash_append","trash_restore"].includes(n))return[s.from_trash[n]];switch(n){case"move_resource":case"copy_resource":case"trash_append":case"office":var d=(function(e,t){return t===e?"target":a.a.isParent(e,t)?"parent":a.a.isParent(t,e)?"child":"destination"})(i,o),f=t===r?"me":"other";return s[n][d][f].filter((function(e){var t=e.isForLong;return l||!t})).map((function(e){return e.message}));default:return[s[n]]}},l=function(e){var t=e.lockType,n=e.targetResourcePath,r=e.failedOperationType,o=e.isLong,l=void 0!==o&&o,d=e.onlyReason,f=void 0!==d&&d;if(!s[t])return["Невозможно выполнить операцию. Файл доступен только для просмотра и скачивания."];var h=c(e),p=[];if(f&&l)p.push("Пожалуйста, подождите");else if(!f){var m=(function(e,t){return"delete"!==e||a.a.isParent("/trash",t)||(e="moveToTrash"),e&&u[e]})(r,n);m&&p.push(m),m&&!l||p.push("Пожалуйста, подождите")}return p.push.apply(p,i()(h)),p},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:". ";return l(e).join(t)},f=function(e){var t,n,r=l(e);return r.length>2?(t=r.slice(0,2).join(". ")+".",n=r.slice(2).join(". ")):t=r.join(". "),{reasonText:t,reasonTextAux:n}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(52),i=n(58),o=n(44);function a(e,t){Object(o.a)(1,arguments);var n=t||{},a=n.locale,s=a&&a.options&&a.options.weekStartsOn,u=null==s?0:Object(i.a)(s),c=null==n.weekStartsOn?u:Object(i.a)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=Object(r.a)(e),d=l.getDay(),f=(d<c?7:0)+d-c;return l.setDate(l.getDate()-f),l.setHours(0,0,0,0),l}}),(function(e,t,n){"use strict";t.a=function(e){((function(){var e=document.getElementById("download-iframe");return e||((e=document.createElement("iframe")).id="download-iframe",e.style.display="none",document.body.appendChild(e)),e})()).src=e}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",d:"M6.62 11.205c-2.526 0-4.583-2.056-4.583-4.584 0-2.526 2.057-4.583 4.584-4.583 2.53 0 4.585 2.057 4.585 4.584 0 2.53-2.056 4.585-4.584 4.585zM16 14.56l-4.04-4.04c.803-1.095 1.283-2.44 1.283-3.9 0-3.65-2.97-6.62-6.622-6.62C2.97 0 0 2.97 0 6.62c0 3.652 2.97 6.623 6.62 6.623 1.46 0 2.805-.48 3.9-1.282L14.56 16 16 14.56z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t){var n=function(e){return Boolean(null===e||void 0===e?void 0:e.start_discount)};e.exports={isPriceWithTemporaryDiscount:n,getBestPrice:function(e){return n(e)?e.start_discount.price:e.amount},isTuningWithUsdPayment:function(e,t,n,r){return"tr"===e&&n||"by"===e&&r||!["ru","tr","by"].includes(e)&&t}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r="size={{width}}x{{height}}",i=1280;t.c=function(e){var t=e.previewBaseUrl,n=e.defaultPreview,i=e.width,o=e.height,a=e.crop,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!i||!o)return n;var c=Math.max(window.devicePixelRatio||1,1),l=i*c,d=o*c,f=s.replace("{{width}}",String(Math.floor(l))).replace("{{height}}",String(Math.floor(d))),h="".concat(t,"&").concat(f);return a&&(h+="&crop=1"),u&&(h+="&retry=1"),h}}),(function(e,t,n){"use strict";var r=n(9),i=n.n(r),o=n(34),a={preprocessAlbum:function(e){return e.public.short_url=o.default.fixShortUrl(e.public.short_url),"favorites"===e.album_type&&(e.title="Избранные"),e.cover&&e.cover.object&&(e.cover=Object.assign({},e.cover.object,i.a.pick(e.cover,"face_bottom","face_top","face_left","face_right","width","height"))),e},TITLE_ALBUM_DEFAULT:"Яндекс.Диск"};t.a=a}),(function(e,t,n){var r=n(110);function i(e,t){try{this.monthsNominative=e||["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],this.monthsGenitive=t||["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]}catch(e){}this.timestampToDate=this.timestampToDate.bind(this)}i.prototype={create:function(e,t){return new i(e,t)},timestampToDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD.MM.YYYY HH:mm";return r(1e3*e,t,this.monthsNominative,this.monthsGenitive)},numberToInterval:function(e,t){var n,r=t.length,i=t[0],o=t[r-1];if(e<=i)return"<= "+i;if(e>o)return"> "+o;for(var a=0;a<r-1;a++)if(i=t[a],o=t[a+1],e>i&&e<=o){n=i+1+" - "+o;break}return n}},e.exports=new i}),(function(e,t,n){var r=$(window),i=$("html, body"),o=n(29),a=e.exports={scrollListingToNode:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.scrollListingToPosition(e.offset().top,{itemHeight:e.outerHeight(),extraOffsetTop:t,animate:n})},scrollListingToPosition:function(e,t){var n=t.itemHeight,i=t.extraOffsetTop,s=t.animate,u=o.ROOT_CONTENT_TOP;i&&(u+=i);var c=r.outerHeight()||0,l=r.scrollTop()||0;if(!(e>l+u)||!(e+n<c+l)){var d=e-u;a.scrollTo(d,s)}},scrollTo:function(e,t){t?i.animate({scrollTop:e}):i.scrollTop(e)}}}),(function(e,t,n){var r=n(214),i=n(1218),o=n(1219),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:u&&u in Object(e)?i(e):o(e)}}),(function(e,t,n){var r=n(146).Symbol;e.exports=r}),(function(e,t,n){var r=n(162),i=n(1267),o=n(1268),a=n(1271);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.getApiClient=t.createApiClient=void 0;const i=n(1615),o=n(1621),a=n(1622),s=n(1625),u=n(1626);class c{logError(){}}const l=a.makePassportAuthRedirectInterceptor("https://passport.yandex.ru","AUTH_NO_AUTH"),d=s.makeLogErrorInterceptor(()=>{});let f;t.createApiClient=function(e,t,n,a){return f||(f=(function(e,t,n,a){const s=new i.Api(e,{getAdditionalHeaders:()=>({}),getAdditionalBodyFields:()=>({_uid:t,_ckey:n()})},new c),f=o.makeRetryInterceptor((e,t)=>!!t.isModelRejected(e.result)&&"ckey"===e.result.error,{},e=>r(this,void 0,void 0,(function*(){e.ckey&&a(e.ckey)})));return new i.ModelsApi(s,{modelsQueryParameter:"_models"},{response:u.composeResponseInterceptors(f,l,d)})})(e,t,n,a))},t.getApiClient=function(){return f}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetHeader=t.widgetHeaderClass=void 0;const i=r(n(0)),o=n(28),a=n(115);n(1680),t.widgetHeaderClass=o.cn("WidgetHeader"),t.WidgetHeader=(({title:e,action:n,className:r})=>i.default.createElement("div",{className:a.classnames(t.widgetHeaderClass(),r)},e,n&&i.default.createElement("div",{className:t.widgetHeaderClass("Action")},n)))}),(function(e,t,n){"use strict";n.r(t);var r=n(40),i=n(2),o=n(0),a=n.n(o),s=n(28),u=n(419),c=n(55),l=n(87),d=n(427),f=n(1887),h=(n(1081),function(e){return Object(d.a)((function(e){return e.items?e.items:e}),e)}),p=function(e){return void 0!==e.items},m=function(e){return void 0===e&&(e=0),function(){return e++}},v=Object(s.cn)("Menu"),g=(function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={hoveredIndex:n.props.focused?0:-1},n.innerRef=Object(o.createRef)(),n.itemsRef=[],n.uniqId=u.a?"0":String(Date.now())+Math.floor(1e4*Math.random()),n.mapChildren=function(e,t){var r=e.Item,s=e.Group,u=t.getNextItemCount,c=t.getNextGroupCount,l=t.disabled;return function(e){if(p(e)){var t=c();return a.a.createElement(s,Object(i.__assign)({title:e.title,key:"group-"+t},e.unsafe_props),e.items.map(n.mapChildren({Item:r,Group:s},{getNextItemCount:u,getNextGroupCount:c,disabled:l})))}var d=n.props,f=d.value,h=d.view,m=n.state.hoveredIndex,v=[].concat(f),g="default"===h&&void 0!==f,y=u();return n.itemsRef[y]=Object(o.createRef)(),a.a.createElement(r,Object(i.__assign)({},e.unsafe_props,{id:e.id||"item-"+n.uniqId+"-"+y,key:"item-"+y,"data-key":"item-"+y,needIconGlyph:g,checked:-1!==v.indexOf(e.value),disabled:e.disabled||l,hovered:!l&&m===y,onMouseEnter:n.setHoveredOnMouseEnter,onMouseLeave:n.setHoveredOnMouseLeave,onClick:n.onMenuItemClick,type:void 0===f?f:"option",innerRef:n.itemsRef[y],value:e.value,index:y}),e.content)}},n.onKeyDown=function(e){if(!e.shiftKey&&Object(c.b)(e.keyCode,[c.a.UP,c.a.DOWN])){e.preventDefault();var r=e.keyCode-39,i=n.getNextNotDisabledIndex(r);n.triggerOnMenuItemChange(i),t.scrollToItem(n.innerRef,n.itemsRef[i]),n.setState({hoveredIndex:i})}Object(c.b)(e.keyCode,[c.a.ENTER,c.a.SPACE])&&(e.preventDefault(),n.triggerOnChange())},n.onMenuItemClick=function(e,t){n.setState({hoveredIndex:t},(function(){n.triggerOnChange()}))},n.setHoveredOnMouseEnter=function(e,t){n.setState({hoveredIndex:t})},n.setHoveredOnMouseLeave=function(e,t){n.setState({hoveredIndex:-1})},n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.forwardRefs(),this.props.focused&&(this.subscribeToEvents(),this.hoverAndScrollToFirstSelectedElement())},t.prototype.componentDidUpdate=function(e){this.forwardRefs(),!e.focused&&this.props.focused?(this.subscribeToEvents(),this.hoverAndScrollToFirstSelectedElement()):e.focused&&!this.props.focused?(this.setState({hoveredIndex:-1}),this.unsubscribeFromEvents()):this.props.focused&&e.items.length!==this.props.items.length&&this.hoverAndScrollToFirstSelectedElement()},t.prototype.componentWillUnmount=function(){this.unsubscribeFromEvents()},t.prototype.render=function(){var e=this,t=this.props,n=t.className,o=t.disabled,s=(t.focused,t.items),u=(t.onChange,t.onActiveItemChange,t.value),c=(t.innerRef,t.renderItem),l=Object(i.__rest)(t,["className","disabled","focused","items","onChange","onActiveItemChange","value","innerRef","renderItem"]);return a.a.createElement(r.ComponentRegistryConsumer,{id:v()},(function(t){var r=t.Item,d=t.Group;return a.a.createElement(f.b,{component:r,render:c},(function(t){var r=m(),c=m();return a.a.createElement("div",Object(i.__assign)({},l,{ref:e.innerRef,"aria-disabled":o,"aria-multiselectable":Array.isArray(u),role:void 0!==u?"listbox":void 0,className:v(null,[n])}),s.map(e.mapChildren({Item:t,Group:d},{getNextItemCount:r,getNextGroupCount:c,disabled:o})))}))}))},t.prototype.forwardRefs=function(){Object(l.b)(this.innerRef,this.props.innerRef)},t.scrollToItem=function(e,t){if(null!==e.current&&void 0!==t&&null!==t.current){var n,r=e.current.getBoundingClientRect().top,i=t.current.getBoundingClientRect().top;i<r?n=i-r:(n=i+t.current.offsetHeight-r-e.current.offsetHeight)<0&&(n=0),e.current.scrollTop=e.current.scrollTop+n}},t.prototype.subscribeToEvents=function(){document.addEventListener("keydown",this.onKeyDown,!0)},t.prototype.unsubscribeFromEvents=function(){document.removeEventListener("keydown",this.onKeyDown,!0)},t.prototype.hoverAndScrollToFirstSelectedElement=function(){var e=[].concat(this.props.value),n=h(this.props.items).reduce((function(t,n,r){return t<0&&-1!==e.indexOf(n.value)?r:t}),-1);t.scrollToItem(this.innerRef,this.itemsRef[n]),this.setState({hoveredIndex:n<0?0:n})},t.prototype.getNextNotDisabledIndex=function(e){for(var t=this.state.hoveredIndex,n=0,r=h(this.props.items);n<r.length&&(n++,(t+=e)<0&&(t=r.length-1),t>=r.length&&(t=0),r[t].disabled););return t},t.prototype.triggerOnMenuItemChange=function(e){var t=this.props.onActiveItemChange;if(void 0!==t&&null!==this.innerRef.current){var n=this.innerRef.current.querySelector('[data-key="item-'+e+'"]');n&&t(n.id)}},t.prototype.triggerOnChange=function(){var e=this.props,t=e.onChange,n=e.value,r=this.state.hoveredIndex;if(void 0!==t){var o=h(this.props.items),a=-1===r?"":o[r].value;if(Array.isArray(n)){var s=Object(i.__spread)(n);-1!==s.indexOf(a)?s=s.filter((function(e){return e!==a})):s.push(a),a=s}t({target:{value:a}})}},t.displayName=v(),t})(o.PureComponent);function y(e){var t=e.checked,n=e.className,r=e.disabled,a=e.hovered,s=e.type,u=void 0===s?"menuitem":s,c=e.id,l=e.index,d=e.onClick,f=e.onMouseEnter,h=e.onMouseLeave,p=Object(i.__rest)(e,["checked","className","disabled","hovered","type","id","index","onClick","onMouseEnter","onMouseLeave"]),m=Object(o.useCallback)((function(e){d&&d(e,l)}),[l,d]),g=Object(o.useCallback)((function(e){f&&f(e,l)}),[l,f]),y=Object(o.useCallback)((function(e){h&&h(e,l)}),[l,h]);return Object(i.__assign)(Object(i.__assign)({},p),{"aria-selected":t,"aria-disabled":r,id:c,role:u,className:v("Item",{checked:t,disabled:r,hovered:a,type:u},[n]),onClick:m,onMouseEnter:g,onMouseLeave:y})}var b=n(50),_=n(225),O=new r.Registry({id:v()});O.set("Group",(function(e){var t=e.children,n=e.className,o=e.title,s=Object(i.__rest)(e,["children","className","title"]),u=Object(r.useComponentRegistry)(v()).Title;return a.a.createElement("div",Object(i.__assign)({},s,{role:"group",className:v("Group",null,[n])}),o&&a.a.createElement(u,null,o),t)})).set("Item",(function(e){var t=e.needIconGlyph,n=e.children,o=e.innerRef,s=(e.value,Object(i.__rest)(e,["needIconGlyph","children","innerRef","value"])),u=Object(r.useComponentRegistry)(v()),c=u.Text,l=u.Icon,d=y(s);return a.a.createElement("div",Object(i.__assign)({ref:o},d),t&&a.a.createElement(l,{glyph:"type-check"}),a.a.createElement(c,null,n))})).set("Text",(function(e){var t=e.children,n=e.className,r=Object(i.__rest)(e,["children","className"]);return a.a.createElement("span",Object(i.__assign)({},r,{className:v("Text",null,[n])}),t)})).set("Title",(function(e){var t=e.children,n=e.className,r=Object(i.__rest)(e,["children","className"]);return a.a.createElement("div",Object(i.__assign)({},r,{"aria-hidden":!0,className:v("Title",null,[n])}),t)})).set("Icon",Object(_.a)(b.a));var w=Object(r.withRegistry)(O)(g),E=n(156);function S(e){var t=[],n={createCollection:S};return o.Children.forEach(e,(function(e){if(function(e){return Object(o.isValidElement)(e)&&e.type===o.Fragment}(e))t.push.apply(t,Object(i.__spread)(S(e.props.children)));else if(function(e){if(Object(o.isValidElement)(e)){var t=e.type;return"function"==typeof t&&"function"==typeof t.getCollectionNode}return!1}(e))t.push(e.type.getCollectionNode(e.props,n));else if(e)throw new Error("Unknown element of the children")})),t}var C=function(){return null};C.getCollectionNode=function(e,t){e.children;var n=e.label,r=Object(i.__rest)(e,["children","label"]);return{title:n,items:t.createCollection(e.children),unsafe_props:r}};var x=function(){return null};function k(e){var t=function(t){var n=t.items,r=(t.children,Object(i.__rest)(t,["items","children"])),s=(function(e){var t=e.children;return Object(o.useMemo)((function(){return S(t)}),[t])})(t);return a.a.createElement(e,Object(i.__assign)({},r,{items:n||s}))};return t.displayName="withJsxContent("+Object(E.a)(e)+")",t}x.getCollectionNode=function(e){var t=e.children,n=e.value,r=e.disabled;return{id:e.id,disabled:r,value:n,content:t,unsafe_props:Object(i.__rest)(e,["children","value","disabled","id"])}};var T=n(6),j=(n(1083),Object(T.withBemMod)(v(),{size:"m"})),R=(n(1084),Object(T.withBemMod)(v(),{size:"s"})),P=(n(1085),Object(T.withBemMod)(v(),{theme:"normal"})),D=(n(1086),n(1087),Object(T.withBemMod)(v(),{view:"default"})),I=(n(1088),n(1089),Object(T.withBemMod)(v(),{width:"auto"})),A=(n(1090),Object(T.withBemMod)(v(),{width:"max"}));n.d(t,"Menu",(function(){return w})),n.d(t,"cnMenu",(function(){return v})),n.d(t,"withJsxContent",(function(){return k})),n.d(t,"Group",(function(){return C})),n.d(t,"Item",(function(){return x})),n.d(t,"withSizeM",(function(){return j})),n.d(t,"withSizeS",(function(){return R})),n.d(t,"withThemeNormal",(function(){return P})),n.d(t,"withViewDefault",(function(){return D})),n.d(t,"withWidthAuto",(function(){return I})),n.d(t,"withWidthMax",(function(){return A})),n.d(t,"useMenuItem",(function(){return y}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(71),o=(n(964),Object(r.withBemMod)(Object(i.b)(),{size:"m"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(71),o=(n(965),Object(r.withBemMod)(Object(i.b)(),{size:"s"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(0),o=n.n(i),a=n(6),s=n(50),u=(n(154),n(1048),Object(a.withBemMod)(Object(s.b)(),{glyph:"x-sign"},(function(e){return function(t){var n=t.className,i=Object(r.__rest)(t,["className"]);return o.a.createElement(e,Object(r.__assign)({},i,{className:Object(s.b)({hasGlyph:!0},[n])}),o.a.createElement("svg",{viewBox:"0 0 20 20"},o.a.createElement("path",{focusable:"false",width:"0",height:"0",d:"M10,20 C4.5,20 0,15.5 0,10 C0,4.5 4.5,0 10,0 C15.5,0 20,4.5 20,10 C20,15.5 15.5,20 10,20 L10,20 L10,20 L10,20 Z M15,6.4 L13.6,5 L10,8.6 L6.4,5 L5,6.4 L8.6,10 L5,13.6 L6.4,15 L10,11.4 L13.6,15 L15,13.6 L11.4,10 L15,6.4 L15,6.4 L15,6.4 L15,6.4 Z"})))}})))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(50),o=(n(1050),Object(r.withBemMod)(Object(i.b)(),{type:"cross"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(50),o=(n(1051),Object(r.withBemMod)(Object(i.b)(),{type:"cross-websearch"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2),i=n(0),o=n.n(i),a=n(6),s=n(40),u=n(87),c=n(46),l=Object(a.withBemMod)(Object(c.b)(),{hasClear:!0},(function(e){return (function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.controlRef=Object(i.createRef)(),e.onMouseDown=function(e){e.preventDefault()},e.onClick=function(t){if(null!==e.controlRef.current&&!t.isDefaultPrevented()&&(e.controlRef.current.focus(),void 0!==e.props.onChange)){var n=e.controlRef.current.value,r=Object.create(t);r.target=e.controlRef.current,r.currentTarget=e.controlRef.current,e.controlRef.current.value="",e.props.onChange(r),e.controlRef.current.value=n}void 0!==e.props.onClearClick&&e.props.onClearClick(t)},e}return Object(r.__extends)(n,t),n.prototype.render=function(){var t=this,n=this.props,i=n.addonBefore,a=(n.onClearClick,n.hasClear,n.controlRef),l=(n.clearIcon,Object(r.__rest)(n,["addonBefore","onClearClick","hasClear","controlRef","clearIcon"]));return o.a.createElement(s.ComponentRegistryConsumer,{id:Object(c.b)()},(function(n){var s=n.Clear;return o.a.createElement(e,Object(r.__assign)({},l,{controlRef:Object(u.a)(t.controlRef,a),addonBefore:o.a.createElement(o.a.Fragment,null,o.a.createElement(s,{onClick:t.onClick,onMouseDown:t.onMouseDown,size:t.props.size,theme:t.props.theme,view:t.props.view,icon:t.props.clearIcon,visible:Boolean(t.props.value)}),i)}))}))},n})(i.PureComponent)}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(0),o=n.n(i),a=n(6),s=n(50),u=(n(154),n(1082),Object(a.withBemMod)(Object(s.b)(),{glyph:"type-check"},(function(e){return function(t){var n=t.className,i=Object(r.__rest)(t,["className"]);return o.a.createElement(e,Object(r.__assign)({},i,{className:Object(s.b)({hasGlyph:!0},[n])}),o.a.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"10"},o.a.createElement("path",{d:"M7.207 7.506L3.629 3.81 2.343 4.939l4.841 5.002 8.462-8.428L14.382.362z"})))}})))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"ignoreClicksSelectorBase",(function(){return N})),n.d(t,"getListingViewProps",(function(){return L})),n.d(t,"Listing",(function(){return U}));var r=n(66),i=n.n(r),o=n(8),a=n.n(o),s=n(32),u=n.n(s),c=n(10),l=n.n(c),d=n(21),f=n.n(d),h=n(3),p=n.n(h),m=n(4),v=n.n(m),g=n(5),y=n.n(g),b=n(7),_=n.n(b),O=n(1),w=n.n(O),E=n(0),S=n.n(E),C=n(143),x=n(201),k=n(41),T=n(37),j=n.n(T),R=n(412),P=(n(1408),n(11)),D=n.n(P);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=w()(e);if(t){var i=w()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _()(this,n)}}var M=function(){return D()()("listing")},N=".Button2, .Popup2, .Modal",L=function(e){switch(e){case"tile":return{theme:"tile",size:"l"};case"icons":return{theme:"tile",size:"m"};default:return{theme:"row"}}},F=(function(e){y()(n,e);var t=A(n);function n(e){var r;return p()(this,n),(r=t.call(this,e)).itemsRef={},r.itemsIds=[],r.focusedItemIndex=0,r}return v()(n,[{key:"_getEmptyItems",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"single",n=[];e;)n.push(S.a.createElement(C.default,{theme:"tile-empty",size:this.props.size,key:"".concat(t,"-").concat(e)})),e--;return n}},{key:"_handleKeyDown",value:function(e,t,n){var r=this.props,i=r.theme,o=r.goToParent;if(o&&e.keyCode===j.a.KEYS.BACKSPACE&&o(),"tile"===i){var a=this.props.getInteractedItemParams(n).columnsCount;e.keyCode===j.a.KEYS.UP&&(this.itemsRef[this.itemsIds[t-a]]?this.itemsRef[this.itemsIds[t-a]].focus():this.itemsRef[this.itemsIds[0]]&&this.itemsRef[this.itemsIds[0]].focus()),e.keyCode===j.a.KEYS.DOWN&&(this.itemsRef[this.itemsIds[t+a]]?this.itemsRef[this.itemsIds[t+a]].focus():this.itemsRef[this.itemsIds[this.itemsIds.length-1]]&&this.itemsRef[this.itemsIds[this.itemsIds.length-1]].focus()),e.keyCode===j.a.KEYS.LEFT&&this.itemsRef[this.itemsIds[t-1]]&&this.itemsRef[this.itemsIds[t-1]].focus(),e.keyCode===j.a.KEYS.RIGHT&&this.itemsRef[this.itemsIds[t+1]]&&this.itemsRef[this.itemsIds[t+1]].focus()}else e.keyCode===j.a.KEYS.UP&&this.itemsRef[this.itemsIds[t-1]]&&this.itemsRef[this.itemsIds[t-1]].focus(),e.keyCode===j.a.KEYS.DOWN&&this.itemsRef[this.itemsIds[t+1]]&&this.itemsRef[this.itemsIds[t+1]].focus()}},{key:"_onFocus",value:function(e){this.focusedItemIndex!==e&&(this.itemsRef[this.itemsIds[this.focusedItemIndex]]&&this.itemsRef[this.itemsIds[this.focusedItemIndex]].setAttribute("tabindex",-1),this.itemsRef[this.itemsIds[e]]&&this.itemsRef[this.itemsIds[e]].setAttribute("tabindex",0),this.focusedItemIndex=e)}},{key:"_focusElement",value:function(){this.props.resources&&this.props.resources.length&&this.itemsIds[this.focusedItemIndex]&&this.itemsRef[this.itemsIds[this.focusedItemIndex]]&&(document.body.classList.contains("pointerfocus")&&document.dispatchEvent(new CustomEvent("pointerdown")),this.itemsRef[this.itemsIds[this.focusedItemIndex]].focus())}},{key:"_resourceChangedOrLoaded",value:function(e,t){var n;return t.currentResourceId!==e.currentResourceId||!(null!==(n=e.resources)&&void 0!==n&&n.length)&&t.resources!==e.resources}},{key:"componentWillReceiveProps",value:function(e){this._resourceChangedOrLoaded(this.props,e)&&(this.focusedItemIndex=0)}},{key:"componentDidUpdate",value:function(e){this._resourceChangedOrLoaded(e,this.props)&&this._focusElement()}},{key:"componentDidMount",value:function(){this._focusElement()}},{key:"render",value:function(){var e=this,t=this.props,n=t.getGroup,r=t.resources,i=t.theme,o=t.getItemProps,a=t.renderItem,s=null,c=[];this.itemsIds=r.map((function(e){return e.id}));for(var d=function(t){var d=r[t];if(n){var h=n(d);s&&s.id===h.id||(s&&"tile"===i&&c.push.apply(c,f()(e._getEmptyItems(15,s.id))),c.push(S.a.createElement("h2",{key:"group-".concat(h.id),className:M().e("group-title")},S.a.createElement("span",{className:k.LISTING_PREVENT_MOUSE_SELECTION_CLASS},h.title))),s=h)}var p=(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e})({onKeyDown:function(n){return e._handleKeyDown(n,t,d.id)},onFocus:function(){return e._onFocus(t)},tabIndex:t===e.focusedItemIndex?0:-1},o(d,t)),m=a?a(p):S.a.createElement(C.default,u()({key:p.id},p,{resourceRef:function(t,n){n?e.itemsRef[t]=n:delete e.itemsRef[t],p.resourceRef&&p.resourceRef(t,n)}}));c.push(m)},h=0;h<r.length;h++)d(h);return"tile"===i&&c.push.apply(c,f()(this._getEmptyItems(15))),S.a.createElement("div",{className:M().e("items")},c)}}]),n})(E.PureComponent),B=function(e,t){return t.theme!==e.theme||t.size!==e.size||t.resources.length!==e.resources.length},U=(function(e){y()(n,e);var t=A(n);function n(e){var r;return p()(this,n),(r=t.call(this,e)).state={titleWidth:r._getTitleWidth()},r._itemsRefs=new Map,r._getInteractedItemParams=r._getInteractedItemParams.bind(a()(r)),r._getItemProps=r._getItemProps.bind(a()(r)),r._resourceRef=r._resourceRef.bind(a()(r)),r._onOpenResource=r._onOpenResource.bind(a()(r)),r._updateTitleSize=r._updateTitleSize.bind(a()(r)),r._setContainerRef=r._setContainerRef.bind(a()(r)),r._onSelectResource=r._onSelectResource.bind(a()(r)),r._onContextMenu=r._onContextMenu.bind(a()(r)),r._isDoubleClick=!1,r}return v()(n,[{key:"componentDidMount",value:function(){"clamp"===this.props.titleOverflow&&this._initClamp(),this._updateResourcesCoordinates()}},{key:"componentWillUnmount",value:function(){"clamp"===this.props.titleOverflow&&window.removeEventListener("resize",this._updateTitleSize)}},{key:"getSnapshotBeforeUpdate",value:function(){return window.scrollY}},{key:"componentDidUpdate",value:function(e,t,n){this.props.saveScrollAfterUpdate&&window.scrollTo(0,n),B(e,this.props)&&this._updateResourcesCoordinates(),"clamp"===this.props.titleOverflow?"clamp"===e.titleOverflow&&this.props.theme===e.theme&&this.props.size===e.size&&this.props.resources.length===e.resources.length||(this._wasClampInited=!1,this._initClamp()):"clamp"===e.titleOverflow&&(window.removeEventListener("resize",this._updateTitleSize),this._wasClampInited=!1),this.props.resources.length&&"clamp"===this.props.titleOverflow&&!this._wasClampInited&&this._initClamp()}},{key:"_setContainerRef",value:function(e){this._containerRef=e,this.props.containerRef&&this.props.containerRef(e)}},{key:"_updateResourcesCoordinates",value:function(){this.props.withMouseSelection&&f()(this._itemsRefs.entries()).forEach((function(e){var t=i()(e,2)[1],n=t.ref;t.coordinates=Object(x.b)(n)}))}},{key:"_initClamp",value:function(){var e=this;if(this.props.resources.length){if(this._updateTitleSize(),this.props.animatedContainerSelector){var t=document.querySelector(this.props.animatedContainerSelector);if(t){t.addEventListener("animationend",(function n(){e._updateTitleSize(),t.removeEventListener("animationend",n)}))}}window.addEventListener("resize",this._updateTitleSize),this._wasClampInited=!0}}},{key:"_getTitleWidth",value:function(){var e=this._firstItemTitleNode&&this._firstItemTitleNode.getBoundingClientRect().width;return e||(this.state&&this.state.titleWidth?this.state.titleWidth:"tile"===this.props.theme?"l"===this.props.size?145:90:0)}},{key:"_updateTitleSize",value:function(){var e=this._getTitleWidth();this.state.titleWidth!==e&&this.setState({titleWidth:e})}},{key:"updateItemsInfo",value:function(){this._updateResourcesCoordinates()}},{key:"getItemInfo",value:function(e){return this._itemsRefs.get(e)}},{key:"getItemsInfo",value:function(){return this._itemsRefs}},{key:"_getInteractedItemParams",value:function(e){var t=this.props.resources.findIndex((function(t){return t.id===e}));if("tile"===this.props.theme){var n=Math.floor(this._containerRef.clientWidth/this.getItemInfo(e).ref.clientWidth);return{columnsCount:n,row:Math.floor(t/n)+1,column:t%n+1}}if("row"===this.props.theme)return{position:t+1}}},{key:"_resourceRef",value:function(e,t){t?this._itemsRefs.has(e)||this._itemsRefs.set(e,{ref:t,coordinates:{}}):this._itemsRefs.has(e)&&this._itemsRefs.delete(e)}},{key:"_onSelectResource",value:function(e){var t=this,n=this.props,r=n.onSelectResource,i=n.onResourceAction;this._isDoubleClick=!1;for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];r.apply(void 0,[e].concat(a)),i&&setTimeout((function(){t._isDoubleClick||i(e,"resource-select",t._getInteractedItemParams(e))}),T.DOUBLE_CLICK_DELAY)}},{key:"_onOpenResource",value:function(e,t){var n=this.props,r=n.onResourceOpen,i=n.onResourceAction;this._isDoubleClick=!0,r(e,t),i&&i(e,"resource-open",this._getInteractedItemParams(e))}},{key:"_onContextMenu",value:function(e){for(var t=this.props,n=t.onResourceContextMenu,r=t.onResourceAction,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];n.apply(void 0,[e].concat(o)),r&&r(e,"resource-context-menu",this._getInteractedItemParams(e))}},{key:"_getItemProps",value:function(e,t){var n=this;if(!e)return null;var r=this.props,i=r.mods,o=r.theme,a=r.size,s=r.isTouch,u=r.titleOverflow,c=r.currentResource,l=r.onPlayVideoClick,d=r.useRealDevicePixelRatio,f=r.getAdditionalFields,h=r.getResourceClassName,p=r.previewRumId,m=r.onImageLoadSuccess,v=r.onImageLoadError,g=r.openOnSingleClick,y=r.supportDoubleClick,b=r.ignoreClicksSelector,_=r.highlightedResources,O=r.isResourceDisabled,w=r.isMacSafari,E=r.touchContextMenu,S=Object.assign({},e,{listingMods:i,additionalFields:f(e),cls:h(e),theme:o,size:a,titleOverflow:u,useRealDevicePixelRatio:d,isTouch:s,resourceRef:this._resourceRef,onPlayVideoClick:l,previewRumId:p,onImageLoadSuccess:m,onImageLoadError:v,openOnSingleClick:g,supportDoubleClick:y,ignoreClicksSelector:b,isDisabled:O,isMacSafari:w,touchContextMenu:E}),C=e.state&&e.state.disabled;return S.cls=[S.cls,k.LISTING_PREVENT_DESELECT_CLASS].filter(Boolean).join(" "),c&&c.id===e.id?(S.onClick=this.props.onCurrentResourceClick,S.modifier="current"):(S.onOpen=this._onOpenResource,this.props.isSelectable&&(S.selectOnClick=s&&this.props.isSelectable&&this.props.selectedResources.length>0,S.onSelect=this._onSelectResource),!this.props.onContextMenu||s&&!E||(S.onContextMenu=this._onContextMenu),S.selected=!C&&this.props.selectedResources.includes(e.id),S.highlighted=_&&_.includes(e.id)),"clamp"===u&&(S.titleWidth=this.state.titleWidth,0===t&&(S.titleNodeRef=function(e){n._firstItemTitleNode=e})),S}},{key:"render",value:function(){var e=this.props,t=e.resources,n=e.selectedResources,r=e.highlightedResources,i=e.theme,o=e.size,a=e.completed,s=e.mods,c=e.goToParent,l=e.getGroup,d=e.renderItem,f=e.currentResource,h=e.currentResourceId,p=this._getItemProps(f),m={resources:t,currentResourceId:h,theme:i,size:o,goToParent:c,getGroup:l,renderItem:d,selectedResources:n,highlightedResources:r};return S.a.createElement("div",{className:M().m(Object.assign({},s,{theme:i,completed:a})).mix(this.props.cls),ref:this._setContainerRef},p&&S.a.createElement(C.default,p),S.a.createElement(F,u()({},m,{getInteractedItemParams:this._getInteractedItemParams,getItemProps:this._getItemProps,titleWidth:this.state.titleWidth})))}}]),n})(E.PureComponent),z=function(){};U.defaultProps={theme:"row",size:"m",isSelectable:!1,isMultiSelectable:!0,selectedResources:[],getAdditionalFields:z,getResourceClassName:z,requestFetchNext:z,onResourceOpen:z,onSelectionChanged:z,onCurrentResourceClick:z,onImageLoadSuccess:z,onImageLoadError:z};var V=Object(R.a)(U,B,["getItemsInfo","getItemInfo","updateItemsInfo"]);t.default=V}),(function(e,t,n){"use strict";var r=n(40),i=(n(278),n(71)),o=n(2),a=n(0),s=n.n(a),u=n(238),c=n(1880),l=n(419),d=(n(954),function(e){var t=e.children,n=e.className,r=Object(o.__rest)(e,["children","className"]);return s.a.createElement("span",Object(o.__assign)({},r,{className:Object(i.b)("Box",null,[n])}),t)}),f=(n(955),function(e){var t=e.autoFocus,n=e.checked,r=e.controlRef,o=e.disabled,a=e.labelledBy,u=e.name,c=e.onChange,l=e.value;return s.a.createElement("input",{"aria-checked":n,"aria-labelledby":a,autoFocus:t,autoComplete:"off",checked:n,className:Object(i.b)("Control"),disabled:o,name:u,onChange:c,ref:r,type:"radio",value:l})}),h=n(417),p=(n(953),Object(u.a)((function(e){var t=e.autoFocus,n=e.checked,r=e.children,o=e.className,a=e.controlRef,u=e.disabled,p=e.focused,m=e.innerRef,v=e.name,g=e.onBlur,y=e.onChange,b=e.onClick,_=e.onFocus,O=e.onMouseEnter,w=e.onMouseLeave,E=e.pressed,S=e.value,C=Object(h.b)(),x=C.value?C.value===S:n,k=C.disabled||u,T="label-"+(l.a?"0":Object(c.a)("radio"));return s.a.createElement("label",{className:Object(i.b)("Radio",{checked:x,disabled:k,focused:p,pressed:E},[o]),onBlur:g,onClick:b,onFocus:_,onMouseEnter:O,onMouseLeave:w,ref:m},s.a.createElement(d,null,s.a.createElement(f,{autoFocus:t,checked:x,controlRef:a,disabled:k,labelledBy:T,name:C.name||v,onChange:C.onChange||y,value:S})),s.a.createElement("span",{"aria-hidden":"true",className:Object(i.b)("Text"),id:T},r))}))),m=n(418),v=Object(m.a)((function(e){var t=e.className,n=e.hovered,r=Object(o.__rest)(e,["className","hovered"]);return s.a.createElement(p,Object(o.__assign)({},r,{className:Object(i.b)("Radio",{hovered:n},[t])}))})),g=new r.Registry({id:Object(i.b)()});g.set("Radio",v);n(951);n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return i.b})),n.d(t,"a",(function(){return v}));var y=Object(r.withRegistry)(g)(i.a)}),(function(e,t){var n=0,r=function(){return++n};r.reset=function(e){n=void 0===e?0:e},r.current=function(){return n},e.exports=r}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(76),o=(n(1004),Object(r.withBemMod)(Object(i.b)(),{view:"default"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(2),i=n(0),o=n.n(i),a=n(6),s=n(509),u=n(515),c=n(76),l=n(283),d={top:-9999,left:-9999,position:"fixed"},f=Object(a.withBemMod)(Object(c.b)(),{target:"anchor"},(function(e){return function(t){var n=t.anchor,i=t.direction,a=void 0===i?l.a:i,c=t.hasTail,f=t.mainOffset,h=void 0===f?c?0:4:f,p=t.modifiers,m=t.motionless,v=t.secondaryOffset,g=t.style,y=t.tailOffset,b=(t.target,t.viewportOffset),_=t.visible,O=void 0!==_&&_,w=t.innerRef,E=t.tailRef,S=t.boundary,C=Object(r.__rest)(t,["anchor","direction","hasTail","mainOffset","modifiers","motionless","secondaryOffset","style","tailOffset","target","viewportOffset","visible","innerRef","tailRef","boundary"]),x=Object(s.a)({anchorRef:n,children:C.children,placement:a,motionless:m,enabled:O,marginThreshold:b,modifiers:p,offset:[v,h],unsafe_tailOffset:y,boundary:S}),k=x.setPopupRef,T=x.setArrowRef;return o.a.createElement(e,Object(r.__assign)({},C,{hasTail:c,innerRef:Object(u.a)(k,w),style:Object(r.__assign)(Object(r.__assign)({},d),g),tailRef:Object(u.a)(T,E),unstable_essentialRefs:[n],visible:O}))}}))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"getWidgetNames",(function(){return s})),n.d(t,"getXivaServices",(function(){return u}));var r=n(292),i=n(678),o=n(72),a=function(){var e=document.querySelector("#preloaded-data");return null!==e&&e.textContent?JSON.parse(e.textContent):{}},s=function(){return Object(o.isTavernExperiment)(a())||Object(o.isSidebarWithWidgetsExperiment)(a())?[r.WidgetNames.Mail,r.WidgetNames.Telemost,r.WidgetNames.Notes]:[]},u=function(e){if(!Object(o.isTavernExperiment)(a()))return[];var t=e.reduce((function(e,t){var n=i.WidgetsXivaNames[t];return n&&e.add(n),e}),new Set);return Array.from(t)}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s="/ping",u=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return i()(this,e),this._fetch=this._fetch.bind(this),this._onOffline=this._onOffline.bind(this),this._onOnline=this._onOnline.bind(this),this._onlineListener=this._onlineListener.bind(this),this._ping=this._ping.bind(this),this.addOfflineEventListener=this.addOfflineEventListener.bind(this),this.addOnlineEventListener=this.addOnlineEventListener.bind(this),this.removeOfflineEventListener=this.removeOfflineEventListener.bind(this),this.removeOnlineEventListener=this.removeOnlineEventListener.bind(this),this.pingUntilOnline=this.pingUntilOnline.bind(this),e._instance?e._instance:(e._instance=this,e._instance._pingURL=t,e._instance._init(),e._instance)}return a()(e,[{key:"addOfflineEventListener",value:function(e){this._onOfflineCallbacks.push(e)}},{key:"addOnlineEventListener",value:function(e){this._onOnlineCallbacks.push(e)}},{key:"removeOfflineEventListener",value:function(e){this._onOfflineCallbacks=this._onOfflineCallbacks.filter((function(t){return t!==e}))}},{key:"removeOnlineEventListener",value:function(e){this._onOnlineCallbacks=this._onOnlineCallbacks.filter((function(t){return t!==e}))}},{key:"_init",value:function(){this._onOfflineCallbacks=[],this._onOnlineCallbacks=[],"undefined"!=typeof window&&window.addEventListener("offline",this._onOffline)}},{key:"_fetch",value:function(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("GET",e),r.onload=function(){r.status?t(r.status):n(r.status)},r.onerror=function(){n(r.status)},r.send()})}},{key:"pingUntilOnline",value:function(){var e=this;return this._ping().then((function(t){return!!t||(function(e){return new Promise(function(t){setTimeout((function(){t()}),e)})})(2e3).then(e.pingUntilOnline)}))}},{key:"_ping",value:function(){return this._fetch(this._pingURL).then((function(e){return 200===e})).catch((function(){return!1}))}},{key:"checkIsOnline",value:function(){var e=this;return navigator.onLine?this._ping().then((function(t){return t||e._onOffline(),t})):(this._onOffline(),Promise.resolve(!1))}},{key:"_onlineListener",value:function(){var e=this;window.removeEventListener("online",this._onlineListener),this.pingUntilOnline().then((function(){e._onOnline()}))}},{key:"_onOffline",value:function(){this._offlineTime=Date.now(),this._onOfflineCallbacks.forEach((function(e){try{e()}catch(e){setTimeout((function(){throw e}),0)}})),window.addEventListener("online",this._onlineListener)}},{key:"_onOnline",value:function(e){if(this._offlineTime){var t=Date.now()-this._offlineTime;this._onOnlineCallbacks.forEach((function(n){n(e,t)}))}}}]),e})();u._instance=null}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(660);n(1327),t.Tooltip=r.compose(i.withViewDefault,r.composeU(i.withSizeS,i.withSizeM))(i.Tooltip)}),(function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(5),l=n.n(c),d=n(7),f=n.n(d),h=n(1),p=n.n(h),m=n(19),v=n(0),g=n.n(v),y=n(412),b=n(279),_=n(662),O=n(9),w=n.n(O),E=n(170),S=n(90),C=n(48),x=n(31),k=n(26),T=n(37),j=n.n(T),R=n(12),P=n(212),D=n.n(P),I=n(124),A=(n(1428),n(11)),M=n.n(A);function N(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var L=function(){return M()()("albums2")},F=0,B=!1,U=(function(e){l()(n,e);var t=N(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._setNewAlbumRef=r._setNewAlbumRef.bind(u()(r)),r._onNewAlbumClick=r._onNewAlbumClick.bind(u()(r)),r._onNewAlbumKeyPress=r._onNewAlbumKeyPress.bind(u()(r)),r._onAlbumClick=r._onAlbumClick.bind(u()(r)),r._renderItem=r._renderItem.bind(u()(r)),r}return a()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.canShowAlbumsFaces,r=t.albumType,i=t.fetchAlbums,o=t.goToUrl,a=t.albumsLoaded,s="faces"===r;s&&!n?o("/client/albums"):r?a?this._fetchListing(s):i().then((function(){e._fetchListing(s)})).catch((function(){o("/client/albums")})):this._fetchListing(),this._maybeScrollInAlbums()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.albumType,r=t.isLoaded,i=t.albumsLoaded,o=t.albums,a=t.readonly,s=t.scrollInAlbums;e.albumType!==n&&this._fetchListing(),!a&&n&&r&&!o.length&&this.props.goToUrl("/client/albums"),e.isLoaded||!r||a||n||B||(B=!0,I.a.reachBlock("albums")),s===e.scrollInAlbums&&r===e.isLoaded&&i===e.albumsLoaded||this._maybeScrollInAlbums()}},{key:"_setNewAlbumRef",value:function(e){this._newAlbumRef=e}},{key:"_maybeScrollInAlbums",value:function(){var e=this.props,t=e.scrollInAlbums,n=e.setAlbumsScroll,r=e.albumType,i=e.readonly,o=e.isLoaded,a=e.albumsLoaded;!r&&!i&&o&&a&&t&&(n(null),t===C.ALBUMS_SCROLL.RESTORE?D.a.scrollTo(F):t===C.ALBUMS_SCROLL.SCROLL&&this._newAlbumRef&&D.a.scrollListingToNode($(this._newAlbumRef),46))}},{key:"_fetchListing",value:function(e){e?this.props.fetchAlbumsListing(this.props.albumType,0,!0):this.props.fetchAlbumsListing(this.props.albumType)}},{key:"_onNewAlbumClick",value:function(){this.props.onAlbumClick?this.props.onAlbumClick("new"):(F=window.pageYOffset,this.props.requestNewAlbumTitle(),R.default.count("interface elements","albums","click create album"))}},{key:"_onNewAlbumKeyPress",value:function(e){e.charCode===j.a.KEYS.ENTER&&this._onNewAlbumClick()}},{key:"_onAlbumClick",value:function(e){this.props.onAlbumClick?this.props.onAlbumClick(e):this.props.goToUrl("/client/albums/"+e)}},{key:"_renderNewAlbum",value:function(){return g.a.createElement("div",{className:L().e("item").m({new:!0}),key:"album_new",ref:this._setNewAlbumRef,onClick:this._onNewAlbumClick,onKeyPress:this._onNewAlbumKeyPress,tabIndex:0},g.a.createElement("div",{className:L().e("new-content")},g.a.createElement(b.default,null),g.a.createElement("span",{className:L().e("new-text")},"Новый альбом")))}},{key:"_renderItem",value:function(e){if("new"===e.id)return this._renderNewAlbum();var t=w.a.get(e,"cover.meta.sizes"),n=t&&Object(E.a)(t,"DEFAULT")||e.preview,r={"no-cover":!n};return g.a.createElement(_.a,{id:e.id,key:e.id,album:e,preview:n,modifiers:r,onOpen:this._onAlbumClick,isMobile:this.props.isMobile,readonly:this.props.readonly})}},{key:"render",value:function(){var e=this,t=this.props.isMobile,n=[];return this.props.albums.forEach((function(t){n.push(e._renderItem(t))})),g.a.createElement("div",{className:L().m({mobile:t,desktop:!t,listing:!0})},g.a.createElement("div",{className:L().e("row")},g.a.createElement("div",{className:L().e("panel")},n)))}}]),n})(v.Component),z=Object(y.a)(U,(function(e,t){return t.albums.length!==e.albums.length}));t.a=Object(m.connect)((function(e,t){var n=e.environment,r=n.agent,i=r.isMobile,o=r.OSFamily,a=n.session.locale,s=e.albums.isLoaded,u=e.personalAlbums.scrollInAlbums,c=t.albumType||null,l=t.albums||Object(x.g)(e,c),d=Object(x.e)(e,c);return{canShowAlbumsFaces:Object(x.a)(e),scrollInAlbums:u,readonly:!!t.readonly,loading:d.isLoading,isLoaded:d.isLoaded,albumsLoaded:s,completed:d.isCompleted,OSFamily:o,isMobile:i,locale:a,albumType:c,albums:l,metrikaTail:["albums listing"]}}),(function(e,t){return{fetchAlbums:function(){return e(Object(S.a)())},fetchAlbumsListing:function(){return e(S.b.apply(void 0,arguments))},requestFetchNext:function(){return e(Object(S.c)(t.albumType))},requestNewAlbumTitle:function(){return e(Object(C.requestNewAlbumTitle)())},setAlbumsScroll:function(t){return e(Object(C.setAlbumsScroll)(t))},goToUrl:function(t){return e(Object(k.goToUrl)(t))}}}))(z)}),(function(e,t,n){"use strict";var r=n(21),i=n.n(r),o=n(32),a=n.n(o),s=n(3),u=n.n(s),c=n(4),l=n.n(c),d=n(8),f=n.n(d),h=n(5),p=n.n(h),m=n(7),v=n.n(m),g=n(1),y=n.n(g),b=n(0),_=n.n(b),O=n(19),w=n(25),E=n(199),S=n(15),C=n(70),x=(n(1371),n(11)),k=n.n(x);function T(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var j={xs:"xs",s:"xs",m:"s",n:"xs",l:"m",head:"m","ufo-xl":"l"},R=(function(e){p()(n,e);var t=T(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContent",value:function(){return _.a.createElement(C.Spin,{view:"default",size:this.props.spinSize||j[this.props.size],progress:!0,className:k()()("spin-wrapper").m({white:this.props.white})})}}]),n})(S.default),P=n(26),D=n(16),I=n(293),A=n(30),M=n(43),N=n(9),L=n.n(N),F=n(175);function B(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var U=(function(e){p()(n,e);var t=B(n);function n(e){var r;return u()(this,n),(r=t.call(this,e)).state={shareDialogVisible:!1,shareDialogMenuExpanded:!1},r._onShareButtonClick=r._onShareButtonClick.bind(f()(r)),r._onShareDialogClose=r._onShareDialogClose.bind(f()(r)),r._getShareIcon=r._getShareIcon.bind(f()(r)),r._containerRef=_.a.createRef(),r}return l()(n,[{key:"componentDidMount",value:function(){this.props.dropdownRef&&this.props.dropdownRef(this)}},{key:"componentWillUnmount",value:function(){this.props.dropdownRef&&this.props.dropdownRef(null)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.isPublic&&!this.props.isPublic&&this._publishFromButton&&(this._publishFromButton=!1,this.setState({shareDialogVisible:!0}))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.shouldShowExpandedMenu,r=t.isEditable,i=t.saveShareEditMenuExpanded,o=t.shortUrl,a=t.isPublishing;r&&!this.state.shareDialogMenuExpanded&&(n||o&&e.isPublishing&&!a)&&(n&&i(),this.setState({shareDialogMenuExpanded:!0}))}},{key:"closeDropdown",value:function(){this.state.shareDialogVisible&&this.setState({shareDialogVisible:!1,shareDialogMenuExpanded:!1})}},{key:"_getMetrikaAction",value:function(){return this.props.objectIds.length>1?"album share link":"share link"}},{key:"_onShareButtonClick",value:function(){if(this.props.isPublic)this.props.isLinkBlockedForOverdraft||this.props.copyPublicLink(this.props.shortUrl),this.setState({shareDialogVisible:!this.state.shareDialogVisible});else{if(this.props.maybeBlockActionOverdraft({forLite:!0}))return;this.props.onPublish(),this.props.publishObject(this.props.objectIds,this.props.objectType),this._publishFromButton=!0}}},{key:"_onShareDialogClose",value:function(){this.setState({shareDialogVisible:!1,shareDialogMenuExpanded:!1})}},{key:"_isButtonChecked",value:function(){return this._publishFromButton&&this.props.isPublishing||this.state.shareDialogVisible}},{key:"_getShareIcon",value:function(e){return this.props.isPublishing?_.a.createElement(R,{white:!0,spinSize:"xxs",cls:e}):_.a.createElement(E.default,{isAndroid:this.props.isAndroid,cls:e})}},{key:"render",value:function(){var e=this,t={size:"m",onClick:this._onShareButtonClick,disabled:this.props.disabled};return this.props.checkButton&&Object.assign(t,{type:"check",checked:this._isButtonChecked()}),_.a.createElement("span",{ref:this._containerRef},this.props.onlyIcon?null:_.a.createElement(w.Button,a()({view:"clear"},t,this.props.buttonProps,{iconLeft:this.props.noIcon?void 0:function(t){return e._getShareIcon(t)}}),"Поделиться"),_.a.createElement(w.Button,a()({},t,this.props.onlyIconButtonProps,{"aria-label":"Поделиться",icon:function(t){return e._getShareIcon(t)}})),_.a.createElement(F.default,{visible:this.state.shareDialogVisible,objectIds:this.props.objectIds,onClose:this._onShareDialogClose,metrikaPath:["interface elements"].concat(i()(this.props.metrikaContext),[this._getMetrikaAction()]),metrikaTail:this.props.metrikaTail,defaultExpanded:this.state.shareDialogMenuExpanded}))}}]),n})(b.Component);U.defaultProps={onPublish:L.a.noop,metrikaTail:[],checkButton:!0};t.a=Object(O.connect)((function(e,t){var n=e.environment.agent.OSFamily,r=e.scrollToResource,i=e.settings.shareEditMenuExpandedShowed,o=Object(A.getPublishObjectData)(e,t.objectIds);return Object.assign({},o,{isAndroid:"Android"===n,shouldShowExpandedMenu:"1"!==i,isLinkBlockedForOverdraft:Object(M.isOverdraftHard)(e)&&o.objectType!==A.OBJECT_TYPES.ALBUM,scrollToResource:r})}),{publishObject:I.a,copyPublicLink:P.copyPublicLink,saveShareEditMenuExpanded:D.saveShareEditMenuExpanded,maybeBlockActionOverdraft:P.maybeBlockActionOverdraft})(U)}),(function(e,t,n){"use strict";var r=n(40),i=n(76),o=n(421),a=new r.Registry({id:Object(i.b)()});a.set("Tail",o.a),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i.b}));var s=Object(r.withRegistry)(a)(i.a)}),(function(e,t,n){"use strict";var r=n(0),i=n(429),o=n(2),a=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),s=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function u(){var e=Object(r.useContext)(i.a);return Object(r.useMemo)((function(){return (function(e){if(Intl.Locale){var t=new Intl.Locale(e).maximize(),n=t.region,r=t.script,i=t.language,u=a.has(r)?"rtl":"ltr";return{locale:e,language:i,region:n,direction:u,isRTL:"rtl"===u}}var c=Object(o.__read)(e.split("-"),2),l=c[0],d=c[1],f=s.has(l)?"rtl":"ltr";return{locale:e,language:l,region:d,direction:f,isRTL:"rtl"===f}})(e)}),[e])}n.d(t,"a",(function(){return u}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),i=n(0),o=n.n(i),a=n(156);function s(e){return (function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={focused:e.props.focused,pressed:e.props.pressed,disabled:e.props.disabled},e.onMouseDown=function(t){3!==t.nativeEvent.which&&(e.setState({pressed:!0}),e.docOnMouseDown(),void 0!==e.props.onMouseDown&&e.props.onMouseDown(t))},e.onMouseUp=function(t){e.setState({pressed:!1}),void 0!==e.props.onMouseUp&&e.props.onMouseUp(t)},e.docOnMouseDown=function(){document.addEventListener("mouseup",e.docOnMouseUp),document.addEventListener("dragend",e.docOnMouseUp)},e.docOnMouseUp=function(){e.setState({pressed:!1}),document.removeEventListener("mouseup",e.docOnMouseUp),document.removeEventListener("dragend",e.docOnMouseUp)},e.onFocus=function(t){e.setState({focused:!0}),void 0!==e.props.onFocus&&e.props.onFocus(t)},e.onBlur=function(t){e.setState({focused:!1}),void 0!==e.props.onBlur&&e.props.onBlur(t)},e}return Object(r.__extends)(n,t),n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.disabled!==e.disabled&&this.setState({disabled:e.disabled}),this.props.focused!==e.focused&&this.setState({focused:e.focused}),this.props.pressed!==e.pressed&&this.setState({pressed:e.pressed}),e.disabled&&this.setState({focused:!1,pressed:!1})},n.prototype.render=function(){var t=this.state,n=t.disabled,i=t.focused,a=t.pressed,s=e;return o.a.createElement(s,Object(r.__assign)({},this.props,{focused:n?void 0:i,pressed:n?void 0:a,onMouseDown:n?void 0:this.onMouseDown,onMouseUp:n?void 0:this.onMouseUp,onFocus:n?void 0:this.onFocus,onBlur:n?void 0:this.onBlur}))},n.displayName="WithControl("+Object(a.a)(e)+")",n})(i.PureComponent)}}),(function(e,t,n){"use strict";function r(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(169),i=n(96),o=n(241);function a(e){return Object(r.a)(Object(i.a)(e)).left+Object(o.a)(e).scrollLeft}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(89);function i(e){var t=Object(r.a)(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(111);function i(e){var t=Object(r.a)(e),n=t.overflow,i=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}}),(function(e,t,n){"use strict";function r(){return (function(e){return"undefined"!=typeof window&&null!=window.navigator&&e.test(window.navigator.userAgent)})(/Firefox/)}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(79),i=n(31),o=n(30),a=function(e){return!(Object(i.y)(e)||Object(i.v)(e)||Object(r.e)(e)||Object(o.isSliderOpened)(e))},s=function(e){var t=e.notifications.promo.visible;return a(e)?t:null}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(202);t.DATASYNC_COLLECTION_ID="settings";var o=function(e,n,o){return r||(r=i.openDatabase({apiHost:e+"/"+n+"/",databaseId:".ext.ps@common",collectionId:t.DATASYNC_COLLECTION_ID,scriptUrl:o})),r};t.getPSSettings=function(e,n,r){return o(e,n,r).then((function(e){var n={};return e.forEach(t.DATASYNC_COLLECTION_ID,(function(e){var t=i.processRecord(e);n[t.recordId]=t.value})),n}))},t.setPSSetting=function(e,n,r,i,a){return o(e,n,a).then((function(e){var n=e.createTransaction(),o=e.getRecord(t.DATASYNC_COLLECTION_ID,r);return o?n.updateRecordFields(o,{value:i}):n.insertRecords({collection_id:t.DATASYNC_COLLECTION_ID,record_id:r,fields:{value:{type:"string",value:i}}}),n.push()}))}}),(function(e,t,n){"use strict";var r=n(32),i=n.n(r),o=n(10),a=n.n(o),s=n(3),u=n.n(s),c=n(4),l=n.n(c),d=n(8),f=n.n(d),h=n(5),p=n.n(h),m=n(7),v=n.n(m),g=n(1),y=n.n(g),b=n(0),_=n.n(b),O=n(163),w=n(166),E=n(25),S=n(74),C=n(117),x=n(57),k=n(41),T=n(11),j=n.n(T);n(1367);function R(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var P=function(){return j()()("groupable-buttons")},D=(function(e){p()(n,e);var t=R(n);function n(e){var r;return u()(this,n),(r=t.call(this,e)).state={popupMoreButtonsVisible:!1,hiddenButtonIndexes:[]},r._onMoreButtonsPopupOutsideClick=r._onMoreButtonsPopupOutsideClick.bind(f()(r)),r._onMoreButtonsPopupToggle=r._onMoreButtonsPopupToggle.bind(f()(r)),r._updateInvisibleButtons=r._updateInvisibleButtons.bind(f()(r)),r._onMenuItemClick=r._onMenuItemClick.bind(f()(r)),r._popupMoreButtonsAnchor=_.a.createRef(),r._moreContainerRef=_.a.createRef(),r}return l()(n,[{key:"closeDropdown",value:function(){this.state.popupMoreButtonsVisible&&this.setState({popupMoreButtonsVisible:!1})}},{key:"componentDidMount",value:function(){this.props.collapsible&&(this._updateButtonsSizes(),this._updateInvisibleButtons(),window.addEventListener("resize",this._updateInvisibleButtons))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._updateInvisibleButtons)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.collapsible&&this._buttonsWasChanged(e)&&this.setState({hiddenButtonIndexes:[]})}},{key:"componentDidUpdate",value:function(e){this.props.collapsible&&this._buttonsWasChanged(e)&&(this._updateButtonsSizes(),this._updateInvisibleButtons())}},{key:"_buttonsWasChanged",value:function(e){return this.props.buttons.length!==e.buttons.length||this.props.buttons.some((function(t,n){return t.id!==e.buttons[n].id}))}},{key:"_updateButtonsSizes",value:function(){var e=this;if(this.props.buttons.length&&this._visibleButtonsContainerNode){var t=Array.from(this._visibleButtonsContainerNode.childNodes).map((function(t,n){var r=getComputedStyle(t),i=t.getBoundingClientRect().width+parseFloat(r["margin-left"])+parseFloat(r["margin-right"]);return Object.assign({hidePriority:0},e.props.buttons[n],{width:i,index:n})})),n=0;this._breakpoints=t.sort((function(e,t){return e.hidePriority>t.hidePriority?-1:1})).map((function(e){return{value:n+=e.width,buttonIndex:e.index}}))}}},{key:"_updateInvisibleButtons",value:function(){if(this.props.buttons.length&&this._breakpoints&&this._visibleButtonsContainerNode){for(var e=this._visibleButtonsContainerNode.getBoundingClientRect().width,t=[],n=this._breakpoints.length-1;n>=0;n--)this._breakpoints[n].value>e&&t.push(this._breakpoints[n].buttonIndex);var r={hiddenButtonIndexes:t};this._allButtonsAreVisible(r)&&this.state.popupMoreButtonsVisible&&(r.popupMoreButtonsVisible=!1),this.state.hiddenButtonIndexes.length!==t.length&&this.setState(r)}}},{key:"_allButtonsAreVisible",value:function(e){return 0===e.hiddenButtonIndexes.length&&this.props.buttons.every((function(e){return!e.hidden}))}},{key:"_onMoreButtonsPopupOutsideClick",value:function(){this.props.onMoreClose(),this.setState({popupMoreButtonsVisible:!1})}},{key:"_onMoreButtonsPopupToggle",value:function(){this.state.popupMoreButtonsVisible?this.props.onMoreClose():this.props.onMoreOpen(),this.setState({popupMoreButtonsVisible:!this.state.popupMoreButtonsVisible})}},{key:"render",value:function(){return _.a.createElement("div",{className:P()},this._renderVisibleButtons(),this._renderOtherButtons())}},{key:"_renderVisibleButtons",value:function(){var e=this;return _.a.createElement("div",{className:P().e("visible-buttons"),ref:function(t){e._visibleButtonsContainerNode=t}},this.props.buttons.filter((function(e){return!e.hidden})).map((function(t,n){var r=t.id,o=t.text,s=t.icon,u=t.iconOnly,c=t.noTooltip,l=t.tooltipText,d=t.content,f=t.disabled,h=t.view,p=e.state.hiddenButtonIndexes.includes(n),m=e.props.disabled||f,v=null;return v=d?"function"==typeof d?d(p):d:_.a.createElement(E.Button,i()({className:P().e("visible-button").m({name:r}).mix(p?"hidden":""),onClick:function(){return e.props.onButtonClick(r)},size:"m",disabled:m,view:h||e.props.view,"aria-label":o},a()({},u||!o?"icon":"iconLeft",s)),u?null:o),Boolean(c)?v:_.a.createElement(w.default,{key:r,text:u?o:l,disabled:m||e.props.isMobile||!u&&!l||p},v)})))}},{key:"_renderMoreButton",value:function(){var e=this.props,t=e.moreButtonSize,n=e.moreIconSize,r=_.a.createElement(E.Button,{innerRef:this._popupMoreButtonsAnchor,onClick:this._onMoreButtonsPopupToggle,className:P().e("more-button"),"aria-label":this.props.moreButtonsText,view:this.props.view,disabled:this.props.disabled,size:t||"m",icon:function(e){return _.a.createElement(O.default,{iconSize:n,cls:e})}});return this.props.isMobile?r:_.a.createElement(w.default,{text:this.props.moreButtonsText,disabled:!this.props.moreButtonsText||this.state.popupMoreButtonsVisible,direction:this.props.moreButtonsHoverTooltipText},r)}},{key:"_renderOtherButtons",value:function(){var e=this,t=this.props.buttons.map((function(e,t){return Object.assign({group:0,position:t},e)})).sort((function(e,t){return e.group===t.group?e.position-t.position:e.group-t.group})).reduce((function(e,t){return 0===e.length||e[e.length-1].group!==t.group?e.push({group:t.group,buttons:[t]}):e[e.length-1].buttons.push(t),e}),[]),n=_.a.createElement(x.Menu,{className:P().e("menu-buttons"),view:"default",size:"m",wide:!0,onChange:this._onMenuItemClick},t.map((function(t,n){var r=0===n&&e.props.collapsible,i=r&&0===e.state.hiddenButtonIndexes.length?"hidden":"";return _.a.createElement(x.Group,{key:t.group,className:P().e("groupable-menu-buttons").mix(i)},t.buttons.map((function(t,n){var i=r&&!e.state.hiddenButtonIndexes.includes(n);return e._getMenuItem(t,i)})).filter(Boolean))}))),r=P().e("more-button-popup").mix(k.LISTING_PREVENT_DESELECT_CLASS);return _.a.createElement("div",{className:P().e("more-button-wrap").m({invisible:this._allButtonsAreVisible(this.state)}),ref:this._moreContainerRef},this._renderMoreButton(),this.props.useMobilePane?_.a.createElement(C.Drawer,{className:r,onClose:this._onMoreButtonsPopupOutsideClick,view:"default",visible:this.state.popupMoreButtonsVisible},n):_.a.createElement(S.Popup,{view:"default",direction:this.props.moreButtonsPopupDirections||["bottom-end"],className:r,visible:this.state.popupMoreButtonsVisible,target:"anchor",anchor:this._popupMoreButtonsAnchor,onClose:this._onMoreButtonsPopupOutsideClick,scope:this.props.popupScope||this._moreContainerRef},n))}},{key:"_onMenuItemClick",value:function(e){this.props.onButtonClick(e.target.value),this.setState({popupMoreButtonsVisible:!1})}},{key:"_getMenuItem",value:function(e,t){return e.content?null:_.a.createElement(x.Item,{key:e.id,value:e.id,disabled:this.props.disabled||e.disabled,className:P().e("menu-button").m({action:e.id}).mix(t?"hidden":""),tooltipText:e.tooltipText,icon:e.icon,tabIndex:0},e.text)}}]),n})(b.PureComponent);D.defaultProps={onMoreClose:function(){},onMoreOpen:function(){}},t.a=D}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{d:"M2 10.031h2.999v2.519l4.407-3.526L4.999 5.5v2.531H2V0h8l4 4v12H2z",fill:"currentColor",fillRule:"nonzero"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("g",{fill:"currentColor",fillRule:"evenodd"},p.a.createElement("path",{fillRule:"nonzero",d:"M11.437 9.791l-.358.715a.5.5 0 0 1-.671.224L8.376 9.712a.5.5 0 0 1-.276-.447V5.551a.5.5 0 0 1 .5-.5h.8a.5.5 0 0 1 .5.5v2.911l1.314.658a.5.5 0 0 1 .223.671z"}),p.a.createElement("path",{fillRule:"nonzero",d:"M1.8 7.172l1.982.27a5.151 5.151 0 0 1 10.252.708 5.15 5.15 0 0 1-9.147 3.248.193.193 0 0 0-.268-.016c-.294.224-.731.54-1.29.979-.11.087-.069.206-.03.253A7.15 7.15 0 1 0 1.8 7.171z"}),p.a.createElement("path",{d:"M.374 6h5.252a.2.2 0 0 1 .167.31l-2.627 3.94a.2.2 0 0 1-.332 0L.207 6.31A.2.2 0 0 1 .374 6z"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement(p.a.Fragment,null,p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M.097 1.485C0 1.675 0 1.925 0 2.422v10.156c0 .498 0 .747.097.937a.889.889 0 0 0 .388.388c.19.097.44.097.937.097h13.156c.498 0 .747 0 .937-.097a.889.889 0 0 0 .388-.388c.097-.19.097-.44.097-.937V2.422c0-.498 0-.747-.097-.937a.889.889 0 0 0-.388-.388C15.325 1 15.075 1 14.578 1H1.422c-.498 0-.747 0-.937.097a.889.889 0 0 0-.388.388zm.95.753C1 2.33 1 2.453 1 2.697v9.606c0 .244 0 .366.047.46a.435.435 0 0 0 .19.19c.094.047.216.047.46.047h12.606c.244 0 .366 0 .46-.047a.435.435 0 0 0 .19-.19c.047-.094.047-.216.047-.46V2.697c0-.244 0-.366-.047-.46a.435.435 0 0 0-.19-.19C14.668 2 14.546 2 14.302 2H1.697c-.244 0-.366 0-.46.047a.435.435 0 0 0-.19.19z"}),p.a.createElement("rect",{fill:"currentColor",x:"2",y:"3",width:"12",height:"8",rx:".444"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.412 16.02C1.044 14.175-.22 11.745.62 8.73 1.717 4.784 6.38 2.414 5.962.02c2.274.288 5.675 4.796 5.044 8.71.847-.257 1.5-1.343 1.96-3.26 3.272 4.444 2.62 7.96-1.96 10.55-5.1-2.028-4.868-4.935-5.044-5.33-.886 1.493-1.403 3.27-1.55 5.33z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",d:"M13.002 8a5 5 0 0 0-5-5 4.94 4.94 0 0 0-3.316 1.282l2.316 2.12L0 8.127 1.1 1l2.098 1.92A6.958 6.958 0 0 1 8.002 1a7 7 0 0 1 0 14 6.995 6.995 0 0 1-6.256-3.872l1.8-.901C4.37 11.865 6.046 13 8.003 13a5 5 0 0 0 5-5h-.001z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=n(32),i=n.n(r),o=n(0),a=n.n(o),s=n(101),u=n(11),c=n.n(u);t.a=function(e){var t,n=e.resource,r=e.cls,o=e.size,u=n.name.split(".").pop();return t="dir"===n.type?{type:"dir"+(n.iconType?"_"+n.iconType:""),cls:c()()("listing-item").e("dir-icon").mix(r)}:{ext:u,mediatype:n.meta&&n.meta.mediatype,type:n.iconType,cls:r},a.a.createElement(s.a,i()({size:o},t))}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return p}));var r=n(36),i=n(23),o=n(529),a=n(13),s=n(45),u=function(e){return function(t){return Object(r.a)("activate-promo",{promo_code:(e||"").trim()}).then((function(e){return t(Object(i.updateDialog)("promo",{promoStatus:e})),e.discount&&t(Object(o.a)()),e}),(function(e){var n=e?{error:e}:{error:{body:{}}};return t(Object(i.updateDialog)("promo",{promoStatus:n})),n}))}},c=function(){return function(e){e({type:a.CLOSE_DIALOG,payload:{dialog:"promo",data:{code:"",promoStatus:{}}}}),ns.page.go(location.pathname)}},l=function(e){return{type:a.EDIT_PHONE_NUMBER,payload:e}},d=function(){return{type:a.PROMO_SMS_SENDING_FAILED}},f=function(e){return function(t){var n;return t({type:a.SENDING_PROMO_SMS}),e&&(n=encodeURIComponent(e.startsWith("8")?"+7".concat(e.slice(1)):e)),new Promise(function(e,r){ns.http("/api/sms".concat(n?"?phone=".concat(n):"")).then((function(n){switch(n.status){case"success":t({type:a.PROMO_SMS_SENT}),t(Object(s.saveSettings)({key:"timestampLastSentMobilePromoSms",value:String(Date.now())})),e();break;case"error":t(d()),r()}})).fail((function(){t(d()),r()}))})}},h=function(){return{type:a.RESET_SMS_SENDING_ERROR}},p=function(){return{type:a.DISCOUNT_PROMO_SHOWN}}}),(function(e,t,n){"use strict";var r=n(672),i="object"==typeof self&&self&&self.Object===Object&&self,o=(r.a||i||Function("return this")()).Symbol,a=Object.prototype;a.hasOwnProperty,a.toString,o&&o.toStringTag;Object.prototype.toString;o&&o.toStringTag;Object.getPrototypeOf,Object;var s=Function.prototype,u=Object.prototype,c=s.toString;u.hasOwnProperty,c.call(Object);n(513);var l={INIT:"@@redux/INIT"};function d(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function f(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}var o=Object.keys(n);var a=void 0;try{!(function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:l.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+l.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))})(n)}catch(e){a=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],f=c(l,t);if(void 0===f){var h=d(u,t);throw new Error(h)}i[u]=f,r=r||f!==l}return r?i:e}}function h(e,t){return function(){return t(e.apply(void 0,arguments))}}function p(e,t){if("function"==typeof e)return h(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},i=0;i<n.length;i++){var o=n[i],a=e[o];"function"==typeof a&&(r[o]=h(a,t))}return r}Object.assign;n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p}))}),(function(e,t,n){"use strict";var r,i=n(32),o=n.n(i),a=n(3),s=n.n(a),u=n(4),c=n.n(u),l=n(8),d=n.n(l),f=n(5),h=n.n(f),p=n(7),m=n.n(p),v=n(1),g=n.n(v),y=n(10),b=n.n(y),_=n(19),O=n(0),w=n.n(O),E=n(16),S=n(75),C=n(410),x=n(104),k=n(23),T=n(18),j=n(26),R=function(e){return function(t,n){t(Object(j.maybeBlockActionOverdraft)())||t(Object(k.openDialog)("rename",{resourceId:e,onSubmit:function(r){if(!n().dialogs.rename.data.progress){t(Object(k.updateDialog)("rename",{progress:!0}));var i=ns.action.run("resource.rename",{id:e,name:r}),o=function(){var o=n().dialogs.rename;if(o.data&&o.state!==k.STATE.CLOSED&&o.data.resourceId===e){var a=i.get(".status"),s=Object(T.getResourceData)(n(),e,"type"),u=i.get(".reason"),c=i.get(".reasonText"),l={progress:!1};if(["canceled","failed"].includes(a)&&"exists"===u)l.message="dir"===s?"Папка с именем «"+yr.externals.entityify(r)+"» уже существует":"Файл с именем «"+yr.externals.entityify(r)+"» уже существует",t(Object(k.updateDialog)("rename",l));else if("failed"===a){if(c){l.message=c;var d=i.get(".reasonTextAux");d&&(l.message+=" "+d)}else l.message="NAME_HAS_SLASH"===u?"dir"===s?"Название папки не может содержать символ «/»":"Название файла не может содержать символ «/»":"NAME_EXCEEDS_MAX_LENGTH"===u?"dir"===s?"Название папки не может быть длиннее 255 символов":"Название файла не может быть длиннее 255 символов":"dir"===s?"Не удалось переименовать папку «"+yr.externals.entityify(r)+"»":"Не удалось переименовать файл «"+yr.externals.entityify(r)+"»";t(Object(k.updateDialog)("rename",l))}else"canceled"===a?t(Object(k.closeDialog)("rename",l)):"progressing"===a&&(t(Object(k.closeDialog)("rename",l)),t(Object(x.deselectAllStatesContext)()))}};i.on("ns-model-changed.status",o),o()}},onClose:function(){return t(Object(k.closeDialog)("rename"))}}))}},P=n(48),D=n(293),I=n(20);function A(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var M=(r={},b()(r,I.PUBLISH,"publishResource"),b()(r,I.UNPUBLISH,"unpublishResource"),b()(r,I.FOTKI_INFO,"showResourceFotkiInfo"),b()(r,I.DOWNLOAD,"downloadResource"),b()(r,I.SHOW_FULLSIZE,"showFullsizeResource"),b()(r,I.SET_AS_COVER,"setResourceAsAlbumCover"),b()(r,I.EDIT,"editResource"),b()(r,I.VIEW,"openResource"),b()(r,I.COPY,"copyResource"),b()(r,I.MOVE,"moveResource"),b()(r,I.DELETE,"deleteResource"),b()(r,I.DELETE_FROM_TRASH,"deleteResource"),b()(r,I.RENAME,"renameResource"),b()(r,I.ADD_TO_ALBUM,"addToAlbum"),b()(r,I.EXCLUDE_FROM_ALBUM,"excludeFromAlbum"),b()(r,I.EXCLUDE_FROM_GEO_ALBUM,"excludeFromGeoAlbum"),b()(r,I.EXCLUDE_FROM_PERSONAL_ALBUM,"excludeFromPersonalAlbum"),b()(r,I.GO_TO_FILE,"goToResource"),b()(r,I.GO_TO_FOLDER,"goToResource"),b()(r,I.VERSIONS,"openVersionsDialog"),b()(r,I.RESTORE,"restoreResource"),b()(r,I.SHARE_ACCESS,"openSharedFolderAccessDialog"),b()(r,I.CLEAN_TRASH,"cleanTrash"),b()(r,I.PIN,"remoteTogglePinDoc"),b()(r,I.REMOVE_FROM_DOCS,"removeFromDocs"),r),N=[I.DELETE,I.DELETE_FROM_TRASH,I.RESTORE,I.CLEAN_TRASH,I.EXCLUDE_FROM_PERSONAL_ALBUM];t.a=function(e,t,n){var r=(function(t){h()(i,t);var r=A(i);function i(e){var t;return s()(this,i),(t=r.call(this,e))._onAction=t._onAction.bind(d()(t)),t._onKeyDown=t._onKeyDown.bind(d()(t)),t}return c()(i,[{key:"componentDidMount",value:function(){n&&window.addEventListener("keydown",this._onKeyDown)}},{key:"componentWillUnmount",value:function(){n&&window.removeEventListener("keydown",this._onKeyDown)}},{key:"_onKeyDown",value:function(e){var t,n=this.props,r=n.availableActions;n.resources.length&&(46!==e.keyCode||null!==(t=e.target)&&void 0!==t&&t.closest("input")||(r.includes(I.DELETE)&&this._onAction(I.DELETE),r.includes(I.DELETE_FROM_TRASH)&&this._onAction(I.DELETE_FROM_TRASH)))}},{key:"_getSelectedIds",value:function(){var e=this.props.resources;return e.length>1?e.map((function(e){return e.id})):e[0].id}},{key:"_onAction",value:function(e){this.props[M[e]](this._getSelectedIds()),N.includes(e)&&this.props.deselectAllStatesContext()}},{key:"render",value:function(){var t=this.props,n=t.availableActions,r=t.disableReasons,i=n.reduce((function(e,t){return e[t]={disabled:!1},e}),{});return r.forEach((function(e){var t=e.action,n=e.reason;i[t]={disabled:!0,tooltipText:I.reasonsMessages[n]}})),w.a.createElement(e,o()({},this.props,{actions:i,availableActions:n,onAction:this._onAction}))}}]),i})(O.Component);return Object(_.connect)((function(e,n){var r=n.resources?n.resources:t(e);return{page:e.page,resources:r,availableActions:Object(I.getAvailableActions)(r,e),disableReasons:Object(I.getDisableReasons)(r,e)}}),{publishObject:D.a,unpublishObject:D.b,publishAlbum:P.publishAlbum,unpublishAlbum:P.unpublishAlbum,publishResource:E.publishResource,unpublishResource:E.unpublishResource,showResourceFotkiInfo:E.showResourceFotkiInfo,showFullsizeResource:E.showFullsizeResource,setResourceAsAlbumCover:P.setResourceAsAlbumCover,downloadResource:E.downloadResource,copyResource:E.copyResource,deleteResource:E.deleteResource,moveResource:E.moveResource,goToResource:E.goToResource,editResource:E.editResource,restoreResource:E.restoreResource,openSharedFolderAccessDialog:E.openSharedFolderAccessDialog,openVersionsDialog:C.d,renameResource:R,cleanTrash:j.cleanTrash,createAlbum:P.createAlbum,addToAlbum:P.addToAlbum,addToCurrentAlbum:P.addToCurrentAlbum,excludeFromAlbum:P.excludeFromAlbum,excludeFromGeoAlbum:P.excludeFromGeoAlbum,excludeFromPersonalAlbum:P.excludeFromPersonalAlbum,openResource:E.openResourceById,deselectAllStatesContext:x.deselectAllStatesContext,copyPublicLink:j.copyPublicLink,maybeBlockActionOverdraft:j.maybeBlockActionOverdraft,remoteTogglePinDoc:S.remoteTogglePinDoc,removeFromDocs:S.removeFromDocs})(r)}}),(function(e,t,n){"use strict";var r=n(21),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(5),l=n.n(c),d=n(7),f=n.n(d),h=n(1),p=n.n(h),m=n(0),v=n.n(m),g=function(e){for(var t=[],n=0;n<e.length;n++){55296==(63488&e.charCodeAt(n))?(t.push(e.slice(n,n+2)),n++):t.push(e[n])}return t},y=n(11),b=n.n(y);n(1378);function _(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var O=[".",",",":",";","!","?","…",")","]","}","»"," ",'"',"'"],w=["(","[","{","«"," ",'"',"'"],E=(function(e){l()(n,e);var t=_(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={text:e.text},r}return u()(n,[{key:"componentDidMount",value:function(){this._createContext(this.props.font),this._updateText(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._updateContext(e.font),this._updateText(e)}},{key:"_createContext",value:function(e){this._context=document.createElement("canvas").getContext("2d"),this._updateContext(e)}},{key:"_updateContext",value:function(e){this._context&&(this._context.font=e)}},{key:"_updateText",value:function(e){this.setState({text:this._getText(e)})}},{key:"_getTextWidth",value:function(e){return this._context?this._context.measureText(e.join("").trim()).width+.5:0}},{key:"_getText",value:function(e){var t=e.numberOfRows,n=e.text,r=e.width;if(this._text=n.replace("\n"," "),this._text.normalize&&(this._text=this._text.normalize()),!r)return this._text;for(var i=[],o=0;o<t;o++){var a={characters:g(this._text.slice(i.join("").length)),width:r,currentRowNumber:o},s=o===t-1?this._getTextRowWithFiller(a):this._getTextRow(a);if(i.push(s),i.join("")===this._text)break}return i.map((function(e){return e.trim()})).join("\n")}},{key:"_getTextRow",value:function(e){var t=e.characters,n=e.width,r=e.currentRowNumber,i=this._getTextWidth(t),o=i/t.length,a=this._getMaximumBreakableLengthFromPosition({characters:t,position:Math.floor((i-n)/o)}),s=this._getUnbreakableSequenceLength(t,r);return i>n&&t.length>3?this._getTextRow({characters:this._trimRight({characters:t,trimBy:s||a>2&&a||1}),width:n,currentRowNumber:r}):t.join("")}},{key:"_getTextRowWithFiller",value:function(e){var t=e.characters,n=e.beginCharacters,r=e.endCharacters,o=e.width,a=n&&r,s=a?[].concat(i()(n),[this.props.filler],i()(r)):t,u=this._getTextWidth(s);if(u>o&&s.length>3){if(a){var c=n.length>=r.length;return this._getTextRowWithFiller({beginCharacters:this._trimRight({characters:n,trimBy:c?1:0}),endCharacters:this._trimLeft({characters:r,trimBy:c?0:1}),width:o})}var l=u/t.length,d=Math.floor((u-o)/l/2),f=.5*t.length+(d>1?d:0);return this._getTextRowWithFiller({beginCharacters:this._trimRight({characters:t,trimBy:f}),endCharacters:this._trimLeft({characters:t,trimBy:f}),width:o})}return s.join("")}},{key:"_trimRight",value:function(e){var t=e.characters,n=e.trimBy;return t.slice(0,t.length-n)}},{key:"_trimLeft",value:function(e){var t=e.characters,n=e.trimBy;return t.slice(-t.length+n)}},{key:"_getUnbreakableSequenceLength",value:function(e,t){var n=(e.join("").match(/\.\w{2,}$/g)||[])[0];if(n)return n.length-1;if(!this.props.breakWordsInFirstRow&&0===t){var r=e.lastIndexOf(" ");if(r>0)return e.length-r}var i=e[e.length-1],o=e[e.length-2];return O.indexOf(i)>-1&&O.indexOf(o)<0&&w.indexOf(o)<0||O.indexOf(i)<0&&w.indexOf(i)<0&&w.indexOf(o)>-1?2:0}},{key:"_getMaximumBreakableLengthFromPosition",value:function(e){var t=e.characters,n=e.position;if(n<2)return n;var r=t[t.length-n],i=t[t.length-n+1];return w.indexOf(r)>-1&&O.indexOf(i)<0&&w.indexOf(i)<0?n-2:O.indexOf(r)>-1?n-1:n}},{key:"render",value:function(){var e={className:b()()("clamped-text"),"aria-hidden":!0,style:{font:this.props.font,maxWidth:this.props.width||"auto"}};return this._text!==this.state.text&&(e.title=this._text),v.a.createElement("span",e,this.state.text)}}]),n})(v.a.PureComponent);E.defaultProps={filler:"…",font:"normal normal 400 normal 15px / normal Arial, sans-serif",numberOfRows:1,text:"",width:0,breakWordsInFirstRow:!1};t.a=E}),(function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return o}))}),(function(e,t,n){"use strict";var r=n(182),i=n(242),o=n(107),a=n(78);var s=n(89);function u(e,t){void 0===t&&(t=[]);var n=(function e(t){return["html","body","#document"].indexOf(Object(o.a)(t))>=0?t.ownerDocument.body:Object(a.b)(t)&&Object(i.a)(t)?t:e(Object(r.a)(t))})(e),c="body"===Object(o.a)(n),l=Object(s.a)(n),d=c?[l].concat(l.visualViewport||[],Object(i.a)(n)?n:[]):n,f=t.concat(d);return c?f:f.concat(u(Object(r.a)(d)))}n.d(t,"a",(function(){return u}))}),(function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return c}));var r=null;function i(e,t){return!!r&&r.call(e,t)}function o(e){return"INPUT"===e.tagName}function a(e){return"IFRAME"===e.tagName}function s(e){return o(e)&&"hidden"===e.type}function u(e){return o(e)&&"radio"===e.type}function c(e){if("hidden"===window.getComputedStyle(e).visibility)return!0;for(var t=e;t;){if("none"===window.getComputedStyle(t).display)return!0;t=t.parentElement}return!1}"undefined"!=typeof Element&&(r=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector)}),(function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(5),l=n.n(c),d=n(7),f=n.n(d),h=n(1),p=n.n(h),m=n(0),v=n.n(m),g=n(11),y=n.n(g),b=n(179),_=n(25),O=n(185);n(1419);function w(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var E=function(){return y()()("section-header")},S="large",C="normal",x=(function(e){l()(n,e);var t=w(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"_getTitle",value:function(){var e=this.props,t=e.title,n=e.emptyTitleText,r=e.onEmptyTitleClick,i=e.titleRightIcon;return!t&&n?v.a.createElement("h1",{className:E().e("title")},v.a.createElement("span",{className:E().e("name"),onClick:r},n,v.a.createElement(O.a,null))):v.a.createElement("h1",{className:E().e("title").m({"with-icon":!!i}),title:t},t)}},{key:"render",value:function(){var e=this.props,t=e.cls,n=e.mode,r=e.titleRightIcon,o=e.titleRef,a=e.onTitleClick;return v.a.createElement("div",{className:E().m(i()({},n,!0)).mix(t)},v.a.createElement("div",{className:E().e("top")},Boolean(this.props.backUrl)&&v.a.createElement(_.Button,{className:E().e("back-button"),view:"clear",size:"s",type:"link","aria-label":"Назад",url:this.props.backUrl,icon:b.a}),v.a.createElement("div",{onClick:a,ref:o,className:E().e("title-wrapper").m({"with-icon":!!r})},n===C&&this._getTitle(),r),Boolean(this.props.children)&&v.a.createElement("div",{className:E().e("controls-wrapper")},this.props.children)),n===S&&this._getTitle())}}]),n})(m.Component);x.defaultProps={mode:C},t.default=x}),(function(e,t,n){"use strict";n.r(t);var r=n(83),i=n.n(r),o=n(67),a=n(14),s=n(18),u=n(16),c=n(77),l=n(9),d=n(22);o.a.define("operationUpload",{methods:{onStatusDone:function(){this.get(".idDst")&&this.result&&this.result.resource&&this.updateDst(this.result.resource),Object(a.default)().dispatch(Object(c.a)()),this.notify(),this.hasCreatedInEditorDoc()&&this.selectDst()},onStatusCompleted:function(){this.set(".file",null),this.get(".idDst")&&this.fetchResource(this.get(".idDst"),!1,{insertOnlyIfPortionLoaded:!0})},updateDst:function(e){var t=this.get(".idDst"),n=Object(a.default)().dispatch(Object(u.replaceResource)(t,e));n.id!==t&&this.set(t,n.id)},handleSyncResource:function(){this.setStatus("done")},notify:function(){this.showNotification({operation:"upload",nameDst:d.basename(this.get(".idDst")),status:this.get(".status"),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux")})},isFinalized:function(){var e=this.get(".status");return l.includes(["done","failed","canceled"],e)},hasCreatedInEditorDoc:function(){var e=Object(s.getResourceData)(Object(a.default)().getState(),this.get(".idDst"),"name"),t=d.extname(e),n=ns.Model.get("config").get(".data.locale");return!(!this.DEFAULT_DOC_NAMES[t]||!this.DEFAULT_DOC_NAMES[t][n])&&new RegExp("^"+this.DEFAULT_DOC_NAMES[t][n]+"( \\(\\d+\\))?\\."+t+"$").test(e)},DEFAULT_DOC_NAMES:{docx:{ru:"Документ",en:"Document",tr:"Belgesi",uk:"Документ"},xlsx:{ru:"Таблица",en:"Spreadsheet",tr:"Tablosu",uk:"Таблиця"},pptx:{ru:"Презентация",en:"Presentation",tr:"Sunumu",uk:"Презентація"}},selectDst:function(){var e=this.get(".idDst"),t=d.dirname(e);ns.page.current.params.idContext===t&&ns.page.go(d.getResourceSelectedUrl(e))}}}),ns.Model.define("operationRemoteResource",{params:{id:null},methods:{toLocal:function(){return this.get(".type")?(this.set(".isRemote",!0),i.a.initialize(this.get(".type"),this.getData())):null}}});var f=n(9),h=n.n(f),p=n(147),m=n(22),v=n(83);ns.Model.define("operationRemoteShare",{params:{id:null},methods:{preprocessData:function(e){var t={isRemote:!0,role:e.root.parameters.for},n={};switch(h.a.each(["folder","user","owner"],(function(t){var r=no.jpath('/.values["'+t+'" == .tag]',e);r&&(n[t]=r[0].parameters)})),e.root.parameters.type){case"invite_new":t.type="inviteFolder",t.idSrc=m.normalize(n.folder.path);break;case"folder_unshared":t.type="unshare",t.nameFolder=n.folder.name,t.idSrc=m.normalize(n.folder.path);break;case"invite_removed":t.invite=!0;case"user_was_banned":t.type="accessFolder",t.nameFolder=m.basename(m.normalize(n.folder.path)),t.idSrc=m.normalize(n.folder.path);break;case"invite_rejected":Object(a.default)().dispatch(Object(p.g)(n,t.role));break;case"invite_approved":Object(a.default)().dispatch(Object(p.f)(n,t.role));break;case"user_has_left":t.type="leaveFolder",t.idSrc=m.normalize(n.folder.path),t.nameFolder=n.folder.name||m.basename(n.folder.path),n.user&&(t.nameUser=n.user.name);break;case"rights_changed":t.type="accessFolder",t.rights=n.folder.rights,t.nameFolder=m.basename(m.normalize(n.folder.path)),t.idSrc=m.normalize(n.folder.path)}return t},toLocal:function(){return this.get(".type")?v.initialize(this.get(".type"),this.getData()):null}}});var g=n(282),y=n(22),b=function(e){return e.startsWith("/disk/")||e.startsWith("/photounlim/")||e.startsWith("/attach/")},_={getOperationData:function(e){var t,n={isRemote:!0,committer:h.a.get(".root.parameters.committer_login",e)},r=(function(e){var t=e.values.filter((function(e){return"op"===e.tag})).map((function(e){var t=e.parameters;return{type:t.type,idSrc:y.normalize(t.key),nameSrc:t.name||y.basename(t.key),typeSrc:t.resource_type,fileIdSrc:t.fid,idParent:y.normalize(t.folder)}}));return h.a.values(h.a.groupBy(t,"type")).map((function(e){return h.a.minBy(e,(function(e){return e.idSrc.length}))}))})(e),i=h.a.find(r,{type:"new"}),o=h.a.find(r,{type:"deleted"});i&&o?(n.idSrc=o.idSrc,n.idDst=i.idSrc,n.typeSrc=o.typeSrc,n.fileIdSrc=o.fileIdSrc,i.idParent===o.idParent&&b(n.idDst)?n.type="rename":"/trash"===o.idParent&&b(n.idDst)?n.type="restore":"/trash"===i.idParent&&b(n.idSrc)?n.type="delete":b(n.idDst)&&(n.type="move")):"new"===(t=1===r.length?r[0]:i||o).type&&b(t.idSrc)?("dir"===t.typeSrc?n.type="createFolder":"file"===t.typeSrc&&(n.type="upload"),n.idDst=t.idSrc):"deleted"===t.type&&(function(e){return e.startsWith("/trash/")})(t.idSrc)?(n.type="delete",n.idSrc=t.idSrc):"published"!==t.type&&"unpublished"!==t.type||!b(t.idSrc)?"clean"===t.type?Object(a.default)().dispatch(Object(g.onSuccessCleanTrash)()):"changed"===t.type&&"file"===t.typeSrc&&b(t.idSrc)?(n.type="changed",n.idSrc=t.idSrc):"office_access_state_changed"===t.type&&"file"===t.typeSrc&&b(t.idSrc)&&(n.type="office_access_state_changed",n.idSrc=t.idSrc):(n.type="publish",n.reverse="unpublished"===t.type,n.idSrc=t.idSrc);return n}},O=n(93),w=n(54),E=n.n(w),S=n(231),C=n(99),x=n(140),k=n(48),T=n(400);n.d(t,"getCurrentXivaServices",(function(){return F})),n.d(t,"getWasXivaConnected",(function(){return B})),n.d(t,"registerMessageCallback",(function(){return z})),n.d(t,"removeMessageCallback",(function(){return V})),n.d(t,"getMessageCallbacks",(function(){return H})),n.d(t,"resubscribe",(function(){return G})),n.d(t,"getXivaBaseUrl",(function(){return q})),n.d(t,"subscribe",(function(){return $})),n.d(t,"addEventListener",(function(){return Y}));var j=n(398).isDebugMode,R="disk-json",P=null,D=null,I=null,A=null,M=!1,N=[],L=[],F=function(){return L},B=function(){return M},U=[],z=function(e){U.push(e)},V=function(e){var t=U.findIndex((function(t){return t===e}));-1!==t&&U.splice(t,1)},H=function(){return U},W=!1,G=function(e){clearTimeout(D),P&&(["onopen","onclose","onmessage"].forEach((function(e){P[e]=void 0})),P.close(1e3),P=null),A||(clearTimeout(I),I=setTimeout((function(){A=Object(x.waitNavigatorOnline)().then((function(){A=null,$()}))}),e))};function q(){return"wss://".concat(E.a.getHost(O.urlsBase.xiva),"/v2/subscribe/websocket")}function $(){return W=j("xiva"),new Promise(function(e){if(P)return e();var t=[R],n=Object(S.getXivaServices)(Object(S.getWidgetNames)()),r=Array.from(new Set(t.concat(n)));L=r;var o=E.a.addParams(q(),{client:"ufo",uid:Object(a.default)().getState().user.uid,session:O.idClient,service:r.join(",")});P=new WebSocket(o),D=setTimeout((function(){G(0)}),5e3),P.onopen=function(){e()},P.onmessage=function(e){var t=e.data;M=!0;var n=t=JSON.parse(t),r=n.message,o=n.session_key,s=n.operation,l=n.service;if(r&&o!==O.idClient)try{l===R&&(function(e){W&&console.log("xiva",e,JSON.stringify(e));var t,n,r=no.jpath(".root.tag",e),o=e;switch(r){case"diff":"office_access_state_changed"===(o=_.getOperationData(e)).type?Object(a.default)().dispatch(Object(u.fetchSingleResource)(o.idSrc)):o.type&&(n=i.a.initializeRemote("resource"));break;case"quota":Object(a.default)().dispatch(Object(c.b)());break;case"invite":t=["invitees"];break;case"share":n=i.a.initializeRemote("share");break;case"album":Object(a.default)().dispatch(Object(k.remoteUpdateAlbum)(e));break;case"quota_overdraft":Object(a.default)().dispatch(Object(T.b)(e))}n&&i.a.completeRemote(n,o);t&&t.forEach((function(e){ns.Model.getValid(e)&&ns.Model.get("queueRequest").pushPriority({id:e})}));N.forEach((function(t){t(e,r)}))})(JSON.parse(r)),H().forEach((function(e){return e(t)}))}catch(e){Object(C.log)({type:"xiva-push",uid:Object(a.default)().getState().user.uid,message:e})}"ping"===s&&(clearTimeout(D),D=setTimeout((function(){G(0)}),1e3*(t["server-interval-sec"]+2)))},P.onclose=function(e){4401!==e.code?G(1e3):M&&location.reload()}})}function Y(e){if(!(e instanceof Function))throw"listener must be a function";N.push(e)}}),(function(e,t,n){"use strict";var r=n(21),i=n.n(r),o=n(66),a=n.n(o),s=n(284),u=n(36),c=n(51),l=n.n(c),d=n(54),f=n.n(d),h=n(16),p=n(34),m=n(94),v={},g=function(e,t){return new Promise(function(n,r){if(v[e])n(v[e]);else if(window.indexedDB){var i=window.indexedDB.open(e);i.onerror=r,i.onsuccess=function(t){v[e]=t.target.result,n(v[e])},i.onupgradeneeded=function(){var e=i.result;e.objectStoreNames.contains(t)||e.createObjectStore(t,{keyPath:"id"})}}else r()})},y=n(9),b=n.n(y),_=n(45),O=n(104),w=n(26),E=n(29),S=n.n(E),C=n(13),x=n(281),k=n(38),T=n(73),j=n(212);n.d(t,"b",(function(){return A})),n.d(t,"e",(function(){return M})),n.d(t,"d",(function(){return L})),n.d(t,"c",(function(){return F})),n.d(t,"a",(function(){return B})),n.d(t,"h",(function(){return U})),n.d(t,"g",(function(){return z})),n.d(t,"f",(function(){return V}));var R,P=function(e){return{type:s.c,payload:e}},D=function(e,t){return e.albumsSupportedV2=!0,e.locale=t,(function(e,t,n,r){return new Promise(function(i,o){return g(e,t).then((function(e){if(e.objectStoreNames.contains(t)){var a=e.transaction(t,"readwrite").objectStore(t),s=a.delete(n);s.onerror=o,s.onsuccess=function(){var e=a.add({id:n,data:r});e.onerror=o,e.onsuccess=function(){i(e.result)}}}else o()})).catch(o)})})(E.PHOTOSLICE_DB.NAME,E.PHOTOSLICE_DB.STORE,E.PHOTOSLICE_DB.OBJECT,e).catch((function(e){e instanceof Error&&setTimeout((function(){throw e}),0)}))},I=function(e){return (function(e,t,n){return new Promise(function(r,i){return g(e,t).then((function(e){if(e.objectStoreNames.contains(t)){var o=e.transaction(t).objectStore(t).get(n);o.onerror=i,o.onsuccess=function(){o.result?r(o.result.data):i()}}else i()})).catch(i)})})(E.PHOTOSLICE_DB.NAME,E.PHOTOSLICE_DB.STORE,E.PHOTOSLICE_DB.OBJECT).then((function(t){return t&&t.albumsSupportedV2&&t.locale===e?t:{}})).catch((function(e){return e instanceof Error&&setTimeout((function(){throw e}),0),Promise.resolve({})}))},A=function e(){return function(t,n){var r=n(),i=r.photoslice,o=i.photosliceId,a=i.isLoading,s=i.isLoaded,c=i.revision,l=i.unfilteredTotalSelected,d=r.environment.session.locale;return a||l&&"photo"===Object(k.getPage)(r)?t(P({hasDiff:!0})):Object(u.a)("getDiff",{idSlice:o,revision:c,locale:d}).then((function(n){if(!n.total)return s?Promise.resolve():t(P({isLoaded:!0}));var r=Object(m.h)(n,c);t({type:C.APPLY_DIFF,payload:{diff:r}}),t(function(e){return function(t){Object.keys(e.clusters).forEach((function(n){var r=e.clusters[n];r.insert&&r.insert.items.forEach((function(e){var r=e.id;t(Object(h.maybeSetClusterIdToResource)(r,n))})),r.items&&Object.keys(r.items).forEach((function(e){r.items[e].insert&&t(Object(h.maybeSetClusterIdToResource)(r.items[e].insert.id,n))}))}))}}(r));var i=(function(e,t){return I(t).then((function(n){for(var r in n.revision=e.revision,e.clusters){var i=Object(m.d)(n.items,r,(function(e){return e.id})),o=i.index,a=i.found,s=e.clusters[r];if(s.delete)a&&n.items.splice(o,1);else{var u=a?n.items[o]:{id:r};s.insert&&Object(m.b)(u,b.a.omit(s.insert,["items"])),s.update&&Object(m.b)(u,b.a.omit(s.update,["items"])),a||n.items.splice(o,0,u)}}return D(n,t)})).catch((function(e){e instanceof Error&&setTimeout((function(){throw e}),0)}))})(r,d);return n.total>n.limit?i.then((function(){return t(e())})):i})).catch((function(){return t(M())}))}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var r=n(),i=r.photoslice.isLoaded,o=r.environment.session.locale;t(P({isLoading:!0,isLoaded:!!i,hasDiff:!1})),clearTimeout(R),R=setTimeout((function(){t(P({isSlowLoading:!0}))}),5e3);var a=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];clearTimeout(R);return t({type:s.a,payload:Object.assign({photosliceId:e.id},e,{isLoaded:!r})}),D(e,o).then((function(){return n().photoslice.hasDiff?t(A()):Promise.resolve()}))},c=function(e){clearTimeout(R),t(P({isLoading:!1,isSlowLoading:!1})),l.a.go("/client/error","preserve",{reason:"photo2_fetch_snapshot_error",error:e})},d=function(){return Object(u.a)("initSnapshot")},f=function(e){return Object(u.a)("getSnapshot",{idSlice:e,locale:o}).then(a).catch(c)};return e?I(o).then((function(e){return d().then((function(n){var r=n.photoslice_id;return e.id&&r===e.id?a(e,!0).then((function(){return t(A()).catch((function(){return f(r)}))})):f(r)}))})).catch(c):d().then((function(e){var t=e.photoslice_id;return f(t)})).catch(c)}},N=function(e,t,n){var r=[],i=[];for(var o in e){var a=t[o];if(e[o].resources&&a&&a.items){var s=Object(x.getFilteredClusterData)(a.items,(function(e){return!n.includes(e)})),u=s.albums,c=s.items,l=s.size,d=(a.albums||u)&&!b.a.isEqual(u,a.albums);l?(l!==a.items.length||d)&&i.push(Object.assign({},a,{items:c,size:l,albums:u})):r.push(o)}}return{fetched:i,missing:r}},L=function(e,t){return function(n,r){var o=r(),s=o.photoslice.photosliceId,c=o.page.filter,d=o.resources,f=(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,i=Object(T.a)(e),o=e.resources,s={},u=[],c={},l={};Object(m.j)(t,i,(function(e,t){if(o[t.id])if(o[t.id].clusterId){var n=b.a.get(o[t.id],"meta.albums_exclusions",[]);t.albums&&t.albums.some((function(e){return n.includes(e)}))&&(l[t.id]=!0)}else c[t.id]=e.id;else(s[e.id]||(s[e.id]={resources:[]})).resources.push(t.id)}),(function(e,t,n){s[e.id]={range:[t,n]}})),n&&n.length&&n.forEach((function(e){for(var t=a()(e,2),n=t[0],r=t[1],o=n;o<=r;o++){var u=i[o];u.items||s[u.id]||(s[u.id]=!0)}}));for(var d=Object.keys(s),f=0;f<Math.ceil(d.length/r);f++){var h=f*r,p=h+r;u.push(b.a.pick(s,d.slice(h,p)))}return{clustersToLoad:u,resourcesWithoutClusterIds:c,resourcesNeededExcludeFromAlbums:l}})(o,e,t),v=f.clustersToLoad,g=f.resourcesWithoutClusterIds,y=f.resourcesNeededExcludeFromAlbums,_=[];for(var O in g){var w=g[O];n(Object(h.maybeSetClusterIdToResource)(O,w)),d[O]&&_.push(Object.assign({},d[O],{clusterId:w}))}for(var E in y)g[E]||_.push(d[E]);return v.length?Promise.all(v.map((function(e){var t={photosliceId:s,clusters:JSON.stringify(e)};return Object(T.l)(c)&&(t.filter=c),Object(u.a)("getClustersWithResources",t).then((function(t){var o=t.clusters,a=t.resources,s=r().photoslice.clustersByIds;o.fetched=o.fetched.filter((function(t){return!!s[t.id]&&(!s[t.id].items||(e[t.id]={resources:[]},!1))}));var c={};if(a.error)Object(u.a)("getResources",{ids:JSON.stringify(a.requested||[]),photoslice:!0}).then((function(t){var i=r().photoslice.clustersByIds,s={resources:p.default.preprocessResources(t,r()).concat(_),clusters:o};if(t.length!==a.requested.length){for(var u in e){var c=e[u];i[u]&&(c.resources=c.resources||{})}var l=b.a.differenceWith(a.requested,t,(function(e,t){return e===t.id})),d=N(e,i,l);Object.assign(s,{clusters:d})}n(Object(h.updateClustersAndResources)(s))}),(function(e){l.a.go("/client/error","preserve",{reason:"photo2_fetch_resources_error",error:e})}));else if(a.fetched.length&&Object.assign(c,{resources:p.default.preprocessResources(a.fetched,r()).concat(_)}),a.missing.length){var d,f,m=N(e,s,a.missing),v=m.fetched,g=m.missing;(d=o.fetched).push.apply(d,i()(v)),(f=o.missing).push.apply(f,i()(g))}(o.fetched.length||o.missing.length)&&Object.assign(c,{clusters:o}),Object.keys(c).length&&n(Object(h.updateClustersAndResources)(c))})).catch((function(e){e&&"HTTP_404"===e.id?n(M()):l.a.go("/client/error","preserve",{reason:"photo2_fetch_clusters_with_resources_error",error:e})}))}))):(_.length&&n(Object(h.updateClustersAndResources)({resources:_})),Promise.resolve())}},F=function(e){return function(t,n){var r=n().photoslice.photosliceId;return Object(u.a)("getClusters",{idSlice:r,ids:e}).then((function(e){var n=e.items[0];if(n)return n.id=n.cluster_id,delete n.cluster_id,n.items=n.items.map(x.preprocessClusterItem),n.size=n.items.length,t({type:C.UPDATE_CLUSTERS_AND_RESOURCES,payload:{clusters:{added:[n]}}}),n}))}},B=function(e){return function(t,n){var r=n().page,i=r.filter,o=r.currentUrl;if(e!==i){t(Object(O.setFilteredSelection)({total:0,missing:0,unfilteredTotal:0,resources:[]}));var a=f.a.replaceParam(f.a.getPath(o)+(f.a.getSearch(o)||""),"filter",e!==S.a.PHOTOSLICE_FILTERS.ALL?e:void 0,!0);t(Object(w.goToUrl)(a))}}},U=function(e){return function(t,n){var r=n(),i=r.page.filter,o=r.settings,a="".concat(i,"AlbumPhotoView"),s=o[a]?a:"photoView";t(Object(_.saveSettings)({key:s,value:e}))}},z=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b.a.noop,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:h.fetchSingleResource,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:F;return function(a,s){var u=s(),c=u.resources,l=function(t){return t.id===e},d=e,f=Object(T.a)(u),p=function(e,i){var o=i.findIndex(l);if(~o){var s=t.getItemAbsoluteTop(e,o),u=n.shouldSelect;Object(j.scrollListingToPosition)(s,{itemHeight:t.getItemSize(e,o).height}),u&&a(Object(O.setFilteredSelection)({total:1,unfilteredTotal:1,missing:0,resources:[d]}))}else r()},v=function(e){var t=e.meta.photoslice_time,n=Object(m.e)(f,1e3*t);n>=0?(function(e){var t=f[e],n=t.id,i=t.items;i?p(n,i):a(o(n)).then((function(){var t=Object(T.a)(s())[e];t&&t.items?p(n,t.items):r()}))})(n):r()},g=c[d];g?v(g):a(i(d,{silent:!0})).then((function(e){e.error?r():v(e)})),a(Object(h.setScrollToResource)(null))}},V=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.a.noop;return function(r,i){var o=Object(T.a)(i()),a=Object(m.c)(o,e);if(a){var s=t.getClusterAbsoluteTop(a.id);Object(j.scrollListingToPosition)(s,{itemHeight:60})}else n()}}}),,(function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!(function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}})();var u,c=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&h())}function h(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,(function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}})(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.NAME="name",e.SIZE="size",e.DATE_LAST_VIEW="date_last_view",e.MTIME="mtime"})(t.SortBy||(t.SortBy={})),(function(e){e.ASC="1",e.DESC="0"})(t.SortOrder||(t.SortOrder={})),(function(e){e.ALL="ALL",e.MY="MY",e.OTHER="OTHER"})(t.FilterType||(t.FilterType={}))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(195)),o=r(n(54));t.isAliasForUserAddress=function(e,t){var n=e.user.emails;return Boolean(n)&&n.includes(i.default.normalize(t))},t.isUnAuth=function(e){return!e.user.uid},t.getLoginUrl=function(e,t){var n=e.config.links.passport.login,r=e.page.currentUrl,i=t;return i.startsWith("/")&&(i="https://"+o.default.getHost(r)+i),o.default.addParams(n,{retpath:i,backpath:r})}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.az="az",e.be="be",e.en="en",e.hy="hy",e.ka="ka",e.kk="kk",e.ro="ro",e.ru="ru",e.tr="tr",e.tt="tt",e.uk="uk",e.uz="uz"})(t.SupportedLangs||(t.SupportedLangs={})),t.getComponentI18n=function(e,t,n,r,i,o){var a;if(void 0===o&&(o="yandex_disk_web"),!e[n])throw"Unsupported lang "+n;var s=null===(a=e[n])||void 0===a?void 0:a[o][t][r];if(!s)throw"Unknown key "+r;return s(i)||""}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(994),a=r(n(0)),s=i(n(456)),u=n(28).cn("HoverTooltip");n(1012);t.default=function(e){var t=e.disabled,n=e.anchorRef,r=e.className,i=e.children,c=e.tooltipContent,l=e.direction,d=e.hasTail,f=e.messageBoxClassName,h=e.size,p=a.useState(!1),m=p[0],v=p[1],g=a.useRef(null),y=o.mergeRefs(g,n),b=a.useRef(null),_=a.useRef(void 0),O=a.useRef(void 0),w=a.useCallback((function(){t||(m?window.clearTimeout(O.current):_.current=window.setTimeout((function(){v(!0)}),200))}),[m,t]),E=a.useCallback((function(){m?O.current=window.setTimeout((function(){v(!1)}),200):_.current&&window.clearTimeout(_.current)}),[m]),S=function(){window.clearTimeout(O.current)},C=function(){O.current=window.setTimeout((function(){v(!1)}),200)};return a.useEffect((function(){if(m){var e=b.current;return requestAnimationFrame((function(){e&&(e.addEventListener("mouseenter",S),e.addEventListener("mouseleave",C))})),function(){e&&(e.removeEventListener("mouseenter",S),e.removeEventListener("mouseleave",C))}}}),[m]),a.useEffect((function(){t&&(window.clearTimeout(_.current),window.clearTimeout(O.current),requestAnimationFrame((function(){v(!1)})))}),[t,_,O,v]),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{onMouseEnter:w,onMouseLeave:E,className:u("Wrap",[r]),ref:y},i),c?a.default.createElement(s.default,{size:h||"s",view:"default",visible:m,anchor:y,direction:l,hasTail:d,innerRef:b,opaque:!0,className:f},c):null)}}),(function(e,t,n){"use strict";n.r(t);var r=n(552);n.d(t,"LocaleProvider",(function(){return r.a}));var i=n(237);n.d(t,"useLocale",(function(){return i.a}));var o=n(553);n.d(t,"useDateFormatter",(function(){return o.a}));var a=n(554);n.d(t,"useFirstDayOfWeek",(function(){return a.a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(512);n.d(t,"mergeProps",(function(){return r.a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(502);n.d(t,"useUniqId",(function(){return r.a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(503);n.d(t,"useFocusable",(function(){return r.a}))}),(function(e,t,n){"use strict";(function(t){var r=n(1196),i=n(1197),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,u=/:\d+$/,c=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,l=/^[a-zA-Z]:/;function d(e){return(e||"").toString().replace(o,"")}var f=[["#","hash"],["?","query"],function(e,t){return m(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],h={hash:1,query:1};function p(e){var n,r=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},i={},o=typeof(e=e||r);if("blob:"===e.protocol)i=new g(unescape(e.pathname),{});else if("string"===o)for(n in i=new g(e,{}),h)delete i[n];else if("object"===o){for(n in e)n in h||(i[n]=e[n]);void 0===i.slashes&&(i.slashes=s.test(e.href))}return i}function m(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function v(e,t){e=(e=d(e)).replace(a,""),t=t||{};var n,r=c.exec(e),i=r[1]?r[1].toLowerCase():"",o=!!r[2],s=!!r[3],u=0;return o?s?(n=r[2]+r[3]+r[4],u=r[2].length+r[3].length):(n=r[2]+r[4],u=r[2].length):s?(n=r[3]+r[4],u=r[3].length):n=r[4],"file:"===i?u>=2&&(n=n.slice(2)):m(i)?n=r[4]:i?o&&(n=n.slice(2)):u>=2&&m(t.protocol)&&(n=r[4]),{protocol:i,slashes:o||m(i),slashesCount:u,rest:n}}function g(e,t,n){if(e=(e=d(e)).replace(a,""),!(this instanceof g))return new g(e,t,n);var o,s,u,c,h,y,b=f.slice(),_=typeof t,O=this,w=0;for("object"!==_&&"string"!==_&&(n=t,t=null),n&&"function"!=typeof n&&(n=i.parse),t=p(t),o=!(s=v(e||"",t)).protocol&&!s.slashes,O.slashes=s.slashes||o&&t.slashes,O.protocol=s.protocol||t.protocol||"",e=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||l.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!m(O.protocol)))&&(b[3]=[/(.*)/,"pathname"]);w<b.length;w++)"function"!=typeof(c=b[w])?(u=c[0],y=c[1],u!=u?O[y]=e:"string"==typeof u?~(h="@"===u?e.lastIndexOf(u):e.indexOf(u))&&("number"==typeof c[2]?(O[y]=e.slice(0,h),e=e.slice(h+c[2])):(O[y]=e.slice(h),e=e.slice(0,h))):(h=u.exec(e))&&(O[y]=h[1],e=e.slice(0,h.index)),O[y]=O[y]||o&&c[3]&&t[y]||"",c[4]&&(O[y]=O[y].toLowerCase())):e=c(e,O);n&&(O.query=n(O.query)),o&&t.slashes&&"/"!==O.pathname.charAt(0)&&(""!==O.pathname||""!==t.pathname)&&(O.pathname=(function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(o=!0),n.splice(r,1),a--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")})(O.pathname,t.pathname)),"/"!==O.pathname.charAt(0)&&m(O.protocol)&&(O.pathname="/"+O.pathname),r(O.port,O.protocol)||(O.host=O.hostname,O.port=""),O.username=O.password="",O.auth&&(~(h=O.auth.indexOf(":"))?(O.username=O.auth.slice(0,h),O.username=encodeURIComponent(decodeURIComponent(O.username)),O.password=O.auth.slice(h+1),O.password=encodeURIComponent(decodeURIComponent(O.password))):O.username=encodeURIComponent(decodeURIComponent(O.auth)),O.auth=O.password?O.username+":"+O.password:O.username),O.origin="file:"!==O.protocol&&m(O.protocol)&&O.host?O.protocol+"//"+O.host:"null",O.href=O.toString()}g.prototype={set:function(e,t,n){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||i.parse)(t)),o[e]=t;break;case"port":o[e]=t,r(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,u.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";o[e]=t.charAt(0)!==a?a+t:t}else o[e]=t;break;case"username":case"password":o[e]=encodeURIComponent(t);break;case"auth":var s=t.indexOf(":");~s?(o.username=t.slice(0,s),o.username=encodeURIComponent(decodeURIComponent(o.username)),o.password=t.slice(s+1),o.password=encodeURIComponent(decodeURIComponent(o.password))):o.username=encodeURIComponent(decodeURIComponent(t))}for(var c=0;c<f.length;c++){var l=f[c];l[4]&&(o[l[1]]=o[l[1]].toLowerCase())}return o.auth=o.password?o.username+":"+o.password:o.username,o.origin="file:"!==o.protocol&&m(o.protocol)&&o.host?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"==typeof e||(e=i.stringify);var t,n=this,r=n.host,o=n.protocol;o&&":"!==o.charAt(o.length-1)&&(o+=":");var a=o+(n.protocol&&n.slashes||m(n.protocol)?"//":"");return n.username?(a+=n.username,n.password&&(a+=":"+n.password),a+="@"):n.password?(a+=":"+n.password,a+="@"):"file:"!==n.protocol&&m(n.protocol)&&!r&&"/"!==n.pathname&&(a+="@"),(":"===r[r.length-1]||u.test(n.hostname)&&!n.port)&&(r+=":"),a+=r+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(a+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(a+=n.hash),a}},g.extractProtocol=v,g.location=p,g.trimLeft=d,g.qs=i,e.exports=g}).call(this,n(133))}),(function(e,t,n){var r=n(469),i=n(579);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=o?o(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?i(n,c,l):r(n,c,l)}return n}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.selectRoute=t.selectNumberOfFiles=t.selectFiles=t.changeRoute=t.diskWidgetSlice=t.fetchRecentFiles=t.initialState=void 0;const i=n(86),o=n(216);t.initialState={route:"/default",files:[]},t.fetchRecentFiles=i.createAsyncThunk("DISK_WIDGET/FETCH_RECENT_FILES",()=>r(void 0,void 0,void 0,(function*(){const e=yield o.getApiClient().requestModelsTuple([{name:"recent-files",params:{}}]);return o.getApiClient().isModelResolved(e[0])?e[0].data:[]}))),t.diskWidgetSlice=i.createSlice({name:"diskWidget",initialState:t.initialState,reducers:{changeRoute:(e,t)=>{e.route=t.payload}},extraReducers:e=>{e.addCase(t.fetchRecentFiles.fulfilled,(e,t)=>{e.files=t.payload})}}),t.changeRoute=t.diskWidgetSlice.actions.changeRoute,t.selectFiles=(e=>e.diskWidget.files),t.selectNumberOfFiles=(e=>e.diskWidget.files.length),t.selectRoute=(e=>e.diskWidget.route),t.default=t.diskWidgetSlice.reducer}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_ICONS=t.headerActionClass=void 0;const i=r(n(0)),o=r(n(173)),a=n(28),s=n(115);t.headerActionClass=a.cn("HeaderAction"),n(1705);const u=n(1706),c=n(1707),l=n(1708),d=n(1709);var f;!(function(e){e.PLUS="PlusIcon",e.CLOSE="CloseIcon",e.DOWN="DownIcon",e.UP="UpIcon"})(f=t.ACTION_ICONS||(t.ACTION_ICONS={}));const h={[f.PLUS]:u.PlusIcon,[f.CLOSE]:c.CloseIcon,[f.DOWN]:l.DownIcon,[f.UP]:d.UpIcon};t.default=(({icon:e,onClick:n,href:r,className:a})=>{const u=h[e];return i.default.createElement(o.default,{className:s.classnames(t.headerActionClass(),a),onClick:n,href:r,target:"_blank",theme:"ghost"},i.default.createElement(u,{className:t.headerActionClass(e)}))})}),(function(e,t,n){"use strict";var r=n(82),i=(function(){function e(){var e=this;this.onKeyDown=function(){window.clearTimeout(e.timeoutId),e.isPointer=!1},this.onPointerCall=function(){e.isPointer=!0,window.clearTimeout(e.timeoutId),e.timeoutId=window.setTimeout((function(){e.isPointer=!1}),600)},this.onFocus=function(){var t=window.document.body.classList;e.isPointer?(t.add("pointerfocus"),t.remove("utilityfocus")):(t.add("utilityfocus"),t.remove("pointerfocus"))},this.onBlur=function(){window.addEventListener("focus",e.setIsPointerOnTabFocus,!0)},this.setIsPointerOnTabFocus=function(){window.removeEventListener("focus",e.setIsPointerOnTabFocus,!0),window.document.body&&window.document.body.classList.contains("pointerfocus")&&(e.isPointer=!0,window.setTimeout((function(){e.isPointer=!1})))},this.timeoutId=0,this.isPointer=!1,window.addEventListener("blur",this.onBlur,!1);var t=window.document;t.addEventListener("keydown",this.onKeyDown,!0),t.addEventListener("mousedown",this.onPointerCall,!0),t.addEventListener("mouseup",this.onPointerCall,!0),t.addEventListener("focusin",this.onFocus,!0),t.addEventListener("pointerdown",this.onPointerCall,!0),t.addEventListener("pointerup",this.onPointerCall,!0),t.body.classList.contains("pointerfocus")||t.documentElement.classList.contains("pointerfocus")||t.body.classList.add("utilityfocus")}return e.create=function(){return new e},e.prototype.dispose=function(){window.removeEventListener("blur",this.onBlur,!1);var e=window.document;e.removeEventListener("keydown",this.onKeyDown,!0),e.removeEventListener("mousedown",this.onPointerCall,!0),e.removeEventListener("mouseup",this.onPointerCall,!0),e.removeEventListener("focusin",this.onFocus,!0),e.removeEventListener("pointerdown",this.onPointerCall,!0),e.removeEventListener("pointerup",this.onPointerCall,!0),e.body.classList.remove("pointerfocus","utilityfocus")},e})(),o=null,a=!1;function s(){a||o||(o=i.create())}Object(r.a)()&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",s):window.setTimeout(s))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"plusIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",d:"M13 11V3.5c0-.276-.214-.5-.505-.5h-.99a.507.507 0 0 0-.505.5V11H3.5c-.276 0-.5.214-.5.505v.99c0 .279.23.505.5.505H11v7.5c0 .276.214.5.505.5h.99c.279 0 .505-.23.505-.5V13h7.5c.276 0 .5-.214.5-.505v-.99a.507.507 0 0 0-.5-.505H13z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DatasyncService=t.mapSnapshotTypes=t.FieldEnum=t.FieldNullable=t.FieldJson=t.FieldTuple=t.FieldArray=t.FieldDate=t.FieldBoolean=t.FieldString=t.FieldNumber=t.NoopDatasyncClient=t.DatasyncClient=void 0;var o=n(1548);Object.defineProperty(t,"DatasyncClient",{enumerable:!0,get:function(){return o.DatasyncClient}}),Object.defineProperty(t,"NoopDatasyncClient",{enumerable:!0,get:function(){return o.NoopDatasyncClient}});var a=n(627);Object.defineProperty(t,"FieldNumber",{enumerable:!0,get:function(){return a.FieldNumber}}),Object.defineProperty(t,"FieldString",{enumerable:!0,get:function(){return a.FieldString}}),Object.defineProperty(t,"FieldBoolean",{enumerable:!0,get:function(){return a.FieldBoolean}}),Object.defineProperty(t,"FieldDate",{enumerable:!0,get:function(){return a.FieldDate}}),Object.defineProperty(t,"FieldArray",{enumerable:!0,get:function(){return a.FieldArray}}),Object.defineProperty(t,"FieldTuple",{enumerable:!0,get:function(){return a.FieldTuple}}),Object.defineProperty(t,"FieldJson",{enumerable:!0,get:function(){return a.FieldJson}}),Object.defineProperty(t,"FieldNullable",{enumerable:!0,get:function(){return a.FieldNullable}}),Object.defineProperty(t,"FieldEnum",{enumerable:!0,get:function(){return a.FieldEnum}});var s=n(626);Object.defineProperty(t,"mapSnapshotTypes",{enumerable:!0,get:function(){return s.mapSnapshotTypes}});var u=n(1549);Object.defineProperty(t,"DatasyncService",{enumerable:!0,get:function(){return u.DatasyncService}}),i(n(488),t)}),(function(e,t,n){var r=n(22),i=n(9),o=function(e){return i.isEmpty(e)?null:e};e.exports={getAlbums:o,preprocessClusterItem:function(e){var t=e.path,n=e.item_id,i=e.width,o=e.height,a=e.beauty,s=e.albums;return{id:r.normalize(t),itemId:n,width:i,height:o,beauty:a,albums:s}},getFilteredClusterData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},n={},r=e.filter((function(e){var r=e.id,i=e.albums,o=t(r);return o&&i&&i.length&&i.forEach((function(e){n[e]||(n[e]=0),n[e]++})),o}));return{size:r.length,items:r,albums:o(n)}}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"TRASH_ID",(function(){return c})),n.d(t,"onSuccessCleanTrash",(function(){return l})),n.d(t,"onFailedCleanTrash",(function(){return d})),n.d(t,"onRequestCleanTrash",(function(){return f})),n.d(t,"startOperationCleanTrash",(function(){return h})),n.d(t,"submitCleanTrash",(function(){return p})),n.d(t,"doCleanTrash",(function(){return m}));var r=n(36),i=n(42),o=n(49),a=n(16),s=n(53),u=n(77),c="/trash",l=function(){return function(e){e(Object(u.c)()),e(Object(u.a)()),e(Object(a.destroyChildren)(c)),e(Object(o.f)(o.a.REMOVE,o.b.CLEAN_TRASH)),e(Object(i.notify)({operation:"cleanTrash",status:"done"}))}},d=function(){return function(e){e(Object(o.f)(o.a.REMOVE,o.b.CLEAN_TRASH)),e(Object(i.notify)({operation:"cleanTrash",status:"failed"}))}},f=function(e){return function(t){return Object(o.d)(e).then((function(){t(l())})).catch((function(){t(d())}))}},h=function(){return function(e){e(Object(o.f)(o.a.ADD,o.b.CLEAN_TRASH))}},p=function(){return function(e){return e(h()),Object(r.a)("do-clean-trash").then((function(t){var n=t.oid;return e(f(n))})).catch((function(){e(d())}))}},m=function(){return function(e){e(Object(s.add)("confirmation",{dialogParams:{title:"Очистка Корзины",text:"".concat("Содержимое Корзины будет удалено без возможности восстановления.","\n").concat("Вы уверены?"),submitButtonText:"Очистить"},onSubmit:function(){e(p())},onReject:function(){}}))}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=["top-start","top","top-end","bottom-start","bottom","bottom-end","right-start","right","right-end","left-start","left","left-end"]}),(function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r="UPDATE_PHOTOSLICE",i="FETCH_PHOTOSLICE_SUCCESS",o="PHOTO_SELECTION"}),(function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return b}));var r=n(38),i=n(30),o=n(94),a=n(73),s=n(128),u=n(31),c=n(16),l=n(262),d=n(62),f=n(200),h=n(45),p=n(91),m=function(e){return function(t,n){var r=Object(s.c)(n(),e);!(function(e){e?ns.action.run("app.openSlider",{id:e}):ns.action.run("dialog.close")})(r&&r.id)}},v=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;return function(u,c){var d=t.includes(-1)?-r:0,f=t.includes(1)?r:0;return u(function(e,t,n){return function(r,s){var u=s(),c=Object(i.sliderResourceSelector)(u),d=Object(a.a)(u),f=n||c.clusterId,h=Object(o.d)(d,f,(function(e){return e.id})),p=d[h.index].items,m={clusterIndex:h.index,resourceIndex:p.findIndex((function(e){return e.id===c.id}))},v=Object(a.h)(u,Object.assign({diff:e},m)),g=Object(a.h)(u,Object.assign({diff:t},m));return 0!==v.diff||0!==g.diff?r(Object(l.d)([[v,g]])):Promise.resolve()}}(d,f,n)).then((function(){var o=c();if(Object(i.getCurrentSliderResource)(o)){var a=Object(s.b)(o),l=a.sliderResources,d=a.possiblyHasPrevious,f=a.possiblyHasNext,h=Object(i.getCurrentSliderResource)(o).id;return t.filter((function(e){return Object(p.c)({resources:l,activeResource:l.find((function(e){return e.id===h})),possiblyHasPrevious:d,possiblyHasNext:f},e)})).length?u(e(t,n,r+30)):void 0}}))}},g=function(e){return function(t,n){var i=n(),o=Object(r.getPage)(i);if("remember-block"!==o)return"photo"===o?t(v(e)):"album"===o?Object(u.i)(i).isCompleted?void 0:t(Object(d.b)()):t(Object(c.fetchCurrentListing)())}},y=function(){return function(e,t){var n=t(),r=Object(i.getCurrentSliderResource)(n);if(r&&r.meta){var s=Object(o.c)(Object(a.a)(n),1e3*r.meta.photoslice_time);s&&!s.items&&e(Object(l.c)(s.id)).then((function(){e(Object(c.setResourceData)(r.id,Object.assign({clusterId:s.id},r))),Object(i.getCurrentSliderResource)(t())&&e(v([-1,1],s.id))}))}}},b=function(){return function(e,t){var n=Object(i.getNextSliderResource)(t());if(!n||"audio"!==n.meta.mediatype||!Object(f.default)(n.meta.mimetype))return e(Object(h.updateSettings)({autoplayAudio:!1}));e(m(1))}}}),(function(e,t,n){"use strict";n.r(t);var r=n(32),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),d=n(5),f=n.n(d),h=n(7),p=n.n(h),m=n(1),v=n.n(m),g=(n(1458),n(0)),y=n.n(g),b=n(11),_=n.n(b),O=n(25),w=n(439);function E(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var S=function(){return _()()("upload-button")},C=(function(e){f()(n,e);var t=E(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._handleChange=r._handleChange.bind(l()(r)),r.reset=r.reset.bind(l()(r)),r}return u()(n,[{key:"reset",value:function(){this._fileInput&&(this._fileInput.value="")}},{key:"_handleChange",value:function(e){var t=e.target.files;"function"==typeof this.props.onChange&&t&&t.length>0&&this.props.onChange(t,this.reset)}},{key:"render",value:function(){var e=this,t={};switch(this.props.theme){case"clear":t.view="clear";break;case"clear-black":t.view="clear-black";break;case"yellow-white":t.view="action",t.theme="raised";break;default:t.view="raised"}return y.a.createElement(O.Button,i()({className:S().m({"without-text":!this.props.text}).mix(this.props.cls),size:this.props.size,title:this.props.title,width:this.props.width,disabled:this.props.disabled,onClick:this.props.onClick,as:"span",iconLeft:this.props.icon},t),this.props.withoutInput?null:y.a.createElement("div",{className:S().e("attach-wrapper")},y.a.createElement("input",{ref:function(t){e._fileInput=t},className:S().e("attach"),type:"file",accept:this.props.accept.join(","),multiple:!0,title:this.props.title,onChange:this._handleChange,disabled:this.props.disabled})),this.props.text)}}]),n})(g.PureComponent);C.defaultProps={theme:"yellow-white",icon:w.a,size:"m",text:null,accept:[],withoutInput:!1,onClick:function(){}},t.default=C}),(function(e,t,n){"use strict";n.r(t);var r=n(32),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),d=n(5),f=n.n(d),h=n(7),p=n.n(h),m=n(1),v=n.n(m),g=n(0),y=n.n(g),b=n(116),_=n(652),O=n(11),w=n.n(O);n(1758);function E(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var S=function(){return w()()("rename-dialog")},C=(function(e){f()(n,e);var t=E(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onFormSubmit=r._onFormSubmit.bind(l()(r)),r._setInputRef=r._setInputRef.bind(l()(r)),r._onModalAnimationEnd=r._onModalAnimationEnd.bind(l()(r)),r}return u()(n,[{key:"_onFormSubmit",value:function(e){e.preventDefault(),this.props.submitDisabled||this.props.onSubmit()}},{key:"_setInputRef",value:function(e){this._input=e}},{key:"_onModalAnimationEnd",value:function(){var e=this.props,t=e.dontSelectExtention,n=e.renameText,r=t?n.lastIndexOf("."):-1;this._input&&(this._input.focus(),this._input.setSelectionRange(0,r>=0?r:n.length)),this.props.onAnimationEnd&&this.props.onAnimationEnd()}},{key:"_getContent",value:function(){var e=this;return y.a.createElement("div",{className:S().e("content")},this.props.children,y.a.createElement("form",{className:S().e("rename-form"),onSubmit:this._onFormSubmit},y.a.createElement(_.a,{view:"default",size:"m",controlRef:this._setInputRef,ref:function(t){e._inputRef=t},onChange:this.props.onTextChange,text:this.props.renameText,disabled:this.props.progress})),y.a.createElement("div",{className:S().e("rename-error")},this.props.errorText))}},{key:"render",value:function(){return y.a.createElement(b.default,i()({},this.props,{onAnimationEnd:this._onModalAnimationEnd}),this._getContent())}}]),n})(g.Component);C.defaultProps=Object.assign({},b.default.defaultProps,{onTextChange:function(){}}),t.default=C}),(function(e,t){var n=function(e,t){return new Date(new Date(e).setDate(e.getDate()-t))};e.exports={getDaysAgoDate:n,wasItYesterday:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,r=n(t,1);return e.toDateString()===r.toDateString()}}}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var i={isActive:!1,type:null},o=n(86).createSlice({name:"readOnly",initialState:i,reducers:{activateReadOnly:function(e,t){var n=t.payload.type;e.isActive=!0,e.type=n},deactivateReadOnly:function(e){e.isActive=i.isActive,e.type=i.type}}});t.activateReadOnly=(r=o.actions).activateReadOnly,t.deactivateReadOnly=r.deactivateReadOnly,t.default=o.reducer}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isReadOnlyActive=function(e){return e.readOnly.isActive},t.readOnlyType=function(e){return e.readOnly.type}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.TECH="TECH",e.LIMIT="LIMIT"})(t.Type||(t.Type={}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetNames=void 0,(function(e){e.Disk="Disk",e.Mail="Mail",e.Notes="Notes",e.Telemost="Telemost",e.Services="Services",e.Stories="Stories",e.Space="Space",e.Promo="Promo",e.Memories="Memories"})(t.WidgetNames||(t.WidgetNames={}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n(30),i=n(16),o=n(48),a=n(26),s=function(e,t){return function(n,s){var u,c,l;t===r.OBJECT_TYPES.RESOURCE?(c=e[0],u=n(Object(i.publishResource)(c))):t===r.OBJECT_TYPES.ALBUM&&(e.length>1?u=n(Object(o.publishPhotos)(e)).then((function(e){return l=e})):(l=e[0],u=n(Object(o.publishAlbum)(l)))),u.then((function(){var e,t=s();c?e=t.resources[c].meta.short_url:l&&(e=t.personalAlbums.albumsByIds[l].public.short_url),n(Object(a.copyPublicLink)(e))}))}},u=function(e,t){return function(n){t===r.OBJECT_TYPES.RESOURCE?n(Object(i.unpublishResource)(e[0])):t===r.OBJECT_TYPES.ALBUM&&(e.length>1?n(Object(o.unpublishPhotos)()):n(Object(o.unpublishAlbum)(e[0])))}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(85),i=n(38);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)})(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e){var t=e.config.links.help.versionControl,n=e.environment.agent,a=n.isMobile,s=n.isInMobileApp,u=n.isSearchApp,c=e.user,l=c.paid,d=c.b2b_paid,f=c.isYandexStaff,h=e.dialogs,p=e.resources,m=e.versions,v=m.loading,g=m.error,y=m.versions,b=m.completed,_=m.subversions,O=m.iterationKey,w=e.sharedFoldersUsers,E=h.versions;if(E&&E.data&&E.data.resourcePath&&p[E.data.resourcePath]){var S,C,x,k=E.data.resourcePath,T=p[k],j=T.meta.resource_id,R=Boolean(T.meta.group&&T.meta.group.is_shared),P=Boolean(T.meta.group&&T.meta.group.in_readonly),D=Boolean(l||d||f);if(R){var I,A=o(T.parents.reverse());try{for(A.s();!(I=A.n()).done;){var M=I.value.id;if(!p[M]){x=M;break}if(p[M].meta&&p[M].meta.group&&p[M].meta.group.is_root){C=p[M].meta.group.gid;break}}}catch(e){A.e(e)}finally{A.f()}C&&w[C]&&w[C].users&&(S=w[C].users.reduce((function(e,t){return e[t.uid]=t,e}),{}))}var N=Object(r.isIosSafariSelector)(e);return{isTouch:a,shouldShowBuyButton:(!s||u)&&Object(i.shouldShowBuyButton)(e),isIosSafari:N,isReadonly:P,hasPreview:"docviewer"===T.app,visible:"opened"===E.state,resourcePath:k,resource:T,resourceId:j,gid:C,parentToLoad:x,versions:y,iterationKey:O,subversions:_,completed:b,isShared:R,users:S,loading:v,error:g,versionControlHelpUrl:t,paidVersioning:D,buyButtonUrl:Object(i.getBuyButtonUrl)(e)}}return{visible:!1}}}),(function(e,t){e.exports={TLD:{ru:28},SERVICE:{disk:1008},APP:{client:2989},BLOCK:{listing:3e3,slider:1109,photo:275,albums:3001,album:58,journal:3002,remember:3982},DEVICE:{touch:584}}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(16),o=n(42),a=n(18),s=n(33),u=n(142),c=n(1375);t.positiveUnsetPublishResource=function(e,t){return function(n,r){var u=a.getResourceData(r(),e);if(u){var c=u.meta.short_url,l=u.meta.office_access_state,d=u.meta.office_online_sharing_url;n(i.unsetPublishResource(e)),t.then((function(e){return s.isDocsView(r())&&n(o.notify({operation:"publish",reverse:!0,status:"done",src:u})),e})).catch((function(){n(i.setPublishResource(e,{short_url:c,office_access_state:l,office_online_sharing_url:d})),n(o.notify({operation:"publish",reverse:!0,status:"failed",src:{name:u.name,type:u.type}}))}))}}},t.positiveUpdateOfficeAccessState=function(e,t,n,s,u,l,d){return function(f,h){var p,m,v,g,y=a.getResourceData(h(),e);if(y){var b=y.meta.office_access_state,_={id:e,meta:Object.assign({},y.meta,{office_access_state:t})},O="all"===t&&((null===(p=y.publicSettings)||void 0===p?void 0:p.read_only)||(null===(m=y.publicSettings)||void 0===m?void 0:m.have_password)),w=null===(v=y.publicSettings)||void 0===v?void 0:v.read_only,E=null===(g=y.publicSettings)||void 0===g?void 0:g.have_password;O&&(_.publicSettings=r(r({},y.publicSettings),{read_only:!1,have_password:!1})),f(i.updateResource(_)),n.catch((function(t){var n=!s;u&&t&&c.isNewEditorConfirmError(t.error)?(n=!1,u()):l&&t&&c.isCloseAllEditorsConfirmError(t.error)?(n=!1,l()):d&&s&&(n=!1,d());var p=a.getResourceData(h(),e);if(p){var m={id:e,meta:Object.assign({},p.meta,{office_access_state:b})};O&&(m.publicSettings=r(r({},p.publicSettings),{read_only:w,have_password:E})),f(i.updateResource(m)),n&&f(o.notify({operation:"officeAccessTypeChange",status:"failed",src:{name:p.name,type:p.type}}))}}))}}},t.fetchPublicLinkSettings=function(e){return function(t,n){var a,s=n().resources[e];return(null===(a=null===s||void 0===s?void 0:s.publicSettings)||void 0===a?void 0:a.justPublished)?(t(i.updateResource({id:e,publicSettings:r(r({},s.publicSettings),{justPublished:!1})})),Promise.resolve()):u.api("mpfs/get-public-settings",{path:e},{retryCodes:[500,502,503,504],maxRetries:1}).then((function(n){t(i.updateResource({id:e,publicSettings:n}))})).catch((function(e){throw t(o.notify({operation:"getPublicLinkSettings",status:"failed",src:s})),e}))}};t.positiveChangePublicSettings=function(e,t,n,r){return function(s,u){var c,l=a.getResourceData(u(),e);if(l){var d=(function(e,t){return"external_organization_id"===e?["external_organization_ids",t?[t]:[]]:[e,t]})(t,n),f=d[0],h=d[1],p=l.publicSettings[f];s(i.updateResource({id:e,publicSettings:Object.assign({},l.publicSettings,(c={},c[f]=h,c))})),r.catch((function(){var t;s(i.updateResource({id:e,publicSettings:Object.assign({},l.publicSettings,(t={},t[f]=p,t))})),s(o.notify({operation:"changePublicLinkSettings",status:"failed",src:l}))}))}}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(66),i=n.n(r),o=n(10),a=n.n(o),s=n(3),u=n.n(s),c=n(4),l=n.n(c),d=n(8),f=n.n(d),h=n(125),p=n.n(h),m=n(5),v=n.n(m),g=n(7),y=n.n(g),b=n(1),_=n.n(b),O=(n(0),n(27)),w=n.n(O),E=n(9),S=n.n(E),C=n(337),x=n(102),k=n(94);function T(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=_()(e);if(t){var i=_()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y()(this,n)}}var j={NONE:"NONE",SOME:"SOME",ALL:"ALL"};function R(e,t){var n=Object(x.sortedFind)(t,e,(function(e,t){var n=e.offset,r=e.size;return t<n?1:t>=n+r?-1:0}));return{clusterIndex:n,resourceIndex:e-t[n].offset}}function P(e,t,n){return t.clusterIndex===e.clusterIndex?t.resourceIndex-e.resourceIndex==1:t.clusterIndex-e.clusterIndex==1&&e.resourceIndex===n[e.clusterIndex].size-1&&0===t.resourceIndex}t.b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(function(n){v()(o,n);var r=T(o);function o(e){var n;return u()(this,o),(n=r.call(this,e))._clustersOffsets=[],n._clustersOffsetsById={},n._clustersById={},n._anchorIndexPath={clusterIndex:0,resourceIndex:0},n._clustersWithSelectedResources={},n._onSelectClusters=n._onSelectClusters.bind(f()(n)),n._getClusterSelectionState=n._getClusterSelectionState.bind(f()(n)),t.forEach((function(e){n[e]=function(){var t;return n._wrappedComponentRef&&(t=n._wrappedComponentRef)[e].apply(t,arguments)}})),n}return l()(o,[{key:"componentDidMount",value:function(){this._updateClustersOffsets(this.props.items),p()(_()(o.prototype),"componentDidMount",this).call(this)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._photosliceStructureChanged(e)&&this._updateClustersOffsets(e.items),p()(_()(o.prototype),"UNSAFE_componentWillReceiveProps",this).call(this,e)}},{key:"componentDidUpdate",value:function(e){p()(_()(o.prototype),"componentDidUpdate",this).call(this,e),this._shouldTriggerSelectionChangeAction&&this._fetchResources()}},{key:"_photosliceStructureChanged",value:function(e){return this.props.items!==e.items}},{key:"_getSelectedResourcesFromProps",value:function(e){var t=this;return this._clustersWithSelectedResources={},e.selectedResources.reduce((function(n,r){var i=t.props.getResourceById(r);if(!i)return n;var o=Object(k.g)(e.items,i);return o&&(t._clustersWithSelectedResources[e.items[o.clusterIndex].id]=!0,n.push(o)),n}),[])}},{key:"_updateChangeFlags",value:function(e){p()(_()(o.prototype),"_updateChangeFlags",this).call(this,e),this._shouldUpdateSelectionRanges=Boolean(this._selectionRanges.length)&&this._photosliceStructureChanged(e),this._shouldTriggerSelectionChangeAction=Boolean(this._selectionRanges.length)&&(this._photosliceStructureChanged(e)||e.resourcesVersion!==this.props.resourcesVersion)}},{key:"_isContextMenuEnabled",value:function(){return this.props.contextMenuEnabled&&this.size<=this.props.maxActionableSize}},{key:"_updateClustersOffsets",value:function(e){var t=e.reduce((function(e,t,n){var r={offset:e.offset,size:t.size,index:n};return e.clustersOffsetsById[t.id]=r,e.clustersOffsets.push(r),e.clustersById[t.id]=t,e.offset+=t.size,e}),{clustersOffsetsById:{},clustersOffsets:[],clustersById:{},offset:0}),n=t.clustersOffsetsById,r=t.clustersOffsets,i=t.clustersById;this._clustersOffsetsById=n,this._clustersOffsets=r,this._clustersById=i}},{key:"_reindexSelections",value:function(e){var t=this,n=e.items,r=this.props.items;this._selectionRanges=this._selectionRanges.reduce((function(e,i){if(1===i.size){var o=t._clustersById[i.startClusterId];if(!o)return e;var s=t._clustersOffsetsById[o.id],u=s.offset,c=s.index;if(i.startId){var l=i.startIndexPath.resourceIndex;if(o.items[l]&&o.items[l].id===i.startId||(l=o.items.findIndex((function(e){return e.id===i.startId}))),-1===l)return e;i.start=u+l,i.startIndexPath.resourceIndex=l}else{if(o.size<=i.startIndexPath.resourceIndex)return e;i.start=u+i.startIndexPath.resourceIndex}i.startIndexPath.clusterIndex=c,i.startId=o.items&&o.items[i.startIndexPath.resourceIndex].id,i.end=i.start,i.endId=i.startId,i.endIndexPath=i.startIndexPath,e.push(i)}else{var d=t._clustersById[i.startClusterId];if(d){var f=t._clustersOffsetsById[d.id],h=f.offset,p=f.index;if(i.startId){var m=i.startIndexPath.resourceIndex;if(d.items[m]&&d.items[m].id===i.startId||(m=d.items.findIndex((function(e){return e.id===i.startId}))),m>-1)i.start=h+m,i.startIndexPath.clusterIndex=p,i.startIndexPath.resourceIndex=m,i.startId=d.items[m].id;else{var v=r[i.startIndexPath.clusterIndex],g=d.items.reduce((function(e,t,n){var r=t.id;return Object.assign(e,a()({},r,n))}),{}),y=v.items.slice(i.startIndexPath.resourceIndex+1).find((function(e){var t=e.id;return g.hasOwnProperty(t)}));if(y)m=g[y.id],i.start=h+m,i.startIndexPath.clusterIndex=p,i.startIndexPath.resourceIndex=m,i.startId=y.id;else{var b=p+1,_=n[b];if(!_)return e;var O=t._clustersOffsetsById[_.id].offset;i.start=O,i.startIndexPath={clusterIndex:b,resourceIndex:0},i.startClusterId=_.id,i.startId=S.a.get(_,["items",0,"id"])}}}else if(d.size<=i.startIndexPath.resourceIndex){var w=p+1,E=n[w];if(!E)return e;var C=t._clustersOffsetsById[E.id].offset;i.start=C,i.startIndexPath={clusterIndex:w,resourceIndex:0},i.startClusterId=E.id,i.startId=S.a.get(E,["items",0,"id"])}else i.start=h+i.startIndexPath.resourceIndex,i.startIndexPath.clusterIndex=p,i.startId=d.items&&d.items[i.startIndexPath.resourceIndex].id}else{for(var x=i.startIndexPath.clusterIndex+1,k=null;x<=r.length&&!k;){var T=r[x];t._clustersOffsetsById[T.id]&&(k=n[t._clustersOffsetsById[T.id].index]),x++}if(!k)return e;var j=t._clustersOffsetsById[k.id],R=j.offset,P=j.index;i.start=R,i.startIndexPath={clusterIndex:P,resourceIndex:0},i.startClusterId=k.id,i.startId=S.a.get(k,["items",0,"id"])}var D=t._clustersById[i.endClusterId];if(D){var I=t._clustersOffsetsById[D.id],A=I.offset,M=I.index;if(i.endId){var N=i.endIndexPath.resourceIndex;if(D.items[N]&&D.items[N].id===i.endId||(N=D.items.findIndex((function(e){return e.id===i.endId}))),N>-1)i.end=A+N,i.endIndexPath.clusterIndex=M,i.endIndexPath.resourceIndex=N,i.endId=D.items[N].id;else{var L=r[i.endIndexPath.clusterIndex],F=D.items.reduce((function(e,t,n){var r=t.id;return Object.assign(e,a()({},r,n))}),{}),B=S.a.findLast(L.items.slice(0,i.endIndexPath.resourceIndex),(function(e){var t=e.id;return F.hasOwnProperty(t)}));if(B)N=F[B.id],i.end=A+N,i.endIndexPath.clusterIndex=M,i.endIndexPath.resourceIndex=N,i.endId=B.id;else{var U=M-1,z=n[U];if(!z)return e;var V=t._clustersOffsetsById[z.id].offset,H=z.size-1;i.end=V+H,i.endIndexPath={clusterIndex:U,resourceIndex:H},i.endClusterId=z.id,i.endId=S.a.get(z,["items",H,"id"])}}}else i.endIndexPath.resourceIndex=Math.min(i.endIndexPath.resourceIndex,D.size-1),i.end=A+i.endIndexPath.resourceIndex,i.endIndexPath.clusterIndex=M,i.endId=D.items&&D.items[i.endIndexPath.resourceIndex].id}else{for(var W=i.endIndexPath.clusterIndex-1,G=null;W>-1&&!G;){var q=r[W];t._clustersOffsetsById[q.id]&&(G=n[t._clustersOffsetsById[q.id].index]),W--}if(!G)return e;var $=t._clustersOffsetsById[G.id],Y=$.offset,K=$.index,X=G.size-1;i.end=Y+X,i.endIndexPath={clusterIndex:K,resourceIndex:X},i.endClusterId=G.id,i.endId=S.a.get(G,["items",X,"id"])}i.end-i.start>=0&&(i.size=i.end-i.start+1,e.push(i))}return e}),[])}},{key:"_getAnchorResourceId",value:function(){return S.a.get(this.props.items,[this._anchorIndexPath.clusterIndex,"items",this._anchorIndexPath.resourceIndex,"id"])}},{key:"_getAnchorResourceIndex",value:function(e){var t=this.props.items[this._anchorIndexPath.clusterIndex].id,n=S.a.get(this._clustersById,[t,"items"],[]).findIndex((function(t){return t.id===e}));return-1===n?n:this._clustersOffsetsById[t].offset+n}},{key:"_updateAnchor",value:function(e,t){p()(_()(o.prototype),"_updateAnchor",this).call(this,e,t),this._anchorIndexPath=R(this._anchor,this._clustersOffsets)}},{key:"_getResourceIndex",value:function(e){var t=e.clusterIndex,n=e.resourceIndex;return this._clustersOffsets[t].offset+n}},{key:"_isResourceSelected",value:function(e){return e.selected}},{key:"_createSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=Math.min(e,t),r=Math.max(e,t),i=R(n,this._clustersOffsets),o=n===r?i:R(r,this._clustersOffsets);return this._internalCreateSelection(n,i,r,o)}},{key:"_internalCreateSelection",value:function(e,t,n,r){var i=this.props.items,a=p()(_()(o.prototype),"_createSelection",this).call(this,e,n),s=S.a.get(i,[t.clusterIndex,"items",t.resourceIndex,"id"]),u=t,c=S.a.get(i,[t.clusterIndex,"id"]),l=a.size>1?S.a.get(i,[r.clusterIndex,"items",r.resourceIndex,"id"]):s,d=r,f=a.size>1?S.a.get(i,[r.clusterIndex,"id"]):c;return Object.assign(a,{startId:s,startIndexPath:u,startClusterId:c,endId:l,endIndexPath:d,endClusterId:f})}},{key:"_getSelectedResources",value:function(){var e=this,t=this.props.items;this._selectedResources=[],this._clustersWithSelectedResources={};var n=0,r=0,i=this._selectionRanges.map((function(e){return[e.startIndexPath,e.endIndexPath]}));return Object(k.j)(i,t,(function(t,i){var o=i.id,a=e.props.getResourceById(o);a?e.props.isSelectableResource(a)&&(e._clustersWithSelectedResources[t.id]=!0,e._selectedResources.push(o),n++):(n++,r++)}),(function(e){n+=e.size,r+=e.size})),{resources:this._selectedResources,total:n,missing:r,unfilteredTotal:this.size}}},{key:"_onSelectionChanged",value:function(e){p()(_()(o.prototype),"_onSelectionChanged",this).call(this,e),this._fetchResources()}},{key:"_onSelectClusters",value:function(e,t){var n=t===j.ALL?j.NONE:j.ALL,r=e[0],i=e[e.length-1];this._anchor=this._clustersOffsetsById[r].offset;var o=this._clustersOffsetsById[i].offset+this._clustersOffsetsById[i].size-1;n===j.NONE?this._removeMultiSelection(o):this._addMultiSelection(o,!1),this._triggerSelectionChangeAction()}},{key:"_buildNewSelectionRangesFromResources",value:function(e){for(var t=e[0],n=null,r=0;r<e.length;r++){var i=e.length-r==1;if(0===r)t=e[r];else if(!P(e[r-1],e[r],this.props.items)){n=e[r-1];var o=this._clustersOffsets[t.clusterIndex].offset+t.resourceIndex,a=this._clustersOffsets[n.clusterIndex].offset+n.resourceIndex;this._selectionRanges.push(this._internalCreateSelection(o,t,a,n)),t=e[r],n=null}if(i){n=e[r];var s=this._clustersOffsets[t.clusterIndex].offset+t.resourceIndex,u=this._clustersOffsets[n.clusterIndex].offset+n.resourceIndex;this._selectionRanges.push(this._internalCreateSelection(s,t,u,n))}}}},{key:"_changeSelections",value:function(e,t){for(var n,r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];(n=p()(_()(o.prototype),"_changeSelections",this)).call.apply(n,[this,e,t].concat(i)),this._fetchResources()}},{key:"_fetchResources",value:function(){this.size<=this.props.maxSizeForFetch&&this.props.fetchClustersRanges(this._selectionRanges.map((function(e){return[e.startIndexPath,e.endIndexPath]})))}},{key:"_getClusterSelectionState",value:function(e){if(!this._clustersWithSelectedResources[e])return j.NONE;var t=this._clustersOffsetsById[e],n=t.offset,r=n+t.size-1,o=(function(e,t,n){return Object(x.sortedFind)(e,[t,n],(function(e,t){var n=i()(t,2),r=n[0],o=n[1];return o<e.start?1:r>e.end?-1:0}))})(this._selectionRanges,n,r);if(o<0)return j.NONE;var a=this._selectionRanges[o];return a.start<=n&&a.end>=r?j.ALL:j.SOME}},{key:"render",value:function(){return this._render(e,{getClusterSelectionState:this._getClusterSelectionState,onSelectClusters:this._onSelectClusters})}}]),o})(C.a);return n.propTypes=Object.assign({},C.a.propTypes,{fetchClustersRanges:w.a.func.isRequired,maxSizeForFetch:w.a.number,maxActionableSize:w.a.number,items:w.a.arrayOf(w.a.object).isRequired,structureVersion:w.a.number.isRequired,resourcesVersion:w.a.number.isRequired,isSelectableResource:w.a.func.isRequired,getResourceById:w.a.func.isRequired,contextMenuEnabled:w.a.bool}),n.defaultProps=Object.assign({},C.a.defaultProps,{maxSizeForFetch:500,contextMenuEnabled:!0}),n}}),,,(function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(772),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(133))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"theme",(function(){return r}));n(811),n(812);var r={color:"default",root:"default"}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"cnTheme",(function(){return o})),n.d(t,"configureRootTheme",(function(){return s}));var r=n(28),i=n(82),o=Object(r.cn)("Theme"),a="",s=function(e){var t=e.theme,n=e.root,r=void 0===n?Object(i.a)()?document.body:null:n;if(Object(i.a)()){if(!r)throw new Error("Значение в root не является DOM-элементом, невозможно установить глобальную тему.");var s=r.className.replace(a,"");a=o(t),r.className=s+" "+a}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(867),Object(r.withBemMod)(Object(i.b)(),{baseline:!0}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(868),Object(r.withBemMod)(Object(i.b)(),{pin:"brick-brick"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(869),Object(r.withBemMod)(Object(i.b)(),{pin:"brick-circle"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(870),Object(r.withBemMod)(Object(i.b)(),{pin:"brick-clear"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(871),Object(r.withBemMod)(Object(i.b)(),{pin:"brick-round"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(872),Object(r.withBemMod)(Object(i.b)(),{pin:"circle-brick"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(873),Object(r.withBemMod)(Object(i.b)(),{pin:"circle-circle"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(874),Object(r.withBemMod)(Object(i.b)(),{pin:"circle-clear"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(875),Object(r.withBemMod)(Object(i.b)(),{pin:"clear-brick"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(876),Object(r.withBemMod)(Object(i.b)(),{pin:"clear-circle"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(877),Object(r.withBemMod)(Object(i.b)(),{pin:"clear-clear"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(878),Object(r.withBemMod)(Object(i.b)(),{pin:"clear-round"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(879),Object(r.withBemMod)(Object(i.b)(),{pin:"round-brick"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(880),Object(r.withBemMod)(Object(i.b)(),{pin:"round-clear"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(881),Object(r.withBemMod)(Object(i.b)(),{size:"l"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(882),Object(r.withBemMod)(Object(i.b)(),{size:"m"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(883),Object(r.withBemMod)(Object(i.b)(),{size:"s"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(884),Object(r.withBemMod)(Object(i.b)(),{theme:"action"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(886),Object(r.withBemMod)(Object(i.b)(),{theme:"clear"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(888),Object(r.withBemMod)(Object(i.b)(),{theme:"link"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(889),Object(r.withBemMod)(Object(i.b)(),{theme:"normal"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(891),Object(r.withBemMod)(Object(i.b)(),{theme:"pseudo"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(893),Object(r.withBemMod)(Object(i.b)(),{theme:"raised"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(895),Object(r.withBemMod)(Object(i.b)(),{theme:"websearch"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),i=n(0),o=n.n(i),a=n(6),s=n(55),u=n(35),c=Object(a.withBemMod)(Object(u.b)(),{type:"link"},(function(e){return function(t){t.type;var n=t.target,i=t.rel,a=t.url,u=t.disabled,c=t.tabIndex,l=Object(r.__rest)(t,["type","target","rel","url","disabled","tabIndex"]),d=i;return"_blank"===n&&void 0!==i&&-1===i.indexOf("noopener")&&(d=i+" noopener"),o.a.createElement(e,Object(r.__assign)({},l,{rel:d,target:n,disabled:u,pressKeys:[s.a.ENTER],href:u?void 0:a,tabIndex:u?-1:c,type:null,autoComplete:null,as:"a"}))}}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=Object(r.withBemMod)(Object(i.b)(),{type:"submit"})}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(897),Object(r.withBemMod)(Object(i.b)(),{view:"action"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(899),Object(r.withBemMod)(Object(i.b)(),{view:"clear"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(901),Object(r.withBemMod)(Object(i.b)(),{view:"default"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(903),Object(r.withBemMod)(Object(i.b)(),{view:"link"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(905),Object(r.withBemMod)(Object(i.b)(),{view:"pseudo"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(907),Object(r.withBemMod)(Object(i.b)(),{view:"raised"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(909),Object(r.withBemMod)(Object(i.b)(),{width:"auto"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(35),o=(n(910),Object(r.withBemMod)(Object(i.b)(),{width:"max"}))}),(function(e,t,n){"use strict";var r=n(32),i=n.n(r),o=n(21),a=n.n(o),s=n(3),u=n.n(s),c=n(4),l=n.n(c),d=n(8),f=n.n(d),h=n(5),p=n.n(h),m=n(7),v=n.n(m),g=n(1),y=n.n(g),b=n(0),_=n.n(b),O=n(37),w=n.n(O),E=n(41),S=n(102);function C(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var x=(function(e){p()(n,e);var t=C(n);function n(e){var r;return u()(this,n),(r=t.call(this,e))._shiftKeyPressed=!1,r._selectionRanges=[],r._anchor=0,r._anchorSelectionIndex=null,r._wrappedComponentRef=null,r._selectedResources=e.selectedResources,r._onWindowKeyUp=r._onWindowKeyUp.bind(f()(r)),r._onWindowKeyDown=r._onWindowKeyDown.bind(f()(r)),r._onToggleSelected=r._onToggleSelected.bind(f()(r)),r._onSelectResource=r._onSelectResource.bind(f()(r)),r._onDeselectAllClick=r._onDeselectAllClick.bind(f()(r)),r._onSelectionChanged=r._onSelectionChanged.bind(f()(r)),r._onResourceContextMenu=r._onResourceContextMenu.bind(f()(r)),r._setWrappedComponentRef=r._setWrappedComponentRef.bind(f()(r)),r._shouldUpdateSelectionRanges=!1,r._shouldCreateSelectionRanges=!1,r._shouldTriggerSelectionChangeAction=!1,r}return l()(n,[{key:"componentDidMount",value:function(){this._selectedResources.length&&this._createSelectionRanges(this._getSelectedResourcesFromProps(this.props)),window.addEventListener("keyup",this._onWindowKeyUp),window.addEventListener("keydown",this._onWindowKeyDown),this.props.deselectAllOnOutsideClick&&window.addEventListener("click",this._onDeselectAllClick,!0)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._updateChangeFlags(e),this._shouldUpdateSelectionRanges&&this._updateSelectionRanges(e),this._shouldCreateSelectionRanges&&this._createSelectionRanges(this._getSelectedResourcesFromProps(e))}},{key:"componentDidUpdate",value:function(e){this._shouldTriggerSelectionChangeAction&&this._triggerSelectionChangeAction()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this._onWindowKeyUp),window.removeEventListener("keydown",this._onWindowKeyDown),this.props.deselectAllOnOutsideClick&&window.removeEventListener("click",this._onDeselectAllClick,!0)}},{key:"size",get:function(){return this._selectionRanges.reduce((function(e,t){return e+t.size}),0)}},{key:"_setWrappedComponentRef",value:function(e){this._wrappedComponentRef=e,this.proxyMethods()}},{key:"proxyMethods",value:function(){}},{key:"_onWindowKeyDown",value:function(e){e.which===w.a.KEYS.SHIFT&&(this._shiftKeyPressed=!0,this.props.selectedResources.length>0&&document.body.classList.add("no-user-select"))}},{key:"_onWindowKeyUp",value:function(e){e.which===w.a.KEYS.SHIFT&&(this._shiftKeyPressed=!1,document.body.classList.remove("no-user-select"))}},{key:"_updateChangeFlags",value:function(e){this._shouldUpdateSelectionRanges=!1,this._shouldTriggerSelectionChangeAction=!1,this._shouldCreateSelectionRanges=this._selectedResources!==e.selectedResources}},{key:"_updateSelectionRanges",value:function(e){this._reindexSelections(e),this._mergeAdjacentSelections(),this._findAnchor()}},{key:"_onSelectResource",value:function(e,t,n){var r="MacOS"===this.props.OSFamily?n.metaKey:n.ctrlKey;this.props.isMultiSelectable?n.shiftKey?this._selectRange(e):r||t?this._toggleSelected(e):this._setSelected(e):this._setSelected(e)}},{key:"_onResourceContextMenu",value:function(e,t){var n,r;if(this._isContextMenuEnabled()){if(this._isResourceSelected(e))n=a()(this.props.selectedResources);else{var i=this._getResourceIndex(e);this._resetSelectionRanges(),this._addSingleSelection(i),n=r=this._getSelectedResources()}this.props.onContextMenu(n,t,r)}}},{key:"_onToggleSelected",value:function(e){this.props.isMultiSelectable&&this._shiftKeyPressed?this._selectRange(e):this._toggleSelected(e)}},{key:"_onDeselectAllClick",value:function(e){e.target&&!e.target.closest("."+E.LISTING_PREVENT_DESELECT_CLASS)&&this._selectionRanges.length&&(this._resetSelectionRanges(),this._triggerSelectionChangeAction())}},{key:"_resetSelectionRanges",value:function(){this._selectionRanges=[],this._updateAnchor()}},{key:"_setSelected",value:function(e){var t=this._getResourceIndex(e);this._resetSelectionRanges(),this._addSingleSelection(t),this._triggerSelectionChangeAction()}},{key:"_toggleSelected",value:function(e){var t=this._getResourceIndex(e);this._isResourceSelected(e)?this._removeSingleSelection(t):this._addSingleSelection(t),this._triggerSelectionChangeAction()}},{key:"_createSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=Math.min(e,t),r=Math.max(e,t);return{start:n,end:r,size:r-n+1}}},{key:"_mergeSelections",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t[0],i=r.start,o=r.end,a=0;a<t.length;a++)i=Math.min(i,t[a].start),o=Math.max(o,t[a].end);return this._createSelection(i,o)}},{key:"_mergeAdjacentSelections",value:function(){for(var e=0;e<this._selectionRanges.length-1;){var t=this._selectionRanges[e],n=this._selectionRanges[e+1];n.start-t.end<=1?this._selectionRanges.splice(e,2,this._mergeSelections(t,n)):e++}}},{key:"_splitSelectionAt",value:function(e,t){return t===e.start?[this._createSelection(e.start+1,e.end)]:t===e.end?[this._createSelection(e.start,e.end-1)]:[this._createSelection(e.start,t-1),this._createSelection(t+1,e.end)]}},{key:"_subtractIndicesFromSelection",value:function(e,t,n){var r=Math.min(e,t),i=Math.max(e,t);return r===n.start&&i===n.end?[]:r===n.start?[this._createSelection(i+1,n.end)]:i===n.end?[this._createSelection(n.start,r-1)]:[this._createSelection(n.start,r-1),this._createSelection(i+1,n.end)]}},{key:"_addSingleSelection",value:function(e){var t=this._createSelection(e),n=Object(S.sortedIndex)(this._selectionRanges,t,(function(e,t){return e.start-t.start})),r=n>0&&e-this._selectionRanges[n-1].end==1,i=this._selectionRanges[n]&&this._selectionRanges[n].start-e==1;i&&r?this._changeSelections(n-1,2,this._mergeSelections(this._selectionRanges[n-1],this._selectionRanges[n])):r?this._changeSelections(n-1,1,this._mergeSelections(this._selectionRanges[n-1],t)):i?this._changeSelections(n,1,this._mergeSelections(t,this._selectionRanges[n])):this._changeSelections(n,0,t),r?this._updateAnchor(e,n-1):this._updateAnchor(e,n)}},{key:"_removeSingleSelection",value:function(e){var t=k(this._selectionRanges,e);if(t>-1){var n=this._selectionRanges[t];1===n.size?this._changeSelections(t,1):this._changeSelections.apply(this,[t,1].concat(a()(this._splitSelectionAt(n,e)))),this._findNextAnchor(e)}}},{key:"_removeMultiSelection",value:function(e){var t=k(this._selectionRanges,e);if(!(t<0)){var n=this._subtractIndicesFromSelection(this._anchor,e,this._selectionRanges[t]);this._changeSelections.apply(this,[t,1].concat(a()(n))),this._findNextAnchor(e)}}},{key:"_findAnchor",value:function(){if(!this._selectionRanges.length)return this._updateAnchor();var e=this._getAnchorResourceId();if(!e)return this._moveAnchorToNextSelection();var t=this._getAnchorResourceIndex(e);if(-1===t)return this._moveAnchorToNextSelection();var n=k(this._selectionRanges,t);if(-1===n)return this._moveAnchorToNextSelection();this._updateAnchor(t,n)}},{key:"_updateAnchor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._anchor=e,this._anchorSelectionIndex=t}},{key:"_findNextAnchor",value:function(e){var t=Object(S.sortedIndex)(this._selectionRanges,e,(function(e,t){return e.start-t}));if(t===this._selectionRanges.length)if(this._selectionRanges.length){var n=this._selectionRanges.length-1;this._updateAnchor(this._selectionRanges[n].end,n)}else this._updateAnchor();else this._updateAnchor(this._selectionRanges[t].start,t)}},{key:"_moveAnchorToNextSelection",value:function(){var e=this._anchorSelectionIndex||0;if(this._selectionRanges[e])this._updateAnchor(this._selectionRanges[e].start,e);else{var t=this._selectionRanges.length-1;this._updateAnchor(this._selectionRanges[t].end,t)}}},{key:"_getResourceIndex",value:function(e){throw"Should be implemented"}},{key:"_isResourceSelected",value:function(e){throw"Should be implemented"}},{key:"_getSelectedResources",value:function(){throw"Should be implemented"}},{key:"_reindexSelections",value:function(e){throw"Should be implemented"}},{key:"_getSelectedResourcesFromProps",value:function(e){return e.selectedResources}},{key:"_buildNewSelectionRangesFromResources",value:function(e){throw"Should be implemented"}},{key:"_createSelectionRanges",value:function(e){this._resetSelectionRanges(),e.length&&(this._buildNewSelectionRangesFromResources(e),this._selectionRanges.length&&this._updateAnchor(this._selectionRanges[0].start,0))}},{key:"_getAnchorResourceId",value:function(){throw"Should be implemented"}},{key:"_getAnchorResourceIndex",value:function(e){throw"Should be implemented"}},{key:"_isContextMenuEnabled",value:function(){return!this.props.maxActionableSize||this.props.selectedResources.length<=this.props.maxActionableSize}},{key:"_selectRange",value:function(e){this._addMultiSelection(this._getResourceIndex(e)),this._triggerSelectionChangeAction()}},{key:"_onSelectionChanged",value:function(e){this._createSelectionRanges(e),this._triggerSelectionChangeAction()}},{key:"_addMultiSelection",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._createSelection(this._anchor,e),r=(function(e,t){var n=Object(S.sortedIndex)(t,e,(function(e,t){return e.start-t.start})),r=n-1,i=t[n],o=t[r],a=i&&T(i,e),s=o&&j(o,e),u=o&&T(o,e);if(s||u)return{index:r,isIntersected:u,isAdjacent:s};return{index:n,isIntersected:a,isAdjacent:!1}})(n,this._selectionRanges),i=r.index,o=r.isIntersected,a=r.isAdjacent,s=(function(e,t){var n=Object(S.sortedIndex)(t,e,(function(e,t){return e.end-t.end})),r=n-1,i=t[n],o=t[r],a=i&&T(i,e),s=i&&j(i,e),u=o&&T(o,e);if(!i||s||a)return{index:n,isIntersected:a,isAdjacent:s};return o?{index:r,isIntersected:u,isAdjacent:!1}:{index:0,isIntersected:!1,isAdjacent:!1}})(n,this._selectionRanges),u=s.index,c=s.isIntersected,l=s.isAdjacent,d=u-i+(a||o?1:0)+(l||c?1:0),f=[n];(a||!t&&o)&&f.push(this._selectionRanges[i]),(l||!t&&c)&&f.push(this._selectionRanges[u]);var h=this._mergeSelections.apply(this,f);this._changeSelections(i,d,h),this._updateAnchor(this._anchor,i)}},{key:"_changeSelections",value:function(e,t){for(var n,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];(n=this._selectionRanges).splice.apply(n,[e,t].concat(i))}},{key:"_triggerSelectionChangeAction",value:function(){this.props.onSelectionChanged(this._getSelectedResources())}},{key:"_render",value:function(e,t){return _.a.createElement(e,i()({},this.props,t,{ref:this._setWrappedComponentRef,onToggleSelected:this._onToggleSelected,onSelectResource:this._onSelectResource,onResourceContextMenu:this.props.onContextMenu&&this._onResourceContextMenu,onSelectionChanged:this._onSelectionChanged}))}}]),n})(b.Component);function k(e,t){return Object(S.sortedFind)(e,t,(function(e,t){return t<e.start?1:t>e.end?-1:0}))}function T(e,t){return Math.max(e.start,t.start)<=Math.min(e.end,t.end)}function j(e,t){return e.start-t.end==1||t.start-e.end==1}x.defaultProps={isMultiSelectable:!0},t.a=x}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(71),o=(n(956),Object(r.withBemMod)(Object(i.b)(),{theme:"normal"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(71),o=(n(958),Object(r.withBemMod)(Object(i.b)(),{theme:"pseudo"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(71),o=(n(960),Object(r.withBemMod)(Object(i.b)(),{view:"default"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(71),o=(n(962),Object(r.withBemMod)(Object(i.b)(),{view:"outline"}))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(1013)),s=i(n(1018)),u=i(n(121)),c=i(n(549)),l=n(28).cn("Dialog");n(1022);var d=function(){return o.default.createElement("div",{dangerouslySetInnerHTML:{__html:c.default}})};t.default=function(e){var t=e.visible,n=e.title,r=e.children,i=e.onClose,c=e.zIndexGroupLevel,f=e.noCloseButton,h=e.closeI18n,p=e.useDrawer,m=e.className;o.useEffect((function(){t&&document.activeElement instanceof HTMLElement&&document.activeElement.blur()}),[t]);var v=o.useCallback((function(){return i("button")}),[i]),g=o.useCallback((function(e,t){return i(t)}),[i]),y=o.default.createElement("div",{className:l("Wrap")},n?o.default.createElement("h2",{className:l("Title")},n):null,f?null:o.default.createElement(u.default,{view:"clear",size:"s",className:l("Close"),onClick:v,"aria-label":h},o.default.createElement(d,null)),r);return p?o.default.createElement(s.default,{animation:{tension:230,friction:24},view:"default",visible:t,onClose:i,className:l(null,[m])},y):o.default.createElement(a.default,{theme:"normal",visible:t,zIndexGroupLevel:c,onClose:g,className:l(null,[m])},y)}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(46),o=(n(1046),Object(r.createClassNameModifier)(Object(i.b)(),{baseline:!0}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(46),o=(n(1052),Object(r.withBemMod)(Object(i.b)(),{pin:"brick-brick"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(46),o=(n(1053),Object(r.withBemMod)(Object(i.b)(),{pin:"brick-clear"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(46),o=(n(1054),Object(r.withBemMod)(Object(i.b)(),{pin:"brick-round"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(46),o=(n(1055),Object(r.withBemMod)(Object(i.b)(),{pin:"clear-brick"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(46),o=(n(1056),Object(r.withBemMod)(Object(i.b)(),{pin:"clear-clear"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(46),o=(n(1057),Object(r.withBemMod)(Object(i.b)(),{pin:"clear-round"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(46),o=(n(1058),Object(r.withBemMod)(Object(i.b)(),{pin:"round-brick"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(46),o=(n(1059),Object(r.withBemMod)(Object(i.b)(),{pin:"round-clear"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(46),o=Object(r.withBemMod)(Object(i.b)(),{pin:"round-round"})}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(46),o=(n(1060),Object(r.withBemMod)(Object(i.b)(),{size:"m"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(46),o=(n(1061),Object(r.withBemMod)(Object(i.b)(),{size:"s"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(46),o=(n(1062),Object(r.withBemMod)(Object(i.b)(),{theme:"normal"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(46),o=(n(1064),Object(r.withBemMod)(Object(i.b)(),{theme:"websearch"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(46),o=(n(1066),Object(r.withBemMod)(Object(i.b)(),{view:"default"}))}),(function(e,t,n){"use strict";var r=n(283);n.d(t,"a",(function(){return r.a}))}),(function(e,t,n){var r=n(1207),i=n(1208),o=n(1209),a=n(1210),s=n(1211);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u}),(function(e,t,n){var r=n(466);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}}),(function(e,t,n){var r=n(192)(Object,"create");e.exports=r}),(function(e,t,n){var r=n(1231);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}}),(function(e,t){e.exports=function(e){return function(t){return e(t)}}}),(function(e,t,n){var r=n(1251),i=n(467),o=n(1252),a=n(724),s=n(1253),u=n(213),c=n(578),l=c(r),d=c(i),f=c(o),h=c(a),p=c(s),m=u;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case d:return"[object Map]";case f:return"[object Promise]";case h:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=m}),(function(e,t,n){var r=n(213),i=n(161),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&r(e)==o}}),(function(e,t,n){var r=n(365),i=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(0),o=n.n(i),a=n(6),s=n(50),u=(n(154),n(1299),Object(a.withBemMod)(Object(s.b)(),{glyph:"carets-v"},(function(e){return function(t){var n=t.className,i=Object(r.__rest)(t,["className"]);return o.a.createElement(e,Object(r.__assign)({},i,{className:Object(s.b)({hasGlyph:!0},[n])}),o.a.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"8",height:"14"},o.a.createElement("path",{d:"M4 0l4 6H0l4-6zm0 14l4-6H0l4 6z"})))}})))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(0),o=n.n(i),a=n(6),s=n(50),u=(n(154),n(1300),Object(a.withBemMod)(Object(s.b)(),{glyph:"type-arrow"},(function(e){return function(t){var n=t.className,i=Object(r.__rest)(t,["className"]);return o.a.createElement(e,Object(r.__assign)({},i,{className:Object(s.b)({hasGlyph:!0},[n])}),"xs"===i.size?o.a.createElement("svg",{focusable:"false",width:"11",height:"7",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M9.25 1L5.5 4.6 1.75 1 1 1.72 5.5 6 10 1.72 9.25 1z"})):o.a.createElement("svg",{focusable:"false",width:"13",height:"8",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M11.3 1L6.5 5.7 1.7 1l-.7.7L6.5 7 12 1.7l-.7-.7z"})))}})))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(0),o=n.n(i),a=n(6),s=n(50),u=(n(154),n(1301),Object(a.withBemMod)(Object(s.b)(),{glyph:"type-close"},(function(e){return function(t){var n=t.className,i=Object(r.__rest)(t,["className"]);return o.a.createElement(e,Object(r.__assign)({},i,{className:Object(s.b)({hasGlyph:!0},[n])}),o.a.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},o.a.createElement("polygon",{points:"10,0.714 9.287,0 5,4.286 0.714,0 0,0.714 4.286,5 0,9.285 0.714,10 5,5.714 9.287,10 10,9.285 5.714,5"})))}})))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(0),o=n.n(i),a=n(6),s=n(50),u=(n(154),n(1302),Object(a.withBemMod)(Object(s.b)(),{glyph:"type-cross-websearch"},(function(e){return function(t){var n=t.className,i=Object(r.__rest)(t,["className"]);return o.a.createElement(e,Object(r.__assign)({},i,{className:Object(s.b)({hasGlyph:!0},[n])}),o.a.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},o.a.createElement("path",{d:"M6.586 8L.93 2.343 2.342.93 8 6.585 13.657.93l1.414 1.413L9.42 8l5.657 5.657-1.413 1.414L8 9.42l-5.657 5.65L.93 13.658 6.585 8z"})))}})))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(0),o=n.n(i),a=n(6),s=n(50),u=(n(154),n(1303),Object(a.withBemMod)(Object(s.b)(),{glyph:"type-cross"},(function(e){return function(t){var n=t.className,i=Object(r.__rest)(t,["className"]);return o.a.createElement(e,Object(r.__assign)({},i,{className:Object(s.b)({hasGlyph:!0},[n])}),"xs"===i.size?o.a.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},o.a.createElement("polygon",{points:"10,0.7 9.3,0 5,4.3 0.7,0 0,0.7 4.3,5 0,9.3 0.7,10 5,5.7 9.3,10 10,9.3 5.7,5"})):o.a.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},o.a.createElement("polygon",{points:"14,0.7 13.3,0 7,6.3 0.7,0 0,0.7 6.3,7 0,13.3 0.7,14 7,7.7 13.3,14 14,13.3 7.7,7"})))}})))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(0),o=n.n(i),a=n(6),s=n(50),u=(n(154),n(1304),Object(a.withBemMod)(Object(s.b)(),{glyph:"type-filter"},(function(e){return function(t){var n=t.className,i=Object(r.__rest)(t,["className"]);return o.a.createElement(e,Object(r.__assign)({},i,{className:Object(s.b)({hasGlyph:!0},[n])}),o.a.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 16",width:"20",height:"16"},o.a.createElement("path",{d:"M7.17 12H0v2h7.17c.413 1.165 1.524 2 2.83 2s2.417-.835 2.83-2H20v-2h-7.17c-.413-1.165-1.524-2-2.83-2s-2.417.835-2.83 2zm-7-10H0v2h.17C.584 5.165 1.695 6 3 6s2.417-.835 2.83-2H20V2H5.83C5.416.835 4.305 0 3 0S.583.835.17 2z"})))}})))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(0),o=n.n(i),a=n(6),s=n(50),u=(n(154),n(1305),Object(a.withBemMod)(Object(s.b)(),{glyph:"type-indeterminate"},(function(e){return function(t){var n=t.className,i=Object(r.__rest)(t,["className"]);return o.a.createElement(e,Object(r.__assign)({},i,{className:Object(s.b)({hasGlyph:!0},[n])}),o.a.createElement("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fill:"#fff",d:"M4 7h9v3H4z"})))}})))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(0),o=n.n(i),a=n(6),s=n(50),u=(n(154),n(1306),Object(a.withBemMod)(Object(s.b)(),{glyph:"type-tick"},(function(e){return function(t){var n=t.className,i=Object(r.__rest)(t,["className"]);return o.a.createElement(e,Object(r.__assign)({},i,{className:Object(s.b)({hasGlyph:!0},[n])}),o.a.createElement("svg",{width:"14",height:"10",viewBox:"0 0 14 10"},o.a.createElement("path",{d:"M1.49 4.885l1.644-1.644 4.385 4.385L5.874 9.27 1.49 4.885zm4.384 1.096L11.356.5 13 2.144 7.519 7.626 5.874 5.98v.001z"})))}})))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(50),o=(n(1307),Object(r.withBemMod)(Object(i.b)(),{type:"arrow"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(50),o=(n(1308),Object(r.withBemMod)(Object(i.b)(),{type:"close"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(50),o=(n(1309),Object(r.withBemMod)(Object(i.b)(),{type:"filter"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),i=n(0),o=n.n(i),a=n(6),s=n(55),u=n(88),c=Object(a.withBemMod)(Object(u.b)(),{pseudo:!0},(function(e){return (function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.onClick=function(t){t.preventDefault(),void 0!==e.props.onClick&&e.props.onClick(t)},e.onKeyDown=function(t){t.keyCode===s.a.SPACE&&t.preventDefault(),void 0!==e.props.onKeyDown&&e.props.onKeyDown(t)},e}return Object(r.__extends)(n,t),n.prototype.render=function(){var t=this.props,n=(t.pseudo,Object(r.__rest)(t,["pseudo"]));return o.a.createElement(e,Object(r.__assign)({},n,{onClick:this.onClick,onKeyDown:this.onKeyDown}))},n})(i.PureComponent)}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(0),o=n.n(i),a=n(6),s=n(88),u=(n(1340),Object(a.withBemMod)(Object(s.b)(),{theme:"black"},(function(e){return function(t){t.theme;var n=Object(r.__rest)(t,["theme"]);return o.a.createElement(e,Object(r.__assign)({},n))}})))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(0),o=n.n(i),a=n(6),s=n(88),u=(n(1342),Object(a.withBemMod)(Object(s.b)(),{theme:"ghost"},(function(e){return function(t){t.theme;var n=Object(r.__rest)(t,["theme"]);return o.a.createElement(e,Object(r.__assign)({},n))}})))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(0),o=n.n(i),a=n(6),s=n(88),u=(n(1344),Object(a.withBemMod)(Object(s.b)(),{theme:"normal"},(function(e){return function(t){t.theme;var n=Object(r.__rest)(t,["theme"]);return o.a.createElement(e,Object(r.__assign)({},n))}})))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(0),o=n.n(i),a=n(6),s=n(88),u=(n(1346),Object(a.withBemMod)(Object(s.b)(),{theme:"outer"},(function(e){return function(t){t.theme;var n=Object(r.__rest)(t,["theme"]);return o.a.createElement(e,Object(r.__assign)({},n))}})))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(0),o=n.n(i),a=n(6),s=n(88),u=(n(1348),Object(a.withBemMod)(Object(s.b)(),{theme:"pseudo"},(function(e){return function(t){t.theme;var n=Object(r.__rest)(t,["theme"]);return o.a.createElement(e,Object(r.__assign)({},n))}})))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(0),o=n.n(i),a=n(6),s=n(88),u=(n(1350),Object(a.withBemMod)(Object(s.b)(),{theme:"strong"},(function(e){return function(t){t.theme;var n=Object(r.__rest)(t,["theme"]);return o.a.createElement(e,Object(r.__assign)({},n))}})))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(88),o=(n(1352),Object(r.withBemMod)(Object(i.b)(),{view:"default"}))}),(function(e,t,n){"use strict";t.a=function(e){var t,n,r,i,o=e.scope?e.scope:e.scopeSelector?document.querySelector(e.scopeSelector):document,a=(function(e){return e?{start:"touchstart",move:"touchmove",end:"touchend"}:{start:"mousedown",move:"mousemove",end:"mouseup"}})(e.isTouch),s=e.scrollBorder||{width:0,height:0},u=!1,c=function(t){return e.isTouch?{x:t.touches[0].pageX,y:t.touches[0].pageY,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:{x:t.pageX,y:t.pageY,clientX:t.clientX,clientY:t.clientY}},l=function e(t){t.preventDefault(),n.removeEventListener("dragstart",e)},d=function(r){if(!(function(t){return!e.isTouch&&0!==t.button||e.isTouch&&1!==t.touches.length}(r)||e.startFilter&&e.startFilter(r))){e.isTouch||(n=r.target)&&n.addEventListener("dragstart",l),document.addEventListener(a.move,p,e.isTouch&&{passive:!1}),!e.isTouch&&document.addEventListener("scroll",m),document.addEventListener(a.end,f);var i=document.getSelection();i&&i.removeAllRanges(),t=c(r),e.onBeforeStart&&e.onBeforeStart(t,r),document.body.classList.add("no-user-select")}},f=function t(i,o){document.body.classList.remove("no-user-select"),document.removeEventListener(a.move,p),e.isTouch||(document.removeEventListener("scroll",m),n.removeEventListener("dragstart",l)),document.removeEventListener(a.end,t),u&&e.onEnd&&e.onEnd(i,o),u=!1,r=null},h=function(n,i){if(!u){if(e.startThreshold){var o=n.x-t.x,a=n.y-t.y;Math.sqrt(o*o+a*a)>e.startThreshold&&(u=!0)}else u=!0;u&&e.onStart&&e.onStart(t)}if(u){if(e.scroll){var c=document.scrollingElement||document.documentElement;if(n.x=Math.min(n.x,c.scrollWidth-s.width),n.y=Math.min(n.y,c.scrollHeight-s.height),n.clientY<0)window.scrollBy(0,n.clientY);else{var l=window.innerHeight-n.clientY-30;l<0&&window.scrollBy(0,-l)}}e.onMove&&e.onMove(t,n,i)}r=n},p=function(e){e.preventDefault(),h(c(e),e)},m=function(e){r&&(clearTimeout(i),i=setTimeout((function(){var t=Object.assign({},r);t.x=window.window.pageXOffset+t.clientX,t.y=window.window.pageYOffset+t.clientY,h(t,e)}),0))};return o&&o.addEventListener(a.start,d),{clearListeners:function(){o&&o.removeEventListener(a.start,d),document.body.classList.remove("no-user-select")},cancel:function(){u&&f({},!0)}}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",d:"M7.787 13a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm7.787-5.617L14 8.617C12.088 6.176 10.03 5 7.787 5c-2.242 0-4.3 1.176-6.213 3.617L0 7.383C2.266 4.491 4.875 3 7.787 3s5.521 1.49 7.787 4.383z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";(function(e,r){var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(5),c=n.n(u),l=n(7),d=n.n(l),f=n(1),h=n.n(f),p=n(0),m=n.n(p),v=n(19),g=n(70),y=n(11),b=n.n(y);n(1385);function _(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var O=function(){return b()()("react-noscript")},w=(function(t){c()(i,t);var n=_(i);function i(){return o()(this,i),n.apply(this,arguments)}return s()(i,[{key:"componentDidMount",value:function(){this._view=ns.View.create(this.props.viewName,this.props.params),this._view._setNode(this._viewContainer),this._view.invalidate(),this._nsRender()}},{key:"componentDidUpdate",value:function(){this._nsRender()}},{key:"componentWillUnmount",value:function(){this._view.destroy()}},{key:"_nsRender",value:function(){var t=this;this._update&&(this._update.abort(),this._updateTimer&&e(this._updateTimer));var n=this.props.params,i=ns.layout.page(this.props.layoutName,n);this._update=new ns.Update(this._view,i,n);var o=this.props.yateModule||"common";this._update.applyTemplate=function(e){return ns.renderString(e,null,o)},this._update.EXEC_FLAG=ns.U.EXEC.PARALLEL,this._updateTimer=r((function(){t._update.render().fail((function(e){e instanceof Error&&setTimeout((function(){throw e}))}))}))}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:O().mix(this.props.cls)},m.a.createElement("div",{ref:function(t){e._viewContainer=t}},this.props.renderSpin?m.a.createElement("div",{className:O().e("spin-wrap")},m.a.createElement(g.Spin,{view:"default",progress:!0,size:"m"})):null))}}]),i})(p.Component);t.a=Object(v.connect)((function(e,t){var n=e.page.originalNSParams,r=t.overrideParams;return{params:Object.assign({},n,r)}}))(w)}).call(this,n(300).clearImmediate,n(300).setImmediate)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"displayTilesIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{d:"M0 7h7V0H0v7zm9 0h7V0H9v7zm-9 9h7V9H0v7zm9 0h7V9H9v7z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(25),a=n(436),s=n(11),u=n.n(s),c=(n(1427),function(){return u()()("public-icon")});t.a=function(e){var t=e.onClick,n=e.cls,r=e.ariaLabel;return t?i.a.createElement(o.Button,{className:c().m({button:!0}).mix(n),view:"tundora",pin:"circle-circle",size:"xxs","aria-label":r,tabIndex:-1,onClick:t,icon:function(e){return i.a.createElement(a.default,{iconSize:"s",cls:e})}}):i.a.createElement("div",{className:c().m({plain:!0})},i.a.createElement(a.default,{iconSize:"s"}))}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetTitle=void 0;const i=r(n(0)),o=n(28),a=r(n(173)),s=r(n(494));n(1681);const u=o.cn("WidgetTitle");t.WidgetTitle=(({url:e,onClick:t,children:n})=>i.default.createElement(a.default,{theme:"black",className:u(),href:e,onClick:t,target:"_blank",rel:"noopener noreferrer"},i.default.createElement("div",{className:u("IconContainer")},i.default.createElement("div",{className:u("Icon")})),i.default.createElement(s.default,{weight:"bold"},n)))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.expandedContainerButtonClass=void 0;const i=r(n(0)),o=r(n(638)),a=n(28),s=n(115);t.expandedContainerButtonClass=a.cn("ExpandedContainerButton"),n(1682);t.default=(({text:e,url:n,onClick:r,isAction:a,className:u,icon:c,iconLeft:l,iconRight:d})=>{const f=a?"action":"default";return i.default.createElement("div",{className:s.classnames(t.expandedContainerButtonClass(),u)},i.default.createElement(o.default,{view:f,size:"m",type:"link",width:"max",url:n,target:"_blank",onClick:r,icon:c,iconLeft:l,iconRight:d},e))})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CollapsedIcon=t.CollapsedIcons=t.collapsedLinkClassName=void 0;const a=o(n(0));n(1683);const s=n(28),u=o(n(1684)),c=o(n(1689)),l=n(136),d=s.cn("CollapsedIcon");var f;t.collapsedLinkClassName=d("Link"),(function(e){e.Telemost="telemost",e.Mail="mail",e.Docx="docx",e.Xlsx="xlsx",e.Pptx="pptx",e.Notes="notes"})(f=t.CollapsedIcons||(t.CollapsedIcons={}));const h={[f.Telemost]:{base:u.TelemostCollapsedIcon,hovered:u.TelemostCollapsedHoveredIcon},[f.Mail]:{base:u.MailCollapsedIcon,hovered:u.MailCollapsedHoveredIcon},[f.Docx]:{base:u.DocxCollapsedIcon,hovered:u.DocxCollapsedHoveredIcon},[f.Xlsx]:{base:u.XlsxCollapsedIcon,hovered:u.XlsxCollapsedHoveredIcon},[f.Pptx]:{base:u.PptxCollapsedIcon,hovered:u.PptxCollapsedHoveredIcon},[f.Notes]:{base:u.NotesCollapsedIcon,hovered:u.NotesCollapsedHoveredIcon}},p={"mg-dark":{[f.Telemost]:{base:c.TelemostCollapsedIcon,hovered:c.TelemostCollapsedHoveredIcon},[f.Mail]:{base:c.MailCollapsedIcon,hovered:c.MailCollapsedHoveredIcon},[f.Docx]:{base:c.DocxCollapsedIcon,hovered:c.DocxCollapsedHoveredIcon},[f.Xlsx]:{base:c.XlsxCollapsedIcon,hovered:c.XlsxCollapsedHoveredIcon},[f.Pptx]:{base:c.PptxCollapsedIcon,hovered:c.PptxCollapsedHoveredIcon},[f.Notes]:{base:c.NotesCollapsedIcon,hovered:c.NotesCollapsedHoveredIcon}}};t.CollapsedIcon=(e=>{const{theme:t}=a.useContext(l.AppContext);let n=h;if(t){const e=t.root;p[e]&&(n=p[e])}const r=n[e.icon]||h[e.icon],i=r.base,o=r.hovered;return a.default.createElement("span",{className:d("Link")},a.default.createElement(i,{className:d("Icon",{type:"base"})}),a.default.createElement(o,{className:d("Icon",{type:"hover"})}))})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Platform=t.Service=void 0,(function(e){e.Calendar="Calendar",e.Contacts="Contacts",e.Disk="Disk",e.Docs="Docs",e.Mail="Mail",e.Notes="Notes",e.Pro="Pro",e.Scanner="Scanner",e.Telemost="Telemost",e.Q="Q"})(t.Service||(t.Service={})),(function(e){e.WEB="web",e.IOS="ios",e.ANDROID="android"})(t.Platform||(t.Platform={}))}),(function(e,t,n){"use strict";n.r(t);var r=n(32),i=n.n(r),o=n(21),a=n.n(o),s=n(3),u=n.n(s),c=n(4),l=n.n(c),d=n(8),f=n.n(d),h=n(5),p=n.n(h),m=n(7),v=n.n(m),g=n(1),y=n.n(g),b=(n(1411),n(0)),_=n.n(b),O=n(19),w=n(113),E=n(100),S=n(16),C=n(255),x=(n(117),n(74)),k=n(57),T=n(70),j=n(175),R=n(199),P=n(188),D=n(411),I=n(387),A=n(187),M=n(148),N=n(250),L=n(144),F=n(186),B=n(185),U=n(248),z=n(184),V=n(177),H=n(251),W=n(247),G=n(434),q=n(176),$=n(180),Y=n(249),K=n(15);function X(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Z=(function(e){p()(n,e);var t=X(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return _.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M15.362 17.095l-8.458-8.46c1.323-1.107 2.806-1.313 5.07-.783l1.083.254 4.45-4.447 2.827 2.826-3.66 3.66-.793.791.261 1.09c.548 2.283.348 3.739-.78 5.069zM4.766 7.91a1 1 0 0 0 0 1.414l4.242 4.243-5.642 5.643-.709 2.124 2.123-.71 5.642-5.642 4.247 4.247a1 1 0 0 0 1.414 0l.316-.315c2.124-2.111 2.387-4.444 1.688-7.356l3.661-3.66a2 2 0 0 0 0-2.828L18.92 2.245a2 2 0 0 0-2.828 0l-3.662 3.66c-2.887-.676-5.251-.407-7.35 1.691l-.314.315z"})}}]),n})(K.default),J=(Object(K.iconProvider)(Z),n(183)),Q=n(11),ee=n.n(Q),te=n(20),ne=n(12),re=n(30),ie=n(43);function oe(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}n.d(t,"ACTIONS",(function(){return se}));var ae=function(){return ee()()("resources-actions-popup")},se=[{group:0,id:te.PUBLISH,icon:function(e){var t=e.isAndroid;return function(e){return _.a.createElement(R.default,{cls:e,isAndroid:t})}}},{group:0,id:te.UNPUBLISH,icon:function(){return P.a}},{group:1,id:te.VIEW,icon:function(){return I.b}},{group:1,id:te.EDIT,icon:function(){return B.b}},{group:1,id:te.PIN,icon:function(){return function(e){return _.a.createElement(Z,{iconSize:"m",cls:e})}}},{group:2,id:te.SHARE_ACCESS,icon:function(){return D.a}},{group:2,id:te.ADD_TO_ALBUM,icon:function(){return q.a}},{group:2,id:te.SET_AS_COVER,icon:function(){return Y.a}},{group:2,id:te.FOTKI_INFO,icon:function(){return $.b}},{group:3,id:te.DOWNLOAD,icon:function(){return V.b}},{group:3,id:te.RENAME,icon:function(){return A.a}},{group:3,id:te.MOVE,icon:function(){return F.b}},{group:3,id:te.COPY,icon:function(){return z.a}},{group:3,id:te.GO_TO_FILE,icon:function(){return W.a}},{group:3,id:te.GO_TO_FOLDER,icon:function(){return G.a}},{group:4,id:te.VERSIONS,icon:function(){return U.a}},{group:4,id:te.EXCLUDE_FROM_PERSONAL_ALBUM,icon:function(){return L.a}},{group:4,id:te.EXCLUDE_FROM_GEO_ALBUM,icon:function(){return L.a}},{group:4,id:te.EXCLUDE_FROM_ALBUM,icon:function(){return L.a}},{group:4,id:te.DELETE,icon:function(){return M.b}},{group:4,id:te.REMOVE_FROM_DOCS,icon:function(){return M.b}},{group:5,id:te.RESTORE,icon:function(){return H.b}},{group:5,id:te.DELETE_FROM_TRASH,icon:function(){return N.a}},{group:5,id:te.CLEAN_TRASH,icon:function(){return N.a}}],ue=(function(e){p()(n,e);var t=oe(n);function n(e){var r;return u()(this,n),(r=t.call(this,e))._getPopupContent=r._getPopupContent.bind(f()(r)),r._onMenuItemClick=r._onMenuItemClick.bind(f()(r)),r._onWindowContextMenu=r._onWindowContextMenu.bind(f()(r)),r._onShareDialogClose=r._onShareDialogClose.bind(f()(r)),r.state={isShareDialogVisible:!1,shareDialogMenuExpanded:!1},r._showShareDialogOnPublish=!1,r._drawerRef=_.a.createRef(),r}return l()(n,[{key:"componentWillReceiveProps",value:function(e){this._showShareDialogOnPublish&&e.isPublic&&!this.props.isPublic&&this.props.visible&&(this._showShareDialogOnPublish=!1,this.setState({isShareDialogVisible:!0}))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isEditable,r=t.shouldShowExpandedMenu,i=t.shortUrl,o=t.isPublishing,s=t.saveShareEditMenuExpanded;e.visible&&!this.props.visible&&(ne.default.count.apply(ne.default,a()(this.props.metrikaPath).concat(["close"],a()(this.props.metrikaTail))),this._showShareDialogOnPublish=!1),n&&!this.state.shareDialogMenuExpanded&&(r||i&&e.isPublishing&&!o)&&(r&&s(),this.setState({shareDialogMenuExpanded:!0})),this.props.isOverdraftDialogOpened&&!e.isOverdraftDialogOpened&&this.props.onClose()}},{key:"componentDidMount",value:function(){0}},{key:"componentWillUnmount",value:function(){0}},{key:"_onWindowContextMenu",value:function(e){var t;null!==(t=this._drawerRef.current)&&void 0!==t&&t.contains(e.target)&&e.preventDefault()}},{key:"_onMenuItemClick",value:function(e){var t=e.target.value;t!==te.PUBLISH?(t===te.UNPUBLISH?(this.props.onAction(t),this.props.onClose()):(this.props.onClose(),this.props.onAction(t)),this._countActionInMetrika(t)):this.props.isPublic?(this.setState({isShareDialogVisible:!0}),this.props.isLinkBlockedForOverdraft||this.props.copyPublicLink(this.props.shortUrl)):this.props.maybeBlockActionOverdraft({forLite:!0})?this.props.onClose():(this.props.publishObject(this.props.savedResources.map((function(e){return e.id})),this.props.objectType),this._showShareDialogOnPublish=!0)}},{key:"_getMetrikaAction",value:function(e){var t=e;return e===te.PUBLISH&&this.props.savedResources.length>1&&(t+=" album"),t}},{key:"_countActionInMetrika",value:function(e){var t=this.props.metrikaPath.concat(this._getMetrikaAction(e));ne.default.count.apply(ne.default,a()(t).concat(a()(this.props.metrikaTail)))}},{key:"_getMenuItems",value:function(){var e,t=this,n=null,r=se.filter((function(e){return t.props.savedActions[e.id]})).filter((function(e){return e.id!==te.VERSIONS||!t.props.savedActions[e.id].disabled})).map((function(e){return Object.assign({title:Object(te.getTitle)(e.id,t.props.savedResources)},e,t.props.savedActions[e.id])})).reduce((function(r,i){var o;if(i.group!==n&&(n=i.group,e&&r.push(_.a.createElement(k.Group,{key:n,paddingless:!0},e)),e=[]),[te.PUBLISH,te.UNPUBLISH].includes(i.id)){var a=t.props.isPublishing;if(1===t.props.savedResources.length){var s=t.props.isPublic;a=Boolean(t.props.isPublishing&&(i.id===te.PUBLISH?!s:s))}o=_.a.createElement("span",{className:ae().e("spin-wrapper")},i.title,_.a.createElement(T.Spin,{view:"default",className:ae().e("spin"),size:"xxs",progress:a}))}else o=i.title;return e.push(_.a.createElement(k.Item,{key:i.id,value:i.id,disabled:i.disabled,tabIndex:0,className:ae().e("action").m({type:i.id}),tooltipText:i.tooltipText,icon:i.icon(t.props)},o)),r}),[]);return e&&r.push(_.a.createElement(k.Group,{key:String(n),paddingless:!0},e)),r}},{key:"_getPopupContent",value:function(){return _.a.createElement("div",{className:ae().e("wrapper")},_.a.createElement(k.Menu,{className:ae().e("actions-menu"),view:"default",size:"m",wide:!0,paddingless:!0,onChange:this._onMenuItemClick},this._getMenuItems()))}},{key:"_onShareDialogClose",value:function(){this.props.onClose(),this.setState({isShareDialogVisible:!1})}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.resourceId,r=e.position,o=e.anchor,a=e.target,s=e.onClose,u=e.direction,c=e.metrikaPath,l=this.state.isShareDialogVisible,d={target:a};d.direction=u,"anchor"===a?d.anchor=o:(d.position=r,d.motionless=!0);var f=this.state.isShareDialogVisible;var h=t&&!f;return _.a.createElement(_.a.Fragment,null,_.a.createElement(x.Popup,i()({view:"default",className:ae().mix("js-prevent-deselect"),visible:h,onClose:s},d),this._getPopupContent()),Boolean(n)?_.a.createElement(j.default,{visible:l&&t,objectIds:[n],onClose:this._onShareDialogClose,metrikaPath:c.concat(this._getMetrikaAction(te.PUBLISH)),defaultExpanded:this.state.shareDialogMenuExpanded}):null)}}]),n})(b.Component);ue.defaultProps={direction:["bottom-start","bottom-end","top-start","top-end","left"],target:"position",metrikaTail:[]};var ce=Object(O.connect)((function(e,t){var n=e.settings.shareEditMenuExpandedShowed,r=t.savedResources.map((function(e){return e.id})),i=t.savedResources.length?Object(re.getPublishObjectData)(e,r):{};return Object.assign({},i,{objectIds:r,shouldShowExpandedMenu:"1"!==n,isLinkBlockedForOverdraft:Object(ie.isOverdraftHard)(e)&&i.objectType!==re.OBJECT_TYPES.ALBUM,isOverdraftDialogOpened:Object(E.isDialogOpened)(e,"overdraft")})}),{saveShareEditMenuExpanded:S.saveShareEditMenuExpanded})(ue);t.default=Object(C.a)(Object(J.a)(ce,["actions","resources"],(function(e){return e.visible}),[{},[]]),w.getSelectedResources)}),(function(e,t,n){"use strict";var r=n(2),i=n(6),o=n(0),a=n.n(o),s=n(46),u=n(238),c=function(e){var t=e.floated,n=e.className,i=Object(r.__rest)(e,["floated","className"]);return a.a.createElement("label",Object(r.__assign)({className:Object(s.b)("Label",{floated:t},[n])},i))};n(1069);n.d(t,"a",(function(){return l}));var l=Object(i.withBemMod)(Object(s.b)(),{view:"material"},(function(e){return Object(u.a)((function(t){var n=t.hint,i=t.onChange,u=t.className,l=t.label,d=t.variant,f=t.focused,h=t.addonBefore,p=Object(r.__rest)(t,["hint","onChange","className","label","variant","focused","addonBefore"]),m=p.defaultValue,v=p.view,g=p.state,y=Object(r.__read)(Object(o.useState)(m),2),b=y[0],_=y[1],O=Boolean(p.value)||Boolean(b)||f,w=Boolean(l);return a.a.createElement(a.a.Fragment,null,a.a.createElement(e,Object(r.__assign)({className:Object(s.b)({variant:d},[u]),addonBefore:a.a.createElement(a.a.Fragment,null,h,w&&a.a.createElement(c,{floated:O},l)),onChange:function(e){_(e.target.value),"function"==typeof i&&i(e)}},p)),n&&a.a.createElement("div",{className:Object(s.b)("Hint",{view:v,state:g,variant:d})},n))}))}))}),(function(e,t,n){(function(t){var n={};n.de="undefined"==typeof window,n.inherit=function(e,t,r){var i=function(){};i.prototype=t.prototype;var o=e.prototype=new i;if(r)if(Array.isArray(r))for(var a=0,s=r.length;a<s;a++)n.extend(o,r[a]);else n.extend(o,r);return o.super_=t.prototype,o.constructor=e,e},n.extend=function(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];for(var i in r)e[i]=r[i]}return e},n.nop=function(){},n.true=function(){return!0},n.false=function(){return!1},n.value=function(e){return function(){return e}},n.logger=function(e){return e?function(){var t=[].slice.call(arguments);console.log.apply(null,[e].concat(t))}:console.log},n.de?n.next=function(e){t.nextTick(e)}:n.next=function(e){setTimeout(e,0)},n.de&&(e.exports=n),e.exports=n}).call(this,n(264))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"isDebugMode",(function(){return r}));var r=function(e){var t=location.search.match(/[&?]debug=([^&]+)/);if(t){var n=t[1];return"all"===n||n.split(",").includes(e)}return!1}}),(function(e,t,n){"use strict";var r=n(61);t.a=function(e,t){var n;void 0===t&&(t=!0);var i=new Promise(function(r){n=setTimeout(r,e,t)});return i[r.a]=function(){clearTimeout(n)},i}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c}));var r=n(9),i=n.n(r),o=n(26),a=n(45),s=n(36),u=(n(142),function(){return function(e){return Object(s.a)("do-get-user-info").then((function(t){e(Object(o.updateUser)(t))}))}}),c=function(e){return function(t){var n=i.a.get(e,"root.parameters");t(Object(a.updateSettings)({closedOverdraftBlock:!0})),t(Object(a.updateSettings)({closedOverdraftScreen:!0})),t(Object(o.updateUser)({overdraft_status:n.overdraft_status,overdraft_block_date:n.overdraft_block_date}))}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(37),i=function(e){return"squares"===e?r.PHOTO_GRID_TYPES.TILE:r.PHOTO_GRID_TYPES.WOW}}),(function(e,t,n){"use strict";var r=n(338);n.d(t,"a",(function(){return r.a}));n(957)}),(function(e,t,n){"use strict";var r=n(339);n.d(t,"a",(function(){return r.a}));n(959)}),(function(e,t,n){"use strict";var r=n(340);n.d(t,"a",(function(){return r.a}));n(961)}),(function(e,t,n){"use strict";var r=n(341);n.d(t,"a",(function(){return r.a}));n(963)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(76),o=(n(1005),Object(r.withBemMod)(Object(i.b)(),{nonvisual:!0}))}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(13),i=(n(450),function(e,t){return{type:r.UPDATE_SHARED_FOLDERS_USERS,payload:{gid:e,users:t}}}),o=function(e,t){return{type:r.UPDATE_SHARED_FOLDERS_USERS_LOADING_STATE,payload:{gid:e,isLoading:t}}},a=function(e,t){return function(n){var r=ns.Model.get("usersFolder",{gidFolder:t,idFolder:e});r.isValid()||(n(o(t,!0)),r.fetch().always((function(){n(o(t,!1))})))}}}),(function(e,t,n){"use strict";var r=n(32),i=n.n(r),o=n(8),a=n.n(o),s=n(3),u=n.n(s),c=n(4),l=n.n(c),d=n(5),f=n.n(d),h=n(7),p=n.n(h),m=n(1),v=n.n(m),g=n(0),y=n.n(g),b=n(134),_=n.n(b),O=n(233),w=n(11),E=n.n(w);function S(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var C=(function(e){f()(n,e);var t=S(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){return this.props.children}}]),n})(g.Component),x=(function(e){f()(n,e);var t=S(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){return this.props.children}}]),n})(g.Component);var k=(function(e){f()(n,e);var t=S(n);function n(e){var r;return u()(this,n),(r=t.call(this,e))._anchorRef=y.a.createRef(),r._popup=y.a.createRef(),r._onAnchorMouseEnter=r._onAnchorMouseEnter.bind(a()(r)),r._onAnchorMouseLeave=r._onAnchorMouseLeave.bind(a()(r)),r._onPopupMouseEnter=r._onPopupMouseEnter.bind(a()(r)),r._onPopupMouseLeave=r._onPopupMouseLeave.bind(a()(r)),r._bindPopupEvents=r._bindPopupEvents.bind(a()(r)),r}return l()(n,[{key:"componentDidMount",value:function(){this._bindAnchorEvents(),this.props.visible&&this._bindPopupEvents()}},{key:"componentDidUpdate",value:function(e){!e.visible&&this.props.visible&&this._bindPopupEvents()}},{key:"componentWillUnmount",value:function(){this._clearTimer(),this._unbindAnchorEvents(),this._unbindPopupEvents()}},{key:"_bindAnchorEvents",value:function(){this._anchor&&(this._anchor.addEventListener("mouseenter",this._onAnchorMouseEnter),this._anchor.addEventListener("mouseleave",this._onAnchorMouseLeave))}},{key:"_unbindAnchorEvents",value:function(){this._anchor&&(this._anchor.removeEventListener("mouseenter",this._onAnchorMouseEnter),this._anchor.removeEventListener("mouseleave",this._onAnchorMouseLeave))}},{key:"_bindPopupEvents",value:function(){if(!this._popupEventsBound&&this._popup){var e=this._popup.current;e&&e.addEventListener("mouseenter",this._onPopupMouseEnter),e&&e.addEventListener("mouseleave",this._onPopupMouseLeave),this._popupEventsBound=!0}}},{key:"_unbindPopupEvents",value:function(){if(this._popup){var e=this._popup.current;e&&e.removeEventListener("mouseenter",this._onPopupMouseEnter),e&&e.removeEventListener("mouseleave",this._onPopupMouseLeave),this._popupEventsBound=!1}}},{key:"_clearTimer",value:function(){this._hideTimer&&clearTimeout(this._hideTimer),this._showTimer&&clearTimeout(this._showTimer),this._hideTimer=null,this._showTimer=null}},{key:"_deferClosePopup",value:function(){var e=this;this._hideTimer=setTimeout((function(){e._hideTimer=null,e.props.onClose(),e._unbindPopupEvents()}),200)}},{key:"_onAnchorMouseLeave",value:function(){this._showTimer&&clearTimeout(this._showTimer),this._deferClosePopup()}},{key:"_onAnchorMouseEnter",value:function(){var e=this;this._hideTimer?this._clearTimer():this.props.showDelay?(this._showTimer&&clearTimeout(this._showTimer),this._showTimer=setTimeout((function(){e.props.onOpen()}),this.props.showDelay)):this.props.onOpen()}},{key:"_onPopupMouseEnter",value:function(){this._clearTimer()}},{key:"_onPopupMouseLeave",value:function(){this._deferClosePopup()}},{key:"render",value:function(){var e=this,t=null,n=null;return y.a.Children.forEach(this.props.children,(function(r){(function(e){return e&&"function"==typeof e.type&&e.type===C})(r)&&(t=y.a.createElement(C,i()({ref:function(t){e._anchor=_.a.findDOMNode(t),e._anchorRef={current:e._anchor}}},r.props))),(function(e){return e&&"function"==typeof e.type&&e.type===x})(r)&&(n=y.a.createElement(O.Tooltip,i()({},r.props,{hasTail:!0,state:"warning",visible:e.props.visible,anchor:e._anchorRef,innerRef:e._popup})))})),y.a.createElement("span",{className:E()()("hover-dropdown").mix(this.props.className)},t,n)}}]),n})(g.Component);k.defaultProps={showDelay:0,onOpen:function(){},onClose:function(){}},k.Anchor=C,k.Tooltip=x,t.a=k}),(function(e,t,n){"use strict";function r(e){return e<10?"0"+e:String(e)}e.exports=function(e,t){var n=e<0;t=t||":",n&&(e=Math.abs(e));var i=Math.floor(e/3600),o=r(Math.floor(e%3600/60)),a=r(e%60);return(n?"-":"")+(i?i+t:"")+o+t+a}}),(function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return y})),n.d(t,"c",(function(){return b})),n.d(t,"g",(function(){return _})),n.d(t,"h",(function(){return O}));var r=n(36),i=n(204),o=n(294),a=n(18),s=n(42),u=n(13),c=n(23),l=n(16),d=n(33),f=n(75),h=function(e){return function(t){t(Object(c.openDialog)("versions",{resourcePath:e}))}},p=function(){return function(e){e(Object(c.closeDialog)("versions")),e({type:u.CLEAN_VERSIONS})}},m=function(e){var t=e.date_created;return"string"==typeof t&&19===t.length&&(t+=".000+03:00"),Object.assign({timestamp_created:Math.floor(new Date(t).getTime()/1e3)},e)},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.parentId,n=e.clean;return function(e,i){var a=Object(o.a)(i()),s=a.resourceId,c=a.subversions,l=a.iterationKey;e({type:u.UPDATE_VERSIONS,payload:{parentId:t,loading:!0,error:!1}});var d={resource_id:s,iteration_key:t?c[t].iterationKey:l,folded:Boolean(t)};return Object(r.a)("versions",d).then((function(r){return n&&e({type:u.CLEAN_VERSIONS}),e({type:u.UPDATE_VERSIONS,payload:{parentId:t,clean:n,data:(function(e){return{versions:(e.versions||[]).map(m),iteration_key:e.iteration_key}})(r),loading:!1,error:!1}}),r})).catch((function(){return n&&e({type:u.CLEAN_VERSIONS}),e({type:u.UPDATE_VERSIONS,payload:{parentId:t,loading:!1,error:!0}})}))}},g=function(){return function(e){e(v({clean:!0}))}},y=function(e){return function(t,n){var u=Object(o.a)(n()),c=u.resourceId,h=u.resourcePath;return Object(r.a)("do-version-restore",{resource_id:c,version_id:e},{retriesLeft:0,retryOffline:!1}).then((function(e){return t(Object(l.fetchSingleResource)(e.path)).then((function(){var r=n();Object(d.isDocsPage)(r)&&t(Object(f.addDocFromDisk)({id:e.id})),t(Object(s.notify)({operation:"restore",status:"done",dst:Object(a.getResourceData)(r,e.path),src:Object(a.getResourceData)(r,h)}))}))})).catch((function(e){var r=Object(a.getResourceData)(n(),h),o={operation:"restore",status:"failed",dst:r,src:r};if(e&&"HTTP_423"===e.id){var u=n().user.uid,c=e.body.data,l=c.op_type,d=c.path,f=c.uid;o.reason=Object(i.a)({lockType:l,myUid:u,lockInitiatorUid:f,lockedResourcePath:d,targetResourcePath:h,onlyReason:!0})}t(Object(s.notify)(o))}))}},b=function(e){var t=e.id,n=e.timestamp_created;return function(e,r){var i=Object(o.a)(r()).resourcePath;e(Object(l.openResourceById)(i,t,n))}},_=function(e){return function(t,n){var u=Object(o.a)(n()),c=u.resourceId,h=u.resourcePath;return Object(r.a)("do-version-save",{resource_id:c,version_id:e},{retriesLeft:0,retryOffline:!1}).then((function(e){return t(Object(l.fetchSingleResource)(e.path)).then((function(){Object(d.isDocsPage)(n())&&t(Object(f.addDocFromDisk)({id:e.id}));var r=n();t(Object(s.notify)({operation:"copy",status:"done",dst:Object(a.getResourceData)(r,e.path),src:Object(a.getResourceData)(r,h)}))}))})).catch((function(e){var r=Object(a.getResourceData)(n(),h),o={operation:"copy",status:"failed",dst:r,src:r};if(e&&"HTTP_423"===e.id){var u=n().user.uid,c=e.body.data,l=c.op_type,d=c.path,f=c.uid;o.reason=Object(i.a)({lockType:l,myUid:u,lockInitiatorUid:f,lockedResourcePath:d,targetResourcePath:h,onlyReason:!0})}t(Object(s.notify)(o))}))}},O=function(e){return function(t,n){var r=n().versions.subversions[e];t({type:u.TOGGLE_SUBVERSIONS,payload:{parentId:e}}),0===r.versions.length&&t(v({parentId:e}))}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.498 9.88C8.495 8.72 7.075 8 5.5 8 2.463 8 0 10.687 0 14h16v-1c0-2.21-1.79-4-4-4-.947 0-1.817.33-2.502.88zM5.5 7C4.12 7 3 5.88 3 4.5S4.12 2 5.5 2 8 3.12 8 4.5 6.88 7 5.5 7zM12 8c-1.105 0-2-.896-2-2 0-1.105.895-2 2-2s2 .895 2 2c0 1.104-.895 2-2 2z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=n(32),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),d=n(5),f=n.n(d),h=n(7),p=n.n(h),m=n(1),v=n.n(m),g=n(0),y=n.n(g),b=n(602),_=n.n(b),O=n(70),w=(n(1407),n(11)),E=n.n(w);function S(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var C=function(){return E()()("load-portions")},x=function(){return!1};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return (function(r){f()(s,r);var o=S(s);function s(e){var t;return a()(this,s),(t=o.call(this,e))._spinNode=y.a.createRef(),t._wrappedComponentRef=y.a.createRef(),t._checkBottomThrottled=_()(t._checkBottom,500).bind(l()(t)),n.forEach((function(e){t[e]=function(){var n;return t._wrappedComponentRef.current&&(n=t._wrappedComponentRef.current)[e].apply(n,arguments)}})),t}return u()(s,[{key:"componentDidMount",value:function(){this._scrollingElement=this.props.scrollingElementSelector?document.querySelector(this.props.scrollingElementSelector):window,this._bindCheckBottom()}},{key:"componentWillUnmount",value:function(){this.props.completed||this._unbindCheckBottom()}},{key:"componentDidUpdate",value:function(e){t(e,this.props)&&this._checkBottom(),this.props.completed!==e.completed&&(this.props.completed?this._unbindCheckBottom():this._bindCheckBottom())}},{key:"_bindCheckBottom",value:function(){this._scrollingElement.addEventListener("scroll",this._checkBottomThrottled),window.addEventListener("resize",this._checkBottomThrottled),this._checkBottom()}},{key:"_unbindCheckBottom",value:function(){this._scrollingElement.removeEventListener("scroll",this._checkBottomThrottled),window.removeEventListener("resize",this._checkBottomThrottled)}},{key:"_checkBottom",value:function(){if(!this.props.completed&&this._spinNode.current){var e=this._spinNode.current.getBoundingClientRect().top;this._scrollingElement!==window&&(e-=this._scrollingElement.getBoundingClientRect().top),e<=2*(this._scrollingElement===window?window.innerHeight:this._scrollingElement.clientHeight)&&this._fetchNextPortion()}}},{key:"_fetchNextPortion",value:function(){var e=this.props,t=e.loading;e.completed||t||this.props.requestFetchNext()}},{key:"_getSpin",value:function(){var e=this.props,t=e.loading;return e.completed?null:y.a.createElement("div",{className:C().e("spin-wrapper"),ref:this._spinNode},y.a.createElement(O.Spin,{view:"default",size:"m",progress:t,className:C().e("spin")}))}},{key:"render",value:function(){return y.a.createElement(y.a.Fragment,null,y.a.createElement(e,i()({ref:this._wrappedComponentRef},this.props)),this._getSpin())}}]),s})(g.Component)}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"displayWowIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{d:"M0 0h10v7H0V4zm6 9h10v7H6v-7zm6-9h4v7h-4V4zM0 9h4v7H0v-7z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=n(32),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),d=n(5),f=n.n(d),h=n(7),p=n.n(h),m=n(1),v=n.n(m),g=n(0),y=n.n(g),b=n(27),_=n.n(b),O=n(11),w=n.n(O),E=n(209),S=function(e){return"".concat(Math.ceil(e),"px")},C=function(e,t,n){var r,i,o=e.width,a=e.height,s=t.width,u=t.height,c=n.top,l=n.bottom,d=n.left,f=n.right;r=(i=a/(l-c))*s/u,i<a&&(r=(i=a)*s/u),r<o&&(i=(r=o)*u/s);var h=c*i,p=d*r;return p=p+(f-d)*r/2-o/2,(h=h+(l-c)*i/2-a/2)+a>i&&(h=i-a),p+o>r&&(p=r-o),p=p>0?-1*p:0,h=h>0?-1*h:0,{width:r,height:i,transform:"translate(".concat(S(p),", ").concat(S(h),")")}};n(857);function x(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var k=function(){return w()()("scalable-preview")},T=(function(e){f()(n,e);var t=x(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={renderFallback:r.props.shouldRenderFallback&&!r.props.previewBaseUrl,previewFragmentStyle:null,retry:!1},r._setPreviewContainerRef=r._setPreviewContainerRef.bind(l()(r)),r._updateImgStyle=r._updateImgStyle.bind(l()(r)),r._onLoadError=r._onLoadError.bind(l()(r)),r}return u()(n,[{key:"componentDidMount",value:function(){this.props.previewFragment&&(this._updateImgStyle(),window.addEventListener("resize",this._updateImgStyle))}},{key:"componentDidUpdate",value:function(e){e.previewBaseUrl!==this.props.previewBaseUrl&&(this.props.previewFragment?(this._updateImgStyle(),window.addEventListener("resize",this._updateImgStyle)):window.removeEventListener("resize",this._updateImgStyle))}},{key:"componentWillUnmount",value:function(){this.props.previewFragment&&window.removeEventListener("resize",this._updateImgStyle)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.renderFallback&&this._getPreviewUrl()!==this._getPreviewUrl(e)&&this.setState({renderFallback:!1})}},{key:"_setPreviewContainerRef",value:function(e){this._previewContainerRef=e}},{key:"_updateImgStyle",value:function(){if(this.props.previewFragment){var e=this._previewContainerRef?this._previewContainerRef.getBoundingClientRect():{};this.setState({previewFragmentStyle:C({width:e.width,height:e.height},{width:this.props.previewSize.width,height:this.props.previewSize.height},this.props.previewFragment)})}}},{key:"_onLoadError",value:function(){this.setState({renderFallback:!0})}},{key:"_getSizeFormat",value:function(){return this.context.sizeFormat||E.a}},{key:"_getPreviewUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=Object.assign({},e);if(this.props.previewFragment){var n=Math.max(window.devicePixelRatio||1,1);t.width=E.b/n,t.height=E.b/n,t.crop=!1}return Object(E.c)(t,this._getSizeFormat(),this.state.retry)}},{key:"_getPreview",value:function(){var e=this,t=this.props,n=t.onLoad,r=t.onError,o=t.active,a=t.previewBaseUrl,s=t.nonce,u=t.srcSet,c=t.srcSetFallback,l=t.shouldRenderFallback,d=t.cover,f={onLoad:n,onError:l?this._onLoadError:r};this.props.previewFragment&&this.state.previewFragmentStyle?f.style=this.state.previewFragmentStyle:f.className=k().e("image").m({cover:d});var h="undefined"==typeof window;if(u)return y.a.createElement("img",i()({srcSet:u,src:c},f));if(h){var p=[y.a.createElement("img",i()({key:"image",src:""},f))];return o&&p.push(y.a.createElement("script",{key:"script",nonce:s,dangerouslySetInnerHTML:{__html:(function(e,t){return"\nvar preview = document.querySelector('.scalable-preview_active .scalable-preview__image');\nif (preview) {\n  var drp = Math.max(window.devicePixelRatio || 1, 1);\n  var width = document.documentElement.clientWidth * drp;\n  var height = document.documentElement.clientHeight * drp;\n  preview.src = '".concat(e,"&' + '").concat(t,"'.replace('{{width}}', Math.floor(width)).replace('{{height}}', Math.floor(height));\n}")})(a,this._getSizeFormat())}})),p}var m=this._getPreviewUrl();return f.onError=function(t){e.state.retry?(l&&e._onLoadError(),r&&r(t)):setTimeout((function(){m===e._getPreviewUrl()&&e.setState({retry:!0})}),500)},y.a.createElement("img",i()({src:m},f))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.onClick,r=e.active,i=e.fitToWidth,o=e.style,a=e.previewBaseUrl,s=this.state.renderFallback;return y.a.createElement("div",{className:k().m({active:r,"fit-to-width":Boolean(i)}).mix(t),onClick:n,style:o,ref:this._setPreviewContainerRef},s||!a?y.a.createElement("div",{className:k().e("fallback")}):this._getPreview())}}]),n})(g.Component);T.contextTypes={sizeFormat:_.a.string};t.a=T}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(9),i=n.n(r),o=n(140),a=function(e,t,n){var r=!1,a=[];return e.invalid.forEach((function(e){var n=t.find((function(t){var n=t.item;return n.id===e.id&&i.a.isEqual(n.params,e.params)})),o=e.getError();o&&"HTTP_0"===o.id&&e.retryOffline()?(r=!0,a.push(n)):o&&"WRONG_SK"===o.id?a.push(n):e.shouldRetryFails()&&0!==n.retriesLeft?a.push(n):n.promise.reject(e)})),a.length?(r?Object(o.waitOnline)("/check-online"):Object(o.defer)(n)).then((function(){return a.forEach((function(e){e.retriesLeft=e.retriesLeft||3,e.retriesLeft--})),new Promise(function(e){e(a)})})):new Promise(function(e,t){t()})}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(948)),u=o(n(1037)),c=o(n(1072)),l=o(n(1076)),d=o(n(1078)),f=o(n(342)),h=o(n(114)),p=o(n(196)),m=n(28).cn("ShareDialog");n(1133),t.getConfirmTexts=function(e){return{title:h.default(e,"delete-link-confirm-title"),text:{file:h.default(e,"delete-link-confirm-text-file"),folder:h.default(e,"delete-link-confirm-text-folder"),album:h.default(e,"delete-link-confirm-text-album")},submit:h.default(e,"delete-link-confirm-submit"),cancel:h.default(e,"delete-link-confirm-cancel")}};t.default=function(e){var n=e.officeAccessType,i=e.runChangeType,o=e.onAccessTypeChange,v=e.lang,g=e.linkUrl,y=e.resourceTitle,b=e.resourceId,_=e.resourcePath,O=e.resourceType,w=void 0===O?"file":O,E=e.resourceMediaType,S=e.isResourceTypeAvailableToEdit,C=e.noViewOnlyTooltip,x=e.viewOnlyTooltipType,k=e.defaultExpanded,T=e.dialogTitle,j=e.onClose,R=e.runDeleteLink,P=e.onDeleteLink,D=e.onCopyLinkClick,I=e.isOverdraft,A=e.isVicariousDoc,M=e.blockActionOverdraft,N=e.mailOrigin,L=e.showDeleteLinkProgress,F=e.visible,B=e.zIndexGroupLevel,U=e.isUserHasRightsToModifyAccess,z=e.noAccessBlock,V=e.isTouch,H=e.isTablet,W=e.isAndroid,G=e.deselectClass,q=e.countMetrikaFn,$=e.userHasPublicSettingsFeature,Y=e.isB2bUser,K=e.chooseTariffLink,X=e.readOnlyValue,Z=e.availableUntilValue,J=e.havePasswordValue,Q=e.setLinkSettings,ee=e.onChangeSecuritySettings,te=e.externalOrganizationIds,ne=e.pddOrgId,re=a.useState(!1),ie=re[0],oe=re[1],ae=a.useCallback((function(){oe(!0),q("clickQRCode","show")}),[q]);a.useEffect((function(){F&&oe(!1)}),[F]),a.useEffect((function(){F&&q("open")}),[F,q]);var se=a.useState(!1),ue=se[0],ce=se[1],le=a.useState(!1),de=le[0],fe=le[1],he=a.useCallback((function(){ce(!0),q("click delete")}),[q]),pe=a.useCallback((function(){ce(!1),j(),q("cancel unshare")}),[j,q]),me=a.useCallback((function(){var e=R("album"===w,"album"===w?{albumId:b}:{path:_,type:w});L?(fe(!0),e.catch((function(){})).then((function(){fe(!1),ce(!1),null===P||void 0===P||P(e),j()}))):(ce(!1),null===P||void 0===P||P(e),j()),q("unshare")}),[R,b,_,w,L,j,P,q]),ve=a.useMemo((function(){return t.getConfirmTexts(v)}),[v]),ge=a.useMemo((function(){return h.default(v,{file:"share-menu-title",folder:"share-menu-title-folder",album:"share-menu-title-album"}[w])}),[w,v]),ye=a.useCallback((function(){j(),q("close")}),[j,q]),be=V&&!H,_e=!be,Oe=_e&&"album"!==w&&U&&!I&&!z,we=!V&&U&&!!ne&&"album"!==w,Ee=!_e,Se=r({visible:F&&!ue,title:T||ge,zIndexGroupLevel:B,onClose:ye,closeI18n:h.default(v,"close-menu"),className:m({touch:be},[G])},be?{useDrawer:!0,noCloseButton:!0}:null);return g?ie?a.default.createElement(f.default,r({},Se,{title:h.default(v,"qr-code-title")}),a.default.createElement(l.default,{linkUrl:g,countMetrikaFn:q})):a.default.createElement(a.default.Fragment,null,a.default.createElement(f.default,r({},Se),z?null:a.default.createElement("div",{className:m("AccessAccordion")},a.default.createElement(s.default,{shouldRenderOrganizationScopeBlock:we,isUserHasRightsToModifyAccess:U,isVicariousDoc:A,isOverdraft:I,resourcePath:_,chooseTariffLink:K,setLinkSettings:Q,officeAccessType:n,externalOrganizationIds:te,runChangeType:i,onAccessTypeChange:o,userHasPublicSettingsFeature:$,onChangeSecuritySettings:ee,isResourceTypeAvailableToEdit:S,resourceType:w,noViewOnlyTooltip:C,viewOnlyTooltipType:x||w,defaultExpanded:k,pddOrgId:ne,lang:v,visible:F,resourceId:b,isTouch:V,deselectClass:G,countMetrikaFn:q})),Oe&&a.default.createElement(d.default,{lang:v,hasFeature:$,isB2b:Y,chooseTariffLink:K,resourcePath:_,resourceMediaType:E,readOnlyValue:X,externalOrganizationIds:te,availableUntilValue:Z,havePasswordValue:J,setLinkSettings:Q,onChangeSecuritySettings:ee,officeAccessType:n,isDialogVisible:F,countMetrikaFn:q,deselectClass:G}),Ee&&a.default.createElement("div",{className:m("LinkField")},a.default.createElement(u.default,{lang:v,linkUrl:g,isUserHasRightsToModifyAccess:U,onTrashClick:he,countMetrikaFn:q})),a.default.createElement(c.default,{lang:v,visible:F,url:g,onCopyLinkClick:D,isOverdraft:I,blockActionOverdraft:M,mailOrigin:N,resourceTitle:y,resourceType:w,officeAccessType:n,onClickQR:ae,isTouch:V,isAndroid:W,countMetrikaFn:q})),a.default.createElement(p.default,{visible:ue,title:ve.title,submitButtonText:ve.submit,cancelButtonText:V?"":ve.cancel,submitButtonProps:{progress:de},onSubmit:me,onClose:pe,closeI18n:h.default(v,"close-menu"),className:G},ve.text[w])):a.default.createElement(f.default,r({},Se),a.default.createElement("div",{className:m("AccordionStub")}),Ee&&a.default.createElement("div",{className:m("LinkStub")}),Oe&&a.default.createElement("div",{className:m("SecuritySettingsStub",{withFeature:$})}),a.default.createElement("div",{className:m("CopyButtonStub")}))}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n(0),i=Object(r.createContext)({});i.displayName="RadioGroup";var o=i.Provider,a=function(){return Object(r.useContext)(i)}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),i=n(0),o=n.n(i),a=n(156);function s(e){return (function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={hovered:e.props.hovered},e.onMouseEnter=function(t){e.setState({hovered:!0}),void 0!==e.props.onMouseEnter&&e.props.onMouseEnter(t)},e.onMouseLeave=function(t){e.setState({hovered:!1}),void 0!==e.props.onMouseLeave&&e.props.onMouseLeave(t)},e}return Object(r.__extends)(n,t),n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({hovered:!e.disabled&&(this.state.hovered||e.hovered)})},n.prototype.render=function(){var t=this.state.hovered,n=this.props.disabled,i=e;return o.a.createElement(i,Object(r.__assign)({},this.props,{hovered:n?void 0:t,onMouseEnter:n?void 0:this.onMouseEnter,onMouseLeave:n?void 0:this.onMouseLeave}))},n.displayName="WithControl@desktop("+Object(a.a)(e)+")",n})(i.PureComponent)}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=!1}),(function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(0),i=n.n(r),o={value:0,id:0},a=Object(r.createContext)(o),s=function(e){var t=e.children,n=Object(r.useContext)(a),s=Object(r.useMemo)((function(){return{value:0,id:n===o?0:++n.id}}),[n]);return i.a.createElement(a.Provider,{value:s},t)}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),i=n(0),o=n.n(i),a=n(76),s=(n(1003),Object(i.forwardRef)((function(e,t){var n=e.className,i=Object(r.__rest)(e,["className"]);return o.a.createElement("div",Object(r.__assign)({},i,{ref:t,className:Object(a.b)("Tail",null,[n])}),o.a.createElement("svg",{viewBox:"0 0 24 24",className:Object(a.b)("TailSvg")},o.a.createElement("path",{className:Object(a.b)("TailFill"),d:"M12 16C15 16 18 24 24 24H0C6 24 9 16 12 16Z",fill:"none"}),o.a.createElement("path",{className:Object(a.b)("TailBorder"),d:"M8.05888 18.9807C6.77697 20.3966 5.32977 21.9951 3.57172 23H0C2.53449 23 4.52121 21.3153 6.39546 19.3161C6.68742 19.0046 6.98315 18.6782 7.27806 18.3526L7.27807 18.3526C7.87384 17.6949 8.46631 17.0408 9.01776 16.5218C9.82327 15.7637 10.827 15 12 15C13.173 15 14.1767 15.7637 14.9822 16.5218C15.5337 17.0408 16.1262 17.6949 16.7219 18.3526L16.7219 18.3526L16.7222 18.3529C17.017 18.6783 17.3127 19.0047 17.6045 19.3161C19.4788 21.3153 21.4655 23 24 23H20.4283C18.6702 21.9951 17.223 20.3966 15.9411 18.9807C14.4853 17.3726 13.2426 16 12 16C10.7574 16 9.51472 17.3726 8.05888 18.9807Z",fill:"none"})))})))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(78);function i(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Object(r.c)(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(424);function i(e){return Object.assign(Object.assign({},Object(r.a)()),e)}}),(function(e,t,n){"use strict";function r(){return{top:0,right:0,bottom:0,left:0}}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";function r(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(106),i=n(168),o=n(239),a=n(39);function s(e){var t,n=e.reference,s=e.element,u=e.placement,c=u?Object(r.a)(u):null,l=u?Object(i.a)(u):null,d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2;switch(c){case a.m:t={x:d,y:n.y-s.height};break;case a.c:t={x:d,y:n.y+n.height};break;case a.k:t={x:n.x+n.width,y:f};break;case a.f:t={x:n.x-s.width,y:f};break;default:t={x:n.x,y:n.y}}var h=c?Object(o.a)(c):null;if(null!=h){var p="y"===h?"height":"width";switch(l){case a.l:t[h]=Math.floor(t[h])-Math.floor(n[p]/2-s[p]/2);break;case a.e:t[h]=Math.floor(t[h])+Math.ceil(n[p]/2-s[p]/2)}}return t}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return t.reduce((function(t,n){return t.concat(e(n))}),[])}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(259),i=['[contenteditable]:not([contenteditable="false"])',"[tabindex]","a[href]","area[href]","audio[controls]","button","details","details>summary:first-of-type","input","select","textarea","video[controls]","iframe"].join(",");function o(e){return!(!Object(r.e)(e,i)||Object(r.b)(e)||e.disabled||Object(r.a)(e))}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i="undefined"!=typeof navigator&&navigator.language||"ru-RU",o=Object(r.createContext)(i)}),(function(e,t,n){var r=n(29).USER_SETTINGS_DEFAULTS;e.exports={preprocessSettings:function(e,t){var n=Object.assign({},e);return t&&(n.view||(n.view="list")),Object.assign({},r,n)}}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(28),s=i(n(456)),u=i(n(1319));n(1320);var c=a.cn("Promo-Tooltip"),l={width:87,height:92,left:-43,bottom:-26};t.default=function(e){var t=e.text,n=e.className,r=e.anchor,i=e.scope,a=e.visible,d=e.onClose,f=e.onClick,h=e.discountPercent,p=e.promoPayload,m=e.mainOffset,v=void 0===m?9:m,g=o.useRef(null),y={width:null===p||void 0===p?void 0:p.width,height:null===p||void 0===p?void 0:p.height,left:null===p||void 0===p?void 0:p.leftOffset,bottom:null===p||void 0===p?void 0:p.bottomOffset},b=(null===p||void 0===p?void 0:p.textPaddingLeft)&&{paddingLeft:p.textPaddingLeft},_=[null===y||void 0===y?void 0:y.width,null===y||void 0===y?void 0:y.height,null===y||void 0===y?void 0:y.left,null===y||void 0===y?void 0:y.bottom].every((function(e){return"number"==typeof e})),O=h&&{10:"discount10",20:"discount20",30:"discount30"}[String(h)]||"discount",w=!p||(null===p||void 0===p?void 0:p.opaque),E=o.useCallback((function(e){var t;(null===(t=g.current)||void 0===t?void 0:t.contains(e.currentTarget))&&(e.stopPropagation(),d())}),[d]);return o.default.createElement(s.default,{size:"s",view:"default",mainOffset:v,className:c({Custom:Boolean(p)},n?[n]:[]),anchor:r,hasTail:!0,opaque:w,direction:"bottom-end",visible:a,onClose:E,onClick:f,scope:i,innerRef:g,background:(null===p||void 0===p?void 0:p.background)&&o.default.createElement("div",{className:c("Background"),style:{backgroundImage:"url("+p.background}})},o.default.createElement("div",{style:b||{}},(null===p||void 0===p?void 0:p.text)||t),o.default.createElement("div",{style:_&&y||l,className:c("Corner")},(null===p||void 0===p?void 0:p.img)?o.default.createElement("img",{className:c("Image"),src:p.img}):o.default.createElement(u.default,{name:O})))}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return p.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.454 5.623c2.121 2.231 2.053 5.732-.158 8.071-.624.66-1.391 1.445-2.354 2.413l-.317.317c-.366.365-.953.945-2.197 2.172l-1.724 1.702-.704.696-.703-.696-1.724-1.702-.003-.002c-1.227-1.21-1.825-1.8-2.194-2.17l-.317-.318a131.464 131.464 0 01-2.354-2.412c-2.211-2.339-2.28-5.84-.159-8.07C6.61 3.45 9.948 3.46 12 5.643c2.053-2.184 5.39-2.193 7.454-.021z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(5),l=n.n(c),d=n(7),f=n.n(d),h=n(1),p=n.n(h),m=n(0),v=n.n(m),g=n(27),y=n.n(g),b=n(166),_=n(25),O=n(126),w=n(41),E=n(11),S=n.n(E);n(1380);function C(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var x=function(){return S()()("resources-action-bar")},k=(function(e){l()(n,e);var t=C(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onWindowKeyUp=r._onWindowKeyUp.bind(u()(r)),r}return a()(n,[{key:"getChildContext",value:function(){return{visible:this.props.visible,onClose:this.props.onClose}}},{key:"componentDidMount",value:function(){window.addEventListener("keyup",this._onWindowKeyUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this._onWindowKeyUp)}},{key:"_onWindowKeyUp",value:function(e){e.keyCode&&27===e.keyCode&&this.props.onClose()}},{key:"_renderCloseButton",value:function(){var e=v.a.createElement(_.Button,{className:x().e("close"),onClick:this.props.onClose,"aria-label":this.props.closeButtonText,size:"m",view:"clear-inverse",icon:O.close2IconProvider});return this.props.isMobile?e:v.a.createElement(b.default,{text:this.props.closeButtonText,disabled:this.props.isMobile,direction:["left"]},e)}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.fixed,r=e.delay,i=e.theme,o=e.setRef,a=e.onTransitionEnd,s=v.a.Children.toArray(this.props.children).filter(Boolean);return v.a.createElement("div",{ref:o,className:x().m({visible:t,fixed:n,delay:r,theme:i}).mix(w.LISTING_PREVENT_DESELECT_CLASS).mix(this.props.cls),"aria-hidden":!t,onTransitionEnd:a},t?v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:x().e("body")},s),this._renderCloseButton()):null)}}]),n})(m.PureComponent);k.childContextTypes={visible:y.a.bool,onClose:y.a.func},k.Left=function(e){var t=e.children;return v.a.createElement("div",{className:x().e("side-left")},t)},k.Left.displayName="ResourcesActionBar.Left",k.Right=function(e){var t=e.children;return v.a.createElement("div",{className:x().e("side-right")},t)},k.Right.displayName="ResourcesActionBar.Right",k.defaultProps={onClose:function(){},onTransitionEnd:function(){},theme:"blue"},t.a=k}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{d:"M0 10.031h5.999v2.519l4.407-3.526L5.999 5.5v2.531H0V1h5.923L8 3h8v12H0z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),u=n(27),c=[],l=[];function d(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then((function(e){return n.loading=!1,n.loaded=e,e})).catch((function(e){throw n.loading=!1,n.error=e,e})),n}function f(e){var t={loading:!1,loaded:{},error:null},n=[];try{Object.keys(e).forEach((function(r){var i=d(e[r]);i.loading?t.loading=!0:(t.loaded[r]=i.loaded,t.error=i.error),n.push(i.promise),i.promise.then((function(e){t.loaded[r]=e})).catch((function(e){t.error=e}))}))}catch(e){t.error=e}return t.promise=Promise.all(n).then((function(e){return t.loading=!1,e})).catch((function(e){throw t.loading=!1,e})),t}function h(e,t){return s.createElement(function(e){return e&&e.__esModule?e.default:e}(e),t)}function p(e,t){var d,f;if(!t.loading)throw new Error("react-loadable requires a `loading` component");var p=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:h,webpack:null,modules:null},t),m=null;function v(){return m||(m=e(p.loader)),m.promise}return c.push(v),"function"==typeof p.webpack&&l.push((function(){if(function(e){return"object"===r(n.m)&&e().every((function(e){return void 0!==e&&void 0!==n.m[e]}))}(p.webpack))return v()})),f=d=(function(t){function n(r){i(this,n);var a=o(this,t.call(this,r));return a.retry=function(){a.setState({error:null,loading:!0,timedOut:!1}),m=e(p.loader),a._loadModule()},v(),a.state={error:m.error,pastDelay:!1,timedOut:!1,loading:m.loading,loaded:m.loaded},a}return a(n,t),n.preload=function(){return v()},n.prototype.componentWillMount=function(){this._mounted=!0,this._loadModule()},n.prototype._loadModule=function(){var e=this;if(this.context.loadable&&Array.isArray(p.modules)&&p.modules.forEach((function(t){e.context.loadable.report(t)})),m.loading){"number"==typeof p.delay&&(0===p.delay?this.setState({pastDelay:!0}):this._delay=setTimeout((function(){e.setState({pastDelay:!0})}),p.delay)),"number"==typeof p.timeout&&(this._timeout=setTimeout((function(){e.setState({timedOut:!0})}),p.timeout));var t=function(){e._mounted&&(e.setState({error:m.error,loaded:m.loaded,loading:m.loading}),e._clearTimeouts())};m.promise.then((function(){t()})).catch((function(e){t()}))}},n.prototype.componentWillUnmount=function(){this._mounted=!1,this._clearTimeouts()},n.prototype._clearTimeouts=function(){clearTimeout(this._delay),clearTimeout(this._timeout)},n.prototype.render=function(){return this.state.loading||this.state.error?s.createElement(p.loading,{isLoading:this.state.loading,pastDelay:this.state.pastDelay,timedOut:this.state.timedOut,error:this.state.error,retry:this.retry}):this.state.loaded?p.render(this.state.loaded,this.props):null},n})(s.Component),d.contextTypes={loadable:u.shape({report:u.func.isRequired})},f}function m(e){return p(d,e)}m.Map=function(e){if("function"!=typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return p(f,e)};var v=(function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.getChildContext=function(){return{loadable:{report:this.props.report}}},t.prototype.render=function(){return s.Children.only(this.props.children)},t})(s.Component);function g(e){for(var t=[];e.length;){var n=e.pop();t.push(n())}return Promise.all(t).then((function(){if(e.length)return g(e)}))}v.propTypes={report:u.func.isRequired},v.childContextTypes={loadable:u.shape({report:u.func.isRequired}).isRequired},m.Capture=v,m.preloadAll=function(){return new Promise(function(e,t){g(c).then(e,t)})},m.preloadReady=function(){return new Promise(function(e,t){g(l).then(e,e)})},e.exports=m}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"linkIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("g",null,p.a.createElement("path",{fill:"currentColor",d:"M10.792 6.572c.35-.38.34-.97-.025-1.337a.97.97 0 0 0-1.338-.028l-.093.089-1.364 1.367-1.312 1.31-1.361 1.364-.091.091a.965.965 0 1 0 1.365 1.365l.09-.093 1.364-1.36 1.312-1.313L10.7 6.664l.094-.093v.002l-.003-.001z"}),p.a.createElement("path",{fill:"currentColor",d:"M14.796 2.955l-1.773-1.778c-1.055-1.061-2.903-1.061-3.96 0L7.289 2.955a2.803 2.803 0 0 0-.17 3.756l1.454-1.46a.768.768 0 0 1 .154-.858l1.776-1.777a.761.761 0 0 1 1.084 0l1.776 1.777a.775.775 0 0 1 0 1.09L11.587 7.26a.784.784 0 0 1-.854.15L9.275 8.876a2.77 2.77 0 0 0 3.75-.173L14.8 6.924a2.817 2.817 0 0 0 0-3.97h-.004zm-7.37 7.765c.133.29.072.63-.153.856l-1.776 1.781a.787.787 0 0 1-1.085 0L2.64 11.576a.77.77 0 0 1 0-1.085l1.773-1.784a.76.76 0 0 1 .858-.154l1.456-1.458c-1.08-.875-2.76-.827-3.751.168L1.2 9.045a2.817 2.817 0 0 0 0 3.974l1.773 1.777c.528.53 1.234.823 1.979.823.75 0 1.453-.292 1.984-.823l1.773-1.78a2.807 2.807 0 0 0 .174-3.76l-1.456 1.463-.002.004.002-.003z"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(0),s=n(6);n(1446);var u,c=n(198),l=(u=n(665)).Modal,d=u.withThemeNormal,f=s.compose(d)(l);t.Modal=function(e){var t=e.visible,n=e.innerRef,i=e.onRender,s=e.onAnimationEnd,u=a.useState(!1),l=u[0],d=u[1],h=a.useState(!1),p=h[0],m=h[1];a.useEffect((function(){t&&!p&&d(!0),m(t)}),[t,p]);var v=a.useCallback((function(e){if("function"==typeof n&&n(e),e&&l){d(!1),i&&i();var t=function(){s&&s(),e.removeEventListener("animationend",t)};e.addEventListener("animationend",t)}}),[n,l,i,s]),g=c(e,["onRender","onAnimationEnd"]);return o.default.createElement(f,r({},g,{innerRef:v}))}}),(function(e,t,n){"use strict";n.r(t);var r=n(32),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),d=n(5),f=n.n(d),h=n(7),p=n.n(h),m=n(1),v=n.n(m),g=n(19),y=n(0),b=n.n(y),_=n(226),O=n(143),w=n(390),E=n(16),S=n(30),C=n(64),x=n(9),k=n.n(x),T=(n(1449),n(11)),j=n.n(T);function R(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var P=function(){return j()()("select-folder-listing")},D=(function(e){f()(n,e);var t=R(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onResourceOpen=r._onResourceOpen.bind(l()(r)),r._onSelectResource=r._onSelectResource.bind(l()(r)),r._onBackClick=r._onBackClick.bind(l()(r)),r._fetchListing=r._fetchListing.bind(l()(r)),r._getAdditionalFields=r._getAdditionalFields.bind(l()(r)),r._scrollContainer=b.a.createRef(),r}return u()(n,[{key:"componentDidMount",value:function(){this._onChangeFolder()}},{key:"componentDidUpdate",value:function(e){e.currentResource.id!==this.props.currentResource.id&&this._onChangeFolder()}},{key:"_onChangeFolder",value:function(){this._fetchListing(),this._scrollContainer.current&&(this._scrollContainer.current.scrollTop=0)}},{key:"_onResourceOpen",value:function(e){this.props.onResourceOpen(e)}},{key:"_onSelectResource",value:function(e){this.props.onSelectResource(e)}},{key:"_getAdditionalFields",value:function(e){var t=Boolean(k.a.get(e,"meta.public"));return[{type:"public-link",position:O.POSITIONS.ALWAYS_RIGHT,content:t?b.a.createElement(w.a,null):null}]}},{key:"_onBackClick",value:function(){var e=this.props.currentResource.parents;this.props.onSelectResource(e[e.length-1].id)}},{key:"_fetchListing",value:function(){this.props.fetchListing(this.props.currentResource.id)}},{key:"render",value:function(){var e=this.props,t=e.cls,n=e.OSFamily,r=e.currentResource,o=e.resources,a=e.resourcesByIds,s=e.isComplete,u=e.selectedResources,c=e.isResourceDisabled,l=!Object(C.isRootOfVirtualDisk)(r.id)&&(r.parents||[]).length;return Object(C.getIsVirtualDiskList)(r.id)&&o.unshift({icon:"vd",iconType:"vd",id:"/disk",name:"Мой Диск",type:"vd"}),b.a.createElement("div",{className:P().mix(t),ref:this._scrollContainer},l?b.a.createElement(O.default,i()({modifier:"current",theme:"row"},r,{title:r.name,iconType:"back",onSelect:this._onBackClick,onOpen:this._onBackClick})):null,b.a.createElement(_.default,{OSFamily:n,theme:"row",titleOverflow:"clamp",isTouch:!1,useRealDevicePixelRatio:!0,isSelectable:!0,onSelectResource:this._onSelectResource,onResourceOpen:this._onResourceOpen,requestFetchNext:this._fetchListing,loading:r.isLoading,completed:s,resources:o,isResourceDisabled:c,getAdditionalFields:this._getAdditionalFields,resourcesByIds:a,scrollingElementSelector:"."+P(),animatedContainerSelector:".select-folder-dialog",selectedResources:u}))}}]),n})(y.Component);t.default=Object(g.connect)((function(e,t){var n=t.folderId,r=e.resources,i=e.environment.agent.OSFamily,o=r[n]||{id:n};return{resources:Object(S.getResourceChildren)(e,o).filter((function(e){var t=e.type,n=e.id;return"dir"!==t||"/trash"!==n})),isComplete:Object(S.resourceIsComplete)(e,o),resourcesByIds:r,currentResource:o,OSFamily:i}}),{fetchListing:E.fetchListing})(D)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",d:"M1 13v2h14v-2H1z M2 7h3v5h6V6.969L14 7L8 1L2 7z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(25),a=n(126),s=n(29),u=n(41),c=n(11),l=n.n(c),d=(n(1593),function(){return l()()("promo-banner")});t.a=function(e){var t=e.cls,n=e.onClose,r=e.children,c=e.customClose,l=void 0!==c&&c;return i.a.createElement("div",{className:d().mix([t,s.PREVENT_CUSTOM_CONTEXT_MENU_CLASS,u.LISTING_PREVENT_MOUSE_SELECTION_CLASS])},!l&&i.a.createElement(o.Button,{view:"clear",className:d().e("close"),onClick:n,"aria-label":"Закрыть",icon:function(e){return i.a.createElement(a.default,{iconSize:"m",className:e})}}),r)}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M1 3.714l8.842-1.557v9.272H1V3.714zm9.947-1.767L22 0v11.429H10.947V1.947zM1 20.157v-7.715h8.842v9.272L1 20.157zm9.947 1.896v-9.581H22V24l-11.053-1.947z"})}}]),n})(m.default);Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M20.56 18.795a12.642 12.642 0 0 1-1.34 2.28c-.705.95-1.282 1.608-1.727 1.974-.69.6-1.428.907-2.22.924-.567 0-1.252-.153-2.05-.463-.799-.308-1.534-.461-2.206-.461-.705 0-1.46.153-2.27.461-.809.31-1.461.472-1.96.488-.759.03-1.515-.285-2.27-.95-.481-.397-1.084-1.078-1.805-2.043-.775-1.031-1.411-2.226-1.91-3.589C.268 15.944 0 14.519 0 13.139c0-1.58.361-2.944 1.084-4.086a6.194 6.194 0 0 1 2.27-2.173 6.372 6.372 0 0 1 3.07-.82c.603 0 1.393.177 2.375.523.98.348 1.608.524 1.883.524.206 0 .905-.206 2.089-.617 1.12-.381 2.064-.539 2.838-.477 2.098.16 3.674.943 4.722 2.352-1.876 1.075-2.804 2.581-2.786 4.513.017 1.505.594 2.758 1.728 3.752A5.719 5.719 0 0 0 21 17.7c-.139.38-.285.744-.44 1.094zM16 .507c0 1.267-.434 2.45-1.298 3.545-1.044 1.302-2.306 2.054-3.674 1.936a4.207 4.207 0 0 1-.028-.48c0-1.217.496-2.519 1.377-3.583.44-.54 1-.987 1.678-1.345.677-.352 1.318-.547 1.92-.58.018.17.025.339.025.507z"})}}]),n})(m.default);Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=n(21),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),d=n(5),f=n.n(d),h=n(7),p=n.n(h),m=n(1),v=n.n(m),g=n(0),y=n.n(g),b=n(74),_=n(32),O=n.n(_),w=n(11),E=n.n(w),S=n(37),C=n.n(S),x=n(63),k=n(25),T=n(178),j=n(207),R=n(179),P=n(123);n(1312);function D(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var I=function(){return E()()("search-bubble")},A=(function(e){f()(n,e);var t=D(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._contentMounted=r._contentMounted.bind(l()(r)),r._onClick=r._onClick.bind(l()(r)),r._setUnselectable=r._setUnselectable.bind(l()(r)),r.state={},r}return u()(n,[{key:"_setUnselectable",value:function(e){1===e.nodeType&&(e.setAttribute("unselectable","on"),Array.prototype.forEach.call(e.childNodes,this._setUnselectable))}},{key:"_contentMounted",value:function(e){if(e){var t=e.innerText;this.setState({title:t}),this._setUnselectable(e)}}},{key:"_onClick",value:function(e){e.stopPropagation(),this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.isSelected,r=e.onClose,i=e.removeBubbleTitle;return y.a.createElement("div",{className:I().m({"is-selected":n}),title:this.state.title,onClick:this._onClick},y.a.createElement("span",{className:I().e("text"),ref:this._contentMounted},t),y.a.createElement(k.Button,{view:"clear",className:I().e("close"),onClick:r,title:i||"Удалить",ariaLabel:i,icon:P.close3IconProvider}))}}]),n})(y.a.Component);n(1313);function M(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var N=function(){return E()()("search-bubble-list")},L=(function(e){f()(n,e);var t=M(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._elementDidMount=r._elementDidMount.bind(l()(r)),r._scrollHorizontally=r._scrollHorizontally.bind(l()(r)),r._scrollBy=r._scrollBy.bind(l()(r)),r}return u()(n,[{key:"_elementDidMount",value:function(e){e&&(this.node=e,e.addEventListener("wheel",this._scrollHorizontally))}},{key:"_scrollBy",value:function(e){this.node&&(this.node.scrollBy?this.node.scrollBy(e,0):this.node.scrollLeft=this.node.scrollLeft+e)}},{key:"_scrollHorizontally",value:function(e){var t=e.deltaY;0!==e.deltaX&&(t=-e.deltaX),1===e.deltaMode&&(t*=17),Math.abs(t)>100&&(t=t>0?50:-50),this._scrollBy(t),e.stopPropagation(),e.preventDefault()}},{key:"_bringNthBubbleToView",value:function(e){if(this.wrap&&this.wrap.childNodes[e]){var t=this.wrap.childNodes[e],n=getComputedStyle(t),r=parseInt(n&&n.marginLeft||"0",10),i=t.offsetLeft-r-(this.node&&this.node.scrollLeft||0);if(i<0)this._scrollBy(i);else{var o=i+t.offsetWidth+r,a=this.node&&this.node.offsetWidth||0;o>a&&this._scrollBy(o-a)}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.bubbles,r=t.removeBubbleTitle,i=t.cls,o=t.onBubbleClick,a=t.onBubbleRemove,s=t.selectedIndexes;return y.a.createElement("div",{className:N().mix(i),ref:this._elementDidMount},y.a.createElement("div",{className:N().e("bubble-wrap"),ref:function(t){e.wrap=t}},n&&n.map((function(e,t){var n=e.content,i=e.id;return y.a.createElement(A,{key:i||n,content:n,isSelected:s&&-1!==s.indexOf(t),onClick:function(e){return o&&o(e,t)},onClose:function(){return a&&a(i)},removeBubbleTitle:r})}))))}},{key:"componentWillUnmount",value:function(){this.node&&this.node.removeEventListener("wheel",this._scrollHorizontally)}},{key:"componentDidUpdate",value:function(e){this.props.bubbles!==e.bubbles&&this.props.bubbles.length>=e.bubbles.length&&this._scrollBy(this.wrap.scrollWidth),this.props.selectedIndexes!==e.selectedIndexes&&1===this.props.selectedIndexes.length&&this._bringNthBubbleToView(this.props.selectedIndexes[0])}}]),n})(y.a.Component),F=n(15);function B(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var U=(function(e){f()(n,e);var t=B(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"getContentSVG",value:function(){return y.a.createElement("path",{clipRule:"evenodd",fill:"currentColor",fillRule:"evenodd",d:"M8 9.414l5.293 5.293a1 1 0 1 0 1.415-1.415L9.415 8l5.293-5.293a1 1 0 0 0-1.414-1.414L8 6.586 2.707 1.293a1 1 0 0 0-1.414 1.414L6.586 8l-5.293 5.292a1 1 0 1 0 1.415 1.415z"})}}]),n})(F.default),z=Object(F.iconProvider)(U),V=(n(597),function(){return E()()("search-input")}),H={normal:"normal","ps-header":"clear"},W=function(e){var t=e.advancedButton,n=e.containerRef,r=e.showCross,i=e.showIcon,o=e.theme,a=e.onCrossClick;return t||r||i?y.a.createElement("div",{className:V().e("right-buttons"),ref:n},t,r?y.a.createElement(k.Button,{theme:H[o],view:"clear",size:"m",className:V().e("narrow-close-button"),icon:z,onClick:a}):null,i?y.a.createElement(j.a,{cls:V().e("magnify-icon")}):null):null};n(1314);function G(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var q=function(){return E()()("search-input")},$=(function(e){f()(n,e);var t=G(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onFormSubmit=r._onFormSubmit.bind(l()(r)),r._onKeyDown=r._onKeyDown.bind(l()(r)),r._onCrossClick=r._onCrossClick.bind(l()(r)),r._onFocus=r._onFocus.bind(l()(r)),r._onButtonActivatorClick=r._onButtonActivatorClick.bind(l()(r)),r.setFocus=r.setFocus.bind(l()(r)),r._onChange=r._onChange.bind(l()(r)),r._rightButtons=y.a.createRef(),r._inputRef=null,r}return u()(n,[{key:"componentDidMount",value:function(){this.props.focus&&(this._focusTimer=setTimeout(this.setFocus,1))}},{key:"componentDidUpdate",value:function(e){this.props.focus!==e.focus&&(this.props.focus?this.setFocus():this.setBlur())}},{key:"componentWillUnmount",value:function(){this._focusTimer&&clearTimeout(this._focusTimer)}},{key:"_onFormSubmit",value:function(e){e.preventDefault(),this.props.onSubmit(x.a.SEARCH_BUTTON)}},{key:"_onKeyDown",value:function(e){if(e.keyCode===C.a.KEYS.ENTER)return e.preventDefault(),e.stopPropagation(),void this.props.onSubmit(x.a.ENTER_PRESS);var t=this.props.bubbles,n=e.target.selectionStart,r=e.target.selectionEnd-n;0!==n||0!==r||!t.length||e.keyCode!==C.a.KEYS.LEFT&&e.keyCode!==C.a.KEYS.BACKSPACE||this.props.onBackspace&&this.props.onBackspace()}},{key:"_getPropsForRightButtons",value:function(){var e=this.props,t=e.advancedButton,n=e.tone,r=e.text,i=e.showClose,o=e.isFolded,a=e.iconPosition,s=e.theme;return{iconRight:y.a.createElement(W,{containerRef:this._rightButtons,advancedButton:t,tone:n,theme:s,showCross:!!(r||i&&!o),showIcon:o&&"right"===a,onCrossClick:this._onCrossClick})}}},{key:"_onCrossClick",value:function(){var e=this.props,t=e.text,n=e.onClearClick,r=e.onCloseClick,i=e.onTextChange;t?(i(""),this.setFocus(),n()):r()}},{key:"setFocus",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._inputRef&&(this._inputRef.focus(),null!==t&&(e="start"===t?0:"end"===t?this._inputRef.value.length:t,this._inputRef.setSelectionRange(e,e)))}},{key:"setBlur",value:function(){this._inputRef&&this._inputRef.blur()}},{key:"_onFocus",value:function(e){var t=this._rightButtons.current;if(!t||!t.contains(e.target)){var n=this.props,r=n.preventFocusSet,i=n.onFocus;r&&this.setBlur(),i()}}},{key:"_maybeRenderSearchButton",value:function(){var e=this.props,t=e.isMobile,n=e.isCompact,r=e.isFolded,i=e.searchButtonText;return t||r?null:y.a.createElement(k.Button,{view:"suggest",size:n?"s":"m",pin:"clear-round",className:q().e("form-button"),type:"submit"},i||"Найти")}},{key:"_onButtonActivatorClick",value:function(){this.setFocus()}},{key:"_maybeRenderButtonActivator",value:function(){var e=this.props,t=e.isMobile,n=e.isCompact,r=e.isFolded,i=e.clsActivator;if((t||n)&&r)return y.a.createElement(k.Button,{view:"clear",size:"m",className:q().e("form-activator").mix(i),onClick:this._onButtonActivatorClick,icon:j.b})}},{key:"_onChange",value:function(e){this.props.onTextChange(e.target.value)}},{key:"render",value:function(){var e=this,t=this.props,n=t.bubbles,r=t.iconPosition,i=t.isCompact,o=t.isFolded,a=t.isMobile,s=t.maxLength,u=t.onClick,c=t.onBubbleClick,l=t.onBubbleRemove,d=t.placeholder,f=t.removeSearchBubbleTitle,h=t.selectedBubblesIndexes,p=t.tone,m=t.noBubbleList,v=t.theme,g=this._maybeRenderButtonActivator(),b=this._maybeRenderSearchButton(),_={};a?_.iconLeft=y.a.createElement(R.b,{onClick:this.props.onClose}):o&&"left"===r?_.iconLeft=y.a.createElement(j.a,{cls:q().e("magnify-icon")}):b&&(_.pin="round-clear");return y.a.createElement("div",{className:q().m({"search-icon":r,theme:v,tone:p})},g,y.a.createElement("form",{className:q().e("form").m({hidden:Boolean(g),folded:o}),onSubmit:this._onFormSubmit},y.a.createElement("div",{className:q().e("text-bubble-container")},m?null:y.a.createElement(L,{bubbles:n,removeBubbleTitle:f,cls:p,onBubbleClick:c,onBubbleRemove:l,selectedIndexes:h}),y.a.createElement(T.Textinput,O()({className:q().e("form-input").m({"has-bubbles":Boolean(n.length)}),type:"text",view:p,size:i?"s":"m",controlRef:function(t){e._inputRef=t},placeholder:d,value:this.props.text,onKeyDown:this._onKeyDown,onFocus:this._onFocus,onBlur:this.props.onBlur,onChange:this._onChange,onClick:u,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false","aria-autocomplete":"list","aria-controls":this.props.ariaResultKey,"aria-activedescendant":this.props.ariaActiveResultItemKey,maxLength:s},_,this._getPropsForRightButtons()))),b))}}]),n})(g.PureComponent);$.defaultProps={bubbles:[],preventFocusSet:!1,onFocus:function(){}};var Y=$;n(1315);function K(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var X=function(){return E()()("search-result")},Z=(function(e){f()(n,e);var t=K(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"_getItems",value:function(){var e=this.props,t=e.query,n=e.items,r=e.ariaItemKey,i=e.ariaKey,o=e.hoverIndex,a=e.activeIndex,s=e.renderItem,u=e.getShowText,c=e.getItemType,l=e.onItemHover,d=e.onSelect,f=-1!==o?o:a,h=n&&n.map((function(e,n){var i=n===f;return y.a.createElement("div",{className:X().e("item").m({active:i,type:c(e)}),key:"".concat(t,"-").concat(n),onClick:function(){return d(e,n)},onMouseEnter:function(){return l(n)},"aria-selected":i,role:"option",id:"".concat(r,"-").concat(n),title:u(e)},s(e))}));return y.a.createElement("div",{className:X().e("items"),role:"listbox",id:i,onMouseLeave:function(){return l(-1)}},h)}},{key:"render",value:function(){return y.a.createElement("div",{className:X()},this._getItems())}}]),n})(g.PureComponent);function J(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}n.d(t,"a",(function(){return ae}));var Q=function(){return E()()("search")},ee="suggest-result",te="suggest-result-item",ne={SHORTCUT:"shortcut",CLOSE_CLICK:"close-click",BG_CLICK:"bg-click"},re="click",ie="hotkey",oe="js-no-suggest-hotkey",ae="js-prevent-popup-close",se=(function(e){f()(n,e);var t=J(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onBubbleClick=r._onBubbleClick.bind(l()(r)),r._onInputBlur=r._onInputBlur.bind(l()(r)),r._onInputFocus=r._onInputFocus.bind(l()(r)),r._onKeyDown=r._onKeyDown.bind(l()(r)),r._onSubmit=r._onSubmit.bind(l()(r)),r._onItemHover=r._onItemHover.bind(l()(r)),r._preventFocusLoose=r._preventFocusLoose.bind(l()(r)),r._onCloseClick=r._onCloseClick.bind(l()(r)),r._onSelect=r._onSelect.bind(l()(r)),r._onTextChange=r._onTextChange.bind(l()(r)),r._activate=r._activate.bind(l()(r)),r._onWindowMouseDown=r._onWindowMouseDown.bind(l()(r)),r._targetCanSendActivateHokey=function(e){for(var t=e;t&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&"true"!==t.contentEditable&&(!t.className||-1===t.className.split(" ").indexOf(oe));)t=t.parentNode;return!t},r._isSuggestActive=!1,r.state={activeItemIndex:-1,hoverItemIndex:-1,inputText:e.suggestQuery,selectedBubblesIndexes:Array()},r.selectedBubblesIndexFrom=null,r.selectedBubblesIndexTo=null,r._container=y.a.createRef(),r._content=y.a.createRef(),r}return u()(n,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.state.inputText?x.b.UNFOLDED_INACTIVE:x.b.FOLDED;"undefined"!=typeof window?(this._setSuggestState(e),window.addEventListener("keydown",this._onKeyDown,!0)):this.setState({state:e})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("mousedown",this._onWindowMouseDown)}},{key:"componentDidMount",value:function(){var e=this.state.state;this._onSuggestStateSet(void 0,e),window.addEventListener("mousedown",this._onWindowMouseDown)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.suggestQuery;n!==this.state.inputText&&this.setState({inputText:n});var r=t.state,i=this.state.state;e.bubbles!==this.props.bubbles&&this._clearBubblesSelection(),this._onSuggestStateSet(r,i)}},{key:"_setActiveItem",value:function(e){var t=this.props.suggestItems,n=this.state,r=n.activeItemIndex,i=n.hoverItemIndex,o=-1===i?r:i;(o+=e?1:-1)>=t.length?o=-1:o<-1&&(o=t.length-1),this.setState({activeItemIndex:o,hoverItemIndex:-1})}},{key:"_setSelectedBubbles",value:function(e,t){var n=this.props.bubbles;if(n.length){var r=this.state.selectedBubblesIndexes;t||e||1!==r.length||r[0]!==n.length-1||(this._clearBubblesSelection(),this.focusInput(!1,0));var i=this.selectedBubblesIndexFrom,o=this.selectedBubblesIndexTo,a=null,s=null;if(null===i){if(!e)return;i=n.length-1,o=n.length-1,a=i}else{var u=o;e&&o>0?o--:!e&&o<n.length-1&&o++,t?o!==u&&(e&&i<u||!e&&i>u)?s=u:a=o:a=i=o}if(r=t?r.slice(0):[],null!==a&&-1===r.indexOf(a))r.push(a);else if(null!==s){var c=r.indexOf(s);r.splice(c,1)}this.setState({selectedBubblesIndexes:r}),this.selectedBubblesIndexFrom=i,this.selectedBubblesIndexTo=o,this._inputRef&&this._inputRef.setBlur()}}},{key:"_onBubbleClick",value:function(e,t){if(this._activate(),e&&e.shiftKey){for(var n=this.selectedBubblesIndexFrom||0,r=this.selectedBubblesIndexTo||0,o=Math.min(n,r,t),a=Math.max(n,r,t),s=Math.min(n,t),u=Math.max(n,t),c=this.state.selectedBubblesIndexes.slice(0),l=o;l<=a;l++)if(l>=s&&l<=u)-1===c.indexOf(l)&&c.push(l);else{var d=c.indexOf(l);-1!==d&&c.splice(d,1)}this.setState({selectedBubblesIndexes:c})}else{if(e&&(e.ctrlKey||e.metaKey)){var f=this.state.selectedBubblesIndexes.slice(0),h=f.indexOf(t);-1===h?this.setState({selectedBubblesIndexes:[].concat(i()(f),[t])}):(f.splice(h,1),this.setState({selectedBubblesIndexes:f}),1===f.length&&(t=f[0]))}else this.setState({selectedBubblesIndexes:[t]});this.selectedBubblesIndexFrom=t}this.selectedBubblesIndexTo=t,this._inputRef&&this._inputRef.setBlur()}},{key:"_clearBubblesSelection",value:function(){this.setState({selectedBubblesIndexes:[]}),this.selectedBubblesIndexFrom=null,this.selectedBubblesIndexTo=null}},{key:"_removeSelectedBubbles",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props.bubbles,n=this.state.selectedBubblesIndexes,r=n.map((function(e){return t[e].id}));if(this._removeBubbles(r),1===n.length){var i=n[0];e&&i>0?this._onBubbleClick(null,i-1):!e&&i<t.length-1?this._onBubbleClick(null,i):this.focusInput(!1,0)}else this.focusInput(!1,0)}},{key:"_removeBubbles",value:function(e){this.props.onBubblesRemove&&this.props.onBubblesRemove(e)}},{key:"_resetCurrentItems",value:function(){this.setState({activeItemIndex:-1,hoverItemIndex:-1})}},{key:"_toggleSuggestActive",value:function(e){this._isSuggestActive!==e&&(this._isSuggestActive=e,this.props.onActiveChange(e))}},{key:"_setSuggestState",value:function(e){if(e!==this.state.state){switch(e){case x.b.UNFOLDED_INACTIVE:this._resetCurrentItems();break;case x.b.FOLDED:this._onTextChange("")}var t={state:e};e!==x.b.UNFOLDED_ACTIVE&&this._inputRef&&this._inputRef.setBlur(),this.setState(t),this.props.onStateChanged&&this.props.onStateChanged(e)}}},{key:"_onSuggestStateSet",value:function(e,t){if(t!==e){var n=this.props.onFoldedChanged,r=t===x.b.UNFOLDED_ACTIVE,i=e===x.b.FOLDED,o=t===x.b.FOLDED;this._toggleSuggestActive(r),e&&i===o||n(o)}}},{key:"_onKeyDown",value:function(e){if(!this.props.ignoreKeyboardEvents){var t=e.keyCode,n=e.key;if(this._isSuggestActive){if(t===C.a.KEYS.UP||t===C.a.KEYS.DOWN)e.preventDefault(),e.stopPropagation(),this._setActiveItem(t===C.a.KEYS.DOWN);else if(t===C.a.KEYS.ESC||t===C.a.KEYS.TAB)e.preventDefault(),e.stopPropagation(),this._deactivate(ne.SHORTCUT);else if(!this._inputFocused){switch(t){case C.a.KEYS.LEFT:case C.a.KEYS.RIGHT:this._setSelectedBubbles(t===C.a.KEYS.LEFT,e.shiftKey);break;case C.a.KEYS.ENTER:this._onSubmit(x.a.ENTER_PRESS);break;case C.a.KEYS.BACKSPACE:case C.a.KEYS.DELETE:this._removeSelectedBubbles(t===C.a.KEYS.BACKSPACE)}e.stopPropagation(),e.preventDefault()}}else-1!=="/.".indexOf(n)&&e.target&&this._targetCanSendActivateHokey(e.target)&&(this.isFolded()&&this._activate(ie),this.focusInput(!0),e.stopPropagation(),e.preventDefault());this.props.onKeyDown(e)}}},{key:"_activate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.props.startSuggest;this.state.state!==x.b.UNFOLDED_ACTIVE&&(t(e||this._activateSource||re),this._setSuggestState(x.b.UNFOLDED_ACTIVE),this._activateSource=null)}},{key:"_deactivate",value:function(e){var t=this.props,n=t.shouldFoldOnEsc,r=t.onSearchFinish,i=t.keepExpanded,o=this.state.inputText;this._clearBubblesSelection(),o&&!n()||i?(this._setSuggestState(x.b.UNFOLDED_INACTIVE),r(e,!1)):(this._setSuggestState(x.b.FOLDED),r(e,!0))}},{key:"_onSubmit",value:function(e){var t=this.state.activeItemIndex,n=this.props,r=n.suggestItems,i=n.onSubmit;this._clearBubblesSelection(),-1!==t?this._onSelect(r[t]):this._isDirty()&&(i(e),this._setSuggestState(x.b.UNFOLDED_INACTIVE)),this._inputRef&&this._inputRef.setBlur()}},{key:"focusInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&(this._activateSource=ie),this._inputRef&&this._inputRef.setFocus(t)}},{key:"isFolded",value:function(){return this.state.state===x.b.FOLDED}},{key:"isSuggestVisible",value:function(){return this.state.state===x.b.UNFOLDED_ACTIVE}},{key:"fold",value:function(){this._setSuggestState(x.b.FOLDED)}},{key:"unfold",value:function(){this._setSuggestState(x.b.UNFOLDED_INACTIVE)}},{key:"_isDirty",value:function(){var e=this.state,t=e.activeItemIndex,n=e.inputText,r=this.props.bubbles;return n||r&&r.length||-1!==t}},{key:"_onItemHover",value:function(e){this.setState({hoverItemIndex:e})}},{key:"_preventFocusLoose",value:function(e){var t=this.state.state===x.b.UNFOLDED_ACTIVE;this.props.isMobile&&t&&e.preventDefault()}},{key:"_onCloseClick",value:function(){this.props.shouldNotDeactivateOnClose||this._deactivate(ne.CLOSE_CLICK),this.props.onCloseClick()}},{key:"_onInputFocus",value:function(){this._clearBubblesSelection(),this._inputFocused=!0,this._activate()}},{key:"_onInputBlur",value:function(){this._inputFocused=!1}},{key:"_onSelect",value:function(e,t){if(e){var n=this.props,r=n.getShowText,i=n.handleItemSelect,o=r(e),a=i(e,t);a?this._setSuggestState(x.b.FOLDED):this.setState({inputText:o}),!1===a&&this._setSuggestState(x.b.UNFOLDED_INACTIVE)}}},{key:"_onTextChange",value:function(e){var t=this.props.onTextChange;this.setState({inputText:e}),this._resetCurrentItems(),t(e)}},{key:"_renderInput",value:function(){var e,t=this,n=this.state,r=n.state,i=n.inputText,o=n.activeItemIndex,a=n.selectedBubblesIndexes,s=this.props,u=s.placeholderDefault,c=s.placeholderCustom,l=s.isMobile,d=s.isCompact,f=s.bubbles,h=s.advancedButton,p=s.searchButtonText,m=s.removeSearchBubbleTitle,v=s.maxLength,g=s.onClearClick,b=s.showClose,_=s.clsActivator,O=s.toneDefault,w=s.iconPosition,E=s.keepTextWhenFolded,S=s.noBubbleList,C=s.theme,k=r===x.b.FOLDED;return o>0&&(e="".concat(te,"-").concat(o)),y.a.createElement(Y,{isMobile:l,isCompact:d,isFolded:k,maxLength:v,bubbles:k?[]:f,selectedBubblesIndexes:a,onBubbleClick:this._onBubbleClick,onBubbleRemove:function(e){return t._removeBubbles([e])},placeholder:k?u:c,searchButtonText:p,removeSearchBubbleTitle:m,advancedButton:k?null:h,ariaResultKey:ee,ariaActiveResultItemKey:e,onTextChange:this._onTextChange,onClearClick:g,onBackspace:function(){return t._setSelectedBubbles(!0,!1)},showClose:b,onCloseClick:this._onCloseClick,clsActivator:_,tone:O,text:k&&!E?"":i,onBlur:this._onInputBlur,onFocus:this._onInputFocus,onSubmit:this._onSubmit,iconPosition:w,ref:function(e){t._inputRef=e},noBubbleList:S,theme:C})}},{key:"_renderResults",value:function(){var e=this.props,t=e.suggestItems,n=e.getShowText,r=this.state,i=r.activeItemIndex,o=r.hoverItemIndex,a=r.inputText;return y.a.createElement(Z,{items:t,renderItem:this.props.renderItem,query:a,activeIndex:i,hoverIndex:o,ariaKey:ee,ariaItemKey:te,getShowText:n,getItemType:this.props.getItemType,onSelect:this._onSelect,onItemHover:this._onItemHover})}},{key:"_renderPopupContents",value:function(e){var t=this.state.state===x.b.UNFOLDED_ACTIVE;return y.a.createElement("div",{className:Q().e("content").m({empty:e}),onMouseDown:this._preventFocusLoose,ref:this._content,role:"combobox","aria-haspopup":"listbox","aria-owns":ee,"aria-expanded":t},y.a.createElement("div",{className:Q().e("form-wrap")},this._renderResults()))}},{key:"_onWindowMouseDown",value:function(e){if(this.state.state===x.b.UNFOLDED_ACTIVE){for(var t=e.target;t.parentElement;){if(t===this._container.current||t===this._content.current||t.classList.contains(ae))return;t=t.parentElement}"HTML"===t.nodeName&&this._deactivate(ne.BG_CLICK)}}},{key:"_renderPopup",value:function(){if(this.props.noSuggestPopup)return null;var e=!this.props.suggestItems||0===this.props.suggestItems.length;return y.a.createElement(b.Popup,{view:"default",visible:this.state.state===x.b.UNFOLDED_ACTIVE,className:Q().e("popup").m({empty:e}).mix(this.props.popupClassName),scope:this._container,style:{top:"auto",left:0,right:0},noTrapAutoFocus:!0},this._renderPopupContents(e))}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.cls;return y.a.createElement("div",{className:Q().m({theme:t}).mix(n),ref:this._container},this._renderInput(),this._renderPopup())}}]),n})(g.PureComponent),ue=function(){};se.defaultProps={isMobile:!1,isCompact:!1,toneDefault:"suggest-default",iconPosition:"left",getItemType:function(){return null},shouldFoldOnEsc:function(){return!0},startSuggest:ue,onClearClick:ue,onFoldedChanged:ue,onCloseClick:ue,onActiveChange:ue,onSearchFinish:ue,onKeyDown:ue,keepTextWhenFolded:!1,noSuggestPopup:!1,noBubbleList:!1,theme:"normal",ignoreKeyboardEvents:!1},se.SUGGEST_STATE=x.b,se.SEARCH_TRIGGER=x.a,se.FOLD_SOURCE=ne;t.b=se}),(function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(5),l=n.n(c),d=n(7),f=n.n(d),h=n(1),p=n.n(h),m=n(0),v=n.n(m),g=n(11),y=n.n(g),b={};function _(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var O=function(){},w=(function(e){l()(n,e);var t=_(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onLoad=r._onLoad.bind(u()(r)),r._onError=r._onError.bind(u()(r)),r}return a()(n,[{key:"componentDidMount",value:function(){if(this._isImageLoaded())this._onLoad();else{var e=new Image;e.addEventListener("load",this._onLoad),e.addEventListener("error",this._onError),e.src=this.props.src}}},{key:"_isImageLoaded",value:function(){return this._imageNode&&this._imageNode.naturalWidth>0}},{key:"_onLoad",value:function(e){this.props.rumId&&(function(e,t){b[e]||(b[e]=0),window.Ya.Rum&&b[e]<20&&(window.Ya.Rum.sendResTiming([e,85+b[e]].join("."),t),b[e]++)})(this.props.rumId,this.props.src),this.props.onLoad(this.props.id,e)}},{key:"_onError",value:function(e){this.props.onError(this.props.id,e)}},{key:"render",value:function(){var e=this;return v.a.createElement("img",{className:y()()("resource-image").mix(this.props.cls),ref:function(t){e._imageNode=t},src:this.props.src,onLoad:this._onLoad,onError:this._onError})}}]),n})(m.PureComponent);w.defaultProps={onError:O,onLoad:O};t.a=w}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=(function(){function e(e,t){this.walker=(function(e,t){var n=function(e){return t(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP},r=n;return r.acceptNode=n,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,r,!1)})(e,(function(e){return t(e)})),this.currentElement=null}return Object.defineProperty(e.prototype,"root",{get:function(){return this.walker.root},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.currentElement===this.root?null:this.currentElement},set:function(e){var t=this.root.contains(e)?e:null;this.currentElement=t,this.walker.currentNode=null!==t&&void 0!==t?t:this.root},enumerable:!1,configurable:!0}),e.prototype.first=function(){return this.walker.currentNode=this.walker.root,this.next()},e.prototype.last=function(){this.walker.currentNode=this.walker.root;for(var e=null;this.walker.lastChild();)e=this.walker.currentNode;return this.currentElement=e,e},e.prototype.next=function(){return this.currentElement=this.walker.nextNode(),this.currentElement},e.prototype.previous=function(){var e=this.walker.previousNode();return this.currentElement=e===this.root?null:e,this.currentElement},e})()}),(function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}}),(function(e,t,n){ns.Model.define("userCurrent",{methods:{isValid:no.true,getData:function(){return n(14).default().getState().user}}}),e.exports=ns.Model.get("userCurrent")}),(function(e,t,n){n(449);var r=n(9);ns.Model.define("inviteeFolder",e.exports={params:{id:null,idFolder:null},methods:{_init:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];ns.Model.prototype._init.apply(this,n),r.bindAll(this,"onChangedSource"),this.state=ns.Model.get("stateInviteeFolder",this.params),this.on("ns-model-destroyed",(function(){ns.Model.destroy(e.state),e.state=null,e.source=null}))},setData:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this.super_.setData.apply(this,t);return this.state||this.setState(),r},setState:function(){this.state=ns.Model.get("stateInviteeFolder",this.params),this.state.setDataDefault()},syncWith:function(e){if(e&&e!==this.source){this.source&&this.source.off("ns-model-changed",this.onChangedSource),this.source=e;var t=this.source.getData();this.source.isValid()&&"contact"===e.id&&(t.status="contact",t.idFolder=this.params.idFolder),this.setData(t),this.source.on("ns-model-changed",this.onChangedSource)}},onChangedSource:function(){this.setData(r.extend({},this.getData(),this.source.getData()))},resetState:function(){this.state.reset()}}})}),(function(e,t,n){n(716);var r=n(9);ns.Model.define("stateInviteeFolder",{params:{id:null,idFolder:null},methods:{_init:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ns.Model.prototype._init.apply(this,t),this.stateAccessFolder=ns.Model.get("stateAccessFolder",{idFolder:this.params.idFolder}),r.bindAll(this,"onOperationStatusChanged","onOperationDestroyed"),this.on("ns-model-destroyed",this.unbindOperation)},getData:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=ns.Model.prototype.getData.apply(this,t),i=$.extend(!0,{},r);return this.operation&&(i.operation=this.operation.getData(),i.operation.type=this.operation.getType()),i},bindOperation:function(e){this.operation&&this.unbindOperation(),this.operation=e,this.trigger("ns-model-changed"),this.operation.on("ns-model-changed.status",this.onOperationStatusChanged),this.operation.on("ns-model-destroyed",this.onOperationDestroyed),this.stateAccessFolder.reset()},unbindOperation:function(){this.operation&&(this.operation.off("ns-model-changed.status",this.onOperationStatusChanged),this.operation.off("ns-model-destroyed",this.onOperationDestroyed),this.operation=null,this.trigger("ns-model-changed"),this.stateAccessFolder.reset())},onOperationStatusChanged:function(){"failed"===this.operation.get(".status")?this.stateAccessFolder.set(".operationFailed",this.operation.getData()):"done"===this.operation.get(".status")&&this.reset(),this.trigger("ns-model-changed")},onOperationDestroyed:function(){this.unbindOperation()},reset:function(){this.unbindOperation(),this.setDataDefault()}}})}),(function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r),o=n(195),a=n(14),s=n(407);n(460),ns.Model.define("usersFolder",{split:{items:".users",model_id:"userFolder",params:{userid:".id",idFolder:".idFolder"}},params:{gidFolder:null,idFolder:null},defaults:function(){if(!this.params.gidFolder)return{users:[],index:[]}},events:{"ns-model-changed":"onchange","ns-model-destroyed":"ondestroy"},methods:{onchange:function(){this.params.gidFolder&&Object(a.default)().dispatch(Object(s.b)(this.params.gidFolder,this.getData().users))},_init:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];ns.ModelCollection.prototype._init.apply(this,n),i.a.bindAll(this,"destroyAll"),this.unsubscribeUpdateResource=this.subscribeUpdateResource(this.params.idFolder,{"meta.group.gid":function(t,n){t&&!n&&setTimeout((function(){e.setDataDefault()}),0)}},(function(){e.destroyAll()}))},ondestroy:function(){this.unsubscribeUpdateResource&&this.unsubscribeUpdateResource()},destroyAll:function(){i.a.each(this.models.slice(),ns.Model.destroy),ns.Model.destroy(this)},preprocessData:function(e){var t=this,n=[],r=[],a=[],s=[];return i.a.chain(e.users).filter((function(e){return"email"===e.service||"ya_directory"===e.service||!e.service})).each((function(e){e.originid=e.userid||e.groupid,e.idFolder=t.params.idFolder,e.service=e.service||"email",e.is_ya_directory="ya_directory"===e.service,e.id=Object(o.normalize)(e.userid),e.name=e.name||e.id,"proposed"===e.status?(n.push(e),a.push(e.id)):"approved"===e.status&&(r.push(e),s.push(e.id))})).value(),{users:n.slice().concat(r),index:a.slice().concat(s)}},getByEmail:function(e){var t=Object(o.normalize)(e);return i.a.find(this.models,(function(e){return e.get(".id")===t}))},removeItem:function(e){this.remove(ns.Model.get("userFolder",{idFolder:this.params.idFolder,userid:e})),this.set(".index",i.a.without(this.get(".index"),e),{silent:!0})},insertItem:function(e){this.insert(e,0);var t=this.get(".index");t.splice(0,0,e.get(".id")),this.set(".index",t,{silent:!0}),this.trigger("ufo-model-insert",e)}}})}),,,,,(function(e,t,n){"use strict";var r=n(822),i=n(823);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=b(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),d=["%","/","?",";","#"].concat(l),f=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(824);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var _=u.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var O=a.exec(b);if(O){var w=(O=O[0]).toLowerCase();this.protocol=w,b=b.substr(O.length)}if(n||O||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===b.substr(0,2);!E||O&&v[O]||(b=b.substr(2),this.slashes=!0)}if(!v[O]&&(E||O&&!g[O])){for(var S,C,x=-1,k=0;k<f.length;k++){-1!==(T=b.indexOf(f[k]))&&(-1===x||T<x)&&(x=T)}-1!==(C=-1===x?b.lastIndexOf("@"):b.lastIndexOf("@",x))&&(S=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(S)),x=-1;for(k=0;k<d.length;k++){var T;-1!==(T=b.indexOf(d[k]))&&(-1===x||T<x)&&(x=T)}-1===x&&(x=b.length),this.host=b.slice(0,x),b=b.slice(x),this.parseHost(),this.hostname=this.hostname||"";var j="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!j)for(var R=this.hostname.split(/\./),P=(k=0,R.length);k<P;k++){var D=R[k];if(D&&!D.match(h)){for(var I="",A=0,M=D.length;A<M;A++)D.charCodeAt(A)>127?I+="x":I+=D[A];if(!I.match(h)){var N=R.slice(0,k),L=R.slice(k+1),F=D.match(p);F&&(N.push(F[1]),L.unshift(F[2])),L.length&&(b="/"+L.join(".")+b),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),j||(this.hostname=r.toASCII(this.hostname));var B=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+B,this.href+=this.host,j&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[w])for(k=0,P=l.length;k<P;k++){var z=l[k];if(-1!==b.indexOf(z)){var V=encodeURIComponent(z);V===z&&(V=escape(z)),b=b.split(z).join(V)}}var H=b.indexOf("#");-1!==H&&(this.hash=b.substr(H),b=b.slice(0,H));var W=b.indexOf("?");if(-1!==W?(this.search=b.substr(W),this.query=b.substr(W+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,W)):t&&(this.search="",this.query={}),b&&(this.pathname=b),g[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var G=this.search||"";this.path=B+G}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=e[l])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var d=Object.keys(e),f=0;f<d.length;f++){var h=d[f];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||v[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",y=n.search||"";n.path=m+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),O=_||b||n.host&&e.pathname,w=O,E=n.pathname&&n.pathname.split("/")||[],S=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),O=O&&(""===p[0]||""===E[0])),_)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,E=p;else if(p.length)E||(E=[]),E.pop(),E=E.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(S)n.hostname=n.host=E.shift(),(j=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=j.shift(),n.host=n.hostname=j.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=E.slice(-1)[0],x=(n.host||e.host||E.length>1)&&("."===C||".."===C)||""===C,k=0,T=E.length;T>=0;T--)"."===(C=E[T])?E.splice(T,1):".."===C?(E.splice(T,1),k++):k&&(E.splice(T,1),k--);if(!O&&!w)for(;k--;k)E.unshift("..");!O||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),x&&"/"!==E.join("/").substr(-1)&&E.push("");var j,R=""===E[0]||E[0]&&"/"===E[0].charAt(0);S&&(n.hostname=n.host=R?"":E.length?E.shift():"",(j=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=j.shift(),n.host=n.hostname=j.shift()));return(O=O||n.host&&E.length)&&!R&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(657),o=r.compose(i.withViewDefault,r.composeU(i.withSizeS,i.withSizeM))(i.MessageBoxPopup);t.default=o}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(1813),o=r.compose(i.withSizeM,i.withViewDefault)(i.Tumbler);t.default=o}),(function(e,t,n){"use strict";n.r(t);var r=n(556);n.d(t,"useToggle",(function(){return r.a}))}),(function(e,t,n){"use strict";n.r(t);n(1141);var r=n(9),i=n.n(r),o=n(228),a=n.n(o);n(203).a.define("queueNotifications",{limit:4,methods:{add:function(e){if(e.gid){var t=i.a.find(i.a.union(this.items,this.itemsProcessing),(function(t){return e.gid===t.item.get(".gid")&&e.status===t.item.get(".status")}));if(t)return e.src.type!==t.item.get(".typeResources")&&t.item.set(".typeResources","mix"),t.item.set(".count",(t.item.get(".count")||1)+1),t.promise}e.typeResources=e.src&&e.src.type;var n=ns.Model.get("notification",{notification:a()()}).setData(e);return this.push(n)},getPortion:function(){var e=Math.max(this.limit-this.itemsProcessing.length,0);return this.items.splice(0,e)},doIteration:function(){var e=this,t=this.getPortion();t.length&&(this.itemsProcessing=this.itemsProcessing.concat(t),i.a.each(t,(function(t){t.promise.always((function(){var n=e.itemsProcessing.indexOf(t);-1!==n&&(e.itemsProcessing.splice(n,1),e.trigger("processed",t)),e.doIteration()}))})),this.handlePortion(t))},handlePortion:function(e){var t=this;i.a.each(e,(function(e){t.trigger("processing",e)}))}}}),ns.Model.get("queueNotifications").setDataDefault()}),(function(e,t){ns.Model.define("userFolder",e.exports={params:{userid:null,idFolder:null},methods:{isApproved:function(){return"approved"===this.get(".status")},isProposed:function(){return"proposed"===this.get(".status")},toContact:function(){var e=ns.Model.get("contact",{userid:this.get(".id")}),t=this.getData();return delete t.rights,delete t.idFolder,e.setData(t),e}}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(28),a=n(1181);n(1183),t.headerServiceClass=o.cn("PSHeaderService"),t.HeaderService=function(e){var n=e.i18n,r=e.link,o=e.active,s=e.theme,u=e.onClick,c=e.forwardedRef,l=e.className,d=e.icon,f=e.target;return i.default.createElement("a",{className:t.headerServiceClass({theme:s,active:o},[l]),href:r,rel:"noopener noreferrer",onClick:u,ref:c,target:f,tabIndex:r?void 0:0,role:r?void 0:"button"},i.default.createElement("div",{className:t.headerServiceClass("Icon")},d||i.default.createElement(a.ServiceStub,{title:n})),i.default.createElement("span",{className:t.headerServiceClass("Text")},n))}}),(function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1195)),r(n(1199))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0));t.SvgYa=function(e){var t=e.logoLang;return i.default.createElement("svg",{width:"36",height:"36"},i.default.createElement("circle",{cx:"18",cy:"18",r:"18",fill:"#FC3F1D"}),"En"===t?i.default.createElement("path",{d:"M18.441 20.058c1.052 2.304 1.403 3.106 1.403 5.873V29.6h-3.757v-6.186L9 8h3.92l5.521 12.058zM23.074 8L18.48 18.443h3.82L26.905 8h-3.832z",fill:"#fff"}):i.default.createElement("path",{d:"M20.67 10.103h-1.822c-3.123 0-4.684 1.561-4.684 3.903 0 2.603 1.04 3.904 3.383 5.465l1.822 1.302-5.205 8.067H10l4.945-7.287c-2.863-2.082-4.425-3.903-4.425-7.287 0-4.163 2.863-7.026 8.328-7.026h5.465v21.6H20.67V10.103z",fill:"#fff"}))},t.SvgYaMonochrome=function(e){var t=e.logoLang;return i.default.createElement("svg",{width:"36",height:"36"},"En"===t?i.default.createElement("path",{d:"M18 36c9.941 0 18-8.059 18-18S27.941 0 18 0 0 8.059 0 18s8.059 18 18 18zm1.844-10.069c0-2.767-.35-3.569-1.403-5.873L12.92 8H9l7.087 15.414V29.6h3.757v-3.669zm-1.365-7.488L23.074 8h3.832l-4.608 10.443H18.48z",fillRule:"evenodd",fill:"currentColor"}):i.default.createElement("path",{d:"M18 36c9.941 0 18-8.059 18-18S27.941 0 18 0 0 8.059 0 18s8.059 18 18 18zm.848-25.897h1.822V28.84h3.643V7.24h-5.465c-5.465 0-8.327 2.863-8.327 7.027 0 3.383 1.56 5.204 4.424 7.286L10 28.84h4.164l5.205-8.067-1.822-1.302c-2.342-1.561-3.383-2.862-3.383-5.465 0-2.342 1.561-3.903 4.684-3.903z",fillRule:"evenodd",fill:"currentColor"}))},t.Svg360=function(){return i.default.createElement("svg",{width:"76",height:"36"},i.default.createElement("path",{transform:"translate(-36)",d:"M86.802 21.278c0-4.082-4.082-6.15-10.34-6.15-3.674 0-6.697 1.065-8.139 2.743.273-4.96 2.816-7.669 8.792-7.669 3.129 0 5.85.464 8.516 1.905V9.85C83.426 8.79 80.84 8 77.087 8c-7.972 0-11.348 4.79-11.348 11.184 0 5.85 2.666 8.816 10.532 8.816 5.933 0 10.531-2.477 10.531-6.722zm-10.585 4.518c-4.934 0-7.427-1.66-7.427-4.273 0-2.694 2.868-4.19 7.591-4.19 4.354 0 7.564 1.468 7.564 4.162 0 2.831-3.074 4.3-7.727 4.3zm-28.516-8.68v-.003h.004l11.3-6.392H44.79V8.544H63.18v2.041l-9.821 5.508c.572-.093 1.18-.149 1.797-.149 4.734 0 8.815 1.852 8.815 5.742 0 3.946-4.381 6.314-10.748 6.31-4.517 0-7.536-1.006-9.224-1.85V23.89c2.013.98 4.815 1.904 9.196 1.904 5.279 0 7.92-1.522 7.92-4.162 0-2.498-2.722-3.646-7.32-3.646-3.32 0-5.198.897-5.198.897l-.895-1.765-.002-.001zm43.754.844c0 5.784 3.674 7.835 8.544 7.835 4.87 0 8.544-2.051 8.544-7.755 0-5.805-3.674-7.835-8.544-7.835-4.87 0-8.544 2.03-8.544 7.755zm-2.885.027C88.57 10.853 93.66 8 100 8s11.428 2.853 11.428 10.013c0 7.134-5.089 9.987-11.428 9.987-6.34 0-11.429-2.853-11.429-10.013z",fill:"currentColor"}))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28);n(1198);var i=r.cn("PSHeaderLogo360");t.classes={root:i,yaLink:i("Ya"),logoText:i("360"),customLogo:i("CustomLogo")}}),(function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}}),(function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}}),(function(e,t,n){var r=n(192)(n(146),"Map");e.exports=r}),(function(e,t,n){var r=n(1223),i=n(1230),o=n(1232),a=n(1233),s=n(1234);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u}),(function(e,t,n){var r=n(579),i=n(466),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}}),(function(e,t,n){var r=n(581),i=n(1241),o=n(477);e.exports=function(e){return o(e)?r(e):i(e)}}),(function(e,t,n){var r=n(1238),i=n(161),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u}),(function(e,t,n){(function(e){var r=n(146),i=n(1239),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u}).call(this,n(145)(e))}),(function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?n:t)&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}}),(function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}}),(function(e,t,n){(function(e){var r=n(577),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=(function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}})();e.exports=s}).call(this,n(145)(e))}),(function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}}),(function(e,t,n){var r=n(576),i=n(474);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}}),(function(e,t,n){var r=n(581),i=n(1244),o=n(477);e.exports=function(e){return o(e)?r(e,!0):i(e)}}),(function(e,t,n){var r=n(1249),i=n(584),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s}),(function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}}),(function(e,t,n){var r=n(583)(Object.getPrototypeOf,Object);e.exports=r}),(function(e,t,n){var r=n(589);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(484),o=n(1421),a=n(484);t.Radio=a.Radio,t.RadioProps=a.RadioProps,t.Radiobox=r.compose(r.composeU(i.withSizeS,i.withSizeM),r.composeU(i.withViewDefault,i.withViewOutline,o.withViewListTileRadio))(i.Radiobox)}),(function(e,t,n){"use strict";n.r(t);var r=n(227);n.d(t,"Radio",(function(){return r.a})),n.d(t,"Radiobox",(function(){return r.b})),n.d(t,"cnRadiobox",(function(){return r.c}));var i=n(219);n.d(t,"withSizeM",(function(){return i.a}));var o=n(220);n.d(t,"withSizeS",(function(){return o.a}));var a=n(402);n.d(t,"withThemeNormal",(function(){return a.a}));var s=n(403);n.d(t,"withThemePseudo",(function(){return s.a}));var u=n(404);n.d(t,"withViewDefault",(function(){return u.a}));var c=n(405);n.d(t,"withViewOutline",(function(){return c.a}))}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(0)),s=n(28),u=n(1834),c=n(484);n(1425),t.cnListTileRadio=s.cn("ListTileRadio"),t.ListTileRadio=function(e){var n=e.icon,o=e.value,s=e.onClick,l=e.children,d=e.className,f=e.size,h=void 0===f?"m":f,p=e.leadingRadio,m=i(e,["icon","value","onClick","children","className","size","leadingRadio"]),v=a.default.createElement(c.Radio,{className:t.cnListTileRadio("Radio"),value:o});return a.default.createElement(u.ListTile,r({alignItems:"center",className:t.cnListTileRadio({size:h},[d]),onClick:s},p?{leading:v}:{leading:n,trailing:v},m),l)}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),a=r(n(0)),s=i(n(116)),u=n(26),c=n(23),l=n(75),d=n(33),f=i(n(438)),h=n(25),p=n(1450),m=n(197),v=i(n(12));n(1451);var g=i(n(11)),y=function(){return g.default()("Open-From-Disk")},b={update:c.updateDialog,addDocFromDisk:l.addDocFromDisk,maybeBlockActionOverdraft:u.maybeBlockActionOverdraft},_=o.connect((function(e){return{type:d.currentDocsType(e),resourcesByIds:e.resources}}),b);t.default=_((function(e){var t=a.useState(!1),n=t[0],r=t[1],i=a.useState("/disk"),o=i[0],u=i[1],c=a.useState(null),l=c[0],d=c[1],g=e.addDocFromDisk,b=e.resourcesByIds,_=e.transparentAbsolute,O=e.maybeBlockActionOverdraft,w=a.useCallback((function(){O()||r(!n)}),[r,n,O]),E=a.useCallback((function(){r(!1),d(null)}),[r]),S=a.useCallback((function(e){g({id:e,openOnLoad:!0}),v.default.countDocs("open doc","from disk"),E()}),[g]),C=a.useCallback((function(){l&&S(l)}),[l,S]),x=a.useCallback((function(e){e&&S(e)}),[S]),k=a.useCallback((function(e){"dir"===b[e].type?(u(e),d(null)):d(e)}),[d,b]),T=a.useRef(null),j=a.useCallback((function(e){var t=e.type,n=e.id,r=e.state,i=e.ext,o=!1,a=m.getAllAcceptedExts().some((function(e){return e===i}));return!Boolean(r&&r.disabled)&&a||(o=!0),"dir"===t&&"/trash"!==n&&(o=!1),o}),[]),R=a.useCallback((function(){return a.default.createElement(f.default,{cls:y().e("Listing"),folderId:o,onSelectResource:k,onResourceOpen:x,isResourceDisabled:j,allowSelectDocument:!0,selectedResources:[l]})}),[o,k,j,l,x]);return a.default.createElement("div",null,a.default.createElement(h.Button,{className:y().e("Button").m({"Transparent-Absolute":_}),view:"raised",size:"m",iconLeft:p.diskIconProvider,onClick:w,innerRef:T},"Открыть из Диска"),a.default.createElement(s.default,{cls:y().e("Confirm-Dialog").m({touch:!1}),onSubmit:C,onClose:E,onCancel:E,visible:n,isIosSafari:!1,closeButtonAriaLabel:"Закрыть",title:a.default.createElement("div",{className:y().e("Title")},"Открыть из Диска"),submitButtonText:"Выбрать",submitDisabled:!l,cancelButtonText:"Отменить"},R()))}))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1457));t.default=i.default}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonSerializer=t.JsonEnum=t.JsonNullable=t.JsonDate=t.JsonMappers=void 0;var o=n(1550);Object.defineProperty(t,"JsonMappers",{enumerable:!0,get:function(){return o.JsonMappers}}),i(n(628),t);t.JsonDate=function(e){return new o.DateMapper(e)};t.JsonNullable=function(e){return new o.NullableMapper(e)};t.JsonEnum=function(e,t){return new o.EnumMapper(e,t)};t.JsonSerializer=function(e,t){return void 0===t&&(t=o.JsonMappers),{stringify:function(n){var r=t.toJson(n,e);return JSON.stringify(r)},parse:function(n){var r=n?JSON.parse(n):void 0;return t.fromJson(r,e)}}}}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.selectDiskSecretKey=t.selectRoute=t.selectNotes=t.changeRoute=t.notesWidgetSlice=t.fetchSecretKey=t.fetchRecentNotes=t.initialState=void 0;const o=i(n(273)),a=n(86),s=n(1614),u=n(216);t.initialState={route:"/default",notes:[],diskSecretKey:null},t.fetchRecentNotes=a.createAsyncThunk("NOTES_WIDGET/FETCH_RECENT_NOTES",e=>r(void 0,void 0,void 0,(function*(){const t=o.default(e.cloudApiUrl).set("pathname","/ps_sidebar/v1/data/app/databases/.ext.yanotes@notes/snapshot").toString(),n=yield(yield fetch(t,{credentials:"include",headers:{"X-Uid":e.uid}})).json();return s.getNotesFromTags(n.records)}))),t.fetchSecretKey=a.createAsyncThunk("NOTES_WIDGET/FETCH_SECRET_KEY",()=>r(void 0,void 0,void 0,(function*(){const e=u.getApiClient(),[t]=yield e.requestModelsTuple([{name:"disk-editor-secret-key",params:{}}]);if(e.isModelResolved(t))return t.data.key;if(e.isModelRejected(t))throw"Secret key model rejected";throw"Unknown error"}))),t.notesWidgetSlice=a.createSlice({name:"notesWidget",initialState:t.initialState,reducers:{changeRoute:(e,t)=>{e.route=t.payload}},extraReducers:e=>{e.addCase(t.fetchRecentNotes.fulfilled,(e,t)=>{e.notes=t.payload}).addCase(t.fetchRecentNotes.rejected,e=>{e.notes=[]}).addCase(t.fetchSecretKey.fulfilled,(e,t)=>{e.diskSecretKey=t.payload})}}),t.changeRoute=t.notesWidgetSlice.actions.changeRoute,t.selectNotes=(e=>e.notesWidget.notes),t.selectRoute=(e=>e.notesWidget.route),t.selectDiskSecretKey=(e=>e.notesWidget.diskSecretKey),t.default=t.notesWidgetSlice.reducer}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.mailWidgetSlice=t.fetchMailWidgetData=t.initialState=void 0;const i=n(86),o=n(216);t.initialState={recipients:{},counters:null},t.fetchMailWidgetData=i.createAsyncThunk("MAIL_WIDGET/FETCH_MAIL_WIDGET_DATA",(e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){const e=yield o.getApiClient().requestModelsTuple([{name:"get-mail-widget-data",params:{}}]);return o.getApiClient().isModelResolved(e[0])?e[0].data:t(e[0].error)}))),t.mailWidgetSlice=i.createSlice({name:"mailWidget",initialState:t.initialState,reducers:{},extraReducers:e=>{e.addCase(t.fetchMailWidgetData.fulfilled,(e,t)=>{e.recipients=t.payload.recipients,e.counters=t.payload.counters})}}),t.default=t.mailWidgetSlice.reducer}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Widgets=void 0,(function(e){e.Disk="Disk",e.Mail="Mail",e.Notes="Notes",e.Telemost="Telemost",e.Space="Space",e.Promo="Promo"})(t.Widgets||(t.Widgets={}))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.selectUpgradeValue=t.spaceWidgetSlice=t.fetchSpaceWidgetData=t.initialState=void 0;const i=n(86),o=n(1627);t.initialState={spaceLimit:0,usedSpace:0,attachSize:0,diskSize:0,attachPath:"",items:[]},t.fetchSpaceWidgetData=i.createAsyncThunk("SPACE_WIDGET/FETCH_SPACE_WIDGET_DATA",()=>r(void 0,void 0,void 0,(function*(){return o.getMockData()}))),t.spaceWidgetSlice=i.createSlice({name:"spaceWidget",initialState:t.initialState,reducers:{},extraReducers:e=>{e.addCase(t.fetchSpaceWidgetData.fulfilled,(e,t)=>{e.spaceLimit=t.payload.space.limit,e.usedSpace=t.payload.space.used,e.attachSize=t.payload.attachDirSize.size,e.attachPath=t.payload.attachDirSize.path,e.diskSize=t.payload.diskDirSize.size,e.items=t.payload.items})}}),t.selectUpgradeValue=(e=>{const t=e.spaceWidget.items.find(e=>e.best_offer),n=t&&t.features.find(e=>"mpfs_disk_space"===e.code);return n?n.value.replace(/^\+/,""):""}),t.default=t.spaceWidgetSlice.reducer}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.showPromo=t.promoWidgetSlice=t.fetchPromoData=t.initialState=void 0;const i=n(86);t.initialState={PSSettingsData:null},t.fetchPromoData=i.createAsyncThunk("PROMO_WIDGET/FETCH_DATASYNC_DATA",e=>r(void 0,void 0,void 0,(function*(){return"function"!=typeof e.getDatasyncData?{}:yield e.getDatasyncData()}))),t.promoWidgetSlice=i.createSlice({name:"promoWidget",initialState:t.initialState,reducers:{},extraReducers:e=>{e.addCase(t.fetchPromoData.fulfilled,(e,t)=>{e.PSSettingsData=t.payload})}}),t.showPromo=(e=>{var t,n,r,i;const o=null===(r=null===(n=null===(t=e.promoWidget.PSSettingsData)||void 0===t?void 0:t.records)||void 0===n?void 0:n.items)||void 0===r?void 0:r.find(e=>"widgetsPromoShown"===e.record_id);if(o){const e=o.fields.find(e=>"value"===e.field_id);return!(null===(i=null===e||void 0===e?void 0:e.value)||void 0===i?void 0:i.string)}return!0}),t.default=t.promoWidgetSlice.reducer}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),i=n(655),o=r.compose(i.withWeightBold,r.composeU(i.withTypographyDisplayM,i.withTypographyDisplayL))(i.Text);t.default=o}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DiskWidgetClass=void 0;const s=o(n(0)),u=n(19),c=n(28),l=n(276),d=n(193),f=n(217),h=n(391),p=a(n(1695)),m=n(1703),v=o(n(277)),g=n(155),y=n(136);n(1710),t.DiskWidgetClass=c.cn("DiskWidget");t.default=u.connect(e=>({currentRoute:l.selectRoute(e),numberOfFiles:l.selectNumberOfFiles(e),files:l.selectFiles(e)}),{changeRoute:l.changeRoute})(({currentRoute:e,numberOfFiles:n,files:r,changeRoute:i})=>{const{getI18n:o,isExpanded:a,links:u}=s.useContext(y.AppContext),c=s.useContext(g.MetricContext);s.useEffect(()=>{a||"/default"===e||i("/default")},[i,a,e]),s.useEffect(()=>{c("Show widget")},[]);const l=s.useCallback(()=>{c("Widget title click")},[c]),b="/new"===e,_=!n,O=s.useCallback(()=>{c("Create","Show create buttons"),i("/new")},[i,c]),w=s.useCallback(()=>{c("Create","Hide create buttons"),i("/default")},[i,c]);if(!a)return s.default.createElement(d.CollapsedWidgetContainer,{className:t.DiskWidgetClass()},s.default.createElement(m.CollapsedCreateDocumentButtons,null));const E={title:s.default.createElement(h.WidgetTitle,{url:u.Disk,onClick:l},o(_?"createDocument":"disk"))};let S=s.default.createElement(m.ExpandedCreateDocumentButtons,null);return _||(b?E.action=s.default.createElement(v.default,{icon:v.ACTION_ICONS.PLUS,onClick:w,className:t.DiskWidgetClass("CloseIcon")}):(E.action=s.default.createElement(v.default,{icon:v.ACTION_ICONS.PLUS,onClick:O}),S=r.map(e=>s.default.createElement(p.default,{key:e.path,file:e})))),s.default.createElement(d.ExpandedWidgetContainer,{className:t.DiskWidgetClass()},s.default.createElement(f.WidgetHeader,Object.assign({},E)),S)})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListItemClass=t.SpaceWidgetClass=void 0;const r=n(28);t.SpaceWidgetClass=r.cn("SpaceWidget"),t.ListItemClass=r.cn(t.SpaceWidgetClass("ListItem"))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeContext=void 0;const r=n(0);t.ThemeContext=r.createContext({})}),(function(e,t,n){"use strict";n.r(t);n(278),n(1338);var r=n(88),i=n(378),o=n(379),a=(n(1341),n(380)),s=(n(1343),n(381)),u=(n(1345),n(382)),c=(n(1347),n(383)),l=(n(1349),n(384)),d=(n(1351),n(385));n(1353);n.d(t,"cnLink",(function(){return r.b})),n.d(t,"Link",(function(){return r.a})),n.d(t,"withPseudo",(function(){return i.a})),n.d(t,"withThemeBlack",(function(){return o.a})),n.d(t,"withThemeGhost",(function(){return a.a})),n.d(t,"withThemeNormal",(function(){return s.a})),n.d(t,"withThemeOuter",(function(){return u.a})),n.d(t,"withThemePseudo",(function(){return c.a})),n.d(t,"withThemeStrong",(function(){return l.a})),n.d(t,"withViewDefault",(function(){return d.a}))}),(function(e,t,n){var r={};!(function(){r.log=function(){};var e={},t=/&/g,n=/</g,i=/>/g,o=/"/g,a=/&amp;/g,s=/&lt;/g,u=/&gt;/g;function c(e){return e.replace(/&/g,"&amp;")}r.text2xml=function(e){return null==e?"":(""+e).replace(t,"&amp;").replace(n,"&lt;").replace(i,"&gt;")},r.xml2text=function(e){return null==e?"":(""+e).replace(s,"<").replace(u,">").replace(a,"&")},r.text2attr=function(e){return null==e?"":(""+e).replace(t,"&amp;").replace(o,"&quot;").replace(n,"&lt;").replace(i,"&gt;")},r.xml2attr=function(e){return null==e?"":(""+e).replace(o,"&quot;").replace(n,"&lt;").replace(i,"&gt;")},r.register=function(t,n){if(r.isRegistered(t))throw Error('Module "'+t+'" already exists');for(var i=n.imports||[],o=[n],a=0,s=i.length;a<s;a++){var u=e[i[a]];if(!u)throw Error('Module "'+i[a]+"\" doesn't exist");o=o.concat(u.imports)}n.imports=o,e[t]=n},r.isRegistered=function(t){return!!e[t]},r.run=function(t,n,r){r=r||"";var i=e[t];if(!i)throw'Module "'+t+'" is undefined';var o=new d(n);return i.a(i,0,[o.root],r,{a:{}})},r.join=function(e,t){return e.concat(t)},r.nodeValue=function(e){var t=e.data;return"object"==typeof t?"":t},r.nodeName=function(e){var t=e[0];return t?t.name:""},r.simpleScalar=function(e,t){var n=t.data;if(!n)return"";if("*"===e){for(var i in n)return r.simpleScalar(i,t);return""}var o=n[e];return"object"==typeof o?"":void 0===o?"":o},r.simpleBoolean=function(e,t){var n=t.data;if(!n)return!1;if("*"===e){for(var i in n){var o;if(o=r.simpleBoolean(i,t))return!0}return!1}return!!(o=n[e])&&(!Array.isArray(o)||o.length)},r.nodeset2scalar=function(e){if(!e.length)return"";var t=e[0].data;return"object"==typeof t?"":t},r.nodeset2boolean=function(e){return!!(e&&e.length>0)&&!!e[0].data},r.nodeset2xml=function(e){return r.scalar2xml(r.nodeset2scalar(e))},r.nodeset2attrvalue=function(e){return r.scalar2attrvalue(r.nodeset2scalar(e))},r.scalar2xml=r.text2xml,r.xml2scalar=r.xml2text,r.xml2attrvalue=r.xml2attr,r.scalar2attrvalue=r.text2attr,r.object2nodeset=function(e){return[new d(e).root]},r.array2nodeset=function(e){return[new d({item:e}).root]},r.cmpSN=function(e,t){for(var n=0,i=t.length;n<i;n++)if(e==r.nodeValue(t[n]))return!0;return!1},r.cmpNN=function(e,t){var n=t.length;if(0===n)return!1;if(1===n)return r.cmpSN(r.nodeValue(t[0]),e);for(var i=[],o=r.nodeValue(t[0]),a=0,s=e.length;a<s;a++){var u=r.nodeValue(e[a]);if(u==o)return!0;i[a]=u}for(var c=1;c<n;c++){o=r.nodeValue(t[c]);for(a=0,s=e.length;a<s;a++)if(i[a]==o)return!0}return!1},r.shortTags={br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,wbr:!0},r.closeAttrs=function(e){var t=e.s;if(t){var n="",i=e.a;for(var o in i)n+=" "+o+'="'+i[o].quote()+'"';return n+=r.shortTags[t]?"/>":">",e.s=null,n}return""},r.copyAttrs=function(e,t){for(var n in t)e[n]=t[n]},r.scalarAttr=function(e){this.s=null==e?"":""+e},r.scalarAttr.prototype.quote=function(){return r.text2attr(this.s)},r.scalarAttr.prototype.addxml=function(e){return new r.xmlAttr(c(this.s)+e)},r.scalarAttr.prototype.addscalar=function(e){return new r.scalarAttr(this.s+e)},r.xmlAttr=function(e){this.s=null==e?"":""+e},r.xmlAttr.prototype.quote=function(){return r.xml2attr(this.s)},r.xmlAttr.prototype.addscalar=function(e){return new r.xmlAttr(this.s+c(e))},r.slice=function(e,t,n){return e=""+e,n?e.slice(t,n):e.slice(t)},r.exists=function(e){return e.length>0},r.grep=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];t(o,r,i)&&n.push(o)}return n},r.byIndex=function(e,t){return e.slice(t,t+1)},r.sort=function(e,t,n){for(var r=[],i=0,o=e.length;i<o;i++){var a=e[i],s=t(a,i,o);r.push({node:a,value:s})}var u=n?-1:1,c=n?1:-1,l=r.sort((function(e,t){var n=e.value,r=t.value;return n<r?c:n>r?u:0})),d=[];for(i=0,o=l.length;i<o;i++)d.push(l[i].node);return d},r.nodeset2data=function(e){var t=e.length;if(0===t)return"";if(1===t)return e[0].data;for(var n=[],r=0;r<t;r++)n.push(e[r].data);return n},r.externals={};var l=function(){};function d(e){Array.isArray(e)&&(e={item:e}),this.root={data:e,parent:null,name:"",doc:this},this._vars={},this._keys={}}l.prototype.a=function(e,t,n,r,i){var o,a="";arguments.length>5&&(o=Array.prototype.slice.call(arguments,5));for(var s=e.imports,u=0,c=n.length;u<c;u++){for(var l,d,f=n[u],h=!1,p=t,m=s.length;!h&&p<m;){var v=(l=s[p++]).matcher[r];if(v){var g=v[f.name]||v["*"];if(g)for(var y=0,b=g.length;!h&&y<b;){var _=g[y++],O=(d=l[_]).j;if(O)l.matched(O,d.a,f,u,c)&&(h=_);else for(var w=d.s,E=d.a,S=0,C=w.length;S<C;S++)if(l.matched(w[S],E[S],f,u,c)){h=_;break}}}}h&&(a+=o?d.apply(e,[e,f,u,c,i].concat(o)):d(e,f,u,c,i))}return a},l.prototype.matched=function(e,t,n,r,i){if(1===e)return!n.parent;for(var o=e.length-2;o>=0;){if(!n)return!1;switch(e[o]){case 0:var a=e[o+1];if("*"!==a&&a!==n.name)return!1;n=n.parent;break;case 2:case 4:if(!(0,e[o+1])(this,n,r,i))return!1}o-=2}return!t||!n.parent},l.prototype.s=function(e,t){return this.n(e,[t])},l.prototype.n=function(e,t){for(var n,i=t,o=i.length,a=0,s=e.length;a<s;a+=2){n=[];var u=e[a],c=e[a+1];switch(u){case 0:for(var l=0;l<o;l++)r.selectNametest(c,i[l],n);break;case 1:for(l=0;l<o;l++){for(var d=0,f=i[l];d<c&&f;)f=f.parent,d++;f&&n.push(f)}break;case 2:for(l=0;l<o;l++){c(this,f=i[l],l,o)&&n.push(f)}break;case 3:n=(f=i[c])?[f]:[];break;case 4:if(o>0)c(this,(f=i[0]).doc.root,0,1)&&(n=n.concat(i))}if(!(o=(i=n).length))return[]}return n},r.selectNametest=function(e,t,n){var i=t.data;if(!i||"object"!=typeof i)return n;if("*"===e){if(Array.isArray(i))for(var o=0,a=i.length;o<a;o++)r.selectNametest(o,t,n);else for(e in i)r.selectNametest(e,t,n);return n}if(void 0===(i=i[e]))return n;var s=t.doc;if(Array.isArray(i))for(o=0,a=i.length;o<a;o++)n.push({data:i[o],parent:t,name:e,doc:s});else n.push({data:i,parent:t,name:e,doc:s});return n},r.document=function(e){return[(e.length?new d(e[0].data):new d({})).root]},r.subnode=function(e,t,n){var r=n.doc;if(Array.isArray(t)){for(var i=[],o=0,a=t.length;o<a;o++)i.push({data:t[o],name:e,parent:n,doc:r});return i}return[{data:t,name:e,parent:n,doc:r}]},l.prototype.v=function(e,t){var n=t.doc._vars,r=n[e];if(void 0===r){var i=this.findSymbol(e);r="function"==typeof i?i(this,t,0,1):i,n[e]=r}return r},l.prototype.f=function(e,t,n,r,i){var o=this.findSymbol(e);if(arguments.length>5){var a=Array.prototype.slice.call(arguments);return a[0]=this,o.apply(this,a)}return void 0!==i?o(this,t,n,r,i):o(this,t,n,r)},l.prototype.k=function(e,t,n,i){var o=n.doc._keys,a=this.findSymbol(e),s=o[e];s||(s=this._initKey(a,e,t,n));var u=s.values,c=s.nodes,l=this;if(i){var d;if(s.xml){d="";for(var f=0,h=t.length;f<h;f++){n=t[f];d+=m(r.nodeValue(n))}}else{d=[];for(f=0,h=t.length;f<h;f++){n=t[f];d=d.concat(m(r.nodeValue(n)))}}return d}var p=u[t];return void 0===p&&(p=m(t)),p;function m(e){var t,n=c[e];if(s.xml){if(t="",n)for(var r=0,i=n.length;r<i;r++){var o=n[r];t+=a.b(l,o.c,o.i,o.l,{})}}else if(t=[],n)for(r=0,i=n.length;r<i;r++){o=n[r];t=t.concat(a.b(l,o.c,o.i,o.l))}return u[e]=t,t}},l.prototype._initKey=function(e,t,n,i){var o=i.doc._keys[t]={};o.xml="xml"===e.bt;var a=e.n(this,i),s=o.nodes={};if("nodeset"===e.ut)for(var u=0,c=a.length;u<c;u++)for(var l=a[u],d=0,f=(h=e.u(this,l,u,c)).length;d<f;d++)p(r.nodeValue(h[d]),{c:l,i:u,l:c});else for(u=0,c=a.length;u<c;u++){var h;l=a[u];p(h=e.u(this,l,u,c),{c:l,i:u,l:c})}return o.values={},o;function p(e,t){var n=s[e];n||(n=s[e]=[]),n.push(t)}},l.prototype.findSymbol=function(e){for(var t=this.imports,n=0,r=t.length;n<r;n++){var i=t[n][e];if(void 0!==i)return i}},r.Module=l})(),e.exports=r,e.exports=r}),(function(e,t){var n=function(e){return(e||"").split("/").filter(Boolean)},r=function(e){return n(e).pop()||""},i=function(e,t){return e?e.split("/").map(t).join("/"):""};e.exports={split:n,basename:r,extname:function(e,t){var n=r(e).split(".");return 1===n.length||""===n[n.length-1]?"":(t?".":"")+n[n.length-1]},normalize:function(e){return"/"+n(e).join("/")},escape:function(e){return i(e,encodeURIComponent)},unescape:function(e){return i(e,decodeURIComponent)},dirname:function(e){var t=n(e);return t.pop(),"/".concat(t.join("/"))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(547);t.useFocusTrap=r.useFocusTrap}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),i=n(0),o=n(1844),a=n(420);function s(e){var t=Object(i.useContext)(a.a),n=Object(r.__read)(Object(i.useState)((function(){return"xuniq-"+t.id+"-"+ ++t.value})),1)[0];return console.assert(o.a||t!==a.c,"When using ssr in a project, you must wrap the application in <SSRProvider> for id synchronization between the server and the client."),e||n}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(1846);function o(e,t){var n=e.autoFocus,o=e.disabled,a=e.tabIndex;return Object(r.useEffect)((function(){n&&Object(i.a)(t.current)}),[n,t]),{focusableProps:{tabIndex:o?-1:a}}}}),(function(e,t,n){"use strict";e.exports=n(1178)}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(19),p=n(0),m=n.n(p),v=n(33),g=n(666),y=n(60);function b(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var _=(new Date).getFullYear(),O=(function(e){u()(n,e);var t=b(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getHelpLinks",value:function(){var e=this.props,t=e.isWS,n=e.links,r=e.urlsBase,i=e.isYandexStaff,o=e.diskWebSupportChatExp,a=n.help.disk,s=!t&&o,u=[];return u.push({text:"Справка и поддержка",url:t&&!i?n.help.connect:a}),s&&u.push({text:"Чат с поддержкой",url:r.passport+"/support/disk"}),i&&u.push({text:"Обратная связь",url:n.feedback.disk4Yandex}),u}},{key:"_getLinks",value:function(){var e=this.props,t=e.isWS,n=e.links,r=e.tld,i=this._getHelpLinks();return"ru"===r&&i.push({text:"Блог",url:n.blog}),i.push({text:"Разработчикам",url:n.api}),"ru"!==this.props.countryTld||t||i.push({text:"Вакансии",url:n.vacancies}),i.push({text:"Условия использования",url:t?n.connectTermsOfUse:n.termsOfUse}),"ru"!==this.props.tld||t||i.push({text:"Участие в исследованиях",url:n.usabilityReseach}),i}},{key:"_getDocsLinks",value:function(){var e=this.props.links;return[{text:"Справка и поддержка",url:e.docs.help},{text:"Условия использования",url:e.docs.termsOfUse},{text:"Участие в исследованиях",url:e.usabilityReseach}]}},{key:"_getCopyright",value:function(){return m.a.createElement("span",null,"© 2012—",_,"  «",m.a.createElement(y.Link,{target:"_blank",theme:"ghost",className:"footer__link",href:this.props.urlsBase.morda},"Яндекс"),"»")}},{key:"render",value:function(){return m.a.createElement(g.a,{cls:this.props.cls,links:this.props.isDocsPage?this._getDocsLinks():this._getLinks(),copyright:this._getCopyright(),langs:this.props.langs,currentLang:this.props.locale,sk:this.props.skExternal,yandexLink:this.props.urlsBase.www,retpath:this.props.currentUrl})}}]),n})(p.Component);t.default=Object(h.connect)((function(e){var t=e.page.currentUrl,n=e.user,r=n.isWS,i=n.isYandexStaff,o=e.config,a=o.links,s=o.langs,u=o.urlsBase,c=o.skExternal,l=e.environment.session,d=l.tld,f=l.locale,h=l.region.country_tld,p=l.experiment.diskWebSupportChatExp;return{currentUrl:t,isWS:r,isYandexStaff:i,links:a,urlsBase:u,tld:d,locale:f,langs:s,skExternal:c,isDocsPage:Object(v.isDocsPage)(e),countryTld:h,diskWebSupportChatExp:p}}))(O)}),(function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=n(19),u=o(n(120)),c=o(n(1499)),l=n(38),d=n(43),f=n(100),h=n(29),p=o(n(54)),m=o(n(12)),v=o(n(110)),g=n(105),y=n(95),b=s.connect((function(e,t){var n=e.config.links,r=n.static.host,i=n.help.overdraft;return{isMobile:e.environment.agent.isSmartphone,overdraftType:d.getOverdraftType(e),blockOverdraftDate:d.getBlockOverdraftDate(e),isOverdraftDialogOpened:f.isDialogOpened(e,"overdraft"),overdraftValue:u.default.formatSpace(d.getSpaceOverdraftValue(e)),staticHost:r,helpLink:i+"#end",buyButtonUrl:p.default.addParams(l.getBuyButtonUrl(e),{from:t.from}),onClose:t.onClose,isDark:g.isContentDark(y.getThemeName(e))}}));t.default=b((function(e){var t=e.overdraftType,n=e.blockOverdraftDate,i=e.isOverdraftDialogOpened,o=e.overdraftValue,s=e.helpLink,u=e.staticHost,l=e.buyButtonUrl,d=e.isMobile,f=e.onClose,p=e.isDark,g=a.useCallback((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];m.default.count.apply(m.default,r(["interface elements","overdrafts",t,i?"overdraft_dialog":"overdraft_block"],e))}),[t,i]);a.useEffect((function(){g("show")}),[]);var y=a.useCallback((function(){g("close"),f()}),[f]),b=a.useCallback((function(){g("buy_button")}),[]),_=a.useCallback((function(){g("more")}),[]),O=a.useCallback((function(){g("select_and_delete"),f()}),[f]),w=n&&v.default(n,"D mmmm",["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]),E=t===h.OVERDRAFT_TYPES.LITE?"Ваш Диск переполнен на "+yr.externals.entityify(o):"Ваш Диск будет заблокирован "+yr.externals.entityify(w)+", а спустя полгода файлы удалятся навсегда",S=t===h.OVERDRAFT_TYPES.LITE?"Файлы еще доступны, но уже нельзя загружать новые и делиться ссылками. А "+yr.externals.entityify(w)+" Диск заблокируется насовсем.":"Файлы занимают на "+yr.externals.entityify(o)+" больше, чем у вас есть. Удалите лишнее или добавьте место.";return d&&(E=t===h.OVERDRAFT_TYPES.LITE?"Ваш Диск переполнен":"Ваши файлы будут удалены. Диск будет заблокирован "+yr.externals.entityify(w)+".",S=t===h.OVERDRAFT_TYPES.LITE?"Файлы по-прежнему доступны. Но нельзя загружать новые, делиться ссылками и создавать общие папки.":"Файлы занимают больше места, чем у вас есть."),a.default.createElement(c.default,{isMobile:d,title:E,text:S,aboutText:"Подробнее об ограничениях",buttonAddSpaceText:"Добавить место",buttonCleanText:"Выбрать и удалить лишнее",overdraftType:t,helpLink:s,staticHost:u,buyButtonUrl:l,onClose:y,onClean:O,onAddSpace:b,onAbout:_,isDark:p})}))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(463);n(1506);var a=r(n(11));t.default=function(e){var t=e.cls,n=e.theme,r=e.isMonochrome?o.SvgYaMonochrome:o.SvgYa;return i.default.createElement("span",{className:a.default()("logo-360").m({theme:n}).mix(t)},i.default.createElement(r,{logoLang:["ru","uk"].includes("ru")?"Ru":"En"}),i.default.createElement(o.Svg360,null))}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"addExternalDropTarget",(function(){return N})),n.d(t,"removeExternalDropTarget",(function(){return L}));var r=n(32),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),d=n(5),f=n.n(d),h=n(7),p=n.n(h),m=n(1),v=n.n(m),g=n(0),y=n.n(g),b=n(134),_=n.n(b),O=n(528),w=n(101),E=n(252),S=n(386),C=n(201),x=n(137),k=n(41),T=n(129),j=n(11),R=n.n(j);n(1579);function P(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var D=function(){return R()()("listing")},I=R()()("listing-item").e("icon-wrapper").toString(),A=D().e("drop-target"),M=[],N=function(e){M.push(e)},L=function(e){var t=M.findIndex((function(t){return t.reactElement===e}));M.splice(t,1)};t.default=function(e){return (function(t){f()(r,t);var n=P(r);function r(e){var t;return a()(this,r),(t=n.call(this,e)).state={isDragging:!1},t._onDocumentPointerBeforeStart=t._onDocumentPointerBeforeStart.bind(l()(t)),t._onDocumentPointerStart=t._onDocumentPointerStart.bind(l()(t)),t._onDocumentPointerMove=t._onDocumentPointerMove.bind(l()(t)),t._onDocumentPointerEnd=t._onDocumentPointerEnd.bind(l()(t)),t._onWindowKeyUp=t._onWindowKeyUp.bind(l()(t)),t._setListingContainerRef=t._setListingContainerRef.bind(l()(t)),t._onTargetContainerScroll=t._onTargetContainerScroll.bind(l()(t)),t._setDraggingElementRef=t._setDraggingElementRef.bind(l()(t)),t}return u()(r,[{key:"componentDidMount",value:function(){var e=this;this._documentPointerListener=Object(S.a)({scope:this._listingContainerRef,scroll:!0,scrollBorder:{width:30,height:30},startThreshold:10,startFilter:function(t){return!t.target.closest("."+("row"===e.props.theme?k.LISTING_ITEM_CLASS:I))||t.target.closest("."+k.LISTING_PREVENT_DRAG_CLASS)},onBeforeStart:this._onDocumentPointerBeforeStart,onStart:this._onDocumentPointerStart,onMove:this._onDocumentPointerMove,onEnd:this._onDocumentPointerEnd}),window.addEventListener("keyup",this._onWindowKeyUp)}},{key:"componentDidUpdate",value:function(e){this.state.isDragging&&(Object(x.isResourcesEqual)(this.props.resources,e.resources)||this._recalculateTargetsRects(),this._toggleHighLightDropTargets(!0),0===this.props.selectedResources.length&&e.selectedResources.length>0&&this._documentPointerListener&&this._documentPointerListener.cancel())}},{key:"componentWillUnmount",value:function(){this._documentPointerListener&&this._documentPointerListener.clearListeners(),window.removeEventListener("keyup",this._onWindowKeyUp)}},{key:"_onWindowKeyUp",value:function(e){e.keyCode&&27===e.keyCode&&this.state.isDragging&&this._documentPointerListener&&this._documentPointerListener.cancel()}},{key:"_recalculateTargetsRects",value:function(){var e=this,t=this._getDraggingItemsIds(),n=t.map((function(t){return e.props.resourcesByIds[t]})).filter(Boolean);this._dropTargets=this.props.resources.filter((function(r){return!t.includes(r.id)&&e.props.filterDropTarget(r,n)})).map((function(t){var n=t.id;return{id:n,element:(e._listing.getItemInfo(n)||{}).ref,highlightClass:A,activeHighlightClass:"listing__drop-target_active"}})).concat(M.map((function(e){return Object.assign({element:e.reactElement.getDomElement()},e)})).filter((function(t){return e.props.filterDropTarget(t,n)}))).map((function(e){return e.rect=Object(C.b)(e.element),e}))}},{key:"_onDocumentPointerBeforeStart",value:function(e,t){var n=this,r=t.target.closest("."+k.LISTING_ITEM_CLASS);this._listing.getItemsInfo().forEach((function(e,t){e.ref===r&&(n._dragStartResourceId=t)}))}},{key:"_onDocumentPointerStart",value:function(){document.body.classList.add("is-dragging"),this._recalculateTargetsRects(),this.setState({isDragging:!0}),this._toggleHighLightDropTargets(!0),this._toggleExternalDropTargetsScrollListeners(!0),this.props.onDragStart&&this.props.onDragStart()}},{key:"_checkIfDropIsAllowed",value:function(e){if(!this.props.dropDeniedSelector)return!0;var t=document.elementFromPoint(e.clientX,e.clientY);return null===(t?t.closest(this.props.dropDeniedSelector):null)}},{key:"_onDocumentPointerMove",value:function(e,t,n){if(this._draggingElement){"scroll"===n.type&&this._dropTargets.forEach((function(e){e.isFixed&&(e.rect=Object(C.b)(e.element))}));var r=this._checkIfDropIsAllowed(t);this._draggingElement.style.top=t.y-30+"px",this._draggingElement.style.left=t.x-30+"px";var i,o={top:t.y-30,left:t.x-30,bottom:t.y+30,right:t.x+30},a=0;r&&this._dropTargets.forEach((function(e){var t=Object(C.a)(e.rect,o);t>a&&(a=t,i=e)})),this._intersectDropTarget!==i&&(this._intersectDropTarget&&this._toggleActiveHighLightDropTarget(this._intersectDropTarget,!1),i&&r&&this._toggleActiveHighLightDropTarget(i,!0)),this._intersectDropTarget=i}}},{key:"_onDocumentPointerEnd",value:function(e,t){var n=this;if(document.body.classList.remove("is-dragging"),this._toggleHighLightDropTargets(!1),this._toggleExternalDropTargetsScrollListeners(!1),this._dropTargets.forEach((function(e){n._toggleActiveHighLightDropTarget(e,!1)})),this.setState({isDragging:!1}),document.documentElement.classList.add(k.LISTING_PREVENT_DESELECT_CLASS),setTimeout((function(){document.documentElement.classList.remove(k.LISTING_PREVENT_DESELECT_CLASS)}),0),this._intersectDropTarget&&!t&&(this._toggleActiveHighLightDropTarget(this._intersectDropTarget,!1),this.props.onDrop)){var r=this._intersectDropTarget.type||"subfolder";this.props.onDrop(this._getDraggingItemsIds(),this._intersectDropTarget.id,r)}}},{key:"_getDraggingItemsIds",value:function(){return this.props.selectedResources.length>1?this.props.selectedResources:[this._dragStartResourceId]}},{key:"_onTargetContainerScroll",value:function(e){this._dropTargets.forEach((function(t){t.scrollContainerSelector&&document.querySelector(t.scrollContainerSelector)===e.target&&(t.rect=Object(C.b)(t.element))}))}},{key:"_toggleExternalDropTargetsScrollListeners",value:function(e){var t=this;this._dropTargets.forEach((function(n){var r=n.scrollContainerSelector;if(r){var i=document.querySelector(r);e?i.addEventListener("scroll",t._onTargetContainerScroll):i.removeEventListener("scroll",t._onTargetContainerScroll)}}))}},{key:"_toggleActiveHighLightDropTarget",value:function(e,t){e.reactElement?e.reactElement.toggleActive(t):e.element.classList.toggle(e.activeHighlightClass,Boolean(t))}},{key:"_toggleHighLightDropTargets",value:function(e){this._dropTargets.forEach((function(t){var n=t.element,r=t.reactElement,i=t.highlightClass;r?r.toggleHighlight(e):n.classList.toggle(i,Boolean(e))}))}},{key:"_setDraggingElementRef",value:function(e){this._draggingElement=e}},{key:"_getDraggingElement",value:function(){var e,t=this;if(this.props.selectedResources.length>1){var n=this.props.selectedResources.length>=1e3?"thousands":this.props.selectedResources.length>=100?"hundreds":"";e=[y.a.createElement(w.a,{key:"1",size:"s",cls:D().e("dragging-element-icon")}),y.a.createElement(w.a,{key:"2",size:"s",cls:D().e("dragging-element-icon")}),y.a.createElement(w.a,{key:"3",size:"s",cls:D().e("dragging-element-icon")}),y.a.createElement("div",{key:"4",className:D().e("dragging-element-count").m({rank:n})},this.props.selectedResources.length)]}else{var r=this.props.resources.find((function(e){var n=e.id;return t._dragStartResourceId===n}));r&&(e=y.a.createElement(E.a,{resource:r,cls:D().e("dragging-element-icon"),size:"s"}))}return this.state.isDragging&&e?_.a.createPortal(y.a.createElement("div",{className:D().e("dragging-element").m({active:!0}),ref:this._setDraggingElementRef},y.a.createElement("div",{className:D().e("dragging-element-inner").m({multi:this.props.selectedResources.length>1})},e)),document.body):null}},{key:"_setListingContainerRef",value:function(e){this._listingContainerRef=e,this.props.containerRef&&this.props.containerRef(e)}},{key:"render",value:function(){var t=this;return this._mods=Object(T.a)(this.props.mods,{"with-drag-and-drop":!0},this._mods),y.a.createElement(y.a.Fragment,null,y.a.createElement(e,i()({},this.props,{mods:this._mods,containerRef:this._setListingContainerRef,ref:function(e){t._listing=e}})),this._getDraggingElement())}}]),r})(O.a)}}),(function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(165),a=n.n(o);var s=n(1879),u=n(169),c=n(241),l=n(89),d=n(78);var f=n(107),h=n(240),p=n(96),m=n(242);function v(e,t,n){void 0===n&&(n=!1);var r=Object(p.a)(t),i=Object(u.a)(e),o=Object(d.b)(t),a={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(o||!o&&!n)&&(("body"!==Object(f.a)(t)||Object(m.a)(r))&&(a=(function(e){return e!==Object(l.a)(e)&&Object(d.b)(e)?(function(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}})(e):Object(c.a)(e)})(t)),Object(d.b)(t)?((s=Object(u.a)(t)).x+=t.clientLeft,s.y+=t.clientTop):r&&(s.x=Object(h.a)(r))),{x:i.left+a.scrollLeft-s.x,y:i.top+a.scrollTop-s.y,width:i.width,height:i.height}}function g(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}var y=n(258),b=n(157),_=n(39);function O(e){var t=new Map,n=new Set,r=[];return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||(function e(i){n.add(i.name),[].concat(i.requires||[],i.requiresIfExists||[]).forEach((function(r){if(!n.has(r)){var i=t.get(r);i&&e(i)}})),r.push(i)})(e)})),r}var w={placement:"bottom",modifiers:[],strategy:"absolute"};function E(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function S(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?w:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign(Object.assign({},w),o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,u={state:i,setOptions:function(n){c(),i.options=Object.assign(Object.assign(Object.assign({},o),i.options),n),i.scrollParents={reference:Object(d.a)(e)?Object(y.a)(e):e.contextElement?Object(y.a)(e.contextElement):[],popper:Object(y.a)(t)};var s=(function(e){var t=O(e);return _.g.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])})(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign(Object.assign(Object.assign({},n),t),{},{options:Object.assign(Object.assign({},n.options),t.options),data:Object.assign(Object.assign({},n.data),t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=s.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var s=o({state:i,name:t,instance:u,options:r});a.push(s||function(){})}})),u.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(E(t,n)){i.rects={reference:v(t,Object(b.a)(n),"fixed"===i.options.strategy),popper:g(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,c=o.options,l=void 0===c?{}:c,d=o.name;"function"==typeof a&&(i=a({state:i,options:l,name:d,instance:u})||i)}else i.reset=!1,r=-1}}},update:(function(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then((function(){t=void 0,n(e())}))})),t}})((function(){return new Promise(function(e){u.forceUpdate(),e(i)})})),destroy:function(){c(),s=!0}};if(!E(e,t))return u;function c(){a.forEach((function(e){return e()})),a=[]}return u.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var C=n(106),x=n(422),k=n(239);function T(e,t,n){return Math.max(e,Math.min(t,n))}var j=n(423),R=n(425);var P={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Object(C.a)(n.placement),s=Object(k.a)(a),u=[_.f,_.k].indexOf(a)>=0?"height":"width";if(i&&o){var c=n.modifiersData[r+"#persistent"].padding,l=g(i),d="y"===s?_.m:_.f,f="y"===s?_.c:_.k,h=n.rects.reference[u]+n.rects.reference[s]-o[s]-n.rects.popper[u],p=o[s]-n.rects.reference[s],m=Object(b.a)(i),v=m?"y"===s?m.clientHeight||0:m.clientWidth||0:0,y=h/2-p/2,O=c[d],w=v-l[u]-c[f],E=v/2-l[u]/2+y,S=T(O,E,w),x=s;n.modifiersData[r]=((t={})[x]=S,t.centerOffset=S-E,t)}},effect:function(e){var t=e.state,n=e.options,r=e.name,i=n.element,o=void 0===i?"[data-popper-arrow]":i,a=n.padding,s=void 0===a?0:a;null!=o&&("string"!=typeof o||(o=t.elements.popper.querySelector(o)))&&Object(x.a)(t.elements.popper,o)&&(t.elements.arrow=o,t.modifiersData[r+"#persistent"]={padding:Object(j.a)("number"!=typeof s?s:Object(R.a)(s,_.b))})},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},D={top:"auto",right:"auto",bottom:"auto",left:"auto"};function I(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.offsets,a=e.position,s=e.gpuAcceleration,u=e.adaptive,c=(function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Math.round(t*r)/r||0,y:Math.round(n*r)/r||0}})(o),d=c.x,f=c.y,h=o.hasOwnProperty("x"),m=o.hasOwnProperty("y"),v=_.f,g=_.m,y=window;if(u){var O=Object(b.a)(n);O===Object(l.a)(n)&&(O=Object(p.a)(n)),i===_.m&&(g=_.c,f-=O.clientHeight-r.height,f*=s?1:-1),i===_.f&&(v=_.k,d-=O.clientWidth-r.width,d*=s?1:-1)}var w,E=Object.assign({position:a},u&&D);return s?Object.assign(Object.assign({},E),{},((w={})[g]=m?"0":"",w[v]=h?"0":"",w.transform=(y.devicePixelRatio||1)<2?"translate("+d+"px, "+f+"px)":"translate3d("+d+"px, "+f+"px, 0)",w)):Object.assign(Object.assign({},E),{},((t={})[g]=m?f+"px":"",t[v]=h?d+"px":"",t.transform="",t))}var A={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s={placement:Object(C.a)(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign(Object.assign({},t.styles.popper),I(Object.assign(Object.assign({},s),{},{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign(Object.assign({},t.styles.arrow),I(Object.assign(Object.assign({},s),{},{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1})))),t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-placement":t.placement})},data:{}},M={passive:!0};var N={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,u=Object(l.a)(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,M)})),s&&u.addEventListener("resize",n.update,M),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,M)})),s&&u.removeEventListener("resize",n.update,M)}},data:{}},L={left:"right",right:"left",bottom:"top",top:"bottom"};function F(e){return e.replace(/left|right|bottom|top/g,(function(e){return L[e]}))}var B={start:"end",end:"start"};function U(e){return e.replace(/start|end/g,(function(e){return B[e]}))}var z=n(167),V=n(168);var H={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,u=n.fallbackPlacements,c=n.padding,l=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=void 0===h||h,m=n.allowedAutoPlacements,v=t.options.placement,g=Object(C.a)(v),y=u||(g!==v&&p?(function(e){if(Object(C.a)(e)===_.a)return[];var t=F(e);return[U(e),t,U(t)]})(v):[F(v)]),b=[v].concat(y).reduce((function(e,n){return e.concat(Object(C.a)(n)===_.a?(function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?_.h:u,l=Object(V.a)(r),d=l?s?_.n:_.n.filter((function(e){return Object(V.a)(e)===l})):_.b,f=d.filter((function(e){return c.indexOf(e)>=0}));0===f.length&&(f=d);var h=f.reduce((function(t,n){return t[n]=Object(z.a)(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[Object(C.a)(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))})(t,{placement:n,boundary:l,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),O=t.rects.reference,w=t.rects.popper,E=new Map,S=!0,x=b[0],k=0;k<b.length;k++){var T=b[k],j=Object(C.a)(T),R=Object(V.a)(T)===_.l,P=[_.m,_.c].indexOf(j)>=0,D=P?"width":"height",I=Object(z.a)(t,{placement:T,boundary:l,rootBoundary:d,altBoundary:f,padding:c}),A=P?R?_.k:_.f:R?_.c:_.m;O[D]>w[D]&&(A=F(A));var M=F(A),N=[];if(o&&N.push(I[j]<=0),s&&N.push(I[A]<=0,I[M]<=0),N.every((function(e){return e}))){x=T,S=!1;break}E.set(T,N)}if(S)for(var L=function(e){var t=b.find((function(t){var n=E.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return x=t,"break"},B=p?3:1;B>0&&"break"!==L(B);B--);t.placement!==x&&(t.modifiersData[r]._skip=!0,t.placement=x,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},W=n(426);var G={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Object(W.a)({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var q=n(424);var $={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,d=n.padding,f=n.tether,h=void 0===f||f,p=n.tetherOffset,m=void 0===p?0:p,v=Object(z.a)(t,{boundary:u,rootBoundary:c,padding:d,altBoundary:l}),y=Object(C.a)(t.placement),O=Object(V.a)(t.placement),w=!O,E=Object(k.a)(y),S=(function(e){return"x"===e?"y":"x"})(E),x=t.modifiersData.popperOffsets,j=t.rects.reference,R=t.rects.popper,P="function"==typeof m?m(Object.assign(Object.assign({},t.rects),{},{placement:t.placement})):m,D={x:0,y:0};if(x){if(o){var I="y"===E?_.m:_.f,A="y"===E?_.c:_.k,M="y"===E?"height":"width",N=x[E],L=x[E]+v[I],F=x[E]-v[A],B=h?-R[M]/2:0,U=O===_.l?j[M]:R[M],H=O===_.l?-R[M]:-j[M],W=t.elements.arrow,G=h&&W?g(W):{width:0,height:0},$=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Object(q.a)(),Y=$[I],K=$[A],X=T(0,j[M],G[M]),Z=w?j[M]/2-B-X-Y-P:U-X-Y-P,J=w?-j[M]/2+B+X+K+P:H+X+K+P,Q=t.elements.arrow&&Object(b.a)(t.elements.arrow),ee=Q?"y"===E?Q.clientTop||0:Q.clientLeft||0:0,te=t.modifiersData.offset?t.modifiersData.offset[t.placement][E]:0,ne=x[E]+Z-te-ee,re=x[E]+J-te,ie=T(h?Math.min(L,ne):L,N,h?Math.max(F,re):F);x[E]=ie,D[E]=ie-N}if(s){var oe="x"===E?_.m:_.f,ae="x"===E?_.c:_.k,se=x[S],ue=T(se+v[oe],se,se-v[ae]);x[S]=ue,D[S]=ue-se}t.modifiersData[r]=D}},requiresIfExists:["offset"]},Y={name:"applyStyles",enabled:!0,fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];i instanceof HTMLElement&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={position:t.options.strategy,left:0,top:0,right:"auto",bottom:"auto",margin:0};Object.assign(t.elements.popper.style,n)},phase:"write",requires:["computeStyles"]};var K=n(283),X="top",Z="left",J="right",Q="bottom";function ee(e,t){var n=(function(e){return e.split("-")[0]})(e),r=[Z,X].indexOf(n)>=0?-1:1,i=t[0]||0,o=(t[1]||0)*r;return[Z,J].indexOf(n)>=0?{x:o,y:i}:{x:i,y:o}}function te(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ne(e){return[X,J,Q,Z].some((function(t){return e[t]>=0}))}var re=S({defaultModifiers:[Y,P,A,N,H,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=e.options.boundary,o=t.rects.reference,a=t.rects.popper,s=t.modifiersData.preventOverflow,u=Object(z.a)(t,{elementContext:"reference",boundary:i}),c=Object(z.a)(t,{altBoundary:!0,boundary:i}),l=te(u,o),d=te(c,a,s),f=ne(l),h=ne(d);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:d,isReferenceHidden:f,hasPopperEscaped:h},t.attributes.popper=Object(r.__assign)(Object(r.__assign)({},t.attributes.popper),{"data-popper-reference-hidden":f,"data-popper-escaped":h})}},{name:"offset",enabled:!0,fn:function(e){var t=e.state,n=e.options,r=n.offset,i=void 0===r?[0,0]:r,o=n.tailOffset;t.modifiersData.arrow&&o&&(t.modifiersData.arrow.x&&(t.modifiersData.arrow.x+=o),t.modifiersData.arrow.y&&(t.modifiersData.arrow.y+=o));if(t.modifiersData.popperOffsets&&t.elements.arrow){var a=(function(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}})(t.elements.arrow).width,s=ee(t.placement,[0,a/2]),u=s.x,c=s.y;t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c}var l=K.a.reduce((function(e,t){return e[t]=ee(t,i),e}),{}),d=l[t.placement],f=d.x,h=d.y;t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x=Math.round(t.modifiersData.popperOffsets.x+f),t.modifiersData.popperOffsets.y=Math.round(t.modifiersData.popperOffsets.y+h));t.modifiersData.offset=l},phase:"main",requires:["popperOffsets"]},{name:"patchScaleFactor",enabled:!0,fn:function(e){var t,n=e.state,i=e.instance;i.__patchCounter=null!==(t=i.__patchCounter)&&void 0!==t?t:0;var o=n.elements.reference,a=i.__patchCounter;if(a>2)return;if(!(o instanceof HTMLElement))return;var s=Object(r.__read)(function(e){var t=window.getComputedStyle(e),n=t.transform||t.webkitTransform,r=n.indexOf("3d")>=0?"3d":"2d",i=n.match(/matrix.*\((.+)\)/);if("2d"===r&&null!==i){var o=i[1].split(", ");return[Number(o[0]),Number(o[3])]}return[1,1]}(o),2),u=s[0],c=s[1];if(1===a&&(1!==u||1!==c)){var l=n.rects.reference,d=l.width,f=l.height,h=Number((d/u).toFixed(2)),p=Number((f/c).toFixed(2)),m=(h-d)/2,v=(p-f)/2;n.rects.reference={x:Math.round(n.rects.reference.x-m),y:Math.round(n.rects.reference.y-v),width:h,height:p}}i.__patchCounter++},phase:"beforeRead",requires:["popperOffsets"]},G,$]});function ie(e){var t=e.anchorRef,n=e.arrowMarginThreshold,o=void 0===n?4:n,u=e.placement,c=void 0===u?"bottom":u,l=e.enabled,d=void 0===l||l,f=e.marginThreshold,h=void 0===f?16:f,p=e.modifiers,m=void 0===p?[]:p,v=e.motionless,g=e.offset,y=e.unsafe_tailOffset,b=e.children,_=e.boundary,O=Array.isArray(c)?c:[c],w=Object(i.useRef)(null),E=Object(i.useRef)(null),S=Object(r.__read)(Object(i.useState)(null),2),C=S[0],x=S[1],k=Object(r.__read)(Object(i.useState)(null),2),T=k[0],j=k[1],R=Object(i.useMemo)((function(){var e=Object(r.__read)(O),t=e[0],n=e.slice(1),i=(function(e){var t=(Array.isArray(e)?e:[e]).reduce((function(e,t){return t&&t.current&&e.push(t.current),e}),[]);return t.length?t:void 0})(_),s={children:b,placement:t,modifiers:Object(r.__spread)([{name:"eventListeners",enabled:!v},{name:"offset",options:{offset:g,tailOffset:y}},{name:"computeStyles",options:{gpuAcceleration:!1}},{name:"preventOverflow",options:{altBoundary:!0,boundary:i}},{name:"arrow",enabled:Boolean(T),options:{element:T,padding:o}},{name:"flip",options:{padding:h,fallbackPlacements:n,altBoundary:!0,boundary:i}},{name:"hide",options:{boundary:i}}],m)};return (function e(t,n){if(t===n)return!0;if(t&&n&&"object"===a()(t)&&"object"===a()(n)){if(t.constructor!==n.constructor)return!1;var r,i,o=void 0;if(Array.isArray(t)){if((r=t.length)!==n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;if("undefined"!=typeof Element&&t instanceof Element)return!1;for(o=r;0!=o--;)if(("_owner"!==i[o]&&"__v"!==i[o]&&"__o"!==i[o]||!t.$$typeof)&&!e(t[i[o]],n[i[o]]))return!1;return!0}return t!=t&&n!=n})(E.current,s)?E.current||s:E.current=s}),[O,g,T,o,v,h,y,m,b,_]);return Object(s.a)((function(){null!==w.current&&w.current.setOptions(R)}),[R]),Object(s.a)((function(){return t.current&&C&&d&&(w.current=re(t.current,C,R),w.current.forceUpdate()),function(){null!==w.current&&(w.current.destroy(),w.current=null)}}),[t,C,d]),{popper:w.current,setArrowRef:j,setPopupRef:x}}n.d(t,"a",(function(){return ie}))}),(function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(1846);function a(e,t,n){return{source:n,target:e.target,currentTarget:t,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey}}function s(e,t){if(!e)return!1;if(document.elementFromPoint){var n=document.elementFromPoint(t.clientX,t.clientY);return e.contains(n)}var r=e.getBoundingClientRect(),i=(function(e){var t=e.width/2||e.radiusX||0,n=e.height/2||e.radiusY||0;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}})(t);return!(r.left>i.right||i.left>r.right)&&!(r.top>i.bottom||i.top>r.bottom)}function u(e){var t=e.getAttribute("type");return"INPUT"===e.tagName&&("checkbox"===t||"radio"===t)}function c(e){var t=e.key,n=e.target,r=n.getAttribute("role"),i="A"===n.tagName&&n.hasAttribute("href"),o=n.getAttribute("contenteditable");return!((u(n)||"Enter"!==t)&&" "!==t&&"Spacebar"!==t||"true"===o||i&&("button"!==r||"Enter"===t)||"link"===r&&"Enter"!==t)}var l="idle",d="";function f(){return document.documentElement.style.userSelect||document.documentElement.style.webkitUserSelect}function h(e){document.documentElement.style.userSelect=e,document.documentElement.style.webkitUserSelect=e}function p(){"disabled"===l&&(l="restoring",setTimeout((function(){requestAnimationFrame((function(){"restoring"===l&&("none"===f()&&h(d),d="",l="idle")}))}),300))}function m(e,t){for(var n=e.changedTouches,r=0;r<n.length;r++){var i=n[r];if(i.identifier===t)return i}return null}function v(e){var t=e.preventFocusOnPress,n=(function(){var e=Object(i.useRef)(new Map),t=Object(i.useCallback)((function(t,n,r,i){e.current.set(r,{type:n,eventTarget:t,options:i}),t.addEventListener(n,r,i)}),[]),n=Object(i.useCallback)((function(t,n,r,i){t.removeEventListener(n,r,i),e.current.delete(r)}),[]),r=Object(i.useCallback)((function(){e.current.forEach((function(e,t){n(e.eventTarget,e.type,t,e.options)}))}),[n]);return Object(i.useEffect)((function(){return r}),[r]),{addListener:t,removeListener:n,removeAllListeners:r}})(),v=n.addListener,g=n.removeAllListeners,y=Object(r.__read)(Object(i.useState)(!1),2),b=y[0],_=y[1],O=Object(i.useRef)({currentPointerId:null,currentPointerTarget:null,isPressed:!1,isPressStarted:!1}),w=Object(i.useRef)({});w.current={disabled:e.disabled,onPressStart:e.onPressStart,onPressUp:e.onPressUp,onPressEnd:e.onPressEnd,onPress:e.onPress};var E=Object(i.useMemo)((function(){var e=O.current,n={onKeyDown:function(t){c(t.nativeEvent)&&(u(t.target)||t.preventDefault(),t.stopPropagation(),e.isPressed||t.repeat||i(a(t,t.currentTarget,"keyboard")))},onKeyUp:function(e){c(e.nativeEvent)&&!e.repeat&&(y(a(e,e.currentTarget,"keyboard")),b(a(e,e.currentTarget,"keyboard")))}},i=function(t){var n=w.current,i=n.disabled,o=n.onPressStart;i||e.isPressStarted||(_(!0),e.isPressStarted=!0,null===o||void 0===o||o(Object(r.__assign)(Object(r.__assign)({},t),{type:"pressstart"})))},y=function(e){var t=w.current,n=t.disabled,i=t.onPressUp;n||null===i||void 0===i||i(Object(r.__assign)(Object(r.__assign)({},e),{type:"pressup"}))},b=function(t,n){void 0===n&&(n=!0);var i=w.current,o=i.onPress,a=i.onPressEnd;e.isPressStarted&&(_(!1),e.isPressStarted=!1,null===a||void 0===a||a(Object(r.__assign)(Object(r.__assign)({},t),{type:"pressend"})),n&&(null===o||void 0===o||o(Object(r.__assign)(Object(r.__assign)({},t),{type:"press"}))))},E=function(t,n){e.currentPointerTarget=t,e.currentPointerId=n,e.isPressed=!0,"idle"===l&&(d=f(),h("none")),l="disabled",_(!0)},S=function(){e.isPressed&&(e.isPressed=!1,p(),_(!1),g())};if("undefined"!=typeof PointerEvent){var C=function(t){var n=t.pointerType;s(e.currentPointerTarget,t)?i(a(t,e.currentPointerTarget,n)):b(a(t,e.currentPointerTarget,n),!1)},x=function(t){if(t.pointerId===e.currentPointerId&&(S(),s(e.currentPointerTarget,t))){var n=t.pointerType;y(a(t,e.currentPointerTarget,n)),b(a(t,e.currentPointerTarget,n))}},k=function(t){if(e.isPressed){var n=t.pointerType;b(a(t,e.currentPointerTarget,n),!1)}S()};n.onPointerDown=function(n){var r=w.current.disabled;0===n.button&&(n.preventDefault(),n.stopPropagation(),e.isPressed||r||(t||Object(o.b)(n.currentTarget),E(n.currentTarget,n.pointerId),i(a(n,n.currentTarget,n.pointerType)),v(document,"pointermove",C,!1),v(document,"pointerup",x,!1),v(document,"pointercancel",k,!1)))}}else{var T=function(t){var n=m(t,e.currentPointerId);n&&(s(e.currentPointerTarget,n)?i(a(t,e.currentPointerTarget,"touch")):b(a(t,e.currentPointerTarget,"touch"),!1))},j=function(t){var n=m(t,e.currentPointerId);(null===n||void 0===n?void 0:n.identifier)===e.currentPointerId&&(S(),s(e.currentPointerTarget,n)&&(y(a(t,e.currentPointerTarget,"touch")),b(a(t,e.currentPointerTarget,"touch"))))},R=function(t){e.isPressed&&b(a(t,e.currentPointerTarget,"touch"),!1),S()};n.onTouchStart=function(n){var r=w.current.disabled;n.preventDefault(),n.stopPropagation();var s=(function(e){var t=e.targetTouches;return t.length>0?t[0]:null})(n.nativeEvent);!s||e.isPressed||r||(t||Object(o.b)(n.currentTarget),E(n.currentTarget,s.identifier),i(a(n,n.currentTarget,"touch")),v(document,"touchmove",T,!1),v(document,"touchend",j,!1),v(document,"touchcancel",R,!1))}}return n}),[v,t,g]);return Object(i.useEffect)((function(){return p}),[]),{isPressed:b,pressProps:E}}n.d(t,"a",(function(){return v}))}),(function(e,t,n){"use strict";n.r(t);var r=n(61),i=n(127),o=n(181),a=n(47),s=n(24);n(257);"function"==typeof Symbol&&Symbol.observable;var u=function(){return Math.random().toString(36).substring(7).split("").join(".")};u(),u();function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function l(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}var d=l,f=(n(399),[]),h=0;function p(e){try{g(),e()}finally{y()}}function m(e){f.push(e),h||(g(),b())}function v(e){try{return g(),e()}finally{b()}}function g(){h++}function y(){h--}function b(){var e;for(y();!h&&void 0!==(e=f.shift());)p(e)}var _=function(e){return function(t){return e.some((function(e){return C(e)(t)}))}},O=function(e){return function(t){return e(t)}},w=function(e){return function(t){return t.type===String(e)}},E=function(e){return function(t){return t.type===e}},S=function(){return s.U};function C(e){var t="*"===e?S:Object(a.k)(e)?w:Object(a.a)(e)?_:Object(a.l)(e)?w:Object(a.d)(e)?O:Object(a.m)(e)?E:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var x={type:r.b},k=function(e){return e&&e.type===r.b};function T(e){void 0===e&&(e=Object(s.O)());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(x):e.isEmpty()?(n.push(r),r.cancel=function(){Object(s.bb)(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(x):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,i=e.length;r<i;r++)(0,e[r])(x)}}}}function j(e,t){void 0===t&&(t=Object(s.X)());var n,r=!1,i=T(t),o=function(){r||(r=!0,Object(a.d)(n)&&n(),i.close())};return n=e((function(e){k(e)?o():i.put(e)})),n=Object(s.Y)(n),r&&n(),{take:i.take,flush:i.flush,close:o}}function R(){var e,t=!1,n=[],i=n;var o=function(){i===n&&(i=n.slice())},a=function(){t=!0;var e=n=i;i=[],e.forEach((function(e){e(x)}))};return(e={})[r.e]=!0,e.put=function(e){if(!t)if(k(e))a();else for(var o=n=i,s=0,u=o.length;s<u;s++){var c=o[s];c[r.d](e)&&(c.cancel(),c(e))}},e.take=function(e,n){void 0===n&&(n=S),t?e(x):(e[r.d]=n,o(),i.push(e),e.cancel=Object(s.Y)((function(){o(),Object(s.bb)(i,e)})))},e.close=a,e}function P(){var e=R(),t=e.put;return e.put=function(e){e[r.f]?t(e):m((function(){t(e)}))},e}var D=0,I=1,A=2,M=3;function N(e,t){var n=e[r.a];Object(a.d)(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var L,F=0,B=function(){return++F};function U(e){e.isRunning()&&e.cancel()}var z=((L={})[s.u]=function(e,t,n){var i=t.channel,o=void 0===i?e.channel:i,s=t.pattern,u=t.maybe,c=function(e){e instanceof Error?n(e,!0):!k(e)||u?n(e):n(r.k)};try{o.take(c,Object(a.g)(s)?C(s):null)}catch(e){return void n(e,!0)}n.cancel=c.cancel},L[s.q]=function(e,t,n){var r=t.channel,i=t.action,o=t.resolve;m((function(){var t;try{t=(r?r.put:e.dispatch)(i)}catch(e){return void n(e,!0)}o&&Object(a.j)(t)?N(t,n):n(t)}))},L[s.b]=function(e,t,n,r){var i=r.digestEffect,o=F,u=Object.keys(t);if(0!==u.length){var c=Object(s.V)(t,n);u.forEach((function(e){i(t[e],o,c[e],e)}))}else n(Object(a.a)(t)?[]:{})},L[s.s]=function(e,t,n,r){var i=r.digestEffect,o=F,u=Object.keys(t),c=Object(a.a)(t)?Object(s.W)(u.length):{},l={},d=!1;u.forEach((function(e){var t=function(t,r){d||(r||Object(s.cb)(t)?(n.cancel(),n(t,r)):(n.cancel(),d=!0,c[e]=t,n(c)))};t.cancel=s.db,l[e]=t})),n.cancel=function(){d||(d=!0,u.forEach((function(e){return l[e].cancel()})))},u.forEach((function(e){d||i(t[e],o,l[e],e)}))},L[s.d]=function(e,t,n,r){var i=t.context,o=t.fn,u=t.args,c=r.task;try{var l=o.apply(i,u);if(Object(a.j)(l))return void N(l,n);if(Object(a.e)(l))return void Z(e,l,c.context,F,Object(s.T)(o),!1,n);n(l)}catch(e){n(e,!0)}},L[s.C]=function(e,t,n){var r=t.context,i=t.fn,o=t.args;try{var s=function(e,t){Object(a.n)(e)?n(t):n(e,!0)};i.apply(r,o.concat(s)),s.cancel&&(n.cancel=s.cancel)}catch(e){n(e,!0)}},L[s.g]=function(e,t,n,r){var i=t.context,o=t.fn,u=t.args,c=t.detached,l=r.task,d=(function(e){var t=e.context,n=e.fn,r=e.args;try{var i=n.apply(t,r);if(Object(a.e)(i))return i;var o=!1;return Object(s.ab)((function(e){return o?{value:e,done:!0}:(o=!0,{value:i,done:!Object(a.j)(i)})}))}catch(e){return Object(s.ab)((function(){throw e}))}})({context:i,fn:o,args:u}),f=(function(e,t){return e.isSagaIterator?{name:e.meta.name}:Object(s.T)(t)})(d,o);v((function(){var t=Z(e,d,l.context,F,f,c,void 0);c?n(t):t.isRunning()?(l.queue.addTask(t),n(t)):t.isAborted()?l.queue.abort(t.error()):n(t)}))},L[s.k]=function(e,t,n,r){var i=r.task,o=function(e,t){if(e.isRunning()){var n={task:i,cb:t};t.cancel=function(){e.isRunning()&&Object(s.bb)(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(Object(a.a)(t)){if(0===t.length)return void n([]);var u=Object(s.V)(t,n);t.forEach((function(e,t){o(e,u[t])}))}else o(t,n)},L[s.L]=function(e,t,n,i){var o=i.task;t===r.h?U(o):Object(a.a)(t)?t.forEach(U):U(t),n()},L[s.t]=function(e,t,n){var r=t.selector,i=t.args;try{n(r.apply(void 0,[e.getState()].concat(i)))}catch(e){n(e,!0)}},L[s.N]=function(e,t,n){var r=t.pattern,i=T(t.buffer),o=C(r),a=function t(n){k(n)||e.channel.take(t,o),i.put(n)},s=i.close;i.close=function(){a.cancel(),s()},e.channel.take(a,o),n(i)},L[s.P]=function(e,t,n,r){n(r.task.isCancelled())},L[s.Q]=function(e,t,n){t.flush(n)},L[s.h]=function(e,t,n,r){n(r.task.context[t])},L[s.R]=function(e,t,n,r){var i=r.task;Object(s.Z)(i.context,t),n()},L);function V(e,t){return e+"?"+t}function H(e){var t=e.name,n=e.location;return n?t+"  "+V(n.fileName,n.lineNumber):t}var W=null,G=[],q=function(e){e.crashedEffect=W,G.push(e)},$=function(){W=null,G.length=0},Y=function(e){W=e},K=function(){var e=G[0],t=G.slice(1),n=e.crashedEffect?(function(e){var t=Object(s.fb)(e);return t?t.code+"  "+V(t.fileName,t.lineNumber):""})(e.crashedEffect):null;return["The above error occurred in task "+H(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+H(e.meta)})),[(function(e){var t=Object(s.eb)((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""})(G)]).join("\n")};function X(e,t,n,i,o,a,u){var c;void 0===u&&(u=s.db);var l,f,h=D,p=null,m=[],v=Object.create(n),g=(function(e,t,n){var r,i=[],o=!1;function a(e){t(),c(),n(e,!0)}function u(t){i.push(t),t.cont=function(u,c){o||(Object(s.bb)(i,t),t.cont=s.db,c?a(u):(t===e&&(r=u),i.length||(o=!0,n(r))))}}function c(){o||(o=!0,i.forEach((function(e){e.cont=s.db,e.cancel()})),i=[])}return u(e),{addTask:u,cancelAll:c,abort:a,getTasks:function(){return i}}})(t,(function(){m.push.apply(m,g.getTasks().map((function(e){return e.meta.name})))}),y);function y(t,n){if(n){if(h=A,q({meta:o,cancelledTasks:m}),b.isRoot){var i=K();$(),e.onError(t,{sagaStack:i})}f=t,p&&p.reject(t)}else t===r.j?h=I:h!==I&&(h=M),l=t,p&&p.resolve(t);b.cont(t,n),b.joiners.forEach((function(e){e.cb(t,n)})),b.joiners=null}var b=((c={})[r.i]=!0,c.id=i,c.meta=o,c.isRoot=a,c.context=v,c.joiners=[],c.queue=g,c.cancel=function(){h===D&&(h=I,g.cancelAll(),y(r.j,!1))},c.cont=u,c.end=y,c.setContext=function(e){Object(s.Z)(v,e)},c.toPromise=function(){return p?p.promise:(p=d(),h===A?p.reject(f):h!==D&&p.resolve(l),p.promise)},c.isRunning=function(){return h===D},c.isCancelled=function(){return h===I||h===D&&t.status===I},c.isAborted=function(){return h===A},c.result=function(){return l},c.error=function(){return f},c);return b}function Z(e,t,n,i,o,u,c){var l=e.finalizeRunEffect((function(t,n,i){if(Object(a.j)(t))N(t,i);else if(Object(a.e)(t))Z(e,t,f.context,n,o,!1,i);else if(t&&t[r.c]){var s=z[t.type];s(e,t.payload,i,h)}else i(t)}));p.cancel=s.db;var d={meta:o,cancel:function(){d.status===D&&(d.status=I,p(r.j))},status:D},f=X(e,d,n,i,o,u,c),h={task:f,digestEffect:m};return c&&(c.cancel=f.cancel),p(),f;function p(e,n){try{var o;n?(o=t.throw(e),$()):Object(s.gb)(e)?(d.status=I,p.cancel(),o=Object(a.d)(t.return)?t.return(r.j):{done:!0,value:r.j}):o=Object(s.hb)(e)?Object(a.d)(t.return)?t.return():{done:!0}:t.next(e),o.done?(d.status!==I&&(d.status=M),d.cont(o.value)):m(o.value,i,p)}catch(e){if(d.status===I)throw e;d.status=A,d.cont(e,!0)}}function m(t,n,r,i){void 0===i&&(i="");var o,a=B();function u(n,i){o||(o=!0,r.cancel=s.db,e.sagaMonitor&&(i?e.sagaMonitor.effectRejected(a,n):e.sagaMonitor.effectResolved(a,n)),i&&Y(t),r(n,i))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:a,parentEffectId:n,label:i,effect:t}),u.cancel=s.db,r.cancel=function(){o||(o=!0,u.cancel(),u.cancel=s.db,e.sagaMonitor&&e.sagaMonitor.effectCancelled(a))},l(t,a,u)}}function J(e,t){var n=e.channel,r=void 0===n?P():n,i=e.dispatch,o=e.getState,a=e.context,u=void 0===a?{}:a,l=e.sagaMonitor,d=e.effectMiddlewares,f=e.onError,h=void 0===f?s.c:f;for(var p=arguments.length,m=new Array(p>2?p-2:0),g=2;g<p;g++)m[g-2]=arguments[g];var y=t.apply(void 0,m);var b,_=B();if(l&&(l.rootSagaStarted=l.rootSagaStarted||s.db,l.effectTriggered=l.effectTriggered||s.db,l.effectResolved=l.effectResolved||s.db,l.effectRejected=l.effectRejected||s.db,l.effectCancelled=l.effectCancelled||s.db,l.actionDispatched=l.actionDispatched||s.db,l.rootSagaStarted({effectId:_,saga:t,args:m})),d){var O=c.apply(void 0,d);b=function(e){return function(t,n,r){return O((function(t){return e(t,n,r)}))(t)}}}else b=s.f;var w={channel:r,dispatch:Object(s.e)(i),getState:o,sagaMonitor:l,onError:h,finalizeRunEffect:b};return v((function(){var e=Z(w,y,u,_,Object(s.T)(t),!0,void 0);return l&&l.effectResolved(_,e),e}))}var Q=function(e){var t,n=void 0===e?{}:e,r=n.context,a=void 0===r?{}:r,u=n.channel,c=void 0===u?P():u,l=n.sagaMonitor,d=Object(o.a)(n,["context","channel","sagaMonitor"]);function f(e){var n=e.getState,r=e.dispatch;return t=J.bind(null,Object(i.a)({},d,{context:a,channel:c,dispatch:r,getState:n,sagaMonitor:l})),function(e){return function(t){l&&l.actionDispatched&&l.actionDispatched(t);var n=e(t);return c.put(t),n}}}return f.run=function(){return t.apply(void 0,arguments)},f.setContext=function(e){Object(s.Z)(a,e)},f};n.d(t,"CANCEL",(function(){return r.a})),n.d(t,"SAGA_LOCATION",(function(){return r.g})),n.d(t,"buffers",(function(){return s.i})),n.d(t,"detach",(function(){return s.j})),n.d(t,"END",(function(){return x})),n.d(t,"channel",(function(){return T})),n.d(t,"eventChannel",(function(){return j})),n.d(t,"isEnd",(function(){return k})),n.d(t,"multicastChannel",(function(){return R})),n.d(t,"runSaga",(function(){return J})),n.d(t,"stdChannel",(function(){return P}));t.default=Q}),(function(e,t,n){"use strict";var r=n(2);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t,n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];try{for(var a=Object(r.__values)(e),s=a.next();!s.done;s=a.next()){var u=s.value;"function"==typeof u&&u.apply(void 0,Object(r.__spreadArray)([],Object(r.__read)(i)))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}}function o(e){return"function"==typeof e}function a(){for(var e,t,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var s={};try{for(var u=Object(r.__values)(n),c=u.next();!c.done;c=u.next()){var l=c.value;for(var d in s)if(/^on[A-Z]/.test(d)&&o(l[d])&&o(s[d]))s[d]=i(s[d],l[d]);else if("aria-labelledby"===d&&l[d]&&s[d]){var f=s[d].split(" ");f.includes(l[d])||f.push(l[d]),s[d]=f.join(" ")}else s[d]=void 0!==l[d]?l[d]:s[d];for(var d in l)void 0===s[d]&&(s[d]=l[d])}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}return s}n.d(t,"a",(function(){return a}))}),(function(e,t,n){"use strict";(function(e,r){var i,o=n(671);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(o.a)(i);t.a=a}).call(this,n(133),n(816)(e))}),(function(e,t,n){var r=n(54),i=e.exports={parseUrl:function(e){e=r.mergeSlashes(e);var t,i,o,a,s=n(455).parse(e,!0),u=(s.pathname||"").split("/").filter(Boolean).map((function(e){try{e=decodeURIComponent(e)}catch(e){}return e})),c=u.shift();if(-1!==["d","i"].indexOf(c||"")){if(t=u.shift(),u.length)i="/"+u.join("/");else{var l=/^(.+)_(x{0,3}[sl]|m)\.(?:jpg|jpeg|png|gif)$/i.exec(t||"");l&&(t=l[1],a=l[2].toUpperCase())}if(/[^0-9A-Za-z_-]/.test(t||""))return}else if(-1!==["public","mail"].indexOf(c||"")){u.length&&(c=[c].concat(u).join("/"));var d=s.query.hash.split(":");o=d.shift(),(u=d.join(":").split("/").filter(Boolean)).length&&(i="/"+u.join("/"))}return"a"!==c&&"client"!==c||("albums"===u[0]&&(c+="/"+u.shift()),u.length>1?(i=u.pop(),t=u.pop()):t=u.pop()),{prefix:c,hashShort:t,hashLong:o,pathResource:i,sizeImage:a}},parseId:function(e){var t=e.indexOf(":"),n=(/^\/(\w+)\//.exec(e)||[""])[0].length,r={};return r.hashLong=e.slice(n),t>-1&&(r.hashLong=e.slice(n,t),r.pathResource=e.slice(t+1)),r.hashLong=i.decodeHash(r.hashLong),r},formatIdRoot:function(e){return"/"+o(e.prefix)+"/"+i.encodeHash(e.hashLong)},formatIdContext:function(e){return i.formatIdRoot(e)+(e.pathResource?":"+e.pathResource:"")},formatIdResource:function(e){return i.formatIdRoot(e)+":"+e.pathResource},formatPrivateHash:function(e){var t=i.parseId(e);return t.hashLong+(t.pathResource?":"+t.pathResource:"")},formatUrl:function(e){var t=!e.hashShort,n=e.hashShort||e.hashLong,r=o(e.prefix);return"public"===r&&(e.pathResource&&(t&&(n+=":"),n+=e.pathResource),n=t?"?hash="+encodeURIComponent(n):n.split("/").map(encodeURIComponent).join("/")),"album"===r&&e.pathResource&&(n+="/"+e.pathResource),"/"+e.prefix+"/"+n},encodeHash:function(e){return e.replace(/\//g,"_").replace(/\+/g,"-")},decodeHash:function(e){return e.replace(/_/g,"/").replace(/-/g,"+")}};function o(e){return-1!==["d","i","public","public/nda","mail"].indexOf(e)?"public":"a"===e||"client/albums"===e?"album":void 0}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(e,t){return Object(r.useMemo)((function(){return e||t?function(n){e&&o(e,n),t&&o(t,n)}:null}),[e,t])}function o(e,t){"function"==typeof e?e(t):e&&(e.current=t)}}),(function(e,t,n){"use strict";n.r(t);var r=n(190),i=n.n(r),o=n(14),a=n(13),s=n(560).prepare,u=n(9),c=n(69).modelDefaults;i.a.define("config",{methods:{getData:function(){return Object(o.default)().getState().config},setData:function(e){Object(o.default)().dispatch(function(e){return s(e),{type:a.UPDATE_CONFIG,payload:e}}(e))},get:function(e){return e.startsWith(".")&&(e=e.substring(1)),u.get(Object(o.default)().getState().config,e)},set:function(){}},defaults:c})}),(function(e,t,n){"use strict";n.r(t);var r=n(32),i=n.n(r),o=n(21),a=n.n(o),s=n(3),u=n.n(s),c=n(4),l=n.n(c),d=n(8),f=n.n(d),h=n(5),p=n.n(h),m=n(7),v=n.n(m),g=n(1),y=n.n(g),b=n(0),_=n.n(b),O=n(19),w=n(113),E=n(395),S=n(12);function C(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(function(n){p()(o,n);var r=C(o);function o(e,t){var n;return u()(this,o),(n=r.call(this,e,t)).state={position:null},n._onContextMenu=n._onContextMenu.bind(f()(n)),n._closeContextMenu=n._closeContextMenu.bind(f()(n)),n._onClose=n._onClose.bind(f()(n)),n}return l()(o,[{key:"componentDidMount",value:function(){t.closeOnScrollElementSelector&&(this._scrollingElement=document.querySelector(t.closeOnScrollElementSelector),this._scrollingElement&&this._scrollingElement.addEventListener("scroll",this._closeContextMenu)),t.closeOnWindowResize&&window.addEventListener("resize",this._closeContextMenu),t.closeOnWindowScroll&&window.addEventListener("scroll",this._closeContextMenu)}},{key:"componentWillUnmount",value:function(){this._scrollingElement&&this._scrollingElement.removeEventListener("scroll",this._closeContextMenu),t.closeOnWindowResize&&window.removeEventListener("resize",this._closeContextMenu),t.closeOnWindowScroll&&window.removeEventListener("scroll",this._closeContextMenu)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.props.resources&&this._contextMenuIds&&this.props.resources.length!==e.resources.length){var t=e.resources.reduce((function(e,t){return e[t.id]=1,e}),{});this._contextMenuIds.some((function(e){return!t[e]}))&&this._onClose()}}},{key:"_onContextMenu",value:function(e,t,n){t&&t.target&&t.target.dispatchEvent(new Event("click",{bubbles:!1})),this._contextMenuIds=e;var r={x:t.pageX,y:t.pageY};n&&(this.props.setSelection([]),this.props.setHighlighted(n)),this.setState({position:r}),S.default.count.apply(S.default,a()(this._getContextMenuMetrikaPath(e)).concat(["show"],a()(this.props.metrikaTail)))}},{key:"_onClose",value:function(){this.setState({position:null}),this.props.setHighlighted([])}},{key:"_closeContextMenu",value:function(){this.state.position&&(this._onClose(),this.props.closeContextMenu&&this.props.closeContextMenu())}},{key:"_getContextMenuMetrikaPath",value:function(e){var t=["context menu"];if(e&&1===e.length){var n=this.props.resourcesByIds[e[0]];t.push("dir"===(n||{}).type?"folder":"file")}else e&&e.length>1&&t.push("group");return t}},{key:"_getSelectedResources",value:function(){var e=this,t=this.props,n=t.selected,r=t.highlighted,i=r&&r.length?r:n;return i&&i.map((function(t){return e.props.resourcesByIds[t]})).filter(w.isSelectableResource)}},{key:"render",value:function(){return _.a.createElement(_.a.Fragment,null,_.a.createElement(e,i()({},this.props,{onContextMenu:this._onContextMenu,closeContextMenu:this._closeContextMenu})),_.a.createElement(E.default,{visible:Boolean(this.state.position),position:this.state.position,onClose:this._onClose,metrikaPath:this._getContextMenuMetrikaPath(),metrikaTail:this.props.metrikaTail,isAndroid:!1,resources:this._getSelectedResources(),direction:t.direction}))}}]),o})(b.PureComponent);return Object(O.connect)((function(e){return{resourcesByIds:e.resources}}))(n)}}),(function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return h}));var r=n(9),i=n.n(r),o=function(e){return e.spaceTariffs&&e.spaceTariffs.items&&e.spaceTariffs.items.length>2},a=function(e){var t=e.spaceTariffs;return(t&&t.items||[]).slice(0,3)},s=function(e){return e.spaceTariffs&&e.spaceTariffs.items&&e.spaceTariffs.items.some((function(e){return e.is_yandex_plus}))},u=function(e){return e.spaceTariffs&&e.spaceTariffs.items&&e.spaceTariffs.items.some((function(e){return e.discount}))},c=function(e){return i.a.get(e,"user.features.disk_pro.enabled")},l=function(e){var t=e.space;return{spaceLimit:t.limit,spaceUsed:t.used,spaceFree:t.free}},d=function(e){return e.packagesSpace&&"loaded"!==e.packagesSpace.state||!e.spaceTariffs.items},f=function(e){return e.packagesSpace&&"error"===e.packagesSpace.state||Boolean(e.spaceTariffs&&e.spaceTariffs.error)},h=function(e){return i.a.get(e,"page.originalNSParams.position")}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return g}));var r,i=[],o=!1,a=0,s=0,u=0,c=Date.now(),l=0,d=function(e){s=o?u:window.pageYOffset,o&&window.scrollTo(0,u);var t=Date.now();a=(s-l)/(t-c),l=s,c=t,i.forEach((function(t){t(Object.assign({scrollTop:s,scrollSpeed:a,isManual:o},e))}))},f=function(e){d(e),r=requestAnimationFrame((function(){d(Object.assign({isLast:!0},e))}))},h=function(e){cancelAnimationFrame(r),e.throttle?r=requestAnimationFrame((function(){f(e)})):f(e)},p=function(){o?o=!1:h({throttle:!0})},m=function(e){i.length||window.addEventListener("scroll",p),i.includes(e)||i.push(e)},v=function(e){(i=i.filter((function(t){return t!==e}))).length||window.removeEventListener("scroll",p)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o=!0,u=e,h(t)}}),(function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s}));var r={"100gb_1m":{space:107374182400,periodKey:"month"},"100gb_1y":{space:107374182400,periodKey:"year"},"1tb_1m":{space:1099511627776,periodKey:"month"},"1tb_1y":{space:1099511627776,periodKey:"year"},"3tb_1m":{space:3298534883328,periodKey:"month"},"3tb_1y":{space:3298534883328,periodKey:"year"}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=r[t],i=e.find((function(e){return e.space===n.space}));return{tariff:i,period:i&&i.periods[n.periodKey]}},o=function(e){var t=e.periods.year.price;switch(e.currency){case"RUB":return String(Math.ceil(t/12));default:return(t/12).toFixed(1)}},a={RUB:"₽",USD:"$"},s=function(e){var t=e.currency;return a[t]||""}}),(function(e,t,n){n(565),n(1161);var r=n(9),i=n(195),o=n(83),a=n(14).default,s=n(266).isAliasForUserAddress,u={"е":"ёе",e:"èéêe",c:"çćĉċc",a:"àáâa"};ns.Model.define("contacts",e.exports={split:{items:".contacts",model_id:"contact",params:{userid:".id"}},defaults:{contacts:[],status:"initiated"},methods:{preprocessData:function(e){var t=[],n=[],o=a().getState(),u=o.user;return r.each(e.contacts,(function(e){e.originid=e.userid||e.groupid,e.userid=i.normalize(String(e.userid||e.groupid)),e.name||(e.name=e.userid),e.id=e.userid,s(o,e.id)||(e.nameEncoded=encodeURIComponent(e.name),t.push(e))})),t.length&&(t=u.isWS?r.uniqBy(t,(function(e){return e.userid})):r.chain(t).uniqBy((function(e){return e.userid})).sortBy((function(e){return e.name||e.userid})).value(),n=r.map(t,(function(e){return e.id}))),r.extend(e,{contacts:t,index:n})},load:function(){-1===["loading","loaded"].indexOf(this.get(".status"))&&this.fetch()},isLoaded:function(){return"loaded"===this.get(".status")},isLoadingFailed:function(){return"failed"===this.get(".status")},fetch:function(){var e=this;this.setData({contacts:[],status:"loading"});var t=o.create("getContacts",{});t.on("status.done",(function(){e.setData({contacts:t.get(".contacts"),status:"loaded"})})).on("status.failed",(function(){e.setData({contacts:t.get(".contacts"),status:"failed"})}))},insertItem:function(e,t){t=t||0,this.insert(e,t);var n=this.get(".index");n.splice(t,0,e.get(".id")),this.set(".index",n,{silent:!0})},formatSuggest:function(){return r.invokeMap(this.models.slice(),"formatSuggest")},isEmpty:function(){return r.isEmpty(this.models)},filterByQuery:function(e){if(!e)return[];var t=e.split(/\s+/).filter(Boolean);return r.union(this.models.filter(this._getModelsFilterByField("name",t)),this.models.filter(this._getModelsFilterByField("userid",t)),this.models.filter(this._getModelsFilterByField("email",t)))},_getModelsFilterByField:function(e,t){return function(n){var r=n.get("."+e);return t.every((function(e){return (function(e,t){if(e&&t){var n=e.toLowerCase(),r=t.toLowerCase().split("").map((function(e){return u[e]?"[".concat(u[e],"]"):e})).join("");return Boolean(n.match(new RegExp(r)))}return!1})(r,e)}))}}}}),ns.Model.get("contacts").setDataDefault()}),(function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(5),l=n.n(c),d=n(7),f=n.n(d),h=n(1),p=n.n(h),m=n(10),v=n.n(m),g=n(19),y=n(0),b=n.n(y),_=n(163),O=n(25),w=n(41),E=n(57),S=n(32),C=n.n(S),x=n(74),k=n(117),T=(n(1420),n(11)),j=n.n(T);function R(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var P=function(){return j()()("popup-with-transitions")},D=function(e){return b.a.createElement("div",{className:P().e("pane").m({active:e.active}),ref:e.setRef},e.children)},I=(function(e){l()(n,e);var t=R(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={wrapperSize:{width:"auto",height:"auto"}},r._panesRefs={},r._setPaneRef=r._setPaneRef.bind(u()(r)),r}return a()(n,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.visible&&e.activePane!==this.props.activePane&&this._changeActivePane(this.props.activePane,e.activePane),!this.props.visible&&e.visible&&(this._hideTimeout=setTimeout((function(){t.props.onChangeActivePane(t._firstPaneId),t.setState({wrapperSize:{width:"auto",height:"auto"}})}),200))}},{key:"componentWillUnmount",value:function(){this._hideTimeout&&clearTimeout(this._hideTimeout)}},{key:"updateSize",value:function(){this._changeActivePane(this.props.activePane,this.props.activePane)}},{key:"_setPaneRef",value:function(e,t){this._panesRefs[e]=t}},{key:"_changeActivePane",value:function(e,t){var n=this,r=this._panesRefs[t].getBoundingClientRect(),i=r.width,o=r.height;this.setState({wrapperSize:{width:i+"px",height:o+"px"}},(function(){var t,r=n._panesRefs[e].getBoundingClientRect();t=n.props.isMobile?"auto":n.props.keepWidth?i+"px":r.width+"px";var o=r.height+"px";n.setState({wrapperSize:{width:t,height:o}})}))}},{key:"render",value:function(){var e=this,t=this.props.isMobile?k.Drawer:x.Popup;return b.a.createElement(t,this.props.popupProps,b.a.createElement("div",{className:P().e("wrapper"),style:this.state.wrapperSize},b.a.Children.map(this.props.children,(function(t,n){return t&&"function"==typeof t.type&&t.type===D?(0===n&&(e._firstPaneId=t.props.id),b.a.createElement(D,C()({active:t.props.id===e.props.activePane,setRef:e._setPaneRef.bind(e,t.props.id)},t.props))):null}))))}}]),n})(y.Component),A=n(176),M=n(199),N=n(188),L=n(389),F=n(413),B=n(15);function U(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var z,V,H,W=(function(e){l()(n,e);var t=U(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return b.a.createElement("svg",{width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},b.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5 1h-11A1.5 1.5 0 0 0 1 2.5v11A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-11A1.5 1.5 0 0 0 13.5 1zM5.224 9.867L3 12.833V3h10v7.214l-2.569-2.752a.5.5 0 0 0-.781.064l-1.88 2.82a.5.5 0 0 1-.682.147l-1.199-.75a.5.5 0 0 0-.665.124zM7.5 6a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z",fill:"currentColor"}))}}]),n})(B.default),G=Object(B.iconProvider)(W),q=n(187),$=n(148),Y=n(177),K=(n(483),n(485),n(37)),X=n(31),Z=n(100),J=n(175),Q=(n(1426),n(30)),ee=n(70),te=n(48),ne=n(53),re=n(38),ie=n(36),oe=n(42),ae=n(49),se=n(13),ue=n(26),ce=n(62),le=function(e){return function(t){t(Object(ae.f)(ae.a.REMOVE,ae.b.MERGE_ALBUMS)),t(Object(ce.f)({id:e,hidden:!1})),t(Object(oe.notify)({operation:"mergeAlbums",status:"failed"}))}},de=function(e,t,n){return function(r){return Object(ae.d)(e).then((function(){r(function(e,t){return function(n,r){var i=r();n(Object(ae.f)(ae.a.REMOVE,ae.b.MERGE_ALBUMS)),n(Object(oe.notify)({operation:"mergeAlbums",status:"done"})),n({type:se.REMOVE_ALBUM,payload:{id:e,albumType:"faces"}}),n(Object(te.cleanAlbum)(t));var o=Object(X.b)(r(),e),a=!Object(X.b)(r(),t).title&&o.title;a&&n(Object(ce.f)({id:t,title:a})),"album"===Object(re.getPage)(i)&&n(Object(ue.goToUrl)("/client/albums/".concat(t),"replace"))}}(t,n))})).catch((function(){r(le(t))}))}},fe=n(14),he="publish-album",pe="unpublish-album",me=function(e){return[null,"personal"].includes(e)},ve=function(e){return"faces"===e},ge=(z={},v()(z,"add-items",(function(e){return"geo"!==e.album_type&&!ve(e.album_type)})),v()(z,"merge-album",(function(e){return Object(X.g)(Object(fe.default)().getState(),"faces").length>1&&ve(e.album_type)})),v()(z,he,(function(e){return me(e.album_type)})),v()(z,pe,(function(e){return e.is_public})),v()(z,"set-view",(function(e){return e.clusters&&0!==e.clusters.length})),v()(z,"rename-album",(function(e){return me(e.album_type)||ve(e.album_type)})),v()(z,"delete-album",(function(e){return me(e.album_type)||ve(e.album_type)})),v()(z,"download-album",(function(e){return"geo"!==e.album_type})),z),ye=(V={},v()(V,"merge-album","Объединить с альбомом"),v()(V,"add-items","Добавить фото"),v()(V,he,"Поделиться"),v()(V,pe,"Удалить ссылку"),v()(V,"set-view","Изменить вид"),v()(V,"rename-album",(function(e){return e.title?"Переименовать":"Указать имя"})),v()(V,"delete-album","Удалить"),v()(V,"download-album","Скачать"),V),be=function(e,t){return ge[e](t)},_e=n(401),Oe=n(12),we=n(118);function Ee(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var Se=function(){return j()()("album-actions-dropdown")},Ce=[{id:"merge-album",icon:function(){return G}},{id:"add-items",icon:function(){return A.a}},{id:he,icon:function(e){var t=e.isAndroid;return function(e){return b.a.createElement(M.default,{cls:e,isAndroid:t})}}},{id:pe,icon:function(){return N.a}},{id:"set-view",icon:function(){return F.displayWowIconProvider}},{id:"rename-album",icon:function(){return q.a}},{id:"download-album",icon:function(){return Y.b}},{id:"delete-album",icon:function(){return $.b}}],xe={ACTIONS:"actions",VIEW:"view"},ke=(H={},v()(H,"add-items","addToCurrentAlbum"),v()(H,he,"publishAlbum"),v()(H,pe,"unpublishAlbum"),v()(H,"rename-album","renameAlbum"),v()(H,"download-album","downloadAlbum"),v()(H,"delete-album","deleteAlbum"),v()(H,"merge-album","mergeAlbums"),H),Te=(function(e){l()(n,e);var t=Ee(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={popupVisible:!1,activePane:xe.ACTIONS,isShareDialogVisible:!1,isPublic:void 0},r._onChangePhotoView=r._onChangePhotoView.bind(u()(r)),r._onMorePopupClose=r._onMorePopupClose.bind(u()(r)),r._onMoreButtonClick=r._onMoreButtonClick.bind(u()(r)),r._onChangeActivePane=r._onChangeActivePane.bind(u()(r)),r._closeShareDialog=r._closeShareDialog.bind(u()(r)),r._onAlbumActionClick=r._onAlbumActionClick.bind(u()(r)),r._moreButtonRef=b.a.createRef(),r._popupRef=b.a.createRef(),r}return a()(n,[{key:"componentDidUpdate",value:function(e,t){this.state.activePane===xe.ACTIONS&&!e.isPublic&&this.props.isPublic&&t.popupVisible&&this.setState({isShareDialogVisible:!0}),this.props.isOverdraftDialogOpened&&!e.isOverdraftDialogOpened&&this._togglePopupVisible(!1)}},{key:"_closeShareDialog",value:function(){this.setState({isShareDialogVisible:!1})}},{key:"_countMetrika",value:function(){for(var e=Object(we.c)(this.props.album),t=this.props.isPageAlbum?Object(we.c)(this.props.album):"faces"===e?"faces meta-album":e+" albums listing",n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Oe.default.count.apply(Oe.default,["album",t,"actions dropdown"].concat(r))}},{key:"_onChangePhotoView",value:function(e){var t="string"==typeof e?e:e.target.value;this.props.setAlbumPhotoView(this.props.album.id,t),this._togglePopupVisible(!1),this._countMetrika("set-view",t)}},{key:"_onMorePopupClose",value:function(){this._togglePopupVisible(!1)}},{key:"_onMoreButtonClick",value:function(){this._togglePopupVisible()}},{key:"_togglePopupVisible",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.state.popupVisible;this.setState({popupVisible:e}),e&&this._countMetrika("show")}},{key:"_onAlbumActionClick",value:function(e){var t=e.target.value;"set-view"===t?this.setState({activePane:xe.VIEW}):t===he&&this.props.isPublic?(this.setState({isShareDialogVisible:!0}),this._togglePopupVisible(!1)):(this.props[ke[t]](this.props.album.id),[he,pe].includes(t)||this._togglePopupVisible(!1));var n=t;"rename-album"!==t||"faces"!==this.props.album.album_type||this.props.album.title||(n="set-name-album"),this._countMetrika(n)}},{key:"_onChangeActivePane",value:function(e){this.setState({activePane:e})}},{key:"render",value:function(){var e=this,t={className:Se().e().mix(w.LISTING_PREVENT_DESELECT_CLASS),view:"default",visible:this.state.popupVisible,onClose:this._onMorePopupClose};Object.assign(t,{anchor:this._moreButtonRef,target:"anchor",direction:["bottom-end"]});var n=this.props.moreButtonView||"clear";return b.a.createElement(b.a.Fragment,null,b.a.createElement(O.Button,{size:"s",view:n,className:Se().e("more-button"),"aria-label":"Ещё",onClick:this._onMoreButtonClick,innerRef:this._moreButtonRef,icon:_.moreIconProvider}),b.a.createElement(I,{ref:this._popupRef,activePane:this.state.activePane,keepWidth:!0,isMobile:this.props.isMobile,visible:this.state.popupVisible,onChangeActivePane:this._onChangeActivePane,popupProps:t},b.a.createElement(D,{id:xe.ACTIONS},b.a.createElement(E.Menu,{view:"default",size:"m",wide:!0,onChange:this._onAlbumActionClick},Ce.filter((function(t){return be(t.id,e.props.album)&&!(!e.props.isPageAlbum&&"set-view"===t.id)})).map((function(t){var n=(function(e,t){return"function"==typeof ye[e]?ye[e](t):ye[e]})(t.id,e.props.album);if([he,pe].includes(t.id)){var r=e.props.isPublishing&&(t.id===he&&!e.props.isPublishingReverse||t.id===pe&&e.props.isPublishingReverse);n=b.a.createElement("span",{className:Se().e("spin-wrapper")},n,b.a.createElement(ee.Spin,{view:"default",className:Se().e("spin"),size:"xxs",progress:r}))}var i=Object.assign({},e.props);return b.a.createElement(E.Item,{key:t.id,className:Se().e("action").m({type:t.id}),value:t.id,icon:t.icon(i)},n)})))),this.props.isPageAlbum?b.a.createElement(D,{id:xe.VIEW},b.a.createElement(E.Menu,{size:"m",view:"default",className:Se().e("radiobox"),rightGlyph:!0,wide:!0,value:Object(_e.a)(this.props.album.layout),onChange:this._onChangePhotoView},b.a.createElement(E.Item,{value:K.PHOTO_GRID_TYPES.TILE,icon:L.displayTilesIconProvider},"Обычный"),b.a.createElement(E.Item,{value:K.PHOTO_GRID_TYPES.WOW,icon:F.displayWowIconProvider},"Умная плитка"))):null),be(he,this.props.album)?b.a.createElement(J.default,{visible:this.state.isShareDialogVisible,objectIds:[this.props.album.id],onClose:this._closeShareDialog,metrikaPath:this.props.metrikaPath.concat(he),metrikaTail:["album"]}):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isPublic!==t.isPublic?{popupVisible:!1,isPublic:e.isPublic}:null}}]),n})(y.Component);t.a=Object(g.connect)((function(e,t){var n=t.album,r=e.environment.agent,i=r.OSFamily,o=r.isMobile;return Object.assign({isPageAlbum:Object(X.x)(e),isMobile:o,isAndroid:"Android"===i,isOverdraftDialogOpened:Object(Z.isDialogOpened)(e,"overdraft")},Object(Q.getPublishObjectData)(e,[n.id]))}),{publishAlbum:te.publishAlbum,unpublishAlbum:te.unpublishAlbum,setAlbumPhotoView:te.setAlbumPhotoView,addToCurrentAlbum:te.addToCurrentAlbum,deleteAlbum:te.deleteAlbum,downloadAlbum:te.downloadAlbum,renameAlbum:te.renameAlbum,mergeAlbums:function(e){return function(t,n){t(Object(ue.maybeBlockActionOverdraft)())||t(Object(ne.add)("select-album",{dialogParams:{albumType:"faces",excludeAlbumsIds:[e],action:"merge"},onSubmit:function(r){var i=r.albumId;return t(Object(ae.f)(ae.a.ADD,ae.b.MERGE_ALBUMS,{srcContextId:n().page.idContext})),t(Object(ce.f)({id:e,hidden:!0})),Object(ie.a)("do-merge-albums",{srcAlbumId:e,dstAlbumId:i}).then((function(n){return t(de(n.oid,e,i))})).catch((function(){t(le(e))}))},onReject:function(){}}))}}})(Te)}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(13),i=n(45),o=function(e,t){return function(n,i){n({type:r.UPDATE_SORT,payload:{idContext:i().page.idContext,sort:e,order:t}})}},a=function(e){return function(t){t({type:r.SET_VIEW,payload:{view:e}}),t(Object(i.saveSettings)({key:"view",value:e}))}}}),(function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(11),v=n.n(m);n(1381);function g(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var y=function(){return v()()("lite-checkbox")},b=(function(e){u()(n,e);var t=g(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"render",value:function(){var e=this.props,t=e.checked,n=e.onChange,r=e.cls;return p.a.createElement("label",{className:y().mix(r)},p.a.createElement("input",{className:y().e("control"),type:"checkbox",onChange:n,checked:t}),p.a.createElement("div",{className:y().e("box")}))}}]),n})(h.PureComponent);b.defaultProps={checked:!1},t.a=b}),(function(e,t,n){var r=n(468),i=n(1396),o=n(1397);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a}),(function(e,t){e.exports=function(e,t){return e.has(t)}}),(function(e,t,n){"use strict";var r=n(32),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),d=n(5),f=n.n(d),h=n(7),p=n.n(h),m=n(1),v=n.n(m),g=n(0),y=n.n(g),b=n(41),_=n(112);function O(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var w=function(){};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=(function(n){f()(o,n);var r=O(o);function o(e){var n;return a()(this,o),(n=r.call(this,e))._ignoreClicksSelector=[t,n.props.ignoreClicksSelector].filter(Boolean).join(","),n._wrappedComponentRef=null,n._setWrappedComponentRef=n._setWrappedComponentRef.bind(l()(n)),n._handleLongTouch=n._handleLongTouch.bind(l()(n)),n._onContextMenu=n._onContextMenu.bind(l()(n)),n._onDoubleClick=n._onDoubleClick.bind(l()(n)),n._onTouchStart=n._onTouchStart.bind(l()(n)),n._onTouchMove=n._onTouchMove.bind(l()(n)),n._onTouchEnd=n._onTouchEnd.bind(l()(n)),n._onClick=n._onClick.bind(l()(n)),n._onKeyDown=n._onKeyDown.bind(l()(n)),n}return u()(o,[{key:"_setWrappedComponentRef",value:function(e){this._wrappedComponentRef=e}},{key:"_getId",value:function(){return this._wrappedComponentRef&&this._wrappedComponentRef.getSelectionId?this._wrappedComponentRef.getSelectionId():this.props.id}},{key:"_handleLongTouch",value:function(e){e.cancelable&&e.preventDefault(),e.stopPropagation(),this.props.onContextMenu&&this.props.touchContextMenu?this.props.onContextMenu(this._getId(),e):this.props.onSelect(this._getId(),this.props.selectOnClick,e)}},{key:"_onTouchStart",value:function(e){var t=this;document.body.classList.add("no-user-select"),e.persist();var n=e.touches[0],r=n.pageX,i=n.pageY;this._touchStartPosition={pageX:r,pageY:i},this._touchStartTime=Date.now(),this._touchTimer=setTimeout((function(){t._handleLongTouch(e)}),300)}},{key:"_onTouchMove",value:function(e){if(this._touchStartPosition){var t=e.touches[0],n=t.pageX,r=t.pageY,i=n-this._touchStartPosition.pageX,o=r-this._touchStartPosition.pageY;Math.sqrt(i*i+o*o)>8&&(this._touchTimer&&clearTimeout(this._touchTimer),this._isSwipe=!0)}}},{key:"_onTouchEnd",value:function(e){document.body.classList.remove("no-user-select");var t=this._isSwipe;this._touchTimer&&clearTimeout(this._touchTimer),this._isSwipe=!1,this._ignoreClicksSelector&&e.target.closest(this._ignoreClicksSelector)||(e.preventDefault(),this._touchStartTime&&Date.now()-this._touchStartTime<300&&!t&&(this.props.selectOnClick?this.props.onSelect(this._getId(),!0,e):this.props.onOpen(this._getId(),e)))}},{key:"_onClick",value:function(e){if(!(this._ignoreClicksSelector&&e.target&&e.target.closest(this._ignoreClicksSelector)||2===e.button||e.ctrlKey&&this.props.isMacSafari)){var t=e.detail<2;this.props.openOnSingleClick?this.props.onOpen(this._getId(),e):!t&&this.props.supportDoubleClick||this.props.onSelect(this._getId(),this.props.selectOnClick,e)}}},{key:"_onDoubleClick",value:function(e){e.target.closest(".".concat(b.LISTING_PREVENT_DOUBLE_CLICK))||2!==e.button&&this.props.onOpen(this._getId(),e)}},{key:"_onContextMenu",value:function(e){var t;this.props.onContextMenu&&(t=this.props.onContextMenu(this._getId(),e)),t&&t.noPreventDefault&&!this.props.touchContextMenu||e.preventDefault()}},{key:"_onKeyDown",value:function(e){e.target===e.currentTarget&&(e.keyCode===_.Keys.ENTER?(e.preventDefault(),this.props.onOpen(this._getId(),e)):e.keyCode===_.Keys.SPACE&&(e.preventDefault(),this.props.onSelect(this._getId(),!0,{ctrlKey:!0}))),this.props.onKeyDown&&this.props.onKeyDown(e)}},{key:"render",value:function(){return y.a.createElement(e,i()({},this.props,{ref:this._setWrappedComponentRef,onClick:this._onClick,onDoubleClick:this.props.supportDoubleClick?this._onDoubleClick:void 0,onTouchEnd:this._onTouchEnd,onTouchMove:this._onTouchMove,onTouchStart:this._onTouchStart,onContextMenu:this._onContextMenu,onKeyDown:this._onKeyDown,tabIndex:this.props.tabIndex||0}))}}]),o})(g.Component);return n.defaultProps={selectOnClick:!1,onOpen:w,onSelect:w,onContextMenu:w,openOnSingleClick:!1,supportDoubleClick:!0},n}}),(function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0);function p(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var m=(function(e){u()(n,e);var t=p(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._listing=null,r}return a()(n,[{key:"getItemInfo",value:function(e){return this._listing.getItemInfo(e)}},{key:"getItemsInfo",value:function(){return this._listing.getItemsInfo()}},{key:"updateItemsInfo",value:function(){this._listing.updateItemsInfo()}}]),n})(h.Component);t.a=m}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(36),i=n(13),o=function(){return function(e,t){return Object(r.a)("spaceTariffs",{locale:t().environment.session.locale}).then((function(t){e({type:i.UPDATE_SPACE_TARIFFS,payload:t})}))}}}),,,,(function(e,t,n){var r=r||n(397);r.Parser=function(e,t){this._rules=e,this._tokens=t||{}},r.Parser.prototype.start=function(e,t){this.input=e,this.p=0,this.s=e;var n=this.parse(t);return this.s&&this.error("End of string expected"),n},r.Parser.prototype.parse=function(e,t){var n=this._rules[e],r=this.p,i=n.call(this,t);return i._start=r,i._end=this.p,i._input=this.input,i},r.Parser.prototype.test=function(e){var t=this._tokens[e];if(t){var n=t.exec(this.s);return n&&n[0]}if(this.la(e.length)===e)return e},r.Parser.prototype.match=function(e){var t=this.test(e);return t||this.error("Token "+e+" expected"),this.move(t.length),t},r.Parser.prototype.la=function(e){return this.s.substr(0,e||1)},r.Parser.prototype.move=function(e){e||(e=1),this.s=this.s.substr(e),this.p+=e},r.Parser.prototype.skip=function(){var e=/^\s+/.exec(this.s);e&&this.move(e[0].length)},r.Parser.prototype.error=function(e){throw Error(e+" at "+this.p+": "+this.s)}}),(function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){var r=n(534);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports={defaultDomain:"ru",defaultAvailableLangs:["ru","en","uk","tr"],defaultMarketCode:"RU",domains:{am:{domain:"com.am"},az:{domain:"az"},by:{domain:"by"},ee:{domain:"ee"},com:{domain:"com",availableLangs:["en","ru","uk","tr"],marketCode:"COM"},fr:{domain:"fr",availableLangs:["en","ru","uk","tr"],marketCode:"COM"},ge:{domain:"com.ge"},il:{domain:"co.il",availableLangs:["en","tr"],marketCode:"COM"},kg:{domain:"kg"},kz:{domain:"kz"},lt:{domain:"lt"},lv:{domain:"lv"},md:{domain:"md"},ru:{domain:"ru"},tj:{domain:"tj"},tm:{domain:"tm"},tr:{domain:"com.tr",availableLangs:["tr","en"],marketCode:"TR"},ua:{domain:"ua",availableLangs:["uk","ru","en","tr"],marketCode:"UK"},uz:{domain:"uz"}}}}),(function(e,t,n){"use strict";var r=Number.MAX_SAFE_INTEGER||9007199254740991,i=1073741824,o=[1,1024,1048576,i,1099511627776],a={};a.getSpaceObject=function(e,t,n,a){if(!t.length||t.length<o.length)throw new Error("helpers/space::units must be an array with minimum "+o.length+" items");a=a||{},"string"==typeof e&&(e=parseInt(e,10)),(e<0||e>r||isNaN(e))&&(e=0);var s=(function(e){for(var t=o.length;t>=0;t--)if(e>=o[t])return t;return 0})(e),u=o[s],c=(e/u).toString().split("."),l=c[0],d=c[1],f=a.precision;a.length&&(f=a.length>l.length?a.length-l.length:0),f||0===f||(f=1048576===u?1:u>=i?2:0);var h=l;return f>0&&d&&(d.length>f&&(d=d.substr(0,f)),(d=d.replace(/0+$/,""))&&(h+=n+d)),{number:h,unit:t[s]}},a.getSpaceString=function(e,t,n,r){var i=this.getSpaceObject(e,t,n,r);return i.number+" "+i.unit},e.exports=a}),(function(e,t,n){e.exports=(function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="//yastatic.net/s3/psf/general-themes/",n(n.s=62)})([(function(e,t,n){const r=n(7),i=n(10),o=n(13),a=n(16),s=n(19),u=n(22),c=n(25);e.exports=Object.assign({},r,i,o,a,s,u,c)}),(function(e,t,n){var r=n(31),i=n(32),o=n(5),a=n(33);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){var r=n(28),i=n(29),o=n(5),a=n(30);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){var r=n(4);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}),,(function(e,t,n){n(8),n(9),t.MG_DARK={root:"mg-dark",color:"mg-dark"}}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){n(11),n(12),t.MG_LIGHT={root:"mg-light",color:"mg-light"}}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){n(14),n(15),t.PS_DARK={root:"ps-dark",color:"ps-dark"}}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){n(17),n(18),t.PS_LIGHT={root:"ps-light",color:"ps-light"}}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){n(20),n(21),t.PS_DARK_TRANSPARENT={root:"ps-dark-transparent",color:"ps-dark-transparent"}}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){n(23),n(24),t.PS_SUPERDARK_TRANSPARENT={root:"ps-superdark-transparent",color:"ps-superdark-transparent"}}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){n(26),n(27),t.PS_LIGHT_TRANSPARENT={root:"ps-light-transparent",color:"ps-light-transparent"}}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){var r=n(4);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-thumb-5bf31af49e2596b6259f6c8c3b427f7c.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-thumb-7c50847f9b8a87388d9bd216f3866b5b.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1920-6ef92d2aa2aa617a49dba4a4161ae13f.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1920-91efb29b9ee664458488609ce99e8e60.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1536-4d1053e030ee283191fa9ca5061116da.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1536-e81a6738e2823fe74f2c4c3046dcc626.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1366-36ea1a41d20c41a621e5f2bf465dd19c.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1366-f7d1513ca14f1011b0abdbd5d772afc2.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1280-f2ab67e02f956a3f62698460eb415320.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1280-72b396dc4228cc7f545b53528bf8a782.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-b24dc3a13753ca710c43ce2136374322.mp4"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-fe58fa3952f0059fe76c5e1de224449e.webm"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-thumb-1de055a9cb12139b05a324a44b6e2e1d.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-thumb-37b20ed81445d714b4c08b0c2a1fc98e.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1920-1fae096424944bf3c77725a2b80e885f.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1920-89b26c499e0efdec3b9fe1f308d52d6b.png"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1920-298a65108def6635b8d281fc8006c122.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1536-393cc54a15fca9907e4862c4cc7385c9.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1536-1963479095ad31fd24638219aa57a28c.png"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1536-13313e296bc69f9ed3463ba6f2d16b85.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1366-17dc57a31f107d5018a9aca5043c6c52.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1366-b967224ce83c5c67cc807106a8dc49d0.png"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1366-47e2228ce64f4efb7b012be157537031.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1280-0bd162d378138720c676dd3d8b49c1ad.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1280-f3ba1463a9de7c595abb7a196132e3a5.png"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1280-1931f6bfb11daa6dca074ddc3af1f5e5.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-6febec7af946ccc394bc36f76737860d.mp4"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-bb71ec217ddbd739a42cd7131d3f2860.webm"}),(function(e,t,n){"use strict";n.r(t),n.d(t,"themes",(function(){return T})),n.d(t,"isDarkTheme",(function(){return j}));var r,i=n(2),o=n.n(i),a=n(0);!(function(e){e.GeneralFlow="general-flow",e.GeneralGrass="general-grass",e.Void=""})(r||(r={}));var s,u=n(3),c=n.n(u),l=n(1),d=n.n(l),f=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([.0-9]+)\s*)?\)$/,h=/^hsla?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+)\s*)?\)$/,p=/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?$/,m=/^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?$/;function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return String(isNaN(Number(e))?t[n]:e)}}function g(e){var t=d()(e,3),n=t[0],r=t[1],i=t[2],o=(1-Math.abs(2*i-1))*r,a=n/60,s=o*(1-Math.abs(a%2-1)),u=[0,0,0];isNaN(n)?u=[0,0,0]:a<=1?u=[o,s,0]:a<=2?u=[s,o,0]:a<=3?u=[0,o,s]:a<=4?u=[0,s,o]:a<=5?u=[s,0,o]:a<=6&&(u=[o,0,s]);var c=i-.5*o;return[Math.round(255*(u[0]+c)%256),Math.round(255*(u[1]+c)%256),Math.round(255*(u[2]+c)%256)]}function y(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];1===(n=(e=[]).concat.apply(e,c()(n))).length&&(n=y.parse(n[0]));var i=n,o=d()(i,4),a=o[0],s=o[1],u=o[2],l=o[3];return"rgba(".concat(a,",").concat(s,",").concat(u,",").concat(void 0===l?1:l,")")}function b(e){return y.parse(e).slice(0,3).join(", ")}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}y.parse=function(e){e=(function(e){switch(!0){case/^#/.test(e):return (function(e){var t=function(t){return t.exec(e).slice(1).map((function(e){return(String(e)+e).slice(0,2)})).map((function(e){return parseInt(e,16)})).map(v(255,255,255,1)).join(",")};switch(e.length){case 4:case 5:return"rgba(".concat(t(m),")");case 7:case 9:return"rgba(".concat(t(p),")");default:throw new TypeError("Unexpected hex color format in ".concat(e))}})(e);case/^hsla?\(/.test(e):return (function(e){var t=h.exec(e).slice(1).map(Number),n=d()(t,4),r=n[0],i=n[1],o=n[2],a=n[3],s=g([r,i,o]),u=d()(s,3),c=u[0],l=u[1],f=u[2];return"rgba(".concat([c,l,f,a].map(v(255,255,255,1)).join(","),")")})(e);case/^rgba?\(/.test(e):return e;default:throw new TypeError("Unexpected color format in ".concat(e))}})(e);var t=f.exec(e).slice(1).map(Number),n=d()(t,4),r=n[0],i=n[1],o=n[2],a=n[3];return[r,i,o,void 0===a?1:a]},(function(e){e.BREAK_1920="1920",e.BREAK_1536="1536",e.BREAK_1366="1366",e.BREAK_1280="1280"})(s||(s={}));var w,E,S,C,x={name:r.GeneralFlow,thumbnail:{jpeg:n(34).default,webp:n(35).default},page:{base:a.PS_LIGHT_TRANSPARENT,override:O(O({},(w="--accent-color",E="#ffd04d",S={darken:[10,20]},Object.keys(S).reduce((function(e,t){return S[t].reduce((function(e,t){return Object.assign(e,o()({},"".concat(w,"-darken").concat(t),b(function(e,t){var n=y.parse(e),r=d()(n,4),i=r[0],o=r[1],a=r[2],s=r[3],u=(function(e){var t=d()(e,3),n=t[0],r=t[1],i=t[2];n/=255,r/=255,i/=255;var o=Math.max(n,r,i),a=Math.min(n,r,i),s=o-a,u=0;0===s?u=0:o===n?u=(r-i)/s%6:o===r?u=(i-n)/s+2:o===i&&(u=(n-r)/s+4);var c=(a+o)/2;return[60*u,0===s?0:s/(1-Math.abs(2*c-1)),c]})([i,o,a]),l=d()(u,3),f=l[0],h=l[1],p=l[2];return p*=1-t/100,y.apply(void 0,c()(g([f,h,p])).concat([s]))}(E,t))))}),e)}),o()({},w,b(E))))),{},{"--bg-color":b("#ffd0b0"),"--main-text-color":b("#000"),"--sub-text-color":b("#000"),"--accent-text-color":b("#000")})},content:{base:a.PS_LIGHT,override:{"--bg-color":b("#fff")}},layers:{cover:{imageUrl:{1920:{jpeg:n(36).default,webp:n(37).default},1536:{jpeg:n(38).default,webp:n(39).default},1366:{jpeg:n(40).default,webp:n(41).default},1280:{jpeg:n(42).default,webp:n(43).default}},videoUrl:{mpeg:n(44).default,webm:n(45).default}}}},k={name:r.GeneralGrass,thumbnail:{jpeg:n(46).default,webp:n(47).default},page:{base:a.PS_DARK_TRANSPARENT,override:{"--bg-color":b("#758c00")}},content:{base:a.PS_LIGHT,override:{"--bg-color":b("#fff")}},layers:{cover:{imageUrl:{1920:{jpeg:n(48).default,png:n(49).default,webp:n(50).default},1536:{jpeg:n(51).default,png:n(52).default,webp:n(53).default},1366:{jpeg:n(54).default,png:n(55).default,webp:n(56).default},1280:{jpeg:n(57).default,png:n(58).default,webp:n(59).default}},videoUrl:{mpeg:n(60).default,webm:n(61).default}}}},T=(C={},o()(C,r.GeneralFlow,x),o()(C,r.GeneralGrass,k),C);function j(e){return[a.MG_DARK.color,a.PS_DARK.color,a.PS_DARK_TRANSPARENT.color,a.PS_SUPERDARK_TRANSPARENT.color].includes(e.color)}})])}),(function(e,t,n){"use strict";var r=n(10),i=n.n(r),o=n(9),a=n.n(o),s=n(93),u=n.n(s),c=n(22),l=n.n(c),d=n(54),f=n.n(d),h=n(514),p=n.n(h),m=n(51),v=n.n(m),g=n(124),y=n(14),b=n(18),_=["idContext","scopeSearch"];ns.log.error=function(e,t){(ns.DEBUG||no.de)&&console.error("ns.log.error",e,t)},ns.log.exception=function(e,t){(ns.DEBUG||no.de||"development"===u.a.environment)&&console.error("ns.log.exception",e,no.de?t.stack:t)},ns.todo=function(e,t){if((ns.DEBUG||no.de||"development"===u.a.environment)&&!t)throw new Error(e||"Unimplemented")},ns.View.prototype.hasErrorFatalModels=function(e){Array.isArray(e)||(e=[e]);var t=!1;return e.forEach((function(e){var n=e.getData().error;if(n&&n.id&&0===n.id.indexOf("HTTP_50"))return t=!0,!0})),t},ns.View.prototype.getViewChild=function(e){if(this.views)return a.a.find(this.views,{params:e})},ns.View.prototype.updateView=function(){this.invalidate(),this.isVisible()&&v.a.update()},ns.View.prototype.subscribeUpdateResource=function(e,t){var n=this,r=Object(y.default)(),o={};for(var a in t)o=Object.assign({},o,i()({},a,Object(b.getResourceData)(r.getState(),e,a)));return r.subscribe((function(){if(n.isValid())for(var a in t){var s=Object(b.getResourceData)(r.getState(),e,a);o[a]!==s&&(t[a](o[a],s),o=Object.assign({},o,i()({},a,s)))}}))},ns.Model.prototype.retryOffline=function(){return!1},ns.Model.prototype.shouldRetryFails=function(){return!this.isDo()},ns.Model.prototype.fetch=function(){return n(720),ns.Model.get("queueSync").push(this)},ns.Model.prototype.updateData=function(e){this.setData(a.a.merge({},this.getData(),e||{}))},ns.Model.prototype.setDataDefault=function(){var e=this.info.defaults;return e="function"==typeof e?e.call(this):e,this.setData(a.a.merge({},e||{}))},ns.Model.prototype.subscribeUpdateResource=function(e,t,n){var r=this,o=Object(y.default)(),a={};for(var s in t)a=Object.assign({},a,i()({},s,Object(b.getResourceData)(o.getState(),e,s)));return o.subscribe((function(){if(r.isValid()){var s=o.getState();if(Object(b.isExistsResource)(s,e))for(var u in t){var c=Object(b.getResourceData)(o.getState(),e,u);a[u]!==c&&(t[u](a[u],c),a=Object.assign({},a,i()({},u,c)))}else n()}}))},ns.page.getCurrentUrl=function(){return f.a.mergeSlashes(window.location.pathname)+window.location.search};var O=ns.router.generateUrl;if(ns.router.generateUrl=function(e,t){var n=t.idContext?l.a.getIdApp(t.idContext):"client",r=p.a.parseUrl(ns.page.currentUrl);return-1!==["album","public"].indexOf(n)?p.a.formatUrl(a.a.extend({prefix:r&&r.prefix},t)):O.call(this,e,t)},ns.Update.prototype.perf=function(e){g.a.collectNSTimings(e)},ns.router.encodeParamValue=function(e,t){return _.indexOf(t)>-1?l.a.escape(e):encodeURIComponent(e)},ns.router.decodeParamValue=function(e,t){return _.indexOf(t)>-1?l.a.unescape(e):decodeURIComponent(e)},ns.history){var w=ns.history._onAnchorClick;ns.history._onAnchorClick=function(e){return!!e.isDefaultPrevented()||(!!e.target.dataset.external||w.call(this,e))}}ns.page.go=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ns.page.DEFAULT_HISTORY_ACTION;!0===n&&(n="replace"),"function"==typeof(null===(t=window.HOST_API)||void 0===t?void 0:t.onChangeUrl)&&e&&window.HOST_API.onChangeUrl(location.origin+e),e=e||ns.page.getCurrentUrl();var r=ns.router(e);return ns.R.NOT_FOUND===r.page?ns.page.redirect("/client/disk"):"notes"===r.page?Vow.fulfill():(ns.events.trigger("ns-page-before-load",[ns.page.current,r],e),"push"===n&&e===ns.page.currentUrl&&(n="preserve"),ns.page._setCurrent(r,e),ns.page._fillHistory(e,n),r.page===ns.R.REDIRECT?ns.page.redirect(r.redirect):(ns.page.title(),ns.events.trigger("ns-page-after-load",r.params,e),Vow.fulfill()))},ns.Update.prototype.applyTemplate=function(e){return ns.renderString(e,null,"common")},n(845).extendRouterRegs(ns)}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(140),o={retryOffline:!0,retryCodes:[502],maxRetries:3,pingUrl:"/ping"};t.default=function e(t){var n=t.modelsRoute,a=t.apiMethod,s=t.requestParams,u=t.sk,c=t.onSkUpdate,l=t.uid,d=t.onAuthChanged,f=t.connectionId,h=t.options,p=void 0===h?{}:h,m=r(r({},o),p),v=function(e){return fetch(n+"?m="+a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r(r({sk:e},f?{connection_id:f}:null),{apiMethod:a,requestParams:s}))})},g=function(e){return e.json()},y=function(){return e(r(r({},t),{options:r(r({},m),{maxRetries:m.maxRetries-1})}))};return v(u).then((function(e){return e.ok?g(e):Promise.reject(e)})).catch((function(e){return e instanceof Error?m.retryOffline&&m.maxRetries>0?i.waitOnline(m.pingUrl).then(y):Promise.reject(e):m.retryCodes.includes(e.status)&&m.maxRetries>0?y():401===e.status&&l&&d?(d(),Promise.reject(e)):e.json().then((function(e){if(e.error&&"CKEY"===e.error.code)if(l&&l!==e.error.uid&&d)d(e.error.uid);else if(e.error.ckey)return c(e.error.ckey),v(e.error.ckey).then(g);return Promise.reject(e)}))}))}}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{d:"M9.6 4l-4 4 4 4 .8-.8L7.2 8l3.2-3.2z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{d:"M6.4 12l4-4-4-4-.8.8L8.8 8l-3.2 3.2z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(545);n(923),t.withSizeXL=r.withBemMod(i.cnButton(),{size:"xl"})}),(function(e,t,n){"use strict";n.r(t);var r=n(35);n.d(t,"cnButton",(function(){return r.b})),n.d(t,"Button",(function(){return r.a}));var i=n(303);n.d(t,"withBaseline",(function(){return i.a}));var o=n(304);n.d(t,"withPinBrickBrick",(function(){return o.a}));var a=n(305);n.d(t,"withPinBrickCircle",(function(){return a.a}));var s=n(306);n.d(t,"withPinBrickClear",(function(){return s.a}));var u=n(307);n.d(t,"withPinBrickRound",(function(){return u.a}));var c=n(308);n.d(t,"withPinCircleBrick",(function(){return c.a}));var l=n(309);n.d(t,"withPinCircleCircle",(function(){return l.a}));var d=n(310);n.d(t,"withPinCircleClear",(function(){return d.a}));var f=n(311);n.d(t,"withPinClearBrick",(function(){return f.a}));var h=n(312);n.d(t,"withPinClearCircle",(function(){return h.a}));var p=n(313);n.d(t,"withPinClearClear",(function(){return p.a}));var m=n(314);n.d(t,"withPinClearRound",(function(){return m.a}));var v=n(315);n.d(t,"withPinRoundBrick",(function(){return v.a}));var g=n(316);n.d(t,"withPinRoundClear",(function(){return g.a}));var y=n(317);n.d(t,"withSizeL",(function(){return y.a}));var b=n(318);n.d(t,"withSizeM",(function(){return b.a}));var _=n(319);n.d(t,"withSizeS",(function(){return _.a}));var O=n(320);n.d(t,"withThemeAction",(function(){return O.a}));var w=n(321);n.d(t,"withThemeClear",(function(){return w.a}));var E=n(322);n.d(t,"withThemeLink",(function(){return E.a}));var S=n(323);n.d(t,"withThemeNormal",(function(){return S.a}));var C=n(324);n.d(t,"withThemePseudo",(function(){return C.a}));var x=n(325);n.d(t,"withThemeRaised",(function(){return x.a}));var k=n(326);n.d(t,"withThemeWebSearch",(function(){return k.a}));var T=n(327);n.d(t,"withTypeLink",(function(){return T.a}));var j=n(328);n.d(t,"withTypeSubmit",(function(){return j.a}));var R=n(329);n.d(t,"withViewAction",(function(){return R.a}));var P=n(330);n.d(t,"withViewClear",(function(){return P.a}));var D=n(331);n.d(t,"withViewDefault",(function(){return D.a}));var I=n(332);n.d(t,"withViewLink",(function(){return I.a}));var A=n(333);n.d(t,"withViewPseudo",(function(){return A.a}));var M=n(334);n.d(t,"withViewRaised",(function(){return M.a}));var N=n(335);n.d(t,"withWidthAuto",(function(){return N.a}));var L=n(336);n.d(t,"withWidthMax",(function(){return L.a}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(545);n(924),t.withSizeXXL=r.withBemMod(i.cnButton(),{size:"xxl"})}),(function(e,t,n){"use strict";n.r(t);var r=n(663);n.d(t,"useFocusTrap",(function(){return r.a}))}),(function(e,t,n){"use strict";var r,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o,a=i(n(0)),s=i(n(114)),u=i(n(159)),c=n(28),l=n(115),d=c.cn("ShareDialogAccessType");n(992),(function(e){e.Overdraft="overdraft",e.SecurityWithPassword="security-with-password",e.ReadOnlyRights="read-only-rights",e.VicariousDoc="vicarious-doc"})(o=t.AccessStubType||(t.AccessStubType={}));var f={disabled:{titleKey:"access-type-title_view",subtitleKey:"access-type-subtitle_view",iconName:"eye"},all:{titleKey:"access-type-title_edit",subtitleKey:"access-type-subtitle_edit",iconName:"pen"}},h=((r={})[o.Overdraft]={file:{titleKey:"access-type-title-file_overdraft",subtitleKey:"access-type-subtitle_overdraft",iconName:"warning"},folder:{titleKey:"access-type-title-folder_overdraft",subtitleKey:"access-type-subtitle_overdraft",iconName:"warning"},album:{titleKey:"access-type-title-album_overdraft",subtitleKey:"access-type-subtitle_overdraft",iconName:"warning"}},r[o.SecurityWithPassword]={titleKey:"security-title",subtitleKey:"security-desc-with-password",iconName:"shield"},r[o.ReadOnlyRights]={titleKey:"access-type-title_no-edit-rights",subtitleKey:"access-type-subtitle_no-edit-rights",iconName:"warningGrey"},r[o.VicariousDoc]={titleKey:"access-type-title-vicarious-doc",subtitleKey:"access-type-subtitle-vicarious-doc",iconName:"warningGrey"},r);t.default=function(e){var t,n=e.lang,r=e.value,i=e.className,o=e.addonAfter,c=e.stubType,p=e.onClick,m=e.resourceType;if(c){var v=h[c];t=v[m]||v}else t=f[r];var g=t.titleKey,y=t.subtitleKey,b=t.iconName;return a.default.createElement("div",{className:l.classnames(d(),i),onClick:p},a.default.createElement("div",{className:d("TypeIcon")},a.default.createElement(u.default,{name:b,className:d("Icon")})),a.default.createElement("div",{className:d("Text")},a.default.createElement("span",{className:d("Title")},s.default(n,g)),a.default.createElement("span",{className:d("Subtitle")},s.default(n,y))),o&&a.default.createElement("div",{className:d("AddonAfter")},o))}}),(function(e,t){e.exports='<svg width="14" height="14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.666.919a.4.4 0 0 1 .566 0l.848.848a.4.4 0 0 1 0 .566L8.413 7l4.667 4.667a.4.4 0 0 1 0 .566l-.765.765a.4.4 0 0 1-.566 0L7.082 8.331l-4.75 4.75a.4.4 0 0 1-.566 0l-.848-.848a.4.4 0 0 1 0-.566l4.75-4.75L1.001 2.25a.4.4 0 0 1 0-.566L1.766.92a.4.4 0 0 1 .566 0L7 5.586 11.666.919z" fill="#8A92A4"></path></svg>'}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(456)),s=i(n(121)),u=i(n(114)),c=n(28).cn("NoFeatureStub");n(1034);t.default=function(e){var t=e.lang,n=e.isB2b,r=e.visible,i=e.anchor,l=e.containerRef,d=e.chooseTariffLink,f=e.onGoToTariffs,h=e.onClose,p=o.useCallback((function(e){var t;null!==(t=null===l||void 0===l?void 0:l.current)&&void 0!==t&&t.contains(e.target)||h()}),[l,h]),m=o.useCallback((function(){f(),h()}),[h,f]);return o.default.createElement(a.default,{className:c("Tooltip"),onClose:p,view:"default",visible:r,anchor:i,direction:"right",size:"m",hasTail:!0,opaque:!0},o.default.createElement("div",{className:c("TooltipInner")},o.default.createElement("span",null,u.default(t,n?"security-b2b-tooltip":"security-b2c-tooltip")),o.default.createElement("div",null,o.default.createElement(s.default,{size:"s",view:"link",type:"link",target:"_blank",url:d,onClick:m,className:c("TooltipButton",{b2c:!n})},u.default(t,"choose-tariff")))))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(1038),o=n(194),a=r.compose(r.composeU(o.withViewDefault,i.withViewShareMenu),o.withSizeM)(o.Textinput);t.default=a}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n.n(r),o=n(429),a=function(e){var t=e.locale,n=e.children;return i.a.createElement(o.a.Provider,{value:t},n)}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n(237),o=new Map;function a(e){var t=Object(i.a)().locale,n=Object(r.useMemo)((function(){return (function(e,t){var n="";void 0!==t&&(n=Object.keys(t).map((function(e){return[e,t[e]]})).sort((function(e,t){return e[0]<t[0]?-1:1})).join());return e+n})(t,e)}),[t,e]),a=o.get(n);if(a)return a;var s=new Intl.DateTimeFormat(t,e);return o.set(n,s),s}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(237),i={"001":1,AD:1,AE:6,AF:6,AI:1,AL:1,AM:1,AN:1,AT:1,AX:1,AZ:1,BA:1,BE:1,BG:1,BH:6,BM:1,BN:1,BY:1,CH:1,CL:1,CM:1,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DZ:6,EC:1,EE:1,EG:6,ES:1,FI:1,FJ:1,FO:1,FR:1,GB:1,GE:1,GF:1,GP:1,GR:1,HR:1,HU:1,IE:1,IQ:6,IR:6,IS:1,IT:1,JO:6,KG:1,KW:6,KZ:1,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MK:1,MN:1,MQ:1,MV:5,MY:1,NL:1,NO:1,NZ:1,OM:6,PL:1,QA:6,RE:1,RO:1,RS:1,RU:1,SD:6,SE:1,SI:1,SK:1,SM:1,SY:6,TJ:1,TM:1,TR:1,UA:1,UY:1,UZ:1,VA:1,VN:1,XK:1};function o(){var e=Object(r.a)().region;return i[e]||0}}),(function(e,t,n){"use strict";n.r(t);var r=n(420);n.d(t,"initialContextValue",(function(){return r.c})),n.d(t,"SSRContext",(function(){return r.a})),n.d(t,"SSRProvider",(function(){return r.b}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(503),o=n(510),a=n(512),s=n(243);function u(e,t){var n=e.onChange,u=e.readOnly,c=e.state,l=Object(r.__rest)(e,["onChange","readOnly","state"]),d=Object(i.a)(e,t).focusableProps,f=Object(o.a)(e);return{isPressed:f.isPressed,rootProps:f.pressProps,inputProps:Object(a.a)(l,d,{"aria-checked":e.checked,"aria-invalid":"invalid"===c||void 0,"aria-readonly":u||void 0,autoComplete:Object(s.a)()?"off":void 0,onChange:u?void 0:n,type:"checkbox"})}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=400,o=70;function a(e){var t=e.value,n=void 0===t?NaN:t,a=e.min,s=void 0===a?NaN:a,u=e.max,c=void 0===u?NaN:u,l=e.textValue,d=void 0===l?Number.isFinite(n)?n.toString():"":l,f=e.disabled,h=e.readOnly,p=e.required,m=e.onIncrement,v=e.onExtraIncrement,g=e.onDecrement,y=e.onExtraDecrement,b=e.onDecrementToMin,_=e.onIncrementToMax,O=!(h||f),w=Object(r.useRef)(),E=Object(r.useCallback)((function(e){if(!(e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)){var t={ArrowUp:m,PageUp:null!==v&&void 0!==v?v:m,ArrowDown:g,PageDown:null!==y&&void 0!==y?y:g,End:_,Home:b}[e.key];t&&(e.preventDefault(),t())}}),[m,v,_,g,y,b]),S=Object(r.useCallback)((function(){return clearTimeout(w.current)}),[]),C=Object(r.useCallback)((function(e){!(function t(n){null===e||void 0===e||e(),w.current=window.setTimeout(t,n,o)})(i)}),[]),x=Object(r.useCallback)((function(){C(m)}),[C,m]),k=Object(r.useCallback)((function(){C(g)}),[C,g]);Object(r.useEffect)((function(){return S}),[S]);var T={role:"spinbutton","aria-valuenow":Number.isFinite(n)?n:void 0,"aria-valuetext":""===d?"Empty":d,"aria-valuemin":Number.isFinite(s)?s:void 0,"aria-valuemax":Number.isFinite(c)?c:void 0,"aria-disabled":f||void 0,"aria-readonly":h||void 0,"aria-required":p||void 0};return O&&(T.onKeyDown=E),{spinButtonProps:T,incrementButtonProps:{disabled:!O,onPressStart:x,onPressEnd:S},decrementButtonProps:{disabled:!O,onPressStart:k,onPressEnd:S}}}}),(function(e,t,n){"use strict";n.r(t);var r=n(557);n.d(t,"useSpinButton",(function(){return r.a}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(667),o=r.compose(i.withViewDefault,i.withTargetAnchor)(i.Popup);t.default=o}),(function(e,t,n){"use strict";var r=n(455),i=n(1135),o=n(54);function a(e){return"docs.yandex.ru"===e||/^docs(\d?)\.ds[pt]\.yandex\.ru$/.test(e)||/^(?:pr|rc)-\d+\.docs\.regtests\.dsp\.yandex\.ru$/.test(e)||/\.docs-dev\.dsd\.yandex\.ru$/.test(e)}e.exports={prepare:function(e){var t=e.data,n=e.urlsBase,s=t.tld,u=n.www,c=n.disk,l=c+"/download/",d=n.support+"/disk/troubleshooting.html",f=n.support+"/disk/",h=n.support+"/docs/",p=n.support+"/disk-mobile/",m=n.passport,v=n.pass,g="https://"+t.host+t.path,y=C(g,{uid:null,login:null});t.tld!==t.tldOrigin&&(y=c+"/auth/retpath"+t.pathOrigin,e.tldFinal=t.tld);var b="&retpath="+encodeURIComponent(y),_=b;t.source&&!/[&?]source=\w/.test(y)&&(_="&retpath="+encodeURIComponent(y+(y.indexOf("?")>-1?"&":"?")+"source="+encodeURIComponent(t.source)));var O=t.locale||"ru",w="&origin="+(a(t.host)?"docs_web":i.getParamOrigin(t.source,O)),E=C(g,{force_show:1});"/auth-stub"===t.path&&(E=E.replace("/auth-stub",""));var S={current:g,diskQR:o.replaceTld(c,"net")+"/qr/",statbox:"//clck.yandex.ru/click",disk:c,diskRoot:c+"/client/disk",download:l+"?from=webinterface",langSwitch:u+"/portal/set/lang/",blog:"https://yandex.ru/blog/disk",twitterDisk:"https://twitter.com/yandexdisk",feedback:{disk:d,blocked:f+"blocked.html",abuse:n.support+"/abuse/troubleshooting/disk/list.html",disk4Yandex:"ru"===s?f+"zout_yandex.html":d,newDisk:"ru"===O?f:d},usabilityReseach:"https://yandex.ru/jobs/usability",termsOfUse:n.legal+"/disk_termsofuse/",connectTermsOfUse:n.legal+"/connect_software_agreement/",promoCodesTermsOfUse:n.legal+"/disk_promocode/",tariffs:c+"/pay/tariffs/",drweb:"http://www.drweb.com",photo:c+"/photo/?from=main",downloadMailApp:"https://redirect.appmetrica.yandex.com/serve/964096712639555893",downloadApp:{win:l+"YandexDiskSetup.exe?referer=webinterface",mac:l+"Yandex.Disk.Mac.dmg?referer=webinterface",linux:l+"?referer=webinterface",ios:"https://appmetrica.yandex.ru/serve/17589353581187627129?action=click&app_id=ru.yandex.disk",android:"https://appmetrica.yandex.ru/serve/8634663676703474913?action=click&app_id=ru.yandex.disk",winphone:"https://appmetrica.yandex.ru/serve/12056877220594364778",promo:u+"/set/lp/disk2/"},deepLink:"https://redirect.appmetrica.yandex.com/serve/96639634120940843",downloadMobileApp:{welcomeScreen:{ios:"https://redirect.appmetrica.yandex.com/serve/9563509207267024590",android:"https://redirect.appmetrica.yandex.com/serve/932489569810911545"},promo:l+"#mobile"},agreement:n.legal+"/desktop_software_agreement/",blocked:n.legal+"/ugc_takedown/",passport:{origin:m,home:m,resign:m+"/auth/update/?"+b.slice(1),init:v+"/?"+b.slice(1)+w,nocookiesupport:m+"?mode=error&error=nocki",register:m+"/passport?mode=register&from=cloud"+_+w,qrcode:m+"/auth?mode=qr&from=cloud"+b,auth:m+"/auth?from=cloud"+w+b,addUser:m+"/auth?mode=add-user&origin=disk.desktop"+b,login:m+"/auth?from=cloud"+w,restore:m+"/passport?mode=restore&from=cloud"+b+w,userapprove:m+"/passport?mode=userapprove&from=cloud"+b,postregistration:m+"/passport?mode=postregistration&from=cloud&create_login=1&create_password=1"+_,light2full:m+"/profile/upgrade?"+(_+w).slice(1)},help:{disk:f,diskMobile:p,correctionSearch:n.support+"/search/how-to-search/request-correction.html#misspell",yateamnda:n.yateamWiki+"/disk/nda/",versionControl:f+"version-control.html",diskPro:f+"enlarge/buy-space.html",overdraft:f+"enlarge/disk-space.html",connect:o.replaceTldByLang(n.support+"/connect-disk/",t.locale,["ru","com"]),uploader:f+"uploading.html#cant-upload-folder"},videoPlayerIframeApi:t.videoPlayerVersion?n.externalStatic+"/yandex-video-player-iframe-api/js/player-api-loader.js":"https://frontend.vh.yandex.ru/stable/player_version/player.js",updateBrowser:{firefox:u+"/firefox?from=link_disk___|",opera:u+"/opera?from=link_disk___|",forceShow:E},static:{host:n.static,hostExternal:n.externalStatic,root:n.static+"/s3/disk"},extChrome:"https://chrome.google.com/webstore/detail/cbhneibcbgciicaihkefieefieeldnil",mail:n.mail,diskProPost:"https://yandex.ru/blog/disk/disk-pro-bolshe-mesta-i-vozmozhnostey",api:n.tech,downloadBrowser:n.browser,b2bDiskAdminPage:"https://business.yandex.ru/disk/promo?utm_campaign=tunning_page&utm_medium=teaser&utm_source=disk",telemost:n.telemost,docs:{help:h,mobileHelp:n.support+"/docs-mobile/",termsOfUse:"https://yandex.ru/legal/docs_termsofuse/"},vacancies:n.yandex360+"/jobs?from=disk_footer"};return S.updateBrowser.yandex=n.browser+"/?from=link_disk___|&banerid=0468000000","com"===s?(delete S.updateBrowser.firefox,delete S.updateBrowser.opera):"com.tr"===s&&delete S.updateBrowser.firefox,S.avatarDefault=e.urlAvatar+"0/0-0/islands-middle",e.links=S,e.tld=s,e.yandexuid=t.yandexuid,e.isDocsHost=a(t.host),e.isDocsView=e.isDocsHost&&t.path.startsWith("/docs/view?"),e.videoPlayerVersion=t.videoPlayerVersion,e.sourcesDownloadApp={saveTime:"Yandex.Greeting.SaveTime",welcome:"Yandex.Greeting.Welcome",upload:"Yandex.UploadDialog"},e;function C(e,t){var n;try{n=r.parse(e,!0)}catch(t){return e}for(var i in t)t.hasOwnProperty(i)&&(null===t[i]?delete n.query[i]:n.query[i]=t[i]);return n.search="",r.format(n)}},getLanguagesSupported:function(e){return(e.domains[e.tld]||e.domains.ru).langs}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={geo:"Места и поездки",beautiful:"Красивые",unbeautiful:"Разобрать",screenshots:"Скриншоты",camera:"Камера",videos:"Видео"}}),(function(e,t){ns.Model.define("do-resource-create-folder",{params:{id:null,force:0}})}),(function(e,t){ns.Model.define("do-resource-leave",{params:{gid:null}})}),(function(e,t){ns.Model.define("do-resource-move",{params:{src:null,dst:null,force:0}})}),(function(e,t,n){"use strict";n.r(t);var r=n(664),i=n(9),o=n.n(i);ns.Model.define("contact",{params:{userid:null},methods:{formatSuggest:function(e){return e?this._getSuggestItemWorkspace():this._getSuggestItemDefault()},_getSuggestItemDefault:function(){var e=this.get(".name"),t=this.get(".userid"),r=n(93).links.avatarDefault;return{email:t,label:[e,t].filter(Boolean).join(" "),service:"email",userid:t,username:e||t,userpic:r,value:t}},_getSuggestItemWorkspace:function(){var e=o.a.extend({},this.getData()),t=e.name||e.email||e.userid;return e.is_ya_directory&&(e.avatar=e.avatar||Object(r.a)({type:e.type,name:t})),e.isCurrentUserWs=!0,e.value=t,e}}})}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={"полный доступ":660,"только просмотр":640,"нет доступа":0}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(0)),s=n(28),u=n(135),c=n(1187),l=n(1189),d=n(1190),f=n(1191),h=s.cn("PSHeader-ServiceList");n(1194),t.MAIN_SERVICES_COUNT=5;var p=function(e){return e>-1&&"n"+String(e+1)};t.ServiceList=function(e){var n=a.useRef(null),o=a.useState(!1),s=o[0],m=o[1],v=a.useContext(u.HeaderContext).countMetrika,g=e.currentService,y=e.onMorePopupChangeVisibility,b=e.services,_=a.useCallback((function(e){m(e),y&&y(e)}),[y,m]),O=a.useCallback((function(){return _(!1)}),[_]),w=a.useMemo((function(){return b.map((function(e){return"Contact"===e.id&&"Mail"===g?r(r({},e),{onClick:function(t){e.onClick&&e.onClick(t),O()}}):e}))}),[b,g,O]),E=a.useMemo((function(){var e=w.slice(0,t.MAIN_SERVICES_COUNT),n=w.find((function(e){return e.id===g}));return n?e.includes(n)?e:e.slice(0,e.length-1).concat(n):e}),[g,w]),S=a.useMemo((function(){return E.filter((function(e){return e.id!==g})).slice(-3)}),[g,E]),C=a.useMemo((function(){if(S.length>0){var e=w.filter((function(e){return!E.includes(e)}));return i(S,e)}return[]}),[S,E,w]),x=a.useCallback((function(){v("more","open"),_(!0)}),[v,_]);return a.default.createElement(a.default.Fragment,null,E.map((function(t){var n=S.findIndex((function(e){return e.id===t.id}));return a.default.createElement(l.MainServiceView,{className:h("MainService",{collapsible:p(n)}),hidePopup:O,description:t,key:t.id,currentService:e.currentService,onClick:t.onClick,forwardedRef:t.forwardedRef})})),!e.hideMore&&a.default.createElement(f.MoreServicesButton,{className:h("More"),forwardedRef:n,onClick:s?O:x}),a.default.createElement(c.MoreServicesPopup,{visible:s,onOutsideClick:O,allServicesLink:e.allServicesLink,anchor:n},C.map((function(t){var n=S.findIndex((function(e){return e.id===t.id}));return a.default.createElement(d.PopupServiceView,{className:h("PopupService",{collapsible:p(n)}),hidePopup:O,description:t,key:t.id,currentService:e.currentService,onClick:t.onClick})}))))}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(135),s=n(461);t.ServiceView=function(e){var t=o.useContext(a.HeaderContext),n=e.description,i=t.lang,u=t.timeZone,c={theme:t.theme,timeZone:u,lang:i,i18n:n.title,className:"promozavr-anchor-service"+n.id+"Button "+e.className,active:e.isCurrentService,link:n.href,target:n.target,onClick:e.onClick,forwardedRef:e.forwardedRef,calendarDay:t.calendarDay,icon:n.icon};return o.default.createElement(s.HeaderService,r({},c))}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(28),s=n(1192);n(1193);var u,c=n(135),l=a.cn("PSHeaderIcon");t.BoundHeaderIcon=function(e){var t=e.name,n=e.className,i=o.useContext(c.HeaderContext),a=i.theme,s=i.timeZone,u=i.calendarDay,l=i.lang,d=o.useMemo((function(){return{theme:a,timeZone:s,calendarDay:u,name:t,className:n,lang:l}}),[a,s,u,t,n,l]);return o.default.createElement(p,r({},d))};var d=function(e,t){u&&window.clearTimeout(u);var n=s.getDateInTZ(t),r=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1),i=Number(r)-Number(n);u=window.setTimeout((function(){e(),d(e,t)}),i)},f=function(e){var t=e.timeZone,n=e.calendarDay,r=n||s.getDayOfMonth(t),i=o.useState(r),a=i[0],c=i[1],f=n||a;o.useEffect((function(){if(!n){var e=function(){c(s.getDayOfMonth(t))};d(e,t);var r=function(){e(),d(e,t)};return window.addEventListener("focus",r),function(){window.clearTimeout(u),window.removeEventListener("focus",r)}}}),[c,t,n]);var h=f>=10&&f<=19&&11!==f;return o.default.createElement(o.default.Fragment,null,o.default.createElement("span",{className:l("CalendarDay",{shiftLeft:h})},f),o.default.createElement("div",{className:l("CalendarGradient")}))},h=function(e){var t,n=e.name,r=e.timeZone,i=e.calendarDay,a=e.theme,s=e.lang;return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:l("Image",(t={},t[n]=!0,t.theme=a,t.lang=s,t))}),"Calendar"===n&&o.default.createElement(f,{timeZone:r,calendarDay:i}))},p=function(e){var t,n;return o.default.createElement("div",{className:l((t={},t[e.name]=!0,t),[e.className])},null!==(n=e.children)&&void 0!==n?n:o.default.createElement(h,r({},e)))};t.default=p}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(273));function o(e,t){var n=i.default(e,!0);return Object.entries(t).forEach((function(e){var t=e[0],r=e[1];n.query[t]=r})),n.toString()}t.addQueryParams=o,t.addFromToLink=function(e,t){return o(e,{from:t})}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(463),a=n(135);t.YaLogo=i.default.memo((function(){var e=i.useContext(a.HeaderContext).lang,t=["en","tr","az","hy","ka","ro","uz"].includes(e)?"En":"Ru";return i.default.createElement(o.SvgYa,{logoLang:t})}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(135);t.useLogoMetrika=function(){var e=r.useContext(i.HeaderContext).countMetrika,t=r.useCallback((function(){return e("yandex")}),[e]),n=r.useCallback((function(){return e("360")}),[e]);return r.useMemo((function(){return{onYaClick:t,on360Click:n}}),[t,n])}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(464),a=n(572);t.LogoLink=function(e){var t=a.useLogoMetrika().onYaClick;return i.default.createElement("a",{href:e.logoLink,className:o.classes.yaLink,title:e.title,rel:"noopener noreferrer",onClick:t,target:e.target},e.children)}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(135),a=n(464);t.LogoContainer=function(e){var t=i.useContext(o.HeaderContext).theme;return i.default.createElement("div",{className:a.classes.root({theme:t})},e.children)}}),(function(e,t,n){var r=n(359),i=n(1212),o=n(1213),a=n(1214),s=n(1215),u=n(1216);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c}),(function(e,t,n){var r=n(213),i=n(160),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=r(e);return t==a||t==s||t==o||t==u}}),(function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(133))}),(function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}}),(function(e,t,n){var r=n(580);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}}),(function(e,t,n){var r=n(192),i=(function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}})();e.exports=i}),(function(e,t,n){var r=n(1237),i=n(471),o=n(162),a=n(472),s=n(473),u=n(582),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),d=!n&&!l&&a(e),f=!n&&!l&&!d&&u(e),h=n||l||d||f,p=h?r(e.length,String):[],m=p.length;for(var v in e)!t&&!c.call(e,v)||h&&("length"==v||d&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||p.push(v);return p}}),(function(e,t,n){var r=n(1240),i=n(363),o=n(475),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s}),(function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}}),(function(e,t){e.exports=function(){return[]}}),(function(e,t,n){var r=n(480),i=n(481),o=n(479),a=n(584),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s}),(function(e,t,n){var r=n(587),i=n(479),o=n(470);e.exports=function(e){return r(e,o,i)}}),(function(e,t,n){var r=n(480),i=n(162);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}}),(function(e,t,n){var r=n(587),i=n(585),o=n(478);e.exports=function(e){return r(e,o,i)}}),(function(e,t,n){var r=n(146).Uint8Array;e.exports=r}),(function(e,t,n){var r=n(215),i=n(366);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}}),(function(e,t,n){var r=n(1278),i=n(593),o=n(594);e.exports=function(e){return o(i(e,void 0,r),e+"")}}),(function(e,t,n){var r=n(480),i=n(1279);e.exports=function e(t,n,o,a,s){var u=-1,c=t.length;for(o||(o=i),s||(s=[]);++u<c;){var l=t[u];n>0&&o(l)?n>1?e(l,n-1,o,a,s):r(s,l):a||(s[s.length]=l)}return s}}),(function(e,t,n){var r=n(1280),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),u=Array(s);++a<s;)u[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(u),r(e,this,c)}}}),(function(e,t,n){var r=n(1281),i=n(1283)(r);e.exports=i}),(function(e,t){e.exports=function(e){return e}}),(function(e,t,n){"use strict";n.r(t);var r=n(46);n.d(t,"cnTextinput",(function(){return r.b})),n.d(t,"Textinput",(function(){return r.a}));var i=n(343);n.d(t,"withBaseline",(function(){return i.a}));var o=n(224);n.d(t,"withHasClear",(function(){return o.a}));var a=n(344);n.d(t,"withPinBrickBrick",(function(){return a.a}));var s=n(345);n.d(t,"withPinBrickClear",(function(){return s.a}));var u=n(346);n.d(t,"withPinBrickRound",(function(){return u.a}));var c=n(347);n.d(t,"withPinClearBrick",(function(){return c.a}));var l=n(348);n.d(t,"withPinClearClear",(function(){return l.a}));var d=n(349);n.d(t,"withPinClearRound",(function(){return d.a}));var f=n(350);n.d(t,"withPinRoundBrick",(function(){return f.a}));var h=n(351);n.d(t,"withPinRoundClear",(function(){return h.a}));var p=n(352);n.d(t,"withPinRoundRound",(function(){return p.a}));var m=n(353);n.d(t,"withSizeM",(function(){return m.a}));var v=n(354);n.d(t,"withSizeS",(function(){return v.a}));var g=n(355);n.d(t,"withThemeNormal",(function(){return g.a}));var y=n(356);n.d(t,"withThemeWebsearch",(function(){return y.a}));var b=n(357);n.d(t,"withViewDefault",(function(){return b.a}));var _=n(396);n.d(t,"withViewMaterial",(function(){return _.a}))}),(function(e,t,n){}),(function(e,t,n){"use strict";n(599);var r=n(0),i=n.n(r),o=n(252),a=n(444),s=n(129),u=n(11),c=n.n(u),l={row:40,m:80,l:145,default:40},d={row:"m",tile:"m"};t.a=function(e){var t=e.id,n=e.defaultPreview,r=e.iconType,u=e.onImageLoadError,f=e.onImageLoadSuccess,h=e.previewLoadFailed,p=e.theme,m=e.useRealDevicePixelRatio,v=e.previewRumId,g=e.size||d[p],y=Boolean(n&&!r),b={theme:p,size:g,img:y},_=c()()("resource-icon-preview").m(b).mix(e.cls);return y&&!h?i.a.createElement(a.a,{id:t,cls:_,onError:u,onLoad:f,src:(function(e,t,n,r){var i=r&&window.devicePixelRatio||1,o=l[n]||l[t]||l.default;o=Math.floor(o*i);var a="".concat(e,"&size=").concat(o,"x").concat(o);return Object(s.b)(n)&&(a+="&crop=1"),a})(n,g,p,m),rumId:v}):i.a.createElement(o.a,{cls:_,size:g,resource:e})}}),(function(e,t,n){}),(function(e,t,n){var r=n(1394);e.exports=function(e,t){return r(e,t)}}),(function(e,t,n){var r=n(525),i=n(1398),o=n(526),a=1,s=2;e.exports=function(e,t,n,u,c,l){var d=n&a,f=e.length,h=t.length;if(f!=h&&!(d&&h>f))return!1;var p=l.get(e),m=l.get(t);if(p&&m)return p==t&&m==e;var v=-1,g=!0,y=n&s?new r:void 0;for(l.set(e,t),l.set(t,e);++v<f;){var b=e[v],_=t[v];if(u)var O=d?u(_,b,v,t,e,l):u(b,_,v,e,t,l);if(void 0!==O){if(O)continue;g=!1;break}if(y){if(!i(t,(function(e,t){if(!o(y,t)&&(b===e||c(b,e,n,u,l)))return y.push(t)}))){g=!1;break}}else if(b!==_&&!c(b,_,n,u,l)){g=!1;break}}return l.delete(e),l.delete(t),g}}),(function(e,t,n){var r=n(725),i=n(160),o="Expected a function";e.exports=function(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(o);return i(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:a,maxWait:t,trailing:s})}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(19),a=n(122),s=r(n(1430)),u=r(n(1477)),c=o.connect((function(e){return{isScansPage:a.isScansPage(e)}}));t.default=c((function(e){return e.isScansPage?i.default.createElement(u.default,null):i.default.createElement(s.default,null)}))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=i(n(260)),u=i(n(1431)),c=(i(n(1441)),i(n(611)),i(n(1461))),l=i(n(487)),d=i(n(486)),f=i(n(610)),h=i(n(1463)),p=n(1464),m=n(1465),v=n(1466),g=n(33),y=n(122),b=n(26),_=n(25),O=i(n(12));n(1467);var w=i(n(11)),E=function(){return w.default()("Docs-Header")},S={openEditor:b.openEditor,maybeBlockActionOverdraft:b.maybeBlockActionOverdraft},C=a.connect((function(e){var t=e.user.isOfficeAllowed;return{type:g.currentDocsType(e),isOfficeAllowed:t,isScansPage:y.isScansPage(e)}}),S),x={docx:"Недавние документы",xlsx:"Недавние таблицы",pptx:"Недавние презентации"},k={docx:"Новый документ",xlsx:"Новая таблица",pptx:"Новая презентация"},T={docx:p.documentIconProvider,xlsx:v.tableIconProvider,pptx:m.presentationIconProvider};t.default=C((function(e){var t=e.type,n=e.openEditor,r=e.isOfficeAllowed,i=e.isScansPage,a=e.maybeBlockActionOverdraft,p=o.useRef(),m=o.useState(!1),v=m[0],g=m[1],y=o.useCallback((function(){g(!v)}),[v,g]),b=o.useCallback((function(){g(!1)}),[g]),w=o.useCallback((function(){a()||(n(t,"/disk"),O.default.countDocs("create doc",t,"toolbar"))}),[t,n,a]),S=i?"Сканы":x[t],C=o.default.createElement(h.default,{cls:E().e("Sort-Icon"),size:"m"});return o.default.createElement(s.default,{title:S,titleRef:p,titleRightIcon:C,onTitleClick:y},i?o.default.createElement(o.default.Fragment,null,o.default.createElement(u.default,null),o.default.createElement(c.default,{popupVisible:v,titleRef:p,onSortPopupClose:b})):o.default.createElement("div",{className:E().e("Controls-Wrapper")},r&&o.default.createElement(_.Button,{onClick:w,className:E().e("New-Doc"),size:"m",view:"raised",iconLeft:T[t]},k[t]),o.default.createElement(d.default,{type:t}),o.default.createElement(c.default,{popupVisible:v,titleRef:p,onSortPopupClose:b}),o.default.createElement(l.default,null),o.default.createElement(u.default,null),o.default.createElement(f.default,null)))}))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"displayListIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{d:"M5 1h11v2H5V1zm0 6h11v2H5V7zm0 6h11v2H5v-2zM0 1h3v2H0V1zm0 6h3v2H0V7zm0 6h3v2H0v-2z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"displayIconsIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{d:"M0 0h4v4H0V0zm0 6h4v4H0V6zm0 6h4v4H0v-4zM6 0h4v4H6V0zm0 6h4v4H6V6zm0 6h4v4H6v-4zm6-12h4v4h-4V0zm0 6h4v4h-4V6zm0 6h4v4h-4v-4z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={name:"applyMinWidth",enabled:!0,fn:function(e){var t=e.state;t.styles.popper.minWidth=t.rects.reference.width+"px"},effect:function(e){var t=e.state;t.elements.reference instanceof HTMLElement&&(t.elements.popper.style.minWidth=t.elements.reference.offsetWidth+"px")},phase:"beforeWrite",requires:["computeStyles"]}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),i=n(167),o={name:"applyMaxHeight",enabled:!0,fn:function(e){var t=e.state,n=e.options,o=n.maxHeight,a=n.padding,s=void 0===a?16:a,u=Object(i.a)(t,{padding:s}),c=(t.modifiersData.preventOverflow||{y:0}).y,l=t.rects.popper.height,d=Object(r.__read)(t.placement.split("-"),1)[0],f=l-u["top"===d?"top":"bottom"]-c,h=o?Math.min(f-c,o):f;t.styles.popper=Object(r.__assign)(Object(r.__assign)({},t.styles.popper),{maxHeight:h+"px"})},phase:"main",requires:["computeStyles"]}}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(19),a=n(33),s=n(75),u=n(265),c=n(16),l=n(122),d=((r={})[u.SortOrder.ASC]="По возрастанию",r[u.SortOrder.DESC]="По убыванию",r),f={setSortingType:s.setSortingType,changeResourcesSort:c.changeResourcesSort},h=o.connect((function(e){return{sortingType:a.sortingType(e),isScansPage:l.isScansPage(e)}}),f);t.default=h((function(e){var t,n=e.setSortingType,r=e.sortingType,o=e.isScansPage,a=e.changeResourcesSort,s=e.render,c=i.useCallback((function(e){o?a({sort:r.sort,order:e}):n({sort:r.sort,order:e})}),[r.sort,n,o,a]),l=i.useCallback((function(e){o?a({order:r.order,sort:e}):n({order:r.order,sort:e})}),[r.order,n,o,a]),f=((t={})[u.SortBy.NAME]="По названию",t[u.SortBy.SIZE]="По размеру",t);return o?f[u.SortBy.MTIME]="По дате изменения":f[u.SortBy.DATE_LAST_VIEW]="По дате просмотра",s({sortMap:f,sortOrderMap:d,sortOrgerList:[u.SortOrder.ASC,u.SortOrder.DESC],setSortOrder:c,setSortBy:l,activeSortingType:r})}))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1444));t.FILTER_MAP=i.FILTER_MAP,t.default=i.default}),(function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=n(19),u=n(25),c=n(74),l=(n(117),n(57)),d=n(279),f=o(n(486)),h=n(1452),p=n(1453),m=n(1454),v=n(1455),g=n(1456),y=o(n(487)),b=n(26),_=o(n(12)),O=n(33),w=n(266);n(1460);var E=o(n(11)),S=n(105),C=n(95),x=function(){return E.default()("Docs-Create-Dropdown")},k={openEditor:b.openEditor,maybeBlockActionOverdraft:b.maybeBlockActionOverdraft},T=s.connect((function(e){return{isOfficeAllowed:e.user.isOfficeAllowed,isDocsView:O.isDocsView(e),isUnAuth:w.isUnAuth(e),getLoginUrlForRetpath:function(t){return w.getLoginUrl(e,t)},isDark:S.isContentDark(C.getThemeName(e))}}),k),j={docx:"Документ",xlsx:"Таблицу",pptx:"Презентацию"},R={docx:h.docxIconProvider,xlsx:p.xlsxIconProvider,pptx:m.pptxIconProvider};t.default=T((function(e){var t=e.openEditor,n=e.maybeBlockActionOverdraft,i=e.isOfficeAllowed,o=e.isDocsView,s=e.isUnAuth,h=e.getLoginUrlForRetpath,p=a.useState(!1),m=p[0],b=p[1],O=a.useCallback((function(){n()||b(!m)}),[m,n]),w=a.useRef(null),E=a.useCallback((function(){b(!1)}),[]),S=function(e){if(e.target.value){var n=e.target.value;s?window.location.assign(h("/docs?type="+n+"&create=1")):t(n,"/disk"),_.default.countDocs("create doc",n,"sidebar")}b(!1)},C=a.useMemo((function(){return Object.keys(j).map((function(e){var t;return a.default.createElement(l.Item,{key:e,value:e,icon:R[e],className:x().e("Type").m((t={},t[e]=!0,t))},j[e])}))}),[]),k=a.useMemo((function(){return s?[]:[a.default.createElement(l.Item,{key:"open",icon:v.openIconProvider,className:x().e("Type").m({open:!0})},"Открыть",a.default.createElement(f.default,{transparentAbsolute:!0})),a.default.createElement(l.Item,{icon:g.uploadIconProvider,key:"upload",className:x().e("Type").m({upload:!0})},"Загрузить",a.default.createElement(y.default,{transparentAbsolute:!0}))]}),[s]);return a.default.createElement(a.default.Fragment,null,a.default.createElement(u.Button,{className:x().e("Button"),size:"m",view:o?"raised":"action",theme:o?void 0:"raised",width:"max",onClick:O,iconLeft:d.plusIconProvider,innerRef:w},"Создать"),a.default.createElement(c.Popup,{className:x().e("Popup"),view:"default",target:"anchor",anchor:w,visible:m,onClose:E,direction:"bottom",onClick:E},(function(e){return a.default.createElement(l.Menu,{className:x().e("Menu").m({touch:!1}),view:"default",size:"m",onChange:S,wide:!0,paddingless:!0},e?[i||s?a.default.createElement(l.Group,{key:"create"},C):null,k.length?a.default.createElement(l.Group,{key:"add"},k):null]:r(i||s?C:[],k))})(!0)))}))}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(226)),u=o(n(517)).default(function(e){return function(t){var n=t.onContextMenu,i=a.useCallback((function(e,t){n([e],t,[e])}),[n]);return a.default.createElement(e,r({},t,{onResourceContextMenu:i}))}}(s.default));t.default=u}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=n(19),u=o(n(9)),c=o(n(175)),l=n(16),d=o(n(1470)),f=n(143),h=o(n(120)),p=o(n(110)),m=o(n(614)),v=o(n(1472)),g=n(122),y=n(226),b=n(104),_=n(33);n(1476),n(727);var O=o(n(11)),w=[],E={maybePublishResource:l.maybePublishResource,setHighlighted:b.setHighlighted},S=s.connect((function(e){var t=e.statesContext.highlighted,n=e.environment.agent.OSFamily;return{resourcesByIds:e.resources,OSFamily:n,highlighted:t,isScansPage:g.isScansPage(e),listingType:_.listingType(e)}}),E);t.default=function(e,t){var n=[t,"share dialog"];return S((function(i){var o=i.maybePublishResource,s=i.highlighted,l=i.setHighlighted,g=i.listingType,b=i.isScansPage,_=i.OSFamily,E=i.resourcesByIds,S=a.useState(null),C=S[0],x=S[1],k=a.useRef(null),T=a.useCallback((function(){x(null),k.current=null}),[]),j=a.useCallback((function(e,t){if(C)return T();x(e),k.current=t}),[C,T]),R=a.useState(!1),P=R[0],D=R[1],I=a.useState(null),A=I[0],M=I[1],N=a.useState(!1),L=N[0],F=N[1],B=a.useCallback((function(){D(!1),F(!1),setTimeout((function(){M(null)}),200)}),[]),U=a.useCallback((function(e){M(e),o(e).then((function(e){e&&F(!0)})),D(!0)}),[o]),z=a.useMemo((function(){return s.concat(C||[])}),[s,C]),V=a.useCallback((function(e){var t,n=e.id,r=e.meta,i=e.openInEditorTimestamp,o=e.mtime,s=b?o:i;if(s){var u=p.default(1e3*s,"DD.MM.YYYY HH:mm").split(" "),c=u[0],l=u[1],d=c===p.default(Number(new Date),"DD.MM.YYYY HH:mm").split(" ")[0];t={type:d?"time":"date",themes:["row"],content:d?l:c}}return[t||void 0,{type:"size",themes:["row"],content:h.default.formatSpace(r.size)},{type:"actions",position:f.POSITIONS.ALWAYS_RIGHT,content:a.default.createElement(v.default,{resourceId:e.id,onMoreClick:j,onShareClick:U})},{type:"more",themes:["tile"],position:f.POSITIONS.TOP_RIGHT,content:a.default.createElement(m.default,{resourceId:n,onClick:j})}].filter(Boolean)}),[b,j,U]),H={listingProps:r(r({},y.getListingViewProps(g)),{cls:O.default()("Docs").e("Listing").m({Touch:!1}).mix("client-listing"),titleOverflow:"clamp",isTouch:!1,useRealDevicePixelRatio:!0,isSelectable:!1,openOnSingleClick:!0,supportDoubleClick:!1,ignoreClicksSelector:y.ignoreClicksSelectorBase,saveScrollAfterUpdate:!0,touchContextMenu:!1,selectedResources:w,selected:w,setSelection:u.default.noop,metrikaTail:t,highlightedResources:z,highlighted:s,getAdditionalFields:V,OSFamily:_,setHighlighted:l}),resourcesByIds:E};return a.default.createElement(a.default.Fragment,null,a.default.createElement(e,r({},H)),a.default.createElement(d.default,{resourceId:C,anchor:k,onClose:T}),A?a.default.createElement(c.default,{visible:P,objectIds:[A],onClose:B,metrikaPath:n,defaultExpanded:L}):null)}))}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(25),s=i(n(163)),u=i(n(11));n(1471);t.default=function(e){var t=e.resourceId,n=e.className,r=e.onClick,i=o.useRef(null),c=o.useCallback((function(){r(t,i.current)}),[t,r]),l=o.useCallback((function(e){c(),e.stopPropagation(),e.preventDefault()}),[c]);return o.default.createElement(a.Button,{view:"clear",size:"xxs","aria-label":"Ещё",className:u.default()("ResourceActionsButton").mix(n),onClick:c,onContextMenu:l,icon:function(e){return o.default.createElement(s.default,{cls:e,iconSize:"s"})},innerRef:i})}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(42),s=n(16),u=n(19),c=i(n(54)),l=i(n(12)),d=n(75),f=n(26),h=n(197),p=i(n(1489)),m=n(70),v=i(n(505)),g=i(n(175)),y=i(n(9));n(1491);var b,_=i(n(11)),O=n(33),w=n(72),E=n(95),S=n(105),C=function(){return _.default()("Docs-View")},x=["docs view","share dialog"],k={addDocFromDisk:d.addDocFromDisk,maybeBlockActionOverdraft:f.maybeBlockActionOverdraft,fetchSingleResource:s.fetchSingleResource,notify:a.notify},T=u.connect((function(e){var t,n,r=e.config,i=r.domain,o=r.environment,a=r.urlsBase.docviewer,s=r.links.passport.auth,u=e.page.currentUrl,c=e.resources,l=e.user,d=O.getViewFileDetails(e),f=d.ext,h=d.protocol,p=d.fileId;return{isUnAuth:!l.uid,domain:i,metaResourceId:null===(n=null===(t=c[p])||void 0===t?void 0:t.meta)||void 0===n?void 0:n.resource_id,isTestingOrDev:["testing","development"].includes(o),docviewer:a,currentUrl:u,ext:f,protocol:h,fileId:p,authUrl:l.uid?void 0:s,isDvInDocsTouchExp:w.isDvInDocsTouchExp(e),isCoverLayerEnabled:E.isCoverLayerEnabled(e),isDark:S.isContentDark(E.getThemeName(e))}}),k);!(function(e){e.bodyClick="body-click",e.documentLoad="document-load",e.documentError="document-error",e.sendDocState="send-doc-state",e.scrollHeaderFixed="scroll-header-fixed",e.scrollNavigationFixed="scroll-navigation-fixed",e.scrollFooterFixed="scroll-footer-fixed",e.savedToDisk="saved-to-disk",e.blockActionOverdraft="block-action-overdraft",e.shareDocument="share-document",e.openDocument="open-document",e.downloadError="download-error",e.fullScreenMode="fullscreen-mode",e.redirect="redirect"})(b||(b={}));var j=function(){document.body.dispatchEvent(new Event("mousedown"))},R=function(){var e=new Event("click",{bubbles:!0});document.body.dispatchEvent(e)},P=y.default.once((function(e,t,n){l.default.count("docs view",e,t,n)}));t.default=T((function(e){var t=e.isUnAuth,n=e.domain,r=e.isTestingOrDev,i=e.fetchSingleResource,a=e.docviewer,s=e.currentUrl,u=e.getRootRef,l=e.authUrl,d=e.ext,f=e.protocol,y=e.fileId,_=e.metaResourceId,O=e.maybeBlockActionOverdraft,w=e.notify,E=e.addDocFromDisk,S=e.isDvInDocsTouchExp,k=e.isCoverLayerEnabled,T=e.isDark,D=o.useState(!1),I=D[0],A=D[1],M=o.useState(null),N=M[0],L=M[1],F=o.useState(null),B=F[0],U=F[1],z=o.useState(!1),V=z[0],H=z[1],W=S&&!1,G=o.useCallback((function(){A(!1)}),[]),q=o.useRef(null),$=o.useMemo((function(){var e=c.default.getSearch(s),t=a+e;return t=c.default.replaceParam(t,"uid",void 0,!0),t=c.default.addParams(t,{embed:"docs",nosw:"1",hideLoaders:"1"}),l&&(t=c.default.addParams(t,{authUrl:l})),k&&(t=c.default.addParams(t,{coverLayer:1})),T&&(t=c.default.addParams(t,{dark:1})),t}),[a,s,l,k,T]);o.useEffect((function(){return document.documentElement.classList.add("no-scroll"),function(){document.documentElement.classList.remove("no-scroll")}}),[]),o.useEffect((function(){return W?document.documentElement.classList.add("touch-dv-in-docs"):document.documentElement.classList.remove("touch-dv-in-docs"),function(){document.documentElement.classList.remove("touch-dv-in-docs")}}),[W]),o.useEffect((function(){return function(){var e;null===(e=u())||void 0===e||e.classList.remove("docs-view-hide-header")}}),[u]),o.useEffect((function(){t||"ya-disk:"!==f||i(y)}),[i,y,t,f]),o.useEffect((function(){_&&[h.DocsExt.docx,h.DocsExt.xlsx,h.DocsExt.pptx].includes(d)&&E({id:y})}),[E,_,d,y]);var Y=o.useMemo((function(){return new RegExp("^https://"+(r?".+\\.(?:dst|dv-dev\\.dsd)\\.yandex\\.":"(?:docviewer|.+\\.dsp)\\.yandex\\.")+n.replace(".","\\.")+"$")}),[n,r]),K=o.useState(null),X=K[0],Z=K[1],J=o.useState(""),Q=J[0],ee=J[1],te=o.useState(!0),ne=te[0],re=te[1],ie=o.useCallback((function(e){var t,n,r,i,o,a;try{if(!Y.test(e.origin))return;var s=JSON.parse(e.data),c=s.type,l=s.data;switch(c){case b.scrollHeaderFixed:if(l){null===(t=u())||void 0===t||t.classList.add("docs-view-hide-header"),R();var h=document.querySelector(".PSHeader-MorePopup");(null===h||void 0===h?void 0:h.classList.contains("Popup2_visible"))&&j()}else null===(n=u())||void 0===n||n.classList.remove("docs-view-hide-header");break;case b.scrollNavigationFixed:l?null===(r=u())||void 0===r||r.classList.add("docs-view-hide-mobile-navigation-header"):null===(i=u())||void 0===i||i.classList.remove("docs-view-hide-mobile-navigation-header");break;case b.scrollFooterFixed:H(!l);break;case b.bodyClick:j(),R(),W||null===(o=q.current)||void 0===o||o.focus();break;case b.savedToDisk:var p=l.status,m=l.folderUrl;Z(p),ee(m||"");break;case b.blockActionOverdraft:O({forLite:!0});break;case b.shareDocument:var v=l.url,g=l.error;g?w({operation:"docsError",message:g}):(U(v),L(y),A(!0));break;case b.openDocument:location.assign(l.fileUrl);break;case b.documentLoad:re(!1),P(d,f,"success");break;case b.documentError:re(!1),H(!0),P(d,f,"error");break;case b.downloadError:w({operation:"docsError",message:"Не удалось скачать файл. Попробуйте позже."});break;case b.fullScreenMode:null===(a=u())||void 0===a||a.classList.toggle("docs-view-full-screen-mode",l);break;case b.redirect:location.assign(l.url)}}catch(e){}}),[Y,u,w,y,H,re,O,d,f,W]);o.useEffect((function(){var e,t;return window.addEventListener("message",ie),null===(t=null===(e=q.current)||void 0===e?void 0:e.contentWindow)||void 0===t||t.postMessage(JSON.stringify({type:b.sendDocState}),a),function(){window.removeEventListener("message",ie)}}),[ie,q,a]);var oe=o.useCallback((function(){Z(null)}),[]);return o.default.createElement(o.default.Fragment,null,ne?o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:C().e("Placeholder")}),o.default.createElement("div",{className:C().e("Loading")},o.default.createElement(m.Spin,{className:C().e("LoadingSpin"),view:"default",progress:!0,size:"l"}))):null,o.default.createElement("iframe",{src:$,className:C().e("Frame").m({TouchLoading:W&&ne}),allowFullScreen:!0,ref:q}),V?null:o.default.createElement(v.default,{cls:C().e("Footer")}),o.default.createElement(p.default,{status:X,folderUrl:Q,onClose:oe}),N?o.default.createElement(g.default,{publicShareUrl:_?null:B,visible:I,objectIds:[N],onClose:G,metrikaPath:x,showDeleteLinkProgress:!0}):null)}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1496),i=n(1497),o=(function(){function e(e){var t=this;void 0===e&&(e={}),this.params=e,this.messageListener=function(e){var n=e.data;"string"==typeof n.type&&n.type.startsWith("uxfb/")&&t.handleIncomingMessage(n)},this.resizeListener=function(){var e=window.innerHeight||document.documentElement.clientHeight;t.sendMessage({type:i.UXFeedbackMessageType.CLIENT_HEIGHT,payload:e})},this.messageQueue=[]}return e.prototype.start=function(e,t){this.iframe=e,this.dispatch=t,window.addEventListener("message",this.messageListener),this.initIframe()},e.prototype.stop=function(){window.removeEventListener("message",this.messageListener),window.removeEventListener("resize",this.resizeListener)},e.prototype.sendEvent=function(e){this.sendMessage({type:i.UXFeedbackMessageType.EVENT,payload:{event:e}})},e.prototype.initIframe=function(){var e=r.getYaIdFromCookies();this.sendMessage({type:i.UXFeedbackMessageType.INFO,payload:{url:document.location.href,ymId:e,devicePixelRatio:window.devicePixelRatio,scrollTop:document.documentElement.scrollTop,scrollHeight:document.documentElement.scrollHeight,cookies:r.objectToCookies(this.params.cookies||{})}}),this.resizeListener(),window.addEventListener("resize",this.resizeListener)},e.prototype.handleIncomingMessage=function(e){switch(e.type){case i.UXFeedbackMessageType.CLASS:return this.onClassMessage(e.payload);case i.UXFeedbackMessageType.STYLE:return this.onStyleMessage(e.payload);case i.UXFeedbackMessageType.POSITION:return this.onPositionMessage(e.payload);case i.UXFeedbackMessageType.OPACITY:return this.onOpacityMessage(e.payload);case i.UXFeedbackMessageType.SIZE:return this.onSizeMessage(e.payload);case i.UXFeedbackMessageType.IMAGE:return this.onImageMessage(e.payload)}},e.prototype.onImageMessage=function(e){this.addStyle({width:e.width,height:e.height}),this.sendMessage({type:i.UXFeedbackMessageType.SHOW_WIDGET_ICON,payload:null}),this.addStyle({opacity:"1"})},e.prototype.onSizeMessage=function(e){this.addStyle({width:e.width,height:e.height})},e.prototype.onOpacityMessage=function(e){this.addStyle({opacity:String(e)})},e.prototype.onPositionMessage=function(e){var t=e.height,n=Number(t),r=window.innerHeight||document.documentElement.clientHeight,i=n>=r?0:(r-n)/2;this.removeStyle(["transform","left","right"]),this.addStyle({top:i+"px"})},e.prototype.onStyleMessage=function(e){for(var t=/([\w-]*)\s*:\s*([^;]*)/g,n={},r=t.exec(e);r;)n[r[1]]=r[2].trim(),r=t.exec(e);this.addStyle(n)},e.prototype.onClassMessage=function(e){this.addClass(e)},e.prototype.addClass=function(e){var t;null===(t=this.dispatch)||void 0===t||t.call(this,{type:"set-class",className:e})},e.prototype.addStyle=function(e){var t;null===(t=this.dispatch)||void 0===t||t.call(this,{type:"set-style",style:e})},e.prototype.removeStyle=function(e){var t;null===(t=this.dispatch)||void 0===t||t.call(this,{type:"remove-style",keys:e})},e.prototype.sendMessage=function(e){if(this.iframe&&this.iframe.contentWindow){for(;this.messageQueue.length;)this.iframe.contentWindow.postMessage(this.messageQueue.shift(),"*");this.iframe.contentWindow.postMessage(e,"*")}else this.messageQueue.push(e)},e})();t.UXFeedbackIframeController=o}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoverLayer=void 0;var u=a(n(0)),c=s(n(1507)),l=s(n(1509));t.CoverLayer=u.memo((function(e){var t=e.imageUrl,n=e.videoUrl;return u.default.createElement(u.default.Fragment,null,t&&u.default.createElement(c.default,r({},e)),n&&u.default.createElement(l.default,r({},e)))})),t.CoverLayer.defaultProps={contentPosition:"top center",ignoreBattery:!1}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zip=t.prop=void 0,t.prop=function(e,t,n){var r,i="";switch(Array.isArray(t)&&(t=(r=t)[0],i=r[1]),!0){case void 0!==t:return e+": "+t+i+";";case void 0!==n:return e+": "+n+";";default:return"/* "+e+": "+t+i+"; */"}},t.zip=function(e){return e.replace(/\n+|\t+|\s{2,}/g," ")}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useHashed=void 0;var r=n(0),i=1;function o(e){return Object.keys(e).reduce((function(t,n){var r;return Object.assign(t,((r={})[n]=e[n]+"__"+(function(e){return Math.abs((1e4*e+e+42)*(1e4*e-e-42)).toString(36).slice(0,8)})(i),r))}),{})}t.useHashed=function(e){return r.useState((function(){return o(e)}))[0]}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1520),o=r(n(1521)),a={RUB:"₽",USD:"$"};t.isPriceInRUBCurrency=function(e){return e.currency===i.Currency.RUB},t.getPriceInCurrency=function(e,t){return t?e+" "+a[i.Currency.RUB]:a[i.Currency.USD]+e},t.getPricePerPeriod=function(e,t,n,r){return n===i.Currency.RUB?t+" "+o.default(e,r?"currency-year-short":"currency-month-short",{currency:a[n]}):""+a[n]+t+o.default(e,r?"currency-usd-year-short":"currency-usd-month-short")},t.isPriceWithTemporaryDiscount=function(e){return Boolean(e.start_discount)};var s=function(e,n,r){if(n.start_discount){var a=n.start_discount.price,s=t.isPriceInRUBCurrency(n);return{buttonText:t.getPricePerPeriod(e,a,n.currency,r),buttonInfoText:(function(e,t){var n,r;if(!t.start_discount)return"";var a=t.start_discount.period.unit,s=t.start_discount.periods_count;return(null===(r=((n={})[i.DiscountPeriod.year]={1:o.default(e,"temporary_period_1_year"),2:o.default(e,"temporary_period_2_year")},n[i.DiscountPeriod.month]={1:o.default(e,"temporary_period_1_month"),2:o.default(e,"temporary_period_2_month"),3:o.default(e,"temporary_period_3_month"),4:o.default(e,"temporary_period_4_month"),5:o.default(e,"temporary_period_5_month"),6:o.default(e,"temporary_period_6_month"),7:o.default(e,"temporary_period_7_month"),8:o.default(e,"temporary_period_8_month"),9:o.default(e,"temporary_period_9_month"),10:o.default(e,"temporary_period_10_month"),11:o.default(e,"temporary_period_11_month")},n)[a])||void 0===r?void 0:r[String(s)])||""})(e,n),crossedPrice:t.getPriceInCurrency(n.amount,s)}}};t.getButtonData=function(e,n,r,a,u,c){return void 0===a&&(a=!1),void 0===u&&(u=!1),void 0===c&&(c=void 0),c?{buttonText:c.priceText||"",buttonInfoText:c.infoText,crossedPrice:null===c||void 0===c?void 0:c.crossedText}:n&&t.isPriceWithTemporaryDiscount(n)?r&&a&&(function(e){if(!e.start_discount)return!1;var t=e.amount,n=e.start_discount.price,r=e.start_discount.period.length,i=e.start_discount.period.unit;return t===n&&e.period===i&&2===r})(n)?(function(e,n,r,i){if(n.start_discount)return{withFreePeriod:!0,buttonText:t.getPricePerPeriod(e,n.amount,n.currency,r),buttonInfoText:i?o.default(e,"free_period_text2"):o.default(e,"free_period_text")}})(e,n,r,u):(function(e,t){if(!e.start_discount)return!1;var n=e.start_discount.period.length,r=e.start_discount.period.unit;return 1!==n||t&&r!==i.DiscountPeriod.year||!t&&r!==i.DiscountPeriod.month})(n,r)?(function(e,n,r){if(n.start_discount){var a=t.isPriceInRUBCurrency(n),s=n.start_discount.period.unit,u=n.start_discount.period.length,c=n.start_discount.price,l=t.getPriceInCurrency(c,a),d=1===u,f=d?"price_for_one_week":"price_for_period_week";return s===i.DiscountPeriod.month?f=d?"price_for_one_month":"price_for_period_month":s===i.DiscountPeriod.year&&(f=d?"price_for_one_year":"price_for_period_year"),{buttonText:o.default(e,f,d?{price:l}:{price:l,count:String(u)}),buttonInfoText:o.default(e,"price_further",{price:t.getPricePerPeriod(e,n.amount,n.currency,r)})}}})(e,n,r):s(e,n,r):void 0}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(0)),s=n(28),u=o(n(121)),c=o(n(1525)),l=o(n(1526));n(1527);var d=s.cn("Base-Onboarding");t.CloseButton=function(e){var t=e.closeI18n,n=e.onClose;return a.default.createElement(u.default,{className:d("Close"),onClick:n,size:"m",title:t},a.default.createElement(c.default,null))};t.PromoButton=function(e){var t=e.children,n=e.onClick,o=e.className,s=e.isMain,c=i(e,["children","onClick","className","isMain"]);return a.default.createElement(u.default,r({},c,{className:d("Promo-Button",{Main:s},[o]),onClick:n}),t)};t.BenefitItem=function(e){var t=e.key,n=e.text,r=e.iconUrl;return a.default.createElement("div",{className:d("Benefit-Item"),key:t},a.default.createElement("div",{className:d("Benefit-Item-Icon"),style:{backgroundImage:"url("+r+")"}}),n)};t.Illustration=function(e){var t=e.className,n=e.illustrationUrl;return a.default.createElement("div",{style:n?{backgroundImage:"url("+n}:{},className:d("Illustration",[t])})};t.Logo=function(){return a.default.createElement("div",{className:d("Logo")},a.default.createElement(l.default,null))},t.Text=function(e){return a.default.createElement("div",r({},e,{className:d("Text",[e.className])}))},t.Title=function(e){return a.default.createElement("div",r({},e,{className:d("Title",[e.className])}))},t.ButtonsWrapper=function(e){return a.default.createElement("div",{className:d("Buttons-Wrapper")},e.children)},t.Content=function(e){return a.default.createElement("div",{className:d("Content-Wrapper")},a.default.createElement("div",{className:d("Content")},e.children))},t.Benefits=function(e){return a.default.createElement("div",{className:d("Benefits")},e.children)},t.Container=function(e){var t=e.children,n=e.className,o=i(e,["children","className"]);return a.default.createElement("div",r({},o,{className:d("",[n])}),t)}}),(function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})();Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e){function t(t){var n=e.call(this,t.statusText)||this;return n.name="ResponseError",n.status=t.status,n}return r(t,e),t})(Error);t.ResponseError=i}),(function(e,t,n){var r=n(1534),i=n(592),o=n(1539),a=n(1540),s=o((function(e,t){return a(e)?r(e,i(t,1,a,!0)):[]}));e.exports=s}),(function(e,t,n){var r=n(1541),i=n(591)((function(e,t){return null==e?{}:r(e,t)}));e.exports=i}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapSnapshotTypes=t.mapTypes=void 0;t.mapTypes=function(e,t){return e.reduce((function(e,n){if(t[n.id]){var r=n.id;e[r]=t[r].decode(n.value)}return e}),{})};t.mapSnapshotTypes=function(e,n){return(0,t.mapTypes)(e.map((function(e){return{id:e.record_id,value:e.fields[0].value.string}})),n)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldEnum=t.FieldNullable=t.FieldTuple=t.FieldArray=t.FieldDate=t.FieldBoolean=t.FieldNumber=t.FieldString=t.FieldJson=void 0;t.FieldJson=function(e){return{encode:function(t){return e.stringify(t)},decode:function(t){return e.parse(t)}}};t.FieldString=function(){return{encode:function(e){return e},decode:function(e){return e}}};t.FieldNumber=function(){return{encode:function(e){return String(e)},decode:function(e){return Number(e)}}};t.FieldBoolean=function(){return{encode:function(e){return e?"true":""},decode:function(e){return["on","true","1","yes","enabled"].includes(e)}}};t.FieldDate=function(){return{encode:function(e){return"".concat(e.getTime())},decode:function(e){return new Date(/^\d+$/.test(e)?Number(e):e)}}};t.FieldArray=function(e,t){return void 0===t&&(t=","),{encode:function(n){return n.map((function(t){return e.encode(t)})).join(t)},decode:function(n){return n?n.split(t).map((function(t){return e.decode(t)})):[]}}};t.FieldTuple=function(e,t){return void 0===t&&(t=","),{encode:function(n){return e.map((function(e,t){return e.encode(n[t])})).join(t)},decode:function(n){var r=n?n.split(t):[];return e.map((function(e,t){return e.decode(r[t]||"")}))}}};t.FieldNullable=function(e){return{encode:function(t){return null===t?"":e.encode(t)},decode:function(t){return t?e.decode(t):null}}};t.FieldEnum=function(e,t,n){return{encode:function(n){if(!t.includes(n))throw Error("Expected one of [".concat(t.join(", "),"], received ").concat(n));return e.encode(n)},decode:function(r){if(!r)return n;var i=e.decode(r);return t.includes(i)?i:n}}}}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.realType=t.JsonType=void 0,(function(e){e.Null="null",e.String="string",e.Boolean="boolean",e.Number="number",e.Array="array",e.Object="object",e.Unsupported="never"})(r=t.JsonType||(t.JsonType={})),t.realType=function(e){return null===e?r.Null:Array.isArray(e)?r.Array:"boolean"==typeof e?r.Boolean:"number"==typeof e?r.Number:"string"==typeof e?r.String:"object"==typeof e&&e.constructor&&e.constructor===Object?r.Object:r.Unsupported}}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemesSettingsDatasyncSchema=void 0;var i=n(627),o=n(488),a=n(164),s={theme:(0,o.JsonNullable)((0,o.JsonEnum)(Object.values(a.ThemeName),a.ThemeName.GeneralFlow)),settings:{isVideoEnabled:!0}};t.GeneralThemesSettingsDatasyncSchema=((r={})[a.DATASYNC_KEY_NAME]=(0,i.FieldJson)((0,o.JsonSerializer)(s)),r)}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemesPromoDatasyncSchema=t.GENERAL_THEMES_PROMO_KEY=void 0;var i=n(280),o=n(488);t.GENERAL_THEMES_PROMO_KEY="generalThemesPromo";var a={fullScreenShownDate:(0,o.JsonNullable)((0,o.JsonDate)(0)),tooltipShownDate:(0,o.JsonNullable)((0,o.JsonDate)(0))};t.GeneralThemesPromoDatasyncSchema=((r={})[t.GENERAL_THEMES_PROMO_KEY]=(0,i.FieldJson)((0,o.JsonSerializer)(a)),r)}),(function(e,t,n){"use strict";var r=n(66),i=n.n(r),o=n(0),a=n.n(o),s=n(19);n(1559);t.a=Object(s.connect)((function(e){return{dialogs:e.dialogs}}))((function(e){var t=e.dialogs,n=e.components,r=Object(o.useState)(!1),s=i()(r,2),u=s[0],c=s[1];return Object(o.useEffect)((function(){c(!0)}),[]),u?a.a.createElement(a.a.Fragment,null,Object.keys(t).filter((function(e){return Boolean(n[e])})).map((function(e){var r=n[e];return a.a.createElement(r,{key:e,dialog:t[e]})}))):null}))}),(function(e,t,n){"use strict";e.exports=(e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))}),(function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function a(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return (function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=i.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=a(n[0]);r!==n[0]&&(t[n[0]]=r)}n=i.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),s=0;s<o.length;s++){var u=o[s];e=e.replace(new RegExp(u,"g"),t[u])}return e})(e)}}}),(function(e,t,n){"use strict";e.exports=((e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]})}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.isSidebarLoaded=t.sidebarSlice=t.fetchSidebarData=t.maybeFetchCkey=void 0;const i=n(86),o=n(489),a=n(276),s=n(216),u=n(490),c=n(491),l=n(492),d=n(493);t.maybeFetchCkey=i.createAsyncThunk("SIDEBAR/MAYBE_FETCH_CKEY",e=>r(void 0,void 0,void 0,(function*(){if(e.getCkey())return;const t=yield s.getApiClient().requestModelsTuple([{name:"get-ckey/v1",params:{}}]);if(s.getApiClient().isModelResolved(t[0])&&e.setCkey(t[0].data.ckey),s.getApiClient().isModelRejected(t[0])){const n=t[0];"renewCkey"in n&&n.renewCkey&&e.setCkey(n.renewCkey)}})));const f={[c.Widgets.Disk]:()=>a.fetchRecentFiles(),[c.Widgets.Mail]:()=>u.fetchMailWidgetData(),[c.Widgets.Notes]:e=>[o.fetchRecentNotes(e),o.fetchSecretKey()],[c.Widgets.Space]:()=>l.fetchSpaceWidgetData(),[c.Widgets.Promo]:e=>d.fetchPromoData(e)};t.fetchSidebarData=i.createAsyncThunk("SIDEBAR/LOAD",(e,{dispatch:n})=>r(void 0,void 0,void 0,(function*(){yield n(t.maybeFetchCkey(e)),yield Promise.all(e.widgets.map(t=>{const r=f[t];if(r){let t=r(e);return Array.isArray(t)||(t=[t]),Promise.all(t.map(e=>n(e)))}}))}))),t.sidebarSlice=i.createSlice({name:"sidebar",initialState:{isLoaded:!1},reducers:{},extraReducers:e=>{e.addCase(t.fetchSidebarData.fulfilled,e=>{e.isLoaded=!0})}}),t.isSidebarLoaded=(e=>e.sidebar.isLoaded),t.default=t.sidebarSlice.reducer}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscribe=t.xivaMiddleware=t.XivaActions=void 0;const r=n(86),i=n(637),o=n(276),a=n(490);var s;!(function(e){e.SUBSCRIBE="XIVA/SUBSCRIBE",e.DISK_MESSAGE="XIVA/DISK_MESSAGE",e.MAIL_MESSAGE="XIVA/MAIL_MESSAGE"})(s=t.XivaActions||(t.XivaActions={}));let u=!1;t.xivaMiddleware=(e=>t=>n=>{switch(n.type){case s.SUBSCRIBE:u||(i.getXivaClient().addEventListener("message",t=>{if("disk-json"===t.detail.service){const n=(function(e){try{return JSON.parse(e)}catch(e){}})(t.detail.message);n&&e.dispatch({type:s.DISK_MESSAGE,payload:n})}"mail"===t.detail.service&&t.detail.message&&e.dispatch({type:s.MAIL_MESSAGE,payload:t.detail.message})}),u=!0);break;case s.DISK_MESSAGE:(function(e){var t,n;return"diff"===(null===(t=e.root)||void 0===t?void 0:t.tag)&&!(null===(n=e.values)||void 0===n||!n.length)&&e.values.some(e=>{var t;return"new"===(null===(t=e.parameters)||void 0===t?void 0:t.type)})})(n.payload)&&e.dispatch(o.fetchRecentFiles());break;case s.MAIL_MESSAGE:(function(e){const t=e&&e.operation;return t&&("insert"===t||"reset fresh"===t)})(n.payload)&&e.dispatch(a.fetchMailWidgetData())}return t(n)}),t.subscribe=r.createAction(s.SUBSCRIBE)}),(function(e,t,n){"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.getXivaClient=t.createXivaClient=void 0,t.createXivaClient=function(e,t,n){return r||(r=new window.Ya.XIVA({api:n,urlParams:{service:"disk-json,mail",user:e,client:"ps-sidebar",session:t}}))},t.getXivaClient=function(){return r}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),i=n(109),o=r.compose(r.composeU(i.withSizeS,i.withSizeM),r.composeU(i.withViewAction,i.withViewRaised,i.withViewDefault),r.composeU(i.withPinCircleCircle),i.withWidthMax,i.withTypeLink)(i.Button);t.default=o}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getExpandedState=t.setExpandedState=void 0;const i=r(n(1673)),o="y360w.xpnd",a=9001;function s(e){return`${o}.${e}`}t.setExpandedState=function(e,t){const n=window.location.host.split(".").slice(-2).join(".");i.default.set(s(e),Number(t).toString(32),{path:"/",expires:a,domain:n})},t.getExpandedState=function(e){const t=s(e),n=i.default.get(t);return void 0===n?n:Boolean(Number(n))}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AddIcon=void 0;const i=r(n(0)),o=n(84);t.AddIcon=(({width:e=17,height:t=16,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 2C7.94772 2 7.5 2.44772 7.5 3V7H3.5C2.94772 7 2.5 7.44771 2.5 8C2.5 8.55228 2.94771 9 3.5 9H7.5V13C7.5 13.5523 7.94772 14 8.5 14C9.05228 14 9.5 13.5523 9.5 13V9H13.5C14.0523 9 14.5 8.55228 14.5 8C14.5 7.44772 14.0523 7 13.5 7H9.5V3C9.5 2.44772 9.05228 2 8.5 2Z",fill:"currentColor"}))))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SidebarContext=void 0;const r=n(0);t.SidebarContext=r.createContext({current:null})}),(function(e,t,n){"use strict";var r=n(643),i=n(1733);e.exports={setTankerProjectId:r.setTankerProjectId,addTranslation:r.addTranslation,i18n:r.getKey,I18N:i}}),(function(e,t,n){"use strict";var r="",i={};e.exports={setTankerProjectId:function(e){return r=e},getKey:function(e,t,n,r){return i[e][t][n](r)},addTranslation:function(e,t){return i[e]=t[r]}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformContext=void 0;const r=n(0),i=n(394);t.PlatformContext=r.createContext(i.Platform.WEB)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIsMobile=void 0;const r=n(394);t.getIsMobile=(e=>e===r.Platform.ANDROID||e===r.Platform.IOS)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetricContext=void 0;const r=n(0);t.MetricContext=r.createContext(()=>{})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LangContext=void 0;const r=n(0);t.LangContext=r.createContext(()=>"")}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpandContext=void 0;const r=n(0);t.ExpandContext=r.createContext({})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimezoneContext=void 0;const r=n(0);t.TimezoneContext=r.createContext("")}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetricEvents=void 0;n(651);!(function(e){e.WidgetShow="WidgetShow",e.WidgetClose="WidgetClose",e.WidgetTitleClick="WidgetTitleClick",e.WidgetClick="WidgetClick",e.WidgetCollapse="WidgetCollapse",e.WidgetExpand="WidgetExpand",e.WidgetShowPimple="WidgetShowPimple",e.ToggleWidgetsExpand="ToggleWidgetsExpand",e.ToggleWidgetsFold="ToggleWidgetsFold",e.DiskWidgetShowCreateButtons="DiskWidgetShowCreateButtons",e.DiskWidgetHideCreateButtons="DiskWidgetHideCreateButtons",e.DiskWidgetFileClick="DiskWidgetFileClick",e.DiskWidgetCopyFileClick="DiskWidgetCopyFileClick",e.DiskWidgetSaveFileClick="DiskWidgetSaveFileClick",e.DiskWidgetCreateNewEntity="DiskWidgetCreateNewEntity",e.MailWidgetComposeClick="MailWidgetComposeClick",e.MailWidgetOpenUnread="MailWidgetOpenUnread",e.MemoriesWidgetContentClick="MemoriesWidgetContentClick",e.NotesWidgetShowAllClick="NotesWidgetShowAllClick",e.NotesWidgetHideExtraClick="NotesWidgetHideExtraClick",e.NotesWidgetCreateNewClick="NotesWidgetCreateNewClick",e.NotesWidgetNoteClick="NotesWidgetNoteClick",e.ServicesWidgetItemClick="ServicesWidgetItemClick",e.StoriesWidgetItemClick="StoriesWidgetItemClick",e.TelemostWidgetCreateMeetingClick="TelemostWidgetCreateMeetingClick"})(t.MetricEvents||(t.MetricEvents={}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpaceWidgetState=t.SpaceWidgetUserStatus=t.SpaceWidgetClickTarget=t.SpaceWidgetEvents=void 0,(function(e){e.SpaceWidgetShow="SpaceWidgetShow",e.SpaceWidgetStatus="SpaceWidgetStatus",e.SpaceWidgetClick="SpaceWidgetClick"})(t.SpaceWidgetEvents||(t.SpaceWidgetEvents={})),(function(e){e.Files="Files",e.Attaches="Attaches",e.Purchase="Purchase",e.Collapse="Collapse",e.Expand="Expand",e.Mini="Mini"})(t.SpaceWidgetClickTarget||(t.SpaceWidgetClickTarget={})),(function(e){e.Free="Free",e.Paid="Paid"})(t.SpaceWidgetUserStatus||(t.SpaceWidgetUserStatus={})),(function(e){e.Empty="Empty",e.AlmostFree="AlmostFree",e.Normal="Normal",e.AlmostFull="AlmostFull",e.Overdraft="Overdraft"})(t.SpaceWidgetState||(t.SpaceWidgetState={}))}),(function(e,t,n){"use strict";var r=n(32),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),d=n(5),f=n.n(d),h=n(7),p=n.n(h),m=n(1),v=n.n(m),g=n(0),y=n.n(g),b=n(178);function _(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var O=(function(e){f()(n,e);var t=_(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._setRef=r._setRef.bind(l()(r)),r._onTextChange=r._onTextChange.bind(l()(r)),r.state={text:r.props.text},r}return u()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.text&&this.props.text===e.text||this.setState({text:e.text})}},{key:"_onTextChange",value:function(e){var t=e.target.value;this.setState({text:t}),this.props.onChange(t)}},{key:"reset",value:function(){this.setState({text:null})}},{key:"_setRef",value:function(e){var t=this.props.controlRef;"function"==typeof t&&t(e)}},{key:"render",value:function(){return y.a.createElement(b.Textinput,i()({view:this.props.view||"normal"},this.props,{controlRef:this._setRef,onChange:this._onTextChange,value:this.state.text||""}))}}]),n})(g.Component);O.defaultProps={onChange:function(){}},t.a=O}),(function(e,t,n){"use strict";n.r(t);var r=n(34),i=n(14),o=n(18),a=n(9),s=n(22);function u(e,t,n){if("dir"===n.resource.type)return e(t,n)}ns.events.on("ufo-resource-create",a.wrap((function(e,t){var n=ns.Model.getValid("tree",{id:s.dirname(t.resource.id)});n&&n.insert(function(e){var t=ns.Model.get("tree",{id:e.id});return t.setData($.extend(!0,{resource:[]},e)),t.bindResource(),t}(t.resource),0)}),u)),ns.events.on("ufo-resource-destroy",a.wrap((function(e,t){var n=ns.Model.getValid("tree",{id:t.resource.id});n&&n.chainDestroy()}),u)),ns.Model.define("tree",{params:{id:null},split:{model_id:"tree",items:".resource",params:{id:".id"}},methods:{_init:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.super_._init.apply(this,t),a.bindAll(this,"chainDestroy","onResourceChanged"),this.bindResource(),this.off("ns-model-destroyed"),this.on("ns-model-destroyed",(function(e,t){!t||!t.model||t.data&&t.data.model||this.remove(t.model)}))},bindResource:function(){this.unbindResource(),this.unsubscribeUpdateResource=this.subscribeUpdateResource(this.params.id,{"meta.public":this.onResourceChanged,"state.hidden":this.onResourceChanged,"state.blocked":this.onResourceChanged,"state.part":this.onResourceChanged,"meta.group.gid":this.onResourceChanged,"meta.group.rights":this.onResourceChanged},(function(){}))},unbindResource:function(){this.unsubscribeUpdateResource&&this.unsubscribeUpdateResource()},preprocessData:function(e){if(!e||e.error||e.code)return(e=this.getData()||{resource:[]}).state={loaded:!0},e;e.resource||(e.resource=[]),a.each(e.resource.concat([e]),(function(e){return r.default.preprocess(e)}));var t=Object(o.getResourceData)(Object(i.default)().getState(),this.params.id,"state")||{};return e.state=a.extend({loading:!1,loaded:!a.isEmpty(e.resource),expanded:!!this.get(".state.expanded")},t),e},expand:function(){this.get(".state.loading")||(this.isLoaded()?this.set(".state.expanded",!0):(this.fetch().then(this.expand.bind(this)),this.set(".state.loading",!0)))},collapse:function(){this.get(".state.expanded")&&this.set(".state.expanded",!1),this.models.forEach((function(e){e.collapse()}))},toggle:function(){this.get(".state.expanded")?this.collapse():this.expand()},chainDestroy:function(){a.invokeMap(this.models.slice(),"chainDestroy"),ns.Model.destroy(this),this.unbindResource()},onResourceChanged:function(){if(this.isValid()){var e=this.getData(),t=Object(o.getResourceData)(Object(i.default)().getState(),this.params.id)||{},n=a.pick(e.state,"loading","loaded","expanded");a.extend(e,t),a.extend(n,t.state),e.state=n,this.setData(e)}},fetch:function(){var e=this;return ns.Model.get("queueRequest").push(this).then((function(){e.set(".state.loaded",!0)}))},isLoaded:function(){return!!this.get(".state.loaded")},isEmpty:function(){return 0===this.models.length}}})}),(function(e,t){e.exports=function(e){var t=!1;return{promise:new Promise(function(n,r){e.then((function(e){return t?r({isCanceled:!0}):n(e)}),(function(e){return r(t?{isCanceled:!0}:e)}))}),cancel:function(){t=!0}}}}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=n.n(i),a=n(28),s=n(82),u=(n(1630),Object(a.cn)("Text")),c=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.textElement=null,t}return Object(r.__extends)(t,e),t.getLineHeight=function(e){return parseFloat(getComputedStyle(e).lineHeight)},t.isFade=function(e){return"fade"===e||"fade-horizontal"===e},t.isEllipsis=function(e){return"ellipsis"===e},t.prototype.componentDidMount=function(){this.updateText()},t.prototype.componentWillUnmount=function(){this.textElement=null},t.prototype.componentDidUpdate=function(e){e.typography!==this.props.typography&&this.updateText()},t.prototype.updateText=function(){var e=this.textElement,n=this.props.overflow;e&&n&&t.isFade(n)&&Object(s.a)()&&this.forceUpdate()},t.prototype.getLineHeight=function(){if(this.textElement){var e=t.getLineHeight(this.textElement);if(!isNaN(e))return e}},t.prototype.setTextElement=function(e){this.textElement=e},t.prototype.render=function(){var e=this.props,n=e.as,i=void 0===n?"span":n,a=e.className,s=e.align,c=e.overflow,l=e.maxLines,d=void 0===l?1:l,f=e.style,h=void 0===f?{}:f,p=e.color,m=(e.typography,Object(r.__rest)(e,["as","className","align","overflow","maxLines","style","color","typography"]));if(c)if(t.isEllipsis(c))h.WebkitLineClamp=d;else if(t.isFade(c)&&(h.whiteSpace=1===d?"nowrap":void 0,d>1)){var v=this.getLineHeight();"number"==typeof v&&(h.maxHeight=d*v+"px")}return o.a.createElement(i,Object(r.__assign)({ref:this.setTextElement.bind(this),style:h,className:u({color:p,align:s,overflow:c},[a])},m))},t.displayName=u(),t})(i.PureComponent),l=(n(1631),n(6)),d=Object(l.withBemMod)(u(),{typography:"body-long-l"}),f=(n(1632),Object(l.withBemMod)(u(),{typography:"body-long-m"})),h=(n(1633),Object(l.withBemMod)(u(),{typography:"body-long-s"})),p=(n(1634),Object(l.withBemMod)(u(),{typography:"body-long-xl"})),m=(n(1635),Object(l.withBemMod)(u(),{typography:"body-short-l"})),v=(n(1636),Object(l.withBemMod)(u(),{typography:"body-short-m"})),g=(n(1637),Object(l.withBemMod)(u(),{typography:"body-short-s"})),y=(n(1638),Object(l.withBemMod)(u(),{typography:"body-short-xl"})),b=(n(1639),Object(l.withBemMod)(u(),{typography:"caption-l"})),_=(n(1640),Object(l.withBemMod)(u(),{typography:"caption-m"})),O=(n(1641),Object(l.withBemMod)(u(),{typography:"caption-xl"})),w=(n(1642),Object(l.withBemMod)(u(),{typography:"control-l"})),E=(n(1643),Object(l.withBemMod)(u(),{typography:"control-m"})),S=(n(1644),Object(l.withBemMod)(u(),{typography:"control-s"})),C=(n(1645),Object(l.withBemMod)(u(),{typography:"control-xl"})),x=(n(1646),Object(l.withBemMod)(u(),{typography:"control-xs"})),k=(n(1647),Object(l.withBemMod)(u(),{typography:"control-xxl"})),T=(n(1648),Object(l.withBemMod)(u(),{typography:"control-xxs"})),j=(n(1649),Object(l.withBemMod)(u(),{typography:"display-l"})),R=(n(1650),Object(l.withBemMod)(u(),{typography:"display-m"})),P=(n(1651),Object(l.withBemMod)(u(),{typography:"display-s"})),D=(n(1652),Object(l.withBemMod)(u(),{typography:"display-xl"})),I=(n(1653),Object(l.withBemMod)(u(),{typography:"headline-l"})),A=(n(1654),Object(l.withBemMod)(u(),{typography:"headline-m"})),M=(n(1655),Object(l.withBemMod)(u(),{typography:"headline-s"})),N=(n(1656),Object(l.withBemMod)(u(),{typography:"headline-xl"})),L=(n(1657),Object(l.withBemMod)(u(),{typography:"headline-xs"})),F=(n(1658),Object(l.withBemMod)(u(),{typography:"overline-l"})),B=(n(1659),Object(l.withBemMod)(u(),{typography:"overline-m"})),U=(n(1660),Object(l.withBemMod)(u(),{typography:"overline-s"})),z=(n(1661),Object(l.withBemMod)(u(),{typography:"subheader-l"})),V=(n(1662),Object(l.withBemMod)(u(),{typography:"subheader-m"})),H=(n(1663),Object(l.withBemMod)(u(),{typography:"subheader-s"})),W=(n(1664),Object(l.withBemMod)(u(),{typography:"subheader-xl"})),G=(n(1665),Object(l.withBemMod)(u(),{weight:"bold"},(function(e){return function(t){t.weight;var n=Object(r.__rest)(t,["weight"]);return o.a.createElement(e,Object(r.__assign)({},n))}}))),q=(n(1666),Object(l.withBemMod)(u(),{weight:"light"},(function(e){return function(t){t.weight;var n=Object(r.__rest)(t,["weight"]);return o.a.createElement(e,Object(r.__assign)({},n))}}))),$=(n(1667),Object(l.withBemMod)(u(),{weight:"medium"},(function(e){return function(t){t.weight;var n=Object(r.__rest)(t,["weight"]);return o.a.createElement(e,Object(r.__assign)({},n))}}))),Y=(n(1668),Object(l.withBemMod)(u(),{weight:"regular"},(function(e){return function(t){t.weight;var n=Object(r.__rest)(t,["weight"]);return o.a.createElement(e,Object(r.__assign)({},n))}})));n.d(t,"cnText",(function(){return u})),n.d(t,"Text",(function(){return c})),n.d(t,"withTypographyBodyLongL",(function(){return d})),n.d(t,"withTypographyBodyLongM",(function(){return f})),n.d(t,"withTypographyBodyLongS",(function(){return h})),n.d(t,"withTypographyBodyLongXL",(function(){return p})),n.d(t,"withTypographyBodyShortL",(function(){return m})),n.d(t,"withTypographyBodyShortM",(function(){return v})),n.d(t,"withTypographyBodyShortS",(function(){return g})),n.d(t,"withTypographyBodyShortXL",(function(){return y})),n.d(t,"withTypographyCaptionL",(function(){return b})),n.d(t,"withTypographyCaptionM",(function(){return _})),n.d(t,"withTypographyCaptionXL",(function(){return O})),n.d(t,"withTypographyControlL",(function(){return w})),n.d(t,"withTypographyControlM",(function(){return E})),n.d(t,"withTypographyControlS",(function(){return S})),n.d(t,"withTypographyControlXL",(function(){return C})),n.d(t,"withTypographyControlXS",(function(){return x})),n.d(t,"withTypographyControlXXL",(function(){return k})),n.d(t,"withTypographyControlXXS",(function(){return T})),n.d(t,"withTypographyDisplayL",(function(){return j})),n.d(t,"withTypographyDisplayM",(function(){return R})),n.d(t,"withTypographyDisplayS",(function(){return P})),n.d(t,"withTypographyDisplayXL",(function(){return D})),n.d(t,"withTypographyHeadlineL",(function(){return I})),n.d(t,"withTypographyHeadlineM",(function(){return A})),n.d(t,"withTypographyHeadlineS",(function(){return M})),n.d(t,"withTypographyHeadlineXL",(function(){return N})),n.d(t,"withTypographyHeadlineXS",(function(){return L})),n.d(t,"withTypographyOverlineL",(function(){return F})),n.d(t,"withTypographyOverlineM",(function(){return B})),n.d(t,"withTypographyOverlineS",(function(){return U})),n.d(t,"withTypographySubheaderL",(function(){return z})),n.d(t,"withTypographySubheaderM",(function(){return V})),n.d(t,"withTypographySubheaderS",(function(){return H})),n.d(t,"withTypographySubheaderXL",(function(){return W})),n.d(t,"withWeightBold",(function(){return G})),n.d(t,"withWeightLight",(function(){return q})),n.d(t,"withWeightMedium",(function(){return $})),n.d(t,"withWeightRegular",(function(){return Y}))}),(function(e,t,n){"use strict";n.r(t);n(278);var r=n(28),i=Object(r.cn)("Calendar"),o=n(2),a=n(0),s=n.n(a),u=n(65),c=n(205),l=n(52),d=n(58),f=n(44);function h(e,t){Object(f.a)(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.firstWeekContainsDate,o=null==i?1:Object(d.a)(i),a=null==n.firstWeekContainsDate?o:Object(d.a)(n.firstWeekContainsDate),s=(function(e,t){var n,r;Object(f.a)(1,arguments);var i=Object(l.a)(e),o=i.getFullYear(),a=null===t||void 0===t?void 0:null===(n=t.locale)||void 0===n?void 0:null===(r=n.options)||void 0===r?void 0:r.firstWeekContainsDate,s=null==a?1:Object(d.a)(a),u=null==(null===t||void 0===t?void 0:t.firstWeekContainsDate)?s:Object(d.a)(t.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=new Date(0);h.setFullYear(o+1,0,u),h.setHours(0,0,0,0);var p=Object(c.a)(h,t),m=new Date(0);m.setFullYear(o,0,u),m.setHours(0,0,0,0);var v=Object(c.a)(m,t);return i.getTime()>=p.getTime()?o+1:i.getTime()>=v.getTime()?o:o-1})(e,t),u=new Date(0);return u.setFullYear(s,0,a),u.setHours(0,0,0,0),Object(c.a)(u,t)}var p=6048e5;var m=n(1887),v=(n(1101),function(e){var t=e.innerRef,n=(e.state,e.className),r=e.children,a=(e.value,e.viewDate,e.today),u=e.weekend,c=e.outside,l=e.focused,d=e.disabled,f=e.hidden,h=e.selected,p=e.rangeSelected,m=e.rangePreview,v=e.rangePreviewStart,g=e.rangePreviewEnd,y=e.selectionStart,b=e.selectionEnd,_=Object(o.__rest)(e,["innerRef","state","className","children","value","viewDate","today","weekend","outside","focused","disabled","hidden","selected","rangeSelected","rangePreview","rangePreviewStart","rangePreviewEnd","selectionStart","selectionEnd"]);return s.a.createElement("span",Object(o.__assign)({ref:t,className:i("DateButton",{today:a,weekend:u,outside:c,focused:l,disabled:d,hidden:f,selected:h,rangeSelected:p,rangePreview:m,rangePreviewStart:v,rangePreviewEnd:g,selectionStart:y,selectionEnd:b},[n])},_),r)}),g=(n(1100),Object(a.forwardRef)((function(e,t){var n=e.className,r=e.children,a=Object(o.__rest)(e,["className","children"]);return s.a.createElement("span",Object(o.__assign)({ref:t,className:i("GridCell",null,[n])},a),r)}))),y={day:{day:"numeric"},month:{month:"short"},year:{year:"numeric"}},b=function(e){var t=e.showOutsideDays,n=e.state,r=e.value,i=e.viewDate,c=e.renderCell,l=n.activeView,d=Object(a.useRef)(null),f=Object(u.useDateFormatter)(y[l]),h=Object(m.c)(v,c),p=Object(u.useCalendarCell)(e,n,d),b=p.cellState,_=p.cellProps,O=p.buttonProps,w=b.isFocused,E=b.isSelected,S=b.isToday,C=b.isWeekend,x=b.isSameView,k=b.isDisabled,T=b.isRangeSelected,j=b.isRangePreview,R=b.isSelectionStart,P=b.isSelectionEnd,D=b.isRangePreviewStart,I=b.isRangePreviewEnd,A=f.format(r);return s.a.createElement(g,Object(o.__assign)({className:"Calendar-DateCell"},_),s.a.createElement(h,Object(o.__assign)({innerRef:d},O,{state:n,value:r,viewDate:i,today:S&&"day"===n.activeView,weekend:C,outside:!x,focused:n.isCalendarFocused&&w,disabled:k,hidden:!t&&!x,selected:E,rangeSelected:T,rangePreview:j,rangePreviewStart:D,rangePreviewEnd:I,selectionStart:R,selectionEnd:P}),s.a.createElement("span",{className:"Calendar-Date"},A)))},_=n(1884),O=(n(1097),Object(a.forwardRef)((function(e,t){var n=e.className,r=e.children,a=Object(o.__rest)(e,["className","children"]);return s.a.createElement("div",Object(o.__assign)({ref:t,className:i("Grid",null,[n])},a),r)}))),w=(n(1098),Object(a.forwardRef)((function(e,t){var n=e.type,r=e.className,a=e.children,u=Object(o.__rest)(e,["type","className","children"]);return s.a.createElement("div",Object(o.__assign)({ref:t,className:i("GridSection",{type:n},[r])},u),a)}))),E=(n(1099),Object(a.forwardRef)((function(e,t){var n=e.className,r=e.children,a=Object(o.__rest)(e,["className","children"]);return s.a.createElement("div",Object(o.__assign)({ref:t,className:i("GridRow",null,[n])},a),r)}))),S={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:1,whiteSpace:"nowrap"},C=function(e){var t=e.showWeekNumbers,n=e.daysOfWeek,r=Object(u.useDateFormatter)({weekday:"short"}),o=Object(u.useDateFormatter)({weekday:"long"});return s.a.createElement(O,{className:i("DaysOfWeek")},t&&s.a.createElement(w,{type:"aside"},s.a.createElement(E,null,s.a.createElement(g,null))),s.a.createElement(w,{type:"body"},s.a.createElement(E,null,n.map((function(e,t){return s.a.createElement(g,{key:t},s.a.createElement("span",{style:S},o.format(e)),s.a.createElement("span",{className:i("DayOfWeek",{weekend:Object(_.a)(e)}),"aria-hidden":!0},r.format(e)))})))))},x=Object(a.forwardRef)((function(e,t){var n=e.className,r=e.size,i=void 0===r?24:r,a=Object(o.__rest)(e,["className","size"]);return s.a.createElement("svg",Object(o.__assign)({width:i,height:i,viewBox:"0 0 24 24",fill:"none"},a,{focusable:"false","aria-hidden":"true",className:"SvgIcon"+(n?" "+n:""),ref:t}),s.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.407 13.058a1.495 1.495 0 0 1 0-2.116L8.04 5.3c.39-.39 1.03-.39 1.42 0 .39.39.39 1.02 0 1.41L6.744 9.427a9.992 9.992 0 0 1-1.768 1.406l-.342.214.208.207A10 10 0 0 1 7.082 11h13.92a1 1 0 1 1 0 2H7.083a10 10 0 0 1-2.24-.254l-.208.207.342.214c.641.4 1.233.872 1.768 1.406L9.46 17.29c.39.39.39 1.02 0 1.41-.39.39-1.03.39-1.42 0l-5.633-5.642z",fill:"currentColor"}))})),k=Object(a.forwardRef)((function(e,t){var n=e.className,r=e.size,i=void 0===r?24:r,a=Object(o.__rest)(e,["className","size"]);return s.a.createElement("svg",Object(o.__assign)({width:i,height:i,viewBox:"0 0 24 24",fill:"none"},a,{focusable:"false","aria-hidden":"true",className:"SvgIcon"+(n?" "+n:""),ref:t}),s.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.596 13.058a1.495 1.495 0 0 0 0-2.116A39833.83 39833.83 0 0 0 15.963 5.3c-.39-.39-1.03-.39-1.42 0a.996.996 0 0 0 0 1.41l2.716 2.717a9.994 9.994 0 0 0 1.768 1.406l.342.214-.208.207a10 10 0 0 0-2.24-.254H3a1 1 0 1 0 0 2h13.922a10 10 0 0 0 2.24-.254l.207.207-.342.214c-.641.4-1.233.872-1.768 1.406l-2.716 2.717a.996.996 0 0 0 0 1.41c.39.39 1.03.39 1.42 0l5.633-5.642z",fill:"currentColor"}))})),T=(n(1096),function(e){var t,n=e.state,r=e.viewRange,o=e.prevHidden,c=e.nextHidden,l=n.activeView,d=n.baseDate,f=n.moveView,h=n.setView,p=n.moveDate,m=n.canNavigateTo,v=n.navigateTo,g=(function(e){return e[0].toUpperCase()+e.slice(1)})(Object(u.useDateFormatter)({month:"long"}).format(r.start)),y=r.start.getFullYear(),b=r.end.getFullYear(),_=p(d,u.CalendarNavigationAction.PrevView),O=p(d,u.CalendarNavigationAction.NextView),w=!m(_),E=!m(O),S=Object(a.useCallback)((function(){w||v(_)}),[_,v,w]),C=Object(a.useCallback)((function(){E||v(O)}),[O,v,E]),T=f(l,1),j=T===l,R=Object(a.useCallback)((function(){h(T)}),[T,h]);t="day"===l?g+" "+y:"month"===l?y:y+" – "+b;var P=n.views.length>1?1:0;return s.a.createElement("div",{className:i("Navigation")},s.a.createElement("button",{className:i("NavigationAction",{disabled:w,hidden:o}),tabIndex:P,onClick:S,disabled:w},s.a.createElement(x,null)),s.a.createElement("div",{className:i("NavigationTitle")},s.a.createElement("button",{className:i("NavigationTitleButton",{disabled:j}),tabIndex:P,onClick:R,disabled:j},t)),s.a.createElement("button",{className:i("NavigationAction",{disabled:E,hidden:c}),tabIndex:P,onClick:C,disabled:E},s.a.createElement(k,null)))});n(1095);var j=function(e){var t=e.showDaysOfWeek,n=void 0===t||t,r=e.showOutsideDays,d=e.showWeekNumbers,m=e.showQuarters,v=e.viewDate,y=e.viewRange,_=e.data,S=e.state,x=e.index,k=e.viewsCount,j=void 0===k?1:k,P=e.renderCell,D=S.activeView,I=Object(u.useCalendar)(e,S).gridProps,A=Object(u.useFirstDayOfWeek)(),M=Object(a.useMemo)((function(){return (function(e,t,n){if("month"===e)return R;if("day"===e)return t.map((function(e){return (function(e,t){Object(f.a)(1,arguments);var n=Object(l.a)(e),r=Object(c.a)(n,t).getTime()-h(n,t).getTime();return Math.round(r/p)+1})(e[0],{weekStartsOn:n})}));return[]})(D,_,A)}),[D,_,A]),N="day"===D&&d||"month"===D&&m;return s.a.createElement("div",{className:i("View",{type:D})},s.a.createElement("div",{className:i("Header")},s.a.createElement(T,{state:S,viewRange:y,prevHidden:x>0,nextHidden:x<j-1}),n&&"day"===D&&s.a.createElement(C,{showWeekNumbers:d,daysOfWeek:_[0]})),s.a.createElement("div",{className:i("Body")},s.a.createElement(O,Object(o.__assign)({},I),N&&s.a.createElement(w,{type:"aside"},M.map((function(e,t){return s.a.createElement(E,{key:t},s.a.createElement(g,null,e))}))),s.a.createElement(w,{type:"body"},_.map((function(e,t){return s.a.createElement(E,{key:t,role:"row"},e.map((function(e,n){return s.a.createElement(b,{key:t+"-"+n,state:S,value:e,viewDate:v,showOutsideDays:r,renderCell:P})})))}))))))};var R=["Q1","Q2","Q3","Q4"];n(1094);var P=function(e){var t=e.state,n=e.className,r=Object(o.__rest)(e,["state","className"]),a=t.views;return s.a.createElement("div",{className:i(null,[n])},a.map((function(e,n){return s.a.createElement(j,Object(o.__assign)({key:n},e,r,{index:n,state:t}))})))},D=function(e){var t=Object(u.useSingleCalendarState)(e);return s.a.createElement(P,Object(o.__assign)({},e,{state:t}))},I=function(e){var t=Object(u.useMultipleCalendarState)(e);return s.a.createElement(P,Object(o.__assign)({},e,{state:t}))},A=function(e){var t=Object(u.useRangeCalendarState)(e);return s.a.createElement(P,Object(o.__assign)({},e,{state:t}))},M=n(6),N=(n(1102),Object(M.createClassNameModifier)("Calendar",{size:"s"})),L=(n(1103),Object(M.createClassNameModifier)("Calendar",{size:"m"})),F=(n(1104),Object(M.createClassNameModifier)("Calendar",{size:"l"})),B=(n(1105),Object(M.createClassNameModifier)("Calendar",{view:"default"})),U=(n(1106),Object(M.createClassNameModifier)("Calendar",{view:"brand"}));n.d(t,"cnCalendar",(function(){return i})),n.d(t,"Calendar",(function(){return D})),n.d(t,"MultipleCalendar",(function(){return I})),n.d(t,"RangeCalendar",(function(){return A})),n.d(t,"withSizeS",(function(){return N})),n.d(t,"withSizeM",(function(){return L})),n.d(t,"withSizeL",(function(){return F})),n.d(t,"withViewDefault",(function(){return B})),n.d(t,"withViewBrand",(function(){return U}))}),(function(e,t,n){"use strict";n.r(t);var r=n(40),i=n(6),o=n(236),a=n(229),s=n(230),u=n(406),c=n(0),l=n.n(c),d=n(28),f=(n(1e3),function(e){var t=e.closeText,n=void 0===t?"Закрыть":t,r=e.onClick;return l.a.createElement("button",{className:b("Close"),onClick:r,type:"button","aria-label":n},l.a.createElement("svg",{viewBox:"0 0 16 16"},l.a.createElement("path",{fill:"currentColor",d:"M8 0a8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8 8 8 0 0 0-8-8zM4.995 3.934L8 6.94l3.005-3.005 1.06 1.061L9.06 8l3.006 3.005-1.061 1.06L8 9.062l-3.005 3.005-1.06-1.061L6.938 8 3.934 4.995l1.06-1.06z"})))}),h=(n(1001),function(e){var t=e.children;return l.a.createElement("div",{className:b("Buttons")},t)}),p=(n(999),function(e){var t=e.innerRef,n=e.tailType;return l.a.createElement("div",{ref:t,className:b("Tail")},"default"===n?l.a.createElement("svg",{viewBox:"0 0 20 20"},l.a.createElement("path",{fill:"currentColor",d:"M20 20H0c5 0 7.949-3.872 10-9 2.051 5.128 5 9 10 9z"})):l.a.createElement("svg",{viewBox:"0 0 24 24"},l.a.createElement("path",{fill:"currentColor",d:"M12 16c3 0 6 8 12 8H0c6 0 9-8 12-8z"})))}),m=(n(996),n(2)),v=(n(997),{"bottom-left":function(e,t){return{left:-Math.floor(e/3),bottom:-Math.floor(t/3)}},"bottom-right":function(e,t){return{right:-Math.floor(e/3),bottom:-Math.floor(t/3)}},"top-left":function(e,t){return{left:-Math.floor(e/3),top:-Math.floor(t/3)}},"top-right":function(e,t){return{right:-Math.floor(e/3),top:-Math.floor(t/3)}}}),g=function(e){var t=e.children,n=e.side,r=e.width,i=e.height;i||(i=r);var o=Object(m.__assign)({width:r,height:i},v[n](r,i));return l.a.createElement("span",{className:b("Corner"),style:o},t)},y=(n(998),function(e){var t=e.className,n=e.align,r=void 0===n?"left":n,i=e.children,o=e.leading,a=e.trailing;return l.a.createElement("div",{className:b("TextWrap",{align:r},[t])},o&&l.a.createElement("div",{className:b("TextLeft")},o),i&&l.a.createElement("div",{className:b("Text")},i),a&&l.a.createElement("div",{className:b("TextRight")},a))}),b=Object(d.cn)("MessageBox"),_=function(e){var t=e.actions,n=e.background,r=e.children,i=e.className,o=e.corner,a=e.hasTail,s=e.innerRef,u=e.layout,c=void 0===u?"plain":u,d=e.onClose,m=e.hasClose,v=void 0===m?Boolean(d):m,g=e.opaque,y=e.tailRef,_=e.tailType,O=void 0===_?"default":_;return l.a.createElement("div",{className:b({opaque:g,layout:c,hasClose:d&&v},[i]),ref:s},l.a.createElement("div",{className:b("Backdrop")},a&&l.a.createElement(p,{innerRef:y,tailType:O}),n&&l.a.createElement("div",{className:b("Background")},n)),l.a.createElement("div",{className:b("Content")},r,d&&v&&l.a.createElement(f,{onClick:d})),t&&l.a.createElement(h,null,t),o)};_.displayName="MessageBox";var O=Object(i.compose)(a.a,s.a,u.a)(o.a),w=new r.Registry({id:b()});w.set("Popup",O);var E=Object(r.withRegistry)(w)((function(e){var t=e.anchor,n=e.boundary,i=e.direction,o=e.mainOffset,a=e.modifiers,s=e.motionless,u=e.onClick,c=e.onClose,d=e.scope,f=e.secondaryOffset,h=e.tailOffset,p=e.viewportOffset,v=e.visible,g=e.zIndex,y=Object(m.__rest)(e,["anchor","boundary","direction","mainOffset","modifiers","motionless","onClick","onClose","scope","secondaryOffset","tailOffset","viewportOffset","visible","zIndex"]),O=Object(r.useComponentRegistry)(b()).Popup;return l.a.createElement(O,{anchor:t,boundary:n,direction:i,mainOffset:o,modifiers:a,motionless:s,nonvisual:!0,onClick:u,onClose:c,scope:d,secondaryOffset:f,tailOffset:h,target:"anchor",view:"default",viewportOffset:p,visible:v,zIndex:g},(function(e){var t=e.tailRef;return l.a.createElement(_,Object(m.__assign)({},y,{tailRef:t,onClose:c}))}))})),S=(n(1006),Object(i.withBemMod)(b(),{size:"l"})),C=(n(1007),Object(i.withBemMod)(b(),{size:"m"})),x=(n(1008),Object(i.withBemMod)(b(),{size:"s"})),k=(n(1009),Object(i.withBemMod)(b(),{view:"default"})),T=(n(1010),Object(i.withBemMod)(b(),{view:"inverse"})),j=(n(1011),Object(i.withBemMod)(b(),{view:"promo"}));n.d(t,"MessageBoxPopup",(function(){return E})),n.d(t,"Corner",(function(){return g})),n.d(t,"Wrapper",(function(){return y})),n.d(t,"cnMessageBox",(function(){return b})),n.d(t,"MessageBox",(function(){return _})),n.d(t,"withSizeL",(function(){return S})),n.d(t,"withSizeM",(function(){return C})),n.d(t,"withSizeS",(function(){return x})),n.d(t,"withViewDefault",(function(){return k})),n.d(t,"withViewInverse",(function(){return T})),n.d(t,"withViewPromo",(function(){return j}))}),(function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(5),l=n.n(c),d=n(7),f=n.n(d),h=n(1),p=n.n(h),m=n(0),v=n.n(m),g=n(19),y=n(41),b=n(17),_=n(25),O=n(123),w=n(246),E=n(15);function S(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var C=(function(e){l()(n,e);var t=S(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return v.a.createElement("path",{fill:"currentColor",d:"M7.094 18.32A8 8 0 0 0 18.32 7.094L7.094 18.32zM5.68 16.906L16.906 5.68A8 8 0 0 0 5.68 16.906zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z"})}}]),n})(E.default),x=Object(E.iconProvider)(C),k=n(68),T=n(139),j=n(12);function R(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var P=(function(e){l()(n,e);var t=R(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onHideButtonClick=r._onHideButtonClick.bind(u()(r)),r._onButtonClick=r._onButtonClick.bind(u()(r)),r}return a()(n,[{key:"_onButtonClick",value:function(e){var t=this.props,n=t.opened,r=t.openUploader,i=t.onCancelAllUploads;"cancel_all_uploads"===e&&(n||(j.default.count("actions","uploading","cancel all uploads"),r()),i())}},{key:"_onHideButtonClick",value:function(){j.default.count("actions","uploading","close uploader"),this.props.hideUploader()}},{key:"render",value:function(){var e=this.props,t=e.uploadingStatus,n=e.opened,r=e.isMobile,i=e.isIosSafari,o=e.hasCancelableUploads,a=[];return a.push(v.a.createElement("div",{key:"state-label",className:F().e("opened-state-label")},n?"Свернуть":"Развернуть")),t===b.UPLOAD_STATUSES.DONE?a.push(v.a.createElement(_.Button,{key:"hide",view:"clear-inverse",size:"m","aria-label":"Закрыть",onClick:this._onHideButtonClick,className:F().e("close-button"),icon:O.close3IconProvider})):a.push(v.a.createElement(w.a,{key:"groupable-buttons-uploader",view:"clear-inverse",buttons:[{id:"cancel_all_uploads",text:"Отменить загрузки",icon:x,hidden:!0,disabled:!o}],isIosSafari:i,isMobile:r,useMobilePane:r,moreButtonsText:"Ещё",moreButtonsPopupDirections:[n?"bottom-end":"top-end"],moreButtonsHoverTooltipText:[n?"bottom":"top"],onButtonClick:this._onButtonClick,popupScope:this.props.popupScope})),v.a.createElement("div",{className:F().e("controls")},a)}}]),n})(m.Component),D=Object(g.connect)((function(e){var t=e.environment.agent,n=t.isMobile,r=t.OSFamily,i=t.BrowserBase,o=e.uploader;return{opened:o.opened,uploadingStatus:o.uploadingStatus,hasCancelableUploads:Object(T.c)(e),isMobile:n,isIosSafari:"iOS"===r&&"Safari"===i}}),{hideUploader:k.h,openUploader:k.j})(P),I=n(11),A=n.n(I);n(1393);function M(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var N,L,F=function(){return A()()("uploader-progress")},B=(function(e){l()(n,e);var t=M(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onProgressClick=r._onProgressClick.bind(u()(r)),r._uploadProgressIsIncreasing=!0,r}return a()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._uploadProgressIsIncreasing=e.uploadingPercentage>this.props.uploadingPercentage}},{key:"_formatPercentage",value:function(e){var t=e.toFixed(1);return 100!==e&&0!==e||(t=String(e)),t.replace(".",",")}},{key:"_getUploadingPrimaryInfo",value:function(){var e,t=this.props,n=t.uploadingStatus,r=t.uploadingPercentage;switch(n){case b.UPLOAD_STATUSES.ERROR:e="Загрузка остановлена";break;case b.UPLOAD_STATUSES.UPLOADING:e="Загрузка "+yr.externals.entityify(this._formatPercentage(r))+"%";break;case b.UPLOAD_STATUSES.DONE:e="Все файлы загружены"}return v.a.createElement("h3",{className:F().e("progress-primary")},e)}},{key:"_getUploadingSecondaryInfo",value:function(){var e,t=this.props,n=t.uploadingTimeRemaining,r=t.uploadingPercentage,i=t.uploadingStatus;return i===b.UPLOAD_STATUSES.ERROR?e="Загрузка "+yr.externals.entityify(this._formatPercentage(r))+"%":i===b.UPLOAD_STATUSES.UPLOADING&&n&&(e="Осталось "+yr.externals.entityify(n)),e?v.a.createElement("span",{className:F().e("progress-secondary")},e):null}},{key:"_onProgressClick",value:function(e){var t=e.target;t.closest(".Button2")||t.closest(".Popup2")||t.closest(".modal")||(this.props.opened?(j.default.count("actions","uploading","hide upload dialog"),this.props.closeUploader()):(j.default.count("actions","uploading","reopen upload dialog"),this.props.openUploader()))}},{key:"render",value:function(){var e=this.props,t=e.uploadingPercentage,n=e.uploadingStatus;return v.a.createElement("div",{className:F(),onClick:this._onProgressClick},v.a.createElement("div",{className:F().e("progress-bar").m({error:n===b.UPLOAD_STATUSES.ERROR,"with-animation":this._uploadProgressIsIncreasing}),style:{width:t+"%"}}),v.a.createElement("div",{className:F().e("progress-info")},this._getUploadingPrimaryInfo(),this._getUploadingSecondaryInfo()),v.a.createElement(D,{onCancelAllUploads:this.props.onCancelAllUploads,popupScope:this.props.popupScope}))}}]),n})(m.Component),U=Object(g.connect)((function(e){var t=e.uploader,n=t.opened,r=t.uploadingStatus,i=Object(T.a)(e);return{uploadingTimeRemaining:i.uploadingTimeRemaining,uploadingPercentage:i.uploadingPercentage,uploadingStatus:r,opened:n}}),{openUploader:k.j,closeUploader:k.c})(B),z=n(32),V=n.n(z),H=n(226),W=n(143),G=n(10),q=n.n(G),$=n(126),Y=function(){return A()()("upload-item-state")},K=Object(g.connect)((function(e,t){var n=t.resourceId,r=e.uploader.uploadingStatesByIds[n];return{total:r.total,loaded:r.loaded}}),{})((function(e){var t=e.loaded,n=e.total,r=n?t/n*100:0;return v.a.createElement("div",{className:Y().m({uploading:!0})},v.a.createElement("div",{className:Y().e("progress-bar"),style:{width:"".concat(r,"%")}}))}));n(1409);function X(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var Z=function(){return A()()("upload-item-state")},J=(N={},q()(N,b.UPLOAD_ERRORS.INSUFFICIENT_STORAGE,"Недостаточно места"),q()(N,b.UPLOAD_ERRORS.OWNER_INSUFFICIENT_STORAGE,"В общей папке нет места"),q()(N,b.UPLOAD_ERRORS.UNKNOWN,"Не удалось загрузить"),q()(N,b.UPLOAD_ERRORS.LOCKED,"Не удалось загрузить"),q()(N,b.UPLOAD_ERRORS.FOLDER_NOT_CREATED,"Не удалось загрузить"),q()(N,b.UPLOAD_ERRORS.SUBRESOURCE,"Не удалось загрузить"),q()(N,b.UPLOAD_ERRORS.FILE_TOO_BIG,"Нельзя загрузить файл больше 50 ГБ\n на Яндекс Диск"),q()(N,b.UPLOAD_ERRORS.FOLDER_UPLOAD_INCOMPLETE,"Загружено не всё"),N),Q=(L={},q()(L,b.UPLOAD_STATUSES.ENQUEUED,(function(){return v.a.createElement("span",{className:Z().m({enqueued:!0})},"В очереди")})),q()(L,b.UPLOAD_STATUSES.UPLOADING,(function(e){var t=e.resourceId;return v.a.createElement(K,{resourceId:t})})),q()(L,b.UPLOAD_STATUSES.ERROR,(function(e){var t=e.error,n=e.limitUploadSize;return v.a.createElement("span",{className:Z().m({error:!0})},t===b.UPLOAD_ERRORS.FILE_SIZE_OVER_LIMIT?"Нельзя загрузить файл больше "+yr.externals.entityify(n)+"\n без Яндекс 360 Премиум":J[t])})),q()(L,b.UPLOAD_STATUSES.CONFLICT,(function(){return v.a.createElement("span",{className:Z().m({error:!0})},"Уже есть в папке")})),L),ee=(function(e){l()(n,e);var t=X(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._cancelUpload=r._cancelUpload.bind(u()(r)),r._onRetryButtonClick=r._onRetryButtonClick.bind(u()(r)),r}return a()(n,[{key:"_cancelUpload",value:function(){j.default.count("actions","uploading","cancel upload",this.props.resourceType),this.props.cancelUpload(this.props.resourceId)}},{key:"_onRetryButtonClick",value:function(){j.default.count("actions","uploading","retry upload",this.props.resourceType),this.props.retryUploadOnError(this.props.resourceId)}},{key:"_maybeRenderHoverButton",value:function(){var e=this.props,t=e.error,n=e.helpLink,r=Z().e("hover-button");return t===b.UPLOAD_ERRORS.FOLDER_UPLOAD_INCOMPLETE?v.a.createElement(_.Button,{view:"raised",size:"s",className:r,type:"link",target:"_blank",url:n},"Подробнее"):Object(b.canRetryUpload)(t)?v.a.createElement(_.Button,{view:"raised",size:"s",className:r,onClick:this._onRetryButtonClick},"Повторить"):null}},{key:"render",value:function(){var e=this.props,t=e.status,n=e.renderKey,r=e.resourceId,i=e.error,o=e.limitUploadSize;return Q[n]?v.a.createElement("div",{className:Z().e("wrapper")},Q[n]({resourceId:r,error:i,limitUploadSize:o}),n!==b.UPLOAD_STATUSES.ERROR?null:this._maybeRenderHoverButton(),v.a.createElement(_.Button,{view:"clear",className:Z().e("cancel-upload-button").m({hidden:!Object(b.canCancelUpload)(t)}),"aria-label":"Закрыть",onClick:this._cancelUpload,icon:function(e){return v.a.createElement($.default,{iconSize:"m",cls:e})}})):null}}]),n})(m.PureComponent),te=n(235),ne=n(120),re=n.n(ne),ie=n(150),oe=n(16),ae=n(33),se=n(43),ue=n(20),ce=n(29);function le(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var de=function(){return A()()("upload-listing-item")},fe=(function(e){l()(n,e);var t=le(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onOpen=r._onOpen.bind(u()(r)),r._onContextMenu=r._onContextMenu.bind(u()(r)),r._onPublish=r._onPublish.bind(u()(r)),r._setTitleNodeRef=r._setTitleNodeRef.bind(u()(r)),r.state={titleWidth:r.props.titleWidth},r}return a()(n,[{key:"_setTitleNodeRef",value:function(e){this._titleNode=e,this.props.titleNodeRef&&this.props.titleNodeRef(e)}},{key:"componentDidUpdate",value:function(e){this.props.status===e.status&&this.props.titleWidth===e.titleWidth||this._updateTitleWidth()}},{key:"_updateTitleWidth",value:function(){if(this._titleNode){var e=this._titleNode.getBoundingClientRect().width;e!==this.state.titleWidth&&this.setState({titleWidth:e})}}},{key:"_onPublish",value:function(){j.default.count("actions","with resources","public links","publish","upload dialog",this.props.type)}},{key:"_getSizeText",value:function(){var e=this.props,t=e.resourceSize,n=e.type,r=e.files,i=e.total,o=e.status;return"dir"===n?[b.UPLOAD_STATUSES.ENQUEUED,b.UPLOAD_STATUSES.CREATING_FOLDER].includes(o)?"Размер считается":__i18n__.i18n.convert(["1 файл",yr.externals.entityify(r)+" файл",yr.externals.entityify(r)+" файла",yr.externals.entityify(r)+" файлов"],yr.externals.entityify(r))+" • "+re.a.formatSpace(i):re.a.formatSpace(t)}},{key:"_getUploadingItemState",value:function(){var e=this.props,t=e.id,n=e.status,r=e.error,i=e.limitUploadSize,o=e.type,a=e.helpLink,s=e.cancelUpload,u=e.retryUploadOnError,c=Object(b.isUploadInProgress)(n)?b.UPLOAD_STATUSES.UPLOADING:n;return v.a.createElement(ee,{renderKey:c,resourceId:t,status:n,error:r,limitUploadSize:re.a.formatSpace(i),helpLink:a,cancelUpload:s,retryUploadOnError:u,resourceType:o})}},{key:"_getPublishDropdown",value:function(){var e=this.props.id;return v.a.createElement(te.a,{buttonProps:{className:de().e("publish-button-with-text"),view:"raised",size:"s"},onlyIconButtonProps:{className:"hidden",view:"raised",size:"s"},metrikaContext:["uploading"],onPublish:this._onPublish,noIcon:!0,objectIds:[e],checkButton:!1})}},{key:"_getAdditionalFields",value:function(){var e=this.props,t=e.status,n=e.canPublish,r=Object(b.isUploadInProgress)(t)?b.UPLOAD_STATUSES.UPLOADING:t,i=[],o=t===b.UPLOAD_STATUSES.DONE&&n;return i.push({type:"size",content:this._getSizeText()}),o?i.push({type:"publish-button",position:W.POSITIONS.ALWAYS_RIGHT,content:this._getPublishDropdown()}):Q[r]&&i.push({type:"state",position:W.POSITIONS.ALWAYS_RIGHT,content:this._getUploadingItemState()}),i}},{key:"_onOpen",value:function(){var e=this.props,t=e.status,n=e.disabled,r=e.part,i=e.highlightedIds,o=e.type,a=e.isDocsPage;t!==b.UPLOAD_STATUSES.DONE||i.length||r||n||(j.default.count("actions","uploading","go to",o),a&&j.default.countDocs("open doc","from uploader"),this.props.closeUploader(),this.props.isDocsPage?this.props.openOrEditResource(this.props.id):this.props.goToResource(this.props.id))}},{key:"_onContextMenu",value:function(e,t){if(t.target.closest(".".concat(ce.PREVENT_CUSTOM_CONTEXT_MENU_CLASS,", .Popup2, .Modal")))return{noPreventDefault:!0};this.props.status===b.UPLOAD_STATUSES.DONE&&this.props.onContextMenu(e,t)}},{key:"render",value:function(){var e=this.props,t=e.status,n=e.error,r={cls:de().m({uploaded:t===b.UPLOAD_STATUSES.DONE,uploading:Object(b.isUploadInProgress)(t),error:t===b.UPLOAD_STATUSES.ERROR,"has-hover-button":(function(e){var t=e.error;return e.status===b.UPLOAD_STATUSES.ERROR&&(Object(b.canRetryUpload)(t)||t===b.UPLOAD_ERRORS.FOLDER_UPLOAD_INCOMPLETE)})({status:t,error:n})}),onOpen:this._onOpen,additionalFields:this._getAdditionalFields(),titleNodeRef:this._setTitleNodeRef,titleWidth:this.state.titleWidth};return r.onContextMenu=this._onContextMenu,v.a.createElement(W.default,V()({},this.props,r))}}]),n})(m.Component),he=Object(g.connect)((function(e,t){var n=t.id,r=e.resources,i=e.uploader,o=i.highlighted,a=i.uploadingStatesByIds,s=e.config.links.help.uploader,u=r[n],c=u.name,l=u.type,d=u.meta,f=u.defaultPreview,h=u.iconType,p=u.canPlayVideo,m=u.state,v=(m=void 0===m?{}:m).part,g=m.disabled,y=a[n],_=y.status,O=y.files,w=y.total,E=y.error;return{name:c,meta:d,defaultPreview:_===b.UPLOAD_STATUSES.DONE?f:void 0,iconType:h,canPlayVideo:p,state:u.state,type:l,resourceSize:d&&d.size,limitUploadSize:Object(se.getLimitUploadSize)(e),status:_,files:O,total:w,error:E,part:v,disabled:g,highlightedIds:o,helpLink:s,isDocsPage:Object(ae.isDocsPage)(e),canPublish:Object(ue.can)(ue.PUBLISH,u,e)}}),{cancelUpload:k.b,retryUploadOnError:ie.j,closeUploader:k.c,goToResource:oe.goToResource,openOrEditResource:oe.openOrEditResource})(fe);n(1410);function pe(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var me,ve=function(){return A()()("upload-listing")},ge=(function(e){l()(n,e);var t=pe(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onResourceContextMenu=r._onResourceContextMenu.bind(u()(r)),r}return a()(n,[{key:"_onResourceContextMenu",value:function(e,t){this.props.onContextMenu([e],t,[e])}},{key:"_renderItem",value:function(e){return v.a.createElement(he,V()({key:e.id},e))}},{key:"render",value:function(){var e=this.props,t=e.OSFamily,n=e.resources,r=e.highlighted,i=e.onContextMenu;return v.a.createElement(H.Listing,{cls:ve().mix(y.LISTING_PREVENT_DOUBLE_CLICK),isTouch:!1,OSFamily:t,titleOverflow:"clamp",isSelectable:!1,isMultiSelectable:!1,useRealDevicePixelRatio:!0,resources:n,onContextMenu:i,onResourceContextMenu:this._onResourceContextMenu,highlightedResources:r,openOnSingleClick:!0,ignoreClicksSelector:".Button2, .Popup2, .Modal, .Drawer",supportDoubleClick:!1,renderItem:this._renderItem})}}]),n})(m.Component);me=(0,n(517).default)(ge,{closeOnScrollElementSelector:".".concat(ve().toString()),closeOnWindowResize:!0,closeOnWindowScroll:!0,direction:["top-start","top-end"]});var ye=[],be=function(){},_e=Object(g.connect)((function(e){var t=e.uploader.highlighted;return{OSFamily:e.environment.agent.OSFamily,highlighted:t,resources:Object(T.b)(e),selected:ye,setSelection:be,metrikaTail:["uploader"]}}),{setHighlighted:k.k})(me);n(1412);function Oe(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var we=function(){return A()()("upload-confirmation")},Ee=(function(e){l()(n,e);var t=Oe(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getContent",value:function(){return v.a.createElement("div",{className:we()},v.a.createElement("span",{className:we().e("title")},"Отменить все текущие загрузки?"),v.a.createElement("span",{className:we().e("text")},"Уже загруженные файлы останутся на Диске."),v.a.createElement("div",{className:we().e("button-group")},v.a.createElement(_.Button,{view:"raised",size:"m",onClick:this.props.onConfirm},"Отменить"),v.a.createElement(_.Button,{view:"raised",size:"m",onClick:this.props.onCancel},"Не отменять")))}},{key:"render",value:function(){return this._getContent()}}]),n})(m.Component),Se=n(60);n(1413);function Ce(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var xe=(function(e){l()(n,e);var t=Ce(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"render",value:function(){var e=this.props,t=e.locale,n=e.os,r=e.link,i=e.onClick,o=e.ariaLabel,a=A()()("mobile-app-badge").m(q()({locale:t},n,!0));return r?v.a.createElement(Se.Link,{className:a,target:"_blank",theme:"normal",href:r,"aria-label":o,onClick:i}):v.a.createElement("span",{className:a})}}]),n})(m.Component);xe.defaultProps={onClick:function(){}};var ke=xe,Te=n(85);n(1414);function je(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var Re=n(151).I18N,Pe=function(){return A()()("uploader-promo-notification")},De={win:"Windows",mac:"Mac OS"},Ie=(function(e){l()(n,e);var t=je(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onClose=r._onClose.bind(u()(r)),r._onOpen=r._onOpen.bind(u()(r)),r}return a()(n,[{key:"componentDidMount",value:function(){j.default.count("interface elements","upload dialog","show promo banner","install soft")}},{key:"_onClose",value:function(){j.default.count("interface elements","upload dialog","close promo banner"),this.props.hideUploadNotification(b.UPLOAD_NOTIFICATION_TYPES.PROMO)}},{key:"_onOpen",value:function(){j.default.count("interface elements","upload dialog","install soft")}},{key:"_getTitle",value:function(){return this.props.isMobile?"Яндекс.Диск — безлимит для фото":"Диск для компьютера"}},{key:"_getText",value:function(){var e=this.props,t=e.isMobile,n=e.os,r=e.locale;return t?v.a.createElement(ke,{locale:r,os:n}):v.a.createElement(Re,{loc:"Для загрузки файлов размером более 2 ГБ воспользуйтесь "+yr.externals.entityify(Re.$1)},v.a.createElement("span",{className:Pe().e("pseudo-link")},"программой для "+yr.externals.entityify(De[this.props.os])))}},{key:"render",value:function(){var e=this.props,t=e.isMobile,n=e.downloadLink,r=this._getText();return v.a.createElement("div",{className:Pe().e("wrapper").m({mobile:t})},v.a.createElement(Se.Link,{theme:"pseudo",href:n,rel:"noopener noreferrer",target:"_blank",className:Pe().m({mobile:t}),onClick:this._onOpen},v.a.createElement("div",{className:Pe().e("content")},v.a.createElement("span",{className:Pe().e("title")},this._getTitle()),r)),v.a.createElement(_.Button,{className:Pe().e("close-button"),view:"clear","aria-label":"Закрыть",onClick:this._onClose,icon:O.close3IconProvider}))}}]),n})(m.Component),Ae=Object(g.connect)((function(e){var t=e.environment,n=t.agent.isMobile,r=t.session.locale,i=e.config,o=i.links.downloadApp,a=i.sourcesDownloadApp.upload,s=Object(Te.getOsId)(e);return{os:s,locale:r,isMobile:n,downloadLink:o[s]+"&src="+a}}),{hideUploadNotification:k.f})(Ie),Me=n(256);n(1415);function Ne(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var Le=n(151).I18N,Fe=function(){return A()()("upload-notification")},Be=(function(e){l()(n,e);var t=Ne(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getButtons",value:function(){return this.props.actions.map((function(e){var t=e.title,n=e.action,r=e.link,i=e.onAction,o={className:Fe().e("button").m({action:n}),onClick:i};return r&&Object.assign(o,{url:r,type:"link",target:"blank"}),v.a.createElement(_.Button,V()({key:n,view:"raised",size:"s"},o),t)}))}},{key:"_getText",value:function(){var e;switch(this.props.reason){case b.UPLOAD_ERRORS.CONFLICT:e=yr.externals.entityify(Le.$1)+" уже есть в этой папке. Заменить его загружаемым файлом?";break;case b.UPLOAD_ERRORS.INSUFFICIENT_STORAGE:e="Недостаточно места на Яндекс.Диске для загрузки "+yr.externals.entityify(Le.$1);break;default:return null}return v.a.createElement(Le,{loc:e},v.a.createElement(Me.a,{cls:Fe().e("resource-name"),text:this.props.resourceName,font:'bold 13px "YS Text"',width:this.props.containerWidth-100}))}},{key:"render",value:function(){var e=this.props,t=e.renderContent,n=e.icon,r=e.closeAction;return t?t():v.a.createElement("div",{className:Fe().m({closable:!!r})},r?v.a.createElement(_.Button,{className:Fe().e("close-button"),view:"clear","aria-label":"Закрыть",onClick:r,icon:O.close3IconProvider}):null,v.a.createElement("div",{className:Fe().e("left-column")},n),v.a.createElement("div",{className:Fe().e("right-column")},v.a.createElement("div",{className:Fe().e("text")},this._getText()),v.a.createElement("div",{className:Fe().e("button-group")},this._getButtons())))}}]),n})(m.Component),Ue=n(252),ze=n(54),Ve=n.n(ze),He=n(38);function We(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var Ge=(function(e){l()(n,e);var t=We(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onBuy=r._onBuy.bind(u()(r)),r._setContainerRef=r._setContainerRef.bind(u()(r)),r._updateContainerWidth=r._updateContainerWidth.bind(u()(r)),r._onCancelUpload=r._onCancelUpload.bind(u()(r)),r._onForceUpload=r._onForceUpload.bind(u()(r)),r._onCloseInsufficientStorageNotification=r._onCloseInsufficientStorageNotification.bind(u()(r)),r.state={containerWidth:0},r}return a()(n,[{key:"componentDidMount",value:function(){this._updateContainerWidth(),window.addEventListener("resize",this._updateContainerWidth)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._updateContainerWidth)}},{key:"_updateContainerWidth",value:function(){this._containerRef&&this.setState({containerWidth:this._containerRef.getBoundingClientRect().width})}},{key:"_getNotification",value:function(){var e=this.props.notifications;return e.length&&e[e.length-1]}},{key:"_renderNotification",value:function(){var e=this._getNotification();if(!e)return null;var t=e.id,n=e.type,r=e.data,i=(r=void 0===r?{}:r).resourceId,o=r.reason;switch(n){case b.UPLOAD_NOTIFICATION_TYPES.PROMO:return v.a.createElement(Ae,{key:t});case b.UPLOAD_NOTIFICATION_TYPES.SERVICE:var a=this.props.resourcesByIds[i];return a?v.a.createElement(Be,{key:t,actions:this._getServiceNotificationActions(t,o),resourceName:a.name,reason:o,icon:v.a.createElement(Ue.a,{resource:a,size:"m"}),containerWidth:this.state.containerWidth,closeAction:this._getServiceNotificationCloseAction(o)}):null;default:return null}}},{key:"_getServiceNotificationActions",value:function(e,t){switch(t){case b.UPLOAD_ERRORS.CONFLICT:return[{action:"replace",onAction:this._onForceUpload,title:"Заменить"},{action:"do-not-upload",onAction:this._onCancelUpload,title:"Не загружать"}];case b.UPLOAD_ERRORS.INSUFFICIENT_STORAGE:return this.props.shouldShowBuyButton?[{action:"buy",link:this.props.buyButtonUrl,onAction:this._onBuy,title:"Купить место"}]:[];default:return[]}}},{key:"_getServiceNotificationCloseAction",value:function(e){if(e===b.UPLOAD_ERRORS.INSUFFICIENT_STORAGE)return this._onCloseInsufficientStorageNotification}},{key:"_onCancelUpload",value:function(){var e=this._getNotification();if(e){var t=this.props.resourcesByIds[e.id].type;j.default.count("actions","uploading","cancel upload",t),this.props.cancelUpload(e.id)}}},{key:"_onCloseInsufficientStorageNotification",value:function(){this.props.hideUploadNotificationByReason(b.UPLOAD_ERRORS.INSUFFICIENT_STORAGE)}},{key:"_onForceUpload",value:function(){j.default.count("actions","uploading","change file");var e=this._getNotification();e&&this.props.forceUpload(e.id)}},{key:"_setContainerRef",value:function(e){this._containerRef=e}},{key:"_onBuy",value:function(){j.default.count("interface elements","upload dialog","buy space")}},{key:"render",value:function(){return v.a.createElement("div",{className:A()()("uploader-notifications"),ref:this._setContainerRef},this._renderNotification())}}]),n})(m.Component),qe=Object(g.connect)((function(e){return{notifications:e.uploader.notifications,resourcesByIds:e.resources,buyButtonUrl:Ve.a.addParams(Object(He.getBuyButtonUrl)(e),{from:"disk_loader"}),shouldShowBuyButton:Object(He.shouldShowBuyButton)(e)}}),{cancelUpload:k.b,hideUploadNotificationByReason:k.g,forceUpload:k.e})(Ge);n(1416);function $e(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}n.d(t,"a",(function(){return Ye}));var Ye="uploader",Ke=(function(e){l()(n,e);var t=$e(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={dialogVisible:!1},r._onCancelAllUploads=r._onCancelAllUploads.bind(u()(r)),r._onCancelAllUploadsCancel=r._onCancelAllUploadsCancel.bind(u()(r)),r._onCancelAllUploadsConfirm=r._onCancelAllUploadsConfirm.bind(u()(r)),r._onBeforeUnload=r._onBeforeUnload.bind(u()(r)),r._containerRef=v.a.createRef(),r}return a()(n,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this._onBeforeUnload)}},{key:"componentDidUpdate",value:function(e){0}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this._onBeforeUnload)}},{key:"_onBeforeUnload",value:function(e){this.props.uploadingStatus===b.UPLOAD_STATUSES.UPLOADING&&(e.preventDefault(),e.returnValue="")}},{key:"_setDialogVisible",value:function(e){this.setState({dialogVisible:e})}},{key:"_onCancelAllUploads",value:function(){j.default.count("actions","uploading","cancel all uploads"),this._setDialogVisible(!0)}},{key:"_onCancelAllUploadsConfirm",value:function(){j.default.count("actions","uploading","cancel all uploads","confirm"),this._setDialogVisible(!1),this.props.cancelAllUploads()}},{key:"_onCancelAllUploadsCancel",value:function(){j.default.count("actions","uploading","cancel all uploads","cancel"),this._setDialogVisible(!1)}},{key:"_maybeRenderConfirmationDialog",value:function(){return this.state.dialogVisible?v.a.createElement(Ee,{isIosSafari:this.props.isIosSafari,onConfirm:this._onCancelAllUploadsConfirm,onCancel:this._onCancelAllUploadsCancel}):null}},{key:"render",value:function(){var e=this.props.opened;return v.a.createElement("div",{className:A()()(Ye).m({opened:e}).mix(y.LISTING_PREVENT_DESELECT_CLASS),ref:this._containerRef},v.a.createElement(U,{onCancelAllUploads:this._onCancelAllUploads,popupScope:this._containerRef}),v.a.createElement(qe,{key:"uploader-notifications"}),v.a.createElement(_e,{key:"uploader-listing"}),this._maybeRenderConfirmationDialog())}}]),n})(m.Component);t.b=Object(g.connect)((function(e){var t=e.uploader,n=t.opened,r=t.uploadingStatus,i=e.environment.agent,o=i.OSFamily,a=i.BrowserBase;return{opened:n,uploadingStatus:r,isIosSafari:"iOS"===o&&"Safari"===a}}),{cancelAllUploads:k.a})(Ke)}),(function(e,t,n){"use strict";n.r(t);var r=n(40),i=n(2),o=n(0),a=n.n(o),s=n(1885),u=n(674),c=n(82),l=n(1879),d=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},f=function(){},h=n(28),p=Object(h.cn)("Drawer"),m=p("Overlay"),v=p("Content"),g=p("Title"),y=p("Handle"),b=p("Curtain"),_=p("DragObserver");var O=function(e){var t=e.dragDisabled,n=e.visible,r=e.onClose,s=void 0===r?f:r,u=e.onCloseEnd,c=void 0===u?f:u,l=e.springValue,d=e.direction,h=void 0===d?"bottom":d,p=e.maxSize,O=e.titleComponent,w=e.children,E=e.setSpringDisabled,S=e.setProgress,C=Object(o.useRef)(null),x=Object(i.__read)(Object(o.useState)(!1),2),k=x[0],T=x[1],j="bottom"===h?"y":"x",R="left"===h?-1:1,P=Math.max(l,0),D=(function(e){var t=e.axis,n=e.springValue,r=e.inverted;return 1===n?null:"x"===t?"translate3d("+100*(1-n)*r+"%,0,0)":"translate3d(0,"+100*(1-n)*r+"%,0)"})({axis:j,springValue:l,inverted:R}),I=Object(o.useMemo)((function(){var e;return Object(i.__assign)(Object(i.__assign)({},D?{transform:D}:{}),p&&((e={})["x"===j?"maxWidth":"maxHeight"]=p,e))}),[D,p,j]);Object(o.useEffect)((function(){k&&0===l&&(c(),T(!1))}),[k,l,c]);var A=Object(o.useCallback)((function(){T(!0),s()}),[s]),M=(function(e){var t=Object(o.useRef)(),n=Object(o.useRef)(),r=Object(o.useRef)(),i=Object(o.useCallback)((function(e){if(e.currentTarget.contains(e.target)){var i=r.current||f,o=n.current,a=Array.from(e.changedTouches).find((function(e){return e.identifier===t.current}));o||"touchstart"!==e.type||1!==e.changedTouches.length||(a=e.changedTouches[0],t.current=a.identifier,n.current=o={first:!0,last:!1,startTime:e.timeStamp,initialPosition:{x:a.clientX,y:a.clientY},data:{}}),o&&a&&(o.event=e,"touchmove"===e.type&&(o.first=!1,o.previousPosition=o.currentPosition),"touchstart"!==e.type&&"touchmove"!==e.type||(o.currentPosition={x:a.clientX,y:a.clientY},o.movement={x:o.currentPosition.x-o.initialPosition.x,y:o.currentPosition.y-o.initialPosition.y},o.delta={x:o.currentPosition.x-(o.previousPosition||o.initialPosition).x,y:o.currentPosition.y-(o.previousPosition||o.initialPosition).y},o.velocity={x:o.delta.x/(e.timeStamp-o.startTime-o.elapsedTime)||0,y:o.delta.y/(e.timeStamp-o.startTime-o.elapsedTime)||0},o.elapsedTime=e.timeStamp-o.startTime),"touchend"!==e.type&&"touchcancel"!==e.type||(o.first=!1,o.last=!0,n.current=void 0,t.current=void 0),i(o))}}),[]);return r.current=e,{dragProps:{onTouchStart:i,onTouchMove:i,onTouchEnd:i,onTouchCancel:i}}})((function(e){if(n&&C.current){var r=e.velocity,i=r.x,o=r.y,a=e.movement,s=a.x,u=a.y,c=e.first,l=e.last,d=e.data,f=e.event,h="x"===j?C.current.clientWidth:C.current.clientHeight,p=R*("x"===j?s:u),m=R*("x"===j?i:o);if(c?(d.isTargetUnderContent=C.current.contains(f.target),d.initialScrollPosition=C.current.scrollTop,d.isScrolled=0!==d.initialScrollPosition):d.isScrolled=d.isScrolled||d.initialScrollPosition-C.current.scrollTop<0,!(t||d.isTargetUnderContent&&d.isScrolled)){if(l)return E(!1),Math.abs(m)>=.1?m>0?A():S(1):p/h>=.3?A():S(1);if(p>0){E(!0);var v=Math.max(0,1-p/h);return 0===v?A():S(v)}}}})).dragProps;return a.a.createElement("div",Object(i.__assign)({className:_},M),a.a.createElement("div",{className:m,style:{opacity:P},onClick:function(){return A()}}),a.a.createElement("div",{className:b,style:I},a.a.createElement("div",{className:y,style:{opacity:P}}),O&&a.a.createElement("div",{className:g},O),a.a.createElement("div",{className:v,ref:C},w)))},w=(n(1019),{dragImmediate:!1,disabled:!1,tension:230,friction:24}),E=function(e){var t=Object(r.useComponentRegistry)(p()).Popup,n=e.className,f=e.visible,h=e.nested,m=e.direction,v=void 0===m?"bottom":m,g=e.innerRef,y=e.animation,b=void 0===y?w:y,_=Object(i.__read)(Object(o.useState)(0),2),E=_[0],S=_[1],C=Object(i.__read)(Object(o.useState)(!1),2),x=C[0],k=C[1],T=b.dragImmediate&&x||b.disabled,j=(function(e,t,n,r){var a=Object(i.__read)(Object(o.useState)(null),2),s=a[0],c=a[1],l=Object(i.__read)(Object(o.useState)(e),2),d=l[0],f=l[1],h=Object(o.useMemo)((function(){return{onSpringUpdate:function(e){var t=e.getCurrentValue();f(t)}}}),[]),p=Object(o.useCallback)((function(){s&&(s.removeListener(h),c(null))}),[s,h]);return Object(o.useEffect)((function(){if(r)p();else if(!s){var i=(new u.SpringSystem).createSpring(t,n);i.setCurrentValue(e),c(i),f(e),i.addListener(h)}return p}),[t,n,r,s,h,p]),Object(o.useEffect)((function(){s&&s.setEndValue(e)}),[s,e]),r?e:d})(E,b.tension,b.friction,T),R=j>0,P=(function(){var e=Object(i.__read)(Object(o.useState)(Object(c.a)()?d():void 0),2),t=e[0],n=e[1],r=Object(o.useCallback)((function(){return n(d())}),[]);return Object(l.a)((function(){return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}}),[r]),t})(),D=Object(o.useMemo)((function(){return{height:P&&P+"px"}}),[P]);return Object(s.a)({enabled:f}),Object(o.useEffect)((function(){k(!1),S(f?1:0)}),[f,b]),a.a.createElement(t,{className:p({visible:R,direction:v,nested:h},[n]),visible:R,innerRef:g,style:D,keepMounted:e.keepMounted,zIndex:e.zIndex,scope:e.scope},a.a.createElement(O,Object(i.__assign)({},e,{springValue:j,setProgress:S,setSpringDisabled:k})))};E.displayName=p();var S=n(76),C=n(421),x=new r.Registry({id:Object(S.b)()});x.set("Tail",C.a);var k=Object(r.withRegistry)(x)(S.a),T=new r.Registry({id:p()});T.set("Popup",k);var j=Object(r.withRegistry)(T)(E),R=n(6),P=(n(1020),Object(R.withBemMod)(p(),{view:"default"}));n.d(t,"Drawer",(function(){return j})),n.d(t,"withViewDefault",(function(){return P}))}),(function(e,t,n){"use strict";n.r(t);var r=n(40),i=n(6),o=n(236),a=n(229),s=n(230),u=n(0),c=n.n(u),l=n(28),d=(n(1322),function(e){var t=e.children;return c.a.createElement("div",{className:f("Backdrop")},t)}),f=(n(1321),Object(l.cn)("Tooltip")),h=function(e){var t=e.anchor,n=e.boundary,i=e.children,o=e.className,a=e.direction,s=e.hasTail,u=e.id,l=e.innerRef,h=e.keepMounted,p=e.mainOffset,m=e.modifiers,v=e.onClick,g=e.onClose,y=e.scope,b=e.secondaryOffset,_=e.state,O=e.tailOffset,w=e.viewportOffset,E=e.visible,S=e.zIndex,C=s?0:4,x=Object(r.useComponentRegistry)(f()).Popup;return c.a.createElement(x,{anchor:t,boundary:n,className:f({visible:E,state:_},[o]),direction:a,hasTail:s,innerRef:l,keepMounted:h,mainOffset:p||C,modifiers:m,onClick:v,onClose:g,scope:y,secondaryOffset:b,tailOffset:O,target:"anchor",unstable_onRenderTail:function(e){return c.a.createElement(d,null,s&&e)},view:"default",viewportOffset:w,visible:E,zIndex:S},c.a.createElement("div",{role:"tooltip",id:u,className:f("Content")},i))};h.displayName="Tooltip";var p=Object(i.compose)(a.a,s.a)(o.a),m=new r.Registry({id:f()});m.set("Popup",p);var v=n(2),g=n(87),y=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];void 0!==e&&e.apply(void 0,Object(v.__spread)(n)),t.apply(void 0,Object(v.__spread)(n))}},b=n(1880);var _=Object(r.withRegistry)(m)(h),O=Object(r.withRegistry)(m)((function(e){var t,n=e.children,r=e.content,i=e.defaultVisible,o=void 0!==i&&i,a=e.id,s=e.trigger,l=void 0===s?"hover":s,d=e.openDelay,f=e.closeDelay,p=Object(v.__rest)(e,["children","content","defaultVisible","id","trigger","openDelay","closeDelay"]),m=Object(b.a)("tooltip"),_=a||m,O=(function(e){var t=e.defaultVisible,n=void 0!==t&&t,r=e.openDelay,i=void 0===r?0:r,o=e.closeDelay,a=void 0===o?0:o,s=Object(v.__read)(Object(u.useState)(n),2),c=s[0],l=s[1],d=Object(u.useRef)(),f=Object(u.useRef)(),h=Object(u.useCallback)((function(e){var t=e?f:d,n=e?d:f,r=e?i:a;t.current&&(clearTimeout(t.current),t.current=void 0),r>0?n.current||(n.current=window.setTimeout((function(){n.current=void 0,l(e)}),r)):l(e)}),[i,a]),p=Object(u.useCallback)((function(){return h(!0)}),[h]),m=Object(u.useCallback)((function(){return h(!1)}),[h]),g=Object(u.useCallback)((function(){return h(!c)}),[c,h]);return Object(u.useEffect)((function(){return function(){clearTimeout(d.current),clearTimeout(f.current)}}),[]),{visible:c,open:p,close:m,toggle:g}})({openDelay:d,closeDelay:f,defaultVisible:o}),w=O.visible,E=O.open,S=O.close,C=O.toggle,x=Object(u.useRef)(null),k=u.Children.only(n),T=(Array.isArray(l)?l:[l]).reduce((function(e,t){switch(t){case"click":e.onClick=y(k.props.onClick,(function(){return C()}));break;case"focus":e.onFocus=y(k.props.onFocus,(function(){return E()})),e.onBlur=y(k.props.onBlur,(function(){return S()}));break;case"hover":e.onMouseEnter=y(k.props.onMouseEnter,(function(){return E()})),e.onMouseLeave=y(k.props.onMouseLeave,(function(){return S()}))}return e}),{}),j="string"==typeof k.type?"ref":"innerRef",R=void 0===k.props[j]?x:Object(g.b)(k.props[j],x);return c.a.createElement(c.a.Fragment,null,Object(u.cloneElement)(k,Object(v.__assign)(Object(v.__assign)({},T),((t={})[j]=R,t["aria-describedby"]=_,t))),c.a.createElement(h,Object(v.__assign)({},p,{id:_,visible:w,anchor:x,onClose:S}),r))})),w=(n(1323),Object(i.withBemMod)(f(),{size:"l"})),E=(n(1324),Object(i.withBemMod)(f(),{size:"m"})),S=(n(1325),Object(i.withBemMod)(f(),{size:"s"})),C=(n(1326),Object(i.withBemMod)(f(),{view:"default"}));n.d(t,"Tooltip",(function(){return _})),n.d(t,"TooltipStateful",(function(){return O})),n.d(t,"cnTooltip",(function(){return f})),n.d(t,"withSizeL",(function(){return w})),n.d(t,"withSizeM",(function(){return E})),n.d(t,"withSizeS",(function(){return S})),n.d(t,"withViewDefault",(function(){return C}))}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=n.n(i),a=n(28),s=(n(937),Object(a.cn)("Spin2")),u=function(e){var t=e.className,n=e.innerRef,i=e.progress,a=(e.view,e.position,e.size,Object(r.__rest)(e,["className","innerRef","progress","view","position","size"]));return o.a.createElement("div",Object(r.__assign)({},a,{ref:n,className:s({progress:i},[t])}))};u.displayName=s();var c=n(6),l=(n(938),Object(c.withBemMod)(s(),{position:"center"})),d=(n(939),Object(c.withBemMod)(s(),{size:"l"})),f=(n(940),Object(c.withBemMod)(s(),{size:"m"})),h=(n(941),Object(c.withBemMod)(s(),{size:"s"})),p=(n(942),Object(c.withBemMod)(s(),{size:"xs"})),m=(n(943),Object(c.withBemMod)(s(),{size:"xxs"})),v=(n(944),Object(c.withBemMod)(s(),{view:"default"}));n.d(t,"cnSpin",(function(){return s})),n.d(t,"Spin",(function(){return u})),n.d(t,"withPositionCenter",(function(){return l})),n.d(t,"withSizeL",(function(){return d})),n.d(t,"withSizeM",(function(){return f})),n.d(t,"withSizeS",(function(){return h})),n.d(t,"withSizeXS",(function(){return p})),n.d(t,"withSizeXXS",(function(){return m})),n.d(t,"withViewDefault",(function(){return v}))}),(function(e,t,n){"use strict";var r=n(10),i=n.n(r),o=n(32),a=n.n(o),s=n(3),u=n.n(s),c=n(4),l=n.n(c),d=n(8),f=n.n(d),h=n(5),p=n.n(h),m=n(7),v=n.n(m),g=n(1),y=n.n(g),b=n(0),_=n.n(b),O=n(414),w=n(15);function E(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var S=(function(e){p()(n,e);var t=E(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContent",value:function(){return _.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},_.a.createElement("path",{fillRule:"evenodd",d:"M15.185 4a1 1 0 01.896.555L16.798 6H21a1 1 0 011 1v12a1 1 0 01-1 1H3a1 1 0 01-1-1V7a1 1 0 011-1h4.202l.718-1.445A1 1 0 018.815 4h6.37zM12 8a5 5 0 100 10 5 5 0 000-10zm0 2a3 3 0 110 6 3 3 0 010-6zm7-2a1 1 0 100 2 1 1 0 000-2z"}))}}]),n})(w.default);function C(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var x=(function(e){p()(n,e);var t=C(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContent",value:function(){return _.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},_.a.createElement("path",{fillRule:"evenodd",d:"M21.5 5a.5.5 0 01.5.5v13a.5.5 0 01-.5.5h-19a.5.5 0 01-.5-.5v-13a.5.5 0 01.5-.5h19zM10.2 9a.2.2 0 00-.2.2v5.353a.2.2 0 00.29.179l5.352-2.677a.2.2 0 000-.357L10.29 9.02A.2.2 0 0010.2 9z"}))}}]),n})(w.default);function k(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var T=(function(e){p()(n,e);var t=k(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContent",value:function(){return _.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},_.a.createElement("path",{fillRule:"evenodd",d:"M14.894 2.258c.98-.982 2.216-1.665 2.937-.982l-2.937 7.858 7.831-2.947c.68.723 0 1.964-.979 2.947-.489.49-7.83 3.929-7.83 3.929l-.98 2.947.998 1c.96.964 1.45 3.42-.019 4.893 0 0-2.447 2.456-4.876.018-1.976-1.982.471-4.438.471-4.438 1.122-1.204 2.448-2.456.98-3.93-1.47-1.472-2.937 0-3.916.983 0 0-2.447 2.456-4.666.23-2.186-2.193.26-4.65.26-4.65 1.47-1.473 3.916-.982 4.895 0l.98.982 2.936-.982s3.426-7.367 3.915-7.858zm-4.65 18.908c.735.737 2.005.445 2.716-.268.71-.714.71-2.187-.024-2.924-.734-.737-1.614-.344-2.424.468-.81.812-1.002 1.988-.267 2.724zM2.904 13.8c.734.737 1.905.544 2.715-.268.81-.813 1.2-1.696.466-2.433-.734-.736-2.202-.736-2.913-.023-.711.713-1.002 1.988-.268 2.724z"}))}}]),n})(w.default);function j(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var R=(function(e){p()(n,e);var t=j(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContent",value:function(){return _.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"7 7 37 37"},_.a.createElement("defs",null,_.a.createElement("linearGradient",{id:"f",x1:"3987.841%",x2:"7346.719%",y1:"18533.556%",y2:"23630.34%"},_.a.createElement("stop",{offset:"11%",stopColor:"#FFF"}),_.a.createElement("stop",{offset:"100%",stopColor:"#FFF",stopOpacity:".5"})),_.a.createElement("linearGradient",{id:"aa",x1:"50%",x2:"50%",y1:"-14.432%",y2:"95.098%"},_.a.createElement("stop",{offset:"0%",stopColor:"#FCEE21"}),_.a.createElement("stop",{offset:"100%",stopColor:"#FFB12B"})),_.a.createElement("linearGradient",{id:"c",x1:"28.042%",x2:"108.49%",y1:"30.902%",y2:"100.819%"},_.a.createElement("stop",{offset:"11%",stopColor:"#FFF"}),_.a.createElement("stop",{offset:"100%",stopColor:"#FFF",stopOpacity:".5"})),_.a.createElement("linearGradient",{id:"d",x1:"41118.844%",x2:"44314.688%",y1:"10701.815%",y2:"13728.041%"},_.a.createElement("stop",{offset:"11%",stopColor:"#FFF"}),_.a.createElement("stop",{offset:"100%",stopColor:"#FFF",stopOpacity:".5"})),_.a.createElement("linearGradient",{id:"e",x1:"112707.119%",x2:"118377.897%",y1:"-59579.06%",y2:"-45497.442%"},_.a.createElement("stop",{offset:"0%",stopColor:"#F15A24"}),_.a.createElement("stop",{offset:"100%",stopColor:"#ED1C24"})),_.a.createElement("linearGradient",{id:"b",x1:"66.83%",x2:"27.804%",y1:"10.462%",y2:"86.806%"},_.a.createElement("stop",{offset:"0%",stopColor:"#F15A24"}),_.a.createElement("stop",{offset:"100%",stopColor:"#ED1C24"})),_.a.createElement("linearGradient",{id:"g",x1:"11978.923%",x2:"13803.326%",y1:"16977.028%",y2:"20041.194%"},_.a.createElement("stop",{offset:"11%",stopColor:"#FFF"}),_.a.createElement("stop",{offset:"100%",stopColor:"#FFF",stopOpacity:".5"})),_.a.createElement("linearGradient",{id:"h",x1:"49.996%",x2:"49.996%",y1:"16.231%",y2:"95.361%"},_.a.createElement("stop",{offset:"5%",stopColor:"#422214"}),_.a.createElement("stop",{offset:"100%",stopColor:"#8C1C1C"})),_.a.createElement("linearGradient",{id:"i",x1:"20.27%",x2:"79.729%",y1:"43.352%",y2:"56.646%"},_.a.createElement("stop",{offset:"0%",stopColor:"#852828"}),_.a.createElement("stop",{offset:"100%",stopColor:"#5B2F1B"})),_.a.createElement("linearGradient",{id:"j",x1:"-2.639%",x2:"102.728%",y1:"44.299%",y2:"55.416%"},_.a.createElement("stop",{offset:"0%",stopColor:"#5B2F1B"}),_.a.createElement("stop",{offset:"100%",stopColor:"#852828"})),_.a.createElement("linearGradient",{id:"k",x1:"49.913%",x2:"50.121%",y1:"44.178%",y2:"59.17%"},_.a.createElement("stop",{offset:"0%",stopColor:"#ED1C24"}),_.a.createElement("stop",{offset:"100%",stopColor:"#F15A24"}))),_.a.createElement("g",{fill:"none",fillRule:"evenodd"},_.a.createElement("path",{fill:"url(#aa)",fillRule:"nonzero",d:"M17.904 35.808c9.888 0 17.904-8.016 17.904-17.904S27.792 0 17.904 0 0 8.016 0 17.904s8.016 17.904 17.904 17.904z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"#FFD23D",fillRule:"nonzero",d:"M28.04 41.675c-6.171.808-7.66-8.572-3.577-6.738 1.57.71 3.414.628 5.14-.81 3.322-2.764 3.933 6.829-1.562 7.548z"}),_.a.createElement("path",{fill:"url(#b)",fillRule:"nonzero",d:"M32.316 11.59a4.427 4.427 0 00-2.65-.315 4.396 4.396 0 00-2.344 1.264 4.297 4.297 0 00-.757-2.887 4.381 4.381 0 00-2.464-1.719 4.426 4.426 0 00-3.004.263 4.356 4.356 0 00-2.12 2.12c-2.231 4.818 2.322 11.647 3.65 12.249 1.33.602 9.559-.281 11.85-5.23a4.29 4.29 0 00.122-3.315 4.354 4.354 0 00-2.283-2.43z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#c)",fillRule:"nonzero",d:"M22.73 12.28c1.153-.434 1.81-1.545 1.466-2.48-.343-.936-1.556-1.342-2.71-.907-1.153.435-1.81 1.546-1.467 2.481.343.936 1.557 1.341 2.71.907z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#d)",fillRule:"nonzero",d:"M30.336 14.518c.824-.29 1.293-1.03 1.048-1.654-.245-.623-1.112-.894-1.936-.604-.823.29-1.293 1.03-1.048 1.654.245.624 1.112.894 1.936.604z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#e)",fillRule:"nonzero",d:"M10.943 11.432a3.833 3.833 0 00-1.858 1.41 3.785 3.785 0 00-.688 2.217 3.841 3.841 0 00-2.26-1.367 3.863 3.863 0 00-2.614.41 3.815 3.815 0 00-1.724 1.993 3.778 3.778 0 00-.013 2.626c1.578 4.386 8.655 5.925 9.861 5.498 1.206-.427 5.825-5.974 4.203-10.479a3.8 3.8 0 00-.768-1.276 3.835 3.835 0 00-2.656-1.25 3.864 3.864 0 00-1.483.218z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#f)",fillRule:"nonzero",d:"M5.677 17.687c.482-1.045.213-2.213-.6-2.609-.815-.396-1.865.13-2.347 1.175s-.213 2.213.601 2.61c.814.395 1.864-.13 2.346-1.176z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#g)",fillRule:"nonzero",d:"M11.908 14.444c.403-.703.277-1.535-.281-1.86-.558-.324-1.336-.018-1.739.685-.402.702-.276 1.535.281 1.859.558.324 1.337.018 1.74-.684z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#h)",fillRule:"nonzero",d:"M21.16 25.811c-1.728 1.527-3.32 1.224-4.931.53-3.924-1.687-2.624 7.767 3.783 6.558 5.717-1.077 4.472-10.028 1.147-7.088z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#i)",d:"M9.002 6.201a.816.816 0 01-.548.999c-.736.21-1.449.741-2.028 1.48-.577.737-.982 1.63-1.134 2.487a.786.786 0 01-.913.652.81.81 0 01-.63-.945c.203-1.143.729-2.285 1.46-3.217.729-.93 1.702-1.701 2.828-2.023a.782.782 0 01.965.567z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#j)",d:"M23.666 4.166a.774.774 0 01.807-.74c2.69.129 4.664 1.732 5.658 3.874a.78.78 0 01-.372 1.034.769.769 0 01-1.026-.375c-.78-1.681-2.28-2.88-4.334-2.98a.775.775 0 01-.733-.813z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#k)",fillRule:"nonzero",d:"M22.725 31.018c-1.61 2.134-5.959 2.4-7.779-.19.257-1.6 3.017-2.389 3.985-.278 1.255-2.373 3.932-.851 3.794.468z",transform:"translate(8.162 8.096)"})))}}]),n})(w.default);function P(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var D=(function(e){p()(n,e);var t=P(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContent",value:function(){return _.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"32",height:"32",viewBox:"0 0 52 52"},_.a.createElement("defs",null,_.a.createElement("linearGradient",{id:"clean-copy-9_svg__j",x1:"26.616%",x2:"56.059%",y1:"20.63%",y2:"87.254%"},_.a.createElement("stop",{offset:"0%",stopColor:"#FDE323"}),_.a.createElement("stop",{offset:"99.308%",stopColor:"#FFB42B"}),_.a.createElement("stop",{offset:"100%",stopColor:"#FFB12B"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__a",x1:"44.813%",x2:"58.51%",y1:"7.83%",y2:"71.607%"},_.a.createElement("stop",{offset:"0%",stopColor:"#F05024"}),_.a.createElement("stop",{offset:"100%",stopColor:"#ED1C24"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__d",x1:"31.293%",x2:"67.287%",y1:"9.867%",y2:"110.444%"},_.a.createElement("stop",{offset:"0%",stopColor:"#04D1FE"}),_.a.createElement("stop",{offset:"78.579%",stopColor:"#0176B1"}),_.a.createElement("stop",{offset:"100%",stopColor:"#0062A0"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__o",x1:"49.996%",x2:"49.996%",y1:"20.188%",y2:"95.361%"},_.a.createElement("stop",{offset:"0%",stopColor:"#5E2E1C"}),_.a.createElement("stop",{offset:"100%",stopColor:"#832827"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__f",x1:"49.996%",x2:"49.996%",y1:"0%",y2:"100%"},_.a.createElement("stop",{offset:"0%",stopColor:"#09576A",stopOpacity:".915"}),_.a.createElement("stop",{offset:"100%",stopColor:"#022027"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__g",x1:"49.996%",x2:"49.996%",y1:"0%",y2:"100%"},_.a.createElement("stop",{offset:"0%",stopColor:"#09576A",stopOpacity:".915"}),_.a.createElement("stop",{offset:"100%",stopColor:"#022027"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__h",x1:"49.996%",x2:"49.996%",y1:"0%",y2:"100%"},_.a.createElement("stop",{offset:"0%",stopColor:"#09576A",stopOpacity:".915"}),_.a.createElement("stop",{offset:"100%",stopColor:"#022027"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__b",x1:"39.479%",x2:"29.128%",y1:"82.713%",y2:"13.327%"},_.a.createElement("stop",{offset:"0%",stopColor:"#F05024"}),_.a.createElement("stop",{offset:"100%",stopColor:"#ED1C24"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__n",x1:"49.996%",x2:"49.996%",y1:"20.188%",y2:"95.361%"},_.a.createElement("stop",{offset:"0%",stopColor:"#5E2E1C"}),_.a.createElement("stop",{offset:"100%",stopColor:"#832827"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__p",x1:"49.996%",x2:"49.996%",y1:"20.188%",y2:"95.361%"},_.a.createElement("stop",{offset:"0%",stopColor:"#5E2E1C"}),_.a.createElement("stop",{offset:"100%",stopColor:"#832827"})),_.a.createElement("filter",{id:"clean-copy-9_svg__k",width:"248.9%",height:"138.9%",x:"-74.4%",y:"-19.5%",filterUnits:"objectBoundingBox"},_.a.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"1.247"})),_.a.createElement("filter",{id:"clean-copy-9_svg__m",width:"130.8%",height:"113%",x:"-15.4%",y:"-6.5%",filterUnits:"objectBoundingBox"},_.a.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:".558"})),_.a.createElement("path",{id:"clean-copy-9_svg__i",d:"M12.995 29.964c4.787 1.023 12.995-10.172 12.995-22.72 0-.265 0-.522-.002-.77-.076-11.462-1.991-4.214-12.993-4.214C1.756 2.26 0-5.304 0 7.244s8.284 23.134 12.995 22.72z"}),_.a.createElement("path",{id:"clean-copy-9_svg__c",d:"M32.206 41.585c4.466.182 12.25-7.912 12.25-20.421s-1.768-4.968-13.085-4.968c-11.316 0-13.084-7.54-13.084 4.968 0 12.509 10.313 21.381 13.919 20.42z"})),_.a.createElement("g",{fill:"none",fillRule:"evenodd"},_.a.createElement("g",{transform:"rotate(15 9.734 52.615)"},_.a.createElement("path",{fill:"url(#clean-copy-9_svg__a)",d:"M32.206 18.303c3.699-2.82 5.466-5.336 5.302-7.55-.345-4.654-2.146-6.342-3.702-7.76a30.332 30.332 0 013.333 2.319A10.71 10.71 0 0035.218.076c2.681 1.756 6.138 4.985 6.61 10.39.205 2.354-.602 4.967-2.422 7.837h-7.2z"}),_.a.createElement("path",{fill:"url(#clean-copy-9_svg__b)",d:"M4.517 22.058c1.482 1.323 2.464 2.487 2.945 3.492.983 2.052 1.467 2.683 1.416 4.246-.143 4.386-2.995 8.39.745 12.103.472.47 1.699 1.486 3.756 2.562.81.424 2.314 1.084 4.511 1.98-1.51-.818-2.632-1.583-3.364-2.296-.733-.713-1.102-1.53-1.11-2.453 2.704.56 4.707.887 6.009.98 1.302.094 3.22.068 5.752-.077-3.805-.145-6.035-.303-6.69-.474-9.328-2.438-6.218-7.658-6.225-10.925.513-8.709-2.069-11.755-7.745-9.138z",transform:"rotate(-26 14.847 33.796)"}),_.a.createElement("mask",{id:"clean-copy-9_svg__e",fill:"#fff"},_.a.createElement("use",{xlinkHref:"#clean-copy-9_svg__c"})),_.a.createElement("use",{fill:"url(#clean-copy-9_svg__d)",xlinkHref:"#clean-copy-9_svg__c"}),_.a.createElement("g",{fillRule:"nonzero",mask:"url(#clean-copy-9_svg__e)"},_.a.createElement("path",{fill:"url(#clean-copy-9_svg__f)",d:"M15.68 4.885c2.383 0 3.312 3.45 3.312 1.299 0-2.151-2.093-4.354-4.476-4.354-2.382 0-4.47 2.209-4.152 4.354.19 1.276 1.528-1.768 5.316-1.3z",transform:"rotate(170 19.705 15.254)"}),_.a.createElement("path",{fill:"url(#clean-copy-9_svg__g)",d:"M5.168 8.232c2.382 0 3.945 2.358 3.954 1.53 0-2.15-2.093-4.354-4.475-4.354-2.383 0-4.756 2.23-4.153 4.354.457 1.609 1.744-2.08 4.674-1.53z",transform:"scale(1 -1) rotate(-6 -289.274 -316.378)"})),_.a.createElement("path",{fill:"#03A0D4",fillRule:"nonzero",d:"M32.125 36.323c-3.76-.14-5.565-2.018-5.62-3.703 0-.283.013-.732.657-.766.645-.034 2.404 1.113 5.336.51 2.932-.604 4.196-1.965 5.22-1.174 1.356 1.696-1.834 5.275-5.593 5.133z",mask:"url(#clean-copy-9_svg__e)",transform:"rotate(-180 32.27 33.638)"}),_.a.createElement("path",{fill:"url(#clean-copy-9_svg__h)",fillRule:"nonzero",d:"M32.112 35.723c-3.759-.141-5.62-2.906-5.62-3.703 0-.283.014-.733.658-.767.644-.033 2.404 1.113 5.336.51 2.932-.604 4.195-1.965 5.22-1.174.888.687-1.835 5.275-5.594 5.134z",mask:"url(#clean-copy-9_svg__e)",transform:"rotate(-180 32.183 33.037)"})),_.a.createElement("g",{transform:"rotate(-15 54.552 -18.401)"},_.a.createElement("mask",{id:"clean-copy-9_svg__l",fill:"#fff"},_.a.createElement("use",{xlinkHref:"#clean-copy-9_svg__i"})),_.a.createElement("use",{fill:"url(#clean-copy-9_svg__j)",xlinkHref:"#clean-copy-9_svg__i"}),_.a.createElement("path",{fill:"#FFF",d:"M.58 17.567c1.585 0-.602-3.671-.605-8.25-.003-4.578 1.745-10.99.16-10.99-1.584-.002-4.01 6.533-4.006 11.112.003 4.578 2.867 8.127 4.452 8.128z",filter:"url(#clean-copy-9_svg__k)",mask:"url(#clean-copy-9_svg__l)",style:{mixBlendMode:"overlay"},transform:"rotate(-3 -1.357 7.947)"}),_.a.createElement("path",{fill:"#19CFF9",d:"M27.352 35.419c2.013-.014-4.24-9.256-4.116-16.52.125-7.266 3.612-9.276 1.6-9.263-2.013.013-7.921 4.082-7.95 8.494-.03 4.412 8.453 17.302 10.466 17.289z",filter:"url(#clean-copy-9_svg__m)",mask:"url(#clean-copy-9_svg__l)",opacity:".3",style:{mixBlendMode:"overlay"},transform:"rotate(-140 22.318 22.527)"}),_.a.createElement("path",{fill:"#FFD23D",fillRule:"nonzero",d:"M13.442 25.517c-5.62-.121-7.449-5.253-7.449-6.443 0-.422.123-.175.965-.225.841-.05 3.14 1.66 6.972.76 3.832-.9 5.34-3.924 6.678-2.744 1.162 1.024-1.545 8.773-7.166 8.652z",mask:"url(#clean-copy-9_svg__l)"}),_.a.createElement("path",{fill:"url(#clean-copy-9_svg__n)",fillRule:"nonzero",d:"M13.303 24.529c-4.913-.21-7.345-4.335-7.345-5.525 0-.422.018-1.093.86-1.143.842-.05 3.141 1.66 6.973.76 3.831-.901 5.483-2.931 6.821-1.751 1.162 1.024-2.397 7.87-7.31 7.659z",mask:"url(#clean-copy-9_svg__l)"})),_.a.createElement("path",{fill:"url(#clean-copy-9_svg__o)",fillRule:"nonzero",d:"M27.598 20.601c2.383 0 3.089 2.472 3.089.322 0-2.151-2.093-4.354-4.476-4.354s-4.755 2.23-4.152 4.354c.456 1.608 3.887-.322 5.54-.322z",transform:"rotate(-27 24.66 17.605)"}),_.a.createElement("path",{fill:"url(#clean-copy-9_svg__p)",fillRule:"nonzero",d:"M17.17 24.658c2.165 0 2.845 1.968 2.845.045s-1.902-3.893-4.067-3.893-4.32 1.995-3.773 3.893c.415 1.439 3.494-.045 4.995-.045z",transform:"scale(-1 1) rotate(11 4.554 -146.776)"})))}}]),n})(w.default);function I(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var A=(function(e){p()(n,e);var t=I(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContent",value:function(){return _.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_.a.createElement("mask",{id:"mask0",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"40",height:"40"},_.a.createElement("path",{fill:"white",d:"M19.994 39.281c10.649 0 19.281-8.633 19.281-19.281C39.275 9.35 30.643.718 19.994.718S.712 9.351.712 20c0 10.648 8.633 19.281 19.282 19.281z"})),_.a.createElement("g",{mask:"url(#mask0)"},_.a.createElement("path",{d:"M19.994 39.281c10.649 0 19.281-8.633 19.281-19.281C39.275 9.35 30.643.718 19.994.718S.712 9.351.712 20c0 10.648 8.633 19.281 19.282 19.281z",fill:"url(#paint1_linear)"}),_.a.createElement("path",{d:"M19.054 25.034c-1.16-1.52-1.115-2.94-4.02-5.57-1.476-1.335-2.162-1.322-5.71-.612-2.533 0-3.268.608-4.054 1.216-1.047.81-.912 1.013-1.723 2.027-.64.8-.135 1.163-1.214 2.672-.305.426-2.99 5.816 4.635 8.058 11.734 4.574 6.869 10.302 8.066 12.063 3.643 5.358 1.447.399 3.668-2.774.758-1.084.328-3.067.96-4.411.913-1.216 2.25-1.686 1.878-2.887a9.222 9.222 0 00-.53-1.37c-.19-.386.081-.81.173-1.216.167-.745 2.51-1.943 2.715-2.383.479-1.03-2.176-.663-2.76-1.638-.624-1.043-1.436-2.325-2.084-3.175z",fill:"url(#paint2_linear)"}),_.a.createElement("path",{d:"M7.272 29.85c.734.714 1.953 1.38 1.525 1.82-.428.441-2.249.04-2.983-.674-.735-.714-.858-2.147-.43-2.587.428-.441 1.153.727 1.888 1.44z",fill:"#59A4FF"}),_.a.createElement("path",{opacity:".2",fillRule:"evenodd",clipRule:"evenodd",d:"M18.393.74A27.403 27.403 0 0011 19.5c0 7.767 3.22 14.781 8.397 19.782h-.116C8.633 39.282 0 30.65 0 20.002 0 9.65 8.156 1.203 18.393.74z",fill:"#fff"}),_.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.776 18.32c.351-.22.817-.513 1.432-.786.112-.05.382 0 .701.057.535.097 1.207.219 1.508-.057.286-.262.199-.595.116-.913-.08-.305-.156-.595.107-.795.262-.198.773.223 1.162.545.205.168.375.309.46.32l.604.683.05.078c.12.182.21.319.36.386 1.029.461.66-.385.34-1.118-.069-.155-.134-.305-.184-.437l.046-.457c.396-.25 1.31.681 1.909 1.293.174.178.322.329.422.415 2.375 2.04 1.014 3.128-.1 2.722l1.52 1.839v-.203c0-.168.136-.304.303-.304.652.739 1.227 1.66 1.782 2.549 1.044 1.672 2.016 3.228 3.286 3.228 1.08-.141 5.215-2.129 2.838-3.75-.23-.344-.549-.37-.879-.398-.253-.022-.513-.044-.743-.21l-.5-1.214c-.074-.245-.143-.447-.21-.509-.202-1.824 1.92-1.665 3.195-1.028.872.436 1.663.825 2.368 1.17 1.89.928 3.154 1.549 3.683 1.964.606.476 1.022.935 1.434 1.39.616.682 1.226 1.355 2.456 2.068 1.1.637.772-.59.364-2.114-.352-1.32-.765-2.861-.364-3.613.333-.624.441-1.184.529-1.636.14-.724.228-1.174 1.092-1.174.368 0 .676.067.943.125.752.163 1.172.253 1.65-1.421.519-1.816-1.513-9.113-2.593-12.534l-10.05-6.268L24.573.266c-.065 1.344-2.251 3.114-4.754 4.705-.07.044-.213.217-.41.453-.59.709-1.655 1.99-2.616 2.082-.77.074-1.549-.07-2.24-.2-.654-.122-1.23-.23-1.65-.124-.54-.155-1.295.422-1.883.872-.235.18-.444.34-.602.425-.456.244-2.205 4.412 0 2.809 2.377-1.729 4.106-.648 3.782 0-.324.648-2.293 1.796-4.43 1.729a3.925 3.925 0 00-1.155.138c-.36.097-.452.589-.544 1.077-.075.398-.15.794-.369.971-.54.437-1.062 1.016-1.317 1.488-.273.503-.662 1.602-.507 1.857.128.255.394.088.9-.229zm16.57-2.847c-.031.268-.064.543.182.908.076.112.155.224.233.336.541.77 1.039 1.477.076 1.484-.648.004-1.623-1.854-1.753-2.319-.26-.93.43-2.227 1.115-1.215.208.307.178.553.148.806z",fill:"url(#paint3_linear)"})),_.a.createElement("defs",null,_.a.createElement("linearGradient",{id:"paint1_linear",x1:"19.994",y1:"1",x2:"19.994",y2:"39",gradientUnits:"userSpaceOnUse"},_.a.createElement("stop",{stopColor:"#7FB9FF"}),_.a.createElement("stop",{offset:"1",stopColor:"#0073FF"})),_.a.createElement("linearGradient",{id:"paint2_linear",x1:"10.759",y1:"43.265",x2:"-4.265",y2:"24.899",gradientUnits:"userSpaceOnUse"},_.a.createElement("stop",{stopColor:"#85BCFF"}),_.a.createElement("stop",{offset:"1",stopColor:"#DEEDFF"})),_.a.createElement("linearGradient",{id:"paint3_linear",x1:"36.709",y1:"21.766",x2:"21.481",y2:"-.668",gradientUnits:"userSpaceOnUse"},_.a.createElement("stop",{stopColor:"#85BCFF"}),_.a.createElement("stop",{offset:"1",stopColor:"#DEEDFF"}))))}}]),n})(w.default),M=n(432),N=n(522),L=n(390),F=n(9),B=n.n(F),U={ru:"ru-RU",en:"en-US",tr:"tr-TR",uk:"uk-UA"},z=B.a.memoize((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ru-RU";return"undefined"!=typeof Intl?new Intl.NumberFormat(U[e]).format:function(e){return String(e)}})),V=n(12),H=n(37),W=n.n(H),G=n(11),q=n.n(G);function $(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Y=n(151).I18N,K=function(){return q()()("albums2")},X=(function(e){p()(n,e);var t=$(n);function n(e){var r;return u()(this,n),(r=t.call(this,e))._onClick=r._onClick.bind(f()(r)),r._onAlbumKeyPress=r._onAlbumKeyPress.bind(f()(r)),r._formatNumber=z(r.props.locale),r}return l()(n,[{key:"_getPreviewSize",value:function(){return this.props.isMobile?{width:150,height:104}:{width:330,height:208}}},{key:"_getIcon",value:function(e){switch(e){case"beautiful":return _.a.createElement(R,null);case"unbeautiful":return _.a.createElement(D,null);case"camera":return _.a.createElement(S,null);case"videos":return _.a.createElement(x,null);case"screenshots":return _.a.createElement(T,null);case"geo":return _.a.createElement(A,null);case"favorites":return _.a.createElement(M.a,null)}}},{key:"_getActions",value:function(){return this.props.readonly||![null,"personal","faces"].includes(this.props.album.album_type)?null:_.a.createElement("div",{className:K().e("actions")},_.a.createElement(N.a,{moreButtonView:"clear-inverse",album:this.props.album,metrikaPath:["albums listing"]}))}},{key:"_onClick",value:function(e){if(!(e&&e.target&&(e.target.closest(".album-actions-dropdown")||e.target.closest(".album-actions-dropdown__more-button")||e.target.closest(".ShareDialog")||e.target.closest(".ConfirmDialog")))){var t=this.props,n=t.id,r=t.album;"geo"===r.album_type?V.default.count("actions","with geo meta-album","open","click on geo album"):"faces"===r.album_type?V.default.count("actions","with faces meta-album","open","click on face album"):V.default.count("actions","with albums","open","click on album"),this.props.onOpen(n)}}},{key:"_onAlbumKeyPress",value:function(e){e.charCode===W.a.KEYS.ENTER&&this._onClick(e)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.album,r=e.preview,o=e.modifiers||{},s=n.title||n.name,u=s;"geo"===t?(o.geo=!0,s="Места и поездки",u=_.a.createElement(Y,{loc:"Места"+yr.externals.entityify(Y.$1)+"и поездки"}," ")):"faces"===t?(o.faces=!0,s="Люди на фото",u=_.a.createElement(Y,{loc:"Люди"+yr.externals.entityify(Y.$1)+"на фото"}," ")):"favorites"===t&&(o.favorites=!0);var c=B.a.pick(n.cover||{},["face_bottom","face_top","face_left","face_right","width","height"]),l=Object.keys(c).length?{left:c.face_left,right:c.face_right,bottom:c.face_bottom,top:c.face_top}:null,d={width:c.width,height:c.height},f=this._getIcon(t);return _.a.createElement("div",{key:t,className:K().e("item").m(o),onClick:this._onClick,onKeyPress:this._onAlbumKeyPress,title:s,tabIndex:0},r&&_.a.createElement(O.a,a()({previewBaseUrl:r,previewFragment:l,previewSize:d},this._getPreviewSize(),{className:K().e("item-preview"),crop:!0,cover:!0})),_.a.createElement("span",{className:K().e("title-bar").m({iconed:!!f})},f?_.a.createElement("span",{className:K().e("item-icon").m(i()({},t,!0))},f):null,_.a.createElement("span",{className:K().e("item-title")},u),Number.isInteger(n.count)&&_.a.createElement("span",{className:K().e("item-count")},this._formatNumber(n.count))),n.is_public?_.a.createElement(L.a,null):null,this._getActions())}}]),n})(b.PureComponent);t.a=X}),(function(e,t,n){"use strict";var r=n(0);function i(e,t){var n=function(e){return t(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP},r=n;return r.acceptNode=n,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,r,!1)}var o=["input","select","textarea","button","a[href]","area[href]","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"].join(","),a=null;function s(e){var t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?"true"===e.contentEditable?0:"AUDIO"!==e.nodeName&&"VIDEO"!==e.nodeName&&"DETAILS"!==e.nodeName||null!==e.getAttribute("tabindex")?e.tabIndex:0:t}function u(e){return"INPUT"===e.tagName}function c(e){return u(e)&&"radio"===e.type}function l(e){if(!e.name)return!0;var t=(function(e){return e.checked?e:i(e.form||e.ownerDocument,(function(t){var n=t;return c(n)&&n.name===e.name&&n.checked&&n.form===e.form})).nextNode()})(e);return!t||t===e}function d(e){return!(!(function(e,t){return!!a&&a.call(e,t)})(e,o)||c(e)&&!l(e)||(function(e){return u(e)&&"hidden"===e.type})(e))&&(s(e)>=0&&!e.disabled&&!(function(e){if("hidden"===window.getComputedStyle(e).visibility)return!0;for(var t=e;t;){if("none"===window.getComputedStyle(t).display)return!0;t=t.parentElement}return!1})(e))}function f(e,t){for(var n=i(e,(function(e){var n=d(e);return t?n&&t(e):n})),r=[],o=[],a=0;n.nextNode();){var u=n.currentNode;0===s(u)?o.push(u):r.push({index:a++,tabIndex:s(u),node:u})}return r.sort((function(e,t){return e.tabIndex===t.tabIndex?e.index-t.index:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(o)}"undefined"!=typeof Element&&(a=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);var h,p=n(2),m="focusTrapGuard",v=null;function g(){return document.activeElement}function y(e,t){return e.contains(t)}function b(e){var t=document.createElement("span");return t.tabIndex=e,Object.assign(t.style,{width:"1px",height:0,padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"}),t.setAttribute("aria-hidden","true"),t.dataset[m]="true",t}function _(e){return Boolean(e.dataset[m])}function O(e){e.parentNode&&e.parentNode.removeChild(e)}function w(e){if(function(){if(null===v){v=!1;try{document.createElement("div").focus({get preventScroll(){return v=!0,!0}})}catch(e){}}return v}())e.focus({preventScroll:!0});else{var t=(function(e){for(var t=[],n=document.scrollingElement||document.documentElement,r=e.parentNode;r instanceof HTMLElement&&r!==n;)(r.offsetHeight<r.scrollHeight||r.offsetWidth<r.scrollWidth)&&t.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),r=r.parentNode;return n instanceof HTMLElement&&t.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),t})(e);e.focus(),(function(e){var t,n;try{for(var r=Object(p.__values)(e),i=r.next();!i.done;i=r.next()){var o=i.value,a=o.element,s=o.scrollTop,u=o.scrollLeft;a.scrollTop=s,a.scrollLeft=u}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}})(t)}}function E(e,t){if(e)try{t?w(e):e.focus()}catch(e){}}!(function(e){e[e.None=0]="None",e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(h||(h={}));var S=(function(){function e(){this.instances=[],this.direction=h.None,this.lastActiveElement=null,this.onDocumentFocusIn=this.onDocumentFocusIn.bind(this),this.onDocumentKeyDown=this.onDocumentKeyDown.bind(this),this.onMouseDown=this.onMouseDown.bind(this)}return e.getInstance=function(){return this.manager||(this.manager=new e),this.manager},e.prototype.activate=function(e){this.preventLastFocusIn(),0===this.instances.length&&this.attachEvents(),this.instances.push(e),this.autoFocus(e)},e.prototype.deactivate=function(e){this.preventLastFocusIn(),this.instances=this.instances.filter((function(t){return t!==e})),0===this.instances.length&&this.detachEvents()},e.prototype.autoFocus=function(e){var t=e.getScope(),n=e.getOptions().autoFocus,r=g();!n||r&&y(t,r)||(!(function(e){E(Object(p.__read)(f(e,(function(e){return!_(e)})),1)[0])})(t),this.focusScope(t))},e.prototype.focusScope=function(e){var t=g();t&&y(e,t)||E(e,!0)},e.prototype.checkFocusInCurrentScope=function(){var e=this.instances[this.instances.length-1];e&&this.checkFocusIn(e)},e.prototype.preventLastFocusIn=function(){this.raf&&cancelAnimationFrame(this.raf)},e.prototype.checkFocusIn=function(e){var t=e.getScope(),n=this.direction,r=this.lastActiveElement,i=g();if(this.lastActiveElement=i,this.direction=h.None,i&&g()!==document.body&&!y(t,i)){var o=f(t,(function(e){return!_(e)})),a=o.indexOf(i);if(0===o.length)this.focusScope(t);else if(-1===a){E(o[(function(e,t,n){return-1===e?0:t>0?(t+e+n)%t:-1})(r?o.indexOf(r):-1,o.length,n)])}}},e.prototype.attachEvents=function(){document.addEventListener("focusin",this.onDocumentFocusIn,!0),document.addEventListener("keydown",this.onDocumentKeyDown,!0),document.addEventListener("mousedown",this.onMouseDown,!0)},e.prototype.detachEvents=function(){document.removeEventListener("focusin",this.onDocumentFocusIn,!0),document.removeEventListener("keydown",this.onDocumentKeyDown,!0),document.removeEventListener("mousedown",this.onMouseDown,!0)},e.prototype.onDocumentFocusIn=function(){var e=this;this.raf=requestAnimationFrame((function(){e.checkFocusInCurrentScope()}))},e.prototype.onDocumentKeyDown=function(e){"Tab"!==e.key||e.altKey||e.ctrlKey||e.metaKey||(this.direction=e.shiftKey?h.Backward:h.Forward)},e.prototype.onMouseDown=function(){this.direction=h.None},e})(),C=(function(){function e(e,t,n){void 0===n&&(n={}),this.options={autoFocus:!0},this.active=!1,this.cleanupFns=[],this.manager=e,this.scope=t,this.setOptions(n)}return e.prototype.getScope=function(){return this.scope},e.prototype.activate=function(){this.active||(this.active=!0,this.attachGuards(),this.activateInManager())},e.prototype.deactivate=function(){this.active&&(this.active=!1,this.cleanupFns.forEach((function(e){return e()})),this.cleanupFns=[])},e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(e){this.options=Object(p.__assign)(Object(p.__assign)({},this.options),e)},e.prototype.attachGuards=function(){var e=b(1),t=b(0);this.scope.insertAdjacentElement("beforebegin",e),this.scope.insertAdjacentElement("afterend",t),this.cleanupFns.push((function(){O(e),O(t)}))},e.prototype.activateInManager=function(){var e=this;this.manager.activate(this),this.cleanupFns.push((function(){e.manager.deactivate(e)}))},e})();var x=n(1879),k=n(82);function T(e){var t=e.scopeRef,n=e.enabled,i=e.restoreFocusRef,o=e.restoreFocus,a=void 0===o||o,s=e.autoFocus,u=void 0===s||s,c=Object(r.useRef)(null),l=Object(r.useRef)(null),d=Object(r.useMemo)((function(){return{autoFocus:u}}),[u]);Object(r.useEffect)((function(){c.current&&c.current.setOptions(d)}),[d]),Object(x.a)((function(){l.current!==t.current&&(l.current=t.current,c.current&&(c.current.deactivate(),c.current=null),l.current&&(c.current=(function(e,t){void 0===t&&(t={});var n=S.getInstance();return new C(n,e,t)})(l.current,d),n&&c.current.activate()))})),Object(x.a)((function(){if(n&&c.current)return c.current.activate(),function(){c.current&&c.current.deactivate()}}),[n]),(function(e){var t=e.enabled,n=e.restoreFocusRef,i=Object(r.useRef)(null),o=Object(r.useRef)(null);t&&!i.current&&(i.current=Object(k.a)()?document.activeElement:null),Object(r.useEffect)((function(){o.current=n?n.current:null})),Object(r.useEffect)((function(){if(t)return function(){var e=o.current||i.current;i.current=null,o.current=null,e&&e.focus&&document.body.contains(e)&&e!==document.activeElement&&e.focus()}}),[t])})({enabled:n&&a,restoreFocusRef:i})}n.d(t,"a",(function(){return T}))}),(function(e,t,n){"use strict";var r=/[^a-zа-яё0-9]/i,i=/['"()<>]/g,o=/^[a-zа-яё0-9]/i,a=/[A-ZА-ЯЁ]/g;var s=function(e){if(e&&(e=(e=String(e)).replace(i,""))){var t=e.split(r),n=t[0].match(a)||[];return n.length&&e.charAt(0).match(a)&&(n=n.slice(1)),(e=-1!==e.indexOf("@")&&o.test(e)?e.charAt(0):2===t[0].length?t[0]:n.length?t[0].charAt(0)+n[0]:t.length>1?t[0].charAt(0)+t[1].charAt(0):t[0].charAt(0)).toUpperCase()}},u=[128,128,128];var c=function(e){e=String(e).trim();for(var t="",n=0;n<e.length;n++)t+=e.charCodeAt(n);for(var r="#",i=0;i<3;i++){var o=Math.abs(1e4*Math.sin(Number(t+i)))%256,a=Math.round((o+u[i])/2).toString(16);1===a.length&&(a="0"+a),r+=a}return r};n.d(t,"a",(function(){return l}));var l=function(e){var t,n=e.type,r=e.name;return"group"!==n&&"department"!==n&&(t=s(r)),(function(e){var t=e.fill,n=e.initials,r=['<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80">',"<g>",t?'<rect height="100%" width="100%" fill="'.concat(t,'"/>'):""].concat(n?['<text y="52.32542" x="41.423134" style="text-rendering:optimizeLegibility;font-size:36px;font-family:sans-serif;text-anchor:middle;fill:#fff;">',unescape(encodeURIComponent(n)),"</text>"]:['<g fill="#fff">','<path d="M42.1 56.8c-6.3-3.3-9.6-5.7-10.2-7.2 0-.3-.3-.6-.3-.6-.6-1.2-1.5-3.6.9-5.1 1.2-1.2 3.6-10.2 3-14.7-.3-3.6-6.6-3.6-6.6-3.6s-6.3 0-6.6 3.6c-.6 4.5 2.1 13.8 3 14.7 2.4 1.5 1.5 3.9.9 5.1 0 .3-.3.6-.3.6-.6 1.5-3.9 3.9-10.2 7.2l-1.5-2.7c3.9-2.1 8.1-4.8 8.7-5.7 0-.3.3-.6.3-.9.3-.3.6-1.2.3-1.2-2.7-1.8-5.1-12.6-4.5-17.7.6-6.3 9.3-6.3 9.6-6.3.3 0 9 0 9.6 6.3.6 5.1-1.8 16.2-4.5 17.7-.3.3 0 .9.3 1.5 0 .3.3.6.3.9.6.6 4.8 3.6 8.7 5.7l-.9 2.4z"/>','<path d="M52.6 56.8c-6.3-3.3-9.6-5.7-10.2-7.2 0-.3-.3-.6-.3-.6-.6-1.2-1.5-3.6.9-5.1 1.2-1.2 3.6-10.2 3-14.7-.3-3.6-6.6-3.6-6.6-3.6v-3c.3 0 9 0 9.6 6.3.6 5.1-1.8 16.2-4.5 17.7-.3.3 0 .9.3 1.5 0 .3.3.6.3.9.6.6 4.8 3.6 8.7 5.7l-1.2 2.1z"/>','<path d="M62.8 56.8c-6.3-3.3-9.6-5.7-10.2-7.2 0-.3-.3-.6-.3-.6-.6-1.2-1.5-3.6.9-5.1 1.2-1.2 3.6-10.2 3-14.7-.3-3.6-6.6-3.6-6.6-3.6v-3c.3 0 9 0 9.6 6.3.6 5.1-1.8 16.2-4.5 17.7-.3.3 0 .9.3 1.5 0 .3.3.6.3.9.6.6 4.8 3.6 8.7 5.7l-1.2 2.1z"/>',"</g>"]).concat(["</g>","</svg>"]).join("");return"data:image/svg+xml;base64,"+btoa(r)})({fill:c(t),initials:t})}}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=n.n(i),a=n(28),s=n(1885),u=n(663),c=n(1847),l=n(1845),d=(n(1015),Object(a.cn)("Modal")),f=function(e){var t=e.children,n=e.className,a=e.contentVerticalAlign,f=void 0===a?"middle":a,h=e.hasAnimation,p=void 0===h||h,m=e.innerRef,v=e.keepMounted,g=e.onClose,y=e.preventBodyScroll,b=void 0===y||y,_=e.scope,O=e.visible,w=e.zIndex,E=e.trapFocus,S=void 0===E||E,C=e.autoFocus,x=void 0===C||C,k=e.restoreFocus,T=void 0===k||k,j=e.restoreFocusRef,R=e.ariaLabelledBy,P=Object(r.__rest)(e,["children","className","contentVerticalAlign","hasAnimation","innerRef","keepMounted","onClose","preventBodyScroll","scope","visible","zIndex","trapFocus","autoFocus","restoreFocus","restoreFocusRef","ariaLabelledBy"]),D=Object(i.useRef)(null);return Object(s.a)({enabled:b&&O}),Object(u.a)({enabled:S&&O,scopeRef:D,autoFocus:x,restoreFocus:T,restoreFocusRef:j}),Object(c.a)({visible:O,onClose:g,essentialRefs:[D],unsafe_strategy:"pressup"}),o.a.createElement(l.a,{scope:_,visible:O,keepMounted:v},o.a.createElement("div",Object(r.__assign)({},P,{ref:m,className:d({visible:O,hasAnimation:p},[n]),style:{zIndex:w}}),o.a.createElement("div",{className:d("Overlay")}),o.a.createElement("div",{className:d("Wrapper")},o.a.createElement("div",{className:d("Table")},o.a.createElement("div",{className:d("Cell",{align:f})},o.a.createElement("div",{ref:D,className:d("Content"),tabIndex:-1,role:"dialog","aria-labelledby":R,"aria-modal":!0},t))))))};f.displayName=d();var h=n(6),p=(n(1016),Object(h.withBemMod)(d(),{theme:"normal"}));n(1017);n.d(t,"cnModal",(function(){return d})),n.d(t,"Modal",(function(){return f})),n.d(t,"withThemeNormal",(function(){return p}))}),(function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),d=n(5),f=n.n(d),h=n(7),p=n.n(h),m=n(1),v=n.n(m),g=n(74),y=n(57),b=n(60),_=n(27),O=n.n(_),w=n(15);function E(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var S=(function(e){f()(n,e);var t=E(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"getViewBox",value:function(){switch(this.props.type){case"be":case"ka":case"az":case"uz":case"hy":case"ro":case"kk":return"0 0 640 480";default:return null}}},{key:"getContentSVG",value:function(){switch(this.props.type){case"en":return i.a.createElement("g",null,i.a.createElement("path",{d:"M0 2h16v12H0z",fill:"#003671"}),i.a.createElement("path",{fill:"#FFF",d:"M15.982 2.01h-1.945l-3.995 2.985V2H5.959v3.01l-4.01-2.998H.02v1.456l3.372 2.536H.02V10h3.372L.02 12.535v1.457h1.929l4.01-2.998v3.01h4.083v-2.995l3.995 2.985h1.945v-1.457l-3.388-2.535h3.388V6.006h-3.388l3.388-2.536z"}),i.a.createElement("g",{fill:"#DC2F34"},i.a.createElement("path",{d:"M15.418 13.99l-5.314-3.992h1.845l4.03 3.04v.952zM.582 13.99l5.314-3.992H4.051l-4.03 3.04v.952zM5.896 6L.557 2.005H.018v.954L4.07 6zM10.1 5.995L15.438 2h.54v.954l-4.052 3.041z"}),i.a.createElement("path",{d:"M15.982 6.958h-6.94V2.001H6.917v4.957H.018v2.126h6.899V14h2.125V9.084h6.94z"})));case"ru":return i.a.createElement("g",null,i.a.createElement("path",{fill:"#FFF",d:"M0 2h16v4H0z"}),i.a.createElement("path",{fill:"#E03A3E",d:"M0 10h16v4H0z"}),i.a.createElement("path",{fill:"#00539F",d:"M0 6h16v4H0z"}));case"tr":return i.a.createElement("g",null,i.a.createElement("path",{fill:"#E62126",d:"M0 2h16v12H0z"}),i.a.createElement("g",{fill:"#FFF"},i.a.createElement("path",{d:"M7.856 9.565a2.968 2.968 0 0 1-2.518 1.389 2.96 2.96 0 0 1-2.966-2.953 2.96 2.96 0 0 1 2.966-2.954 2.97 2.97 0 0 1 2.518 1.389 2.266 2.266 0 0 0-1.634-.693 2.263 2.263 0 0 0-2.268 2.258 2.263 2.263 0 0 0 2.268 2.258 2.262 2.262 0 0 0 1.634-.693"}),i.a.createElement("path",{d:"M7.583 7.92l1.353-1.353 1.352 1.352-1.353 1.353z"})));case"uk":return i.a.createElement("g",null,i.a.createElement("path",{fill:"#FFF200",d:"M0 8h16v6H0z"}),i.a.createElement("path",{fill:"#007CC3",d:"M0 2h16v6H0z"}));case"tt":return i.a.createElement("g",null,i.a.createElement("rect",{fill:"#008000",width:"16",height:"6",y:"1"}),i.a.createElement("rect",{fill:"#FFF",width:"16",height:"2",y:"7"}),i.a.createElement("rect",{fill:"#F00",width:"16",y:"9",height:"6"}));case"be":return i.a.createElement("g",null,i.a.createElement("defs",null,i.a.createElement("clipPath",{id:"by-flag"},i.a.createElement("path",{fillOpacity:".7",d:"M0 0h682.6v512H0z"}))),i.a.createElement("g",{fillRule:"evenodd",clipPath:"url(#by-flag)",transform:"scale(.9376 .9375)"},i.a.createElement("path",{fill:"#b20000",d:"M0 0h1024v340.1H0z"}),i.a.createElement("path",{fill:"#429f00",d:"M0 340.1h1024V512H0z"}),i.a.createElement("path",{fill:"#fff",d:"M0 0h113.4v512H0z"}),i.a.createElement("g",{fill:"#b20000",strokeWidth:"1pt"},i.a.createElement("path",{d:"M5.4 8.7h5.4v8.7H5.4zm16.2 0h16.2v8.7H21.6zM27 0h5.4v8.7H27zm27 0h5.4v8.7H54zm21.6 8.7h16.2v8.7H75.6zM81 0h5.4v8.7H81zM16.2 17.4H27V26H16.2zm16.2 0h10.8V26H32.4zm37.8 0H81V26H70.2zm16.2 0h10.8V26H86.4zM10.8 26h10.8v8.7H10.8zm27 0h10.8v8.7H37.8zm27 0h10.8v8.7H64.8zm27 0h10.8v8.7H91.8zm10.8-17.3h5.4v8.7h-5.4zm-97.2 26h10.8v8.7H5.4zm37.8 0H54v8.7H43.2zm54 0H108v8.7H97.2zm-86.4 26h10.8v8.7H10.8zm5.4 8.7H27v8.7H16.2zm21.6-8.6h10.8v8.6H37.8zm-5.4 8.6h10.8v8.7H32.4zm-10.8 8.7h16.2v8.7H21.6z"}),i.a.createElement("path",{d:"M27 86.8h5.4v8.7H27zm37.8-26h10.8v8.6H64.8zm5.4 8.6H81v8.7H70.2zm21.6-8.6h10.8v8.6H91.8zm-5.4 8.6h10.8v8.7H86.4zm-10.8 8.7h16.2v8.7H75.6zm5.4 8.7h5.4v8.7H81zM54 78h5.4v8.7H54zM0 78h5.4v8.7H0zm108 0h5.4v8.7H108zm-81 43.4h5.4v8.7H27zm-5.4 8.8h16.2v8.6H21.6zm-5.4 8.6h27v8.7h-27zM81 121.5h5.4v8.7H81zm-5.4 8.7h16.2v8.6H75.6zm-5.4 8.6h27v8.7h-27zm5.4 43.4h27v8.7h-27zm-10.8-34.7h37.8v8.7H64.8zm-54 0h37.8v8.7H10.8zm5.4 43.4h16.2v8.7H16.2zm-5.4-8.7h27v8.7h-27zM86.4 165h27v8.7h-27zM81 191h16.2v8.7H81z"}),i.a.createElement("path",{d:"M21.6 199.6H27v8.7h-5.4zm64.8 0h5.4v8.7h-5.4zM0 164.9h27v8.7H0zm48.6 17.3h16.2v8.7H48.6zM54 191h5.4v8.7H54zm-16.2-26h37.8v8.7H37.8zM59.4 34.7h10.8v8.7H59.4zm-10.8 8.7h16.2v8.7H48.6zm-5.4 8.7H54v8.6H43.2zm16.2 0h10.8v8.6H59.4zM0 43.4h10.8v8.7H0zm5.4 8.7h10.8v8.6H5.4zm97.2-8.7h10.8V52h-10.8zM97.2 52H108v8.6H97.2zM0 130h5.4v8.7H0zm108 0h5.4v8.7H108zm-59.4 69.5h16.2v8.7H48.6zm-5.4 8.7H54v8.6H43.2zm16.2 0h10.8v8.6H59.4zm-21.6 8.6h10.8v8.7H37.8zm27 0h10.8v8.7H64.8zm-32.4 8.7h10.8v8.7H32.4zm37.8 0H81v8.7H70.2zM27 234.3h10.8v8.7H27zm48.6 0h10.8v8.7H75.6zM16.2 243h16.2v8.7H16.2zm64.8 0h16.2v8.7H81zm10.8-8.7h10.8v8.7H91.8zm5.4-8.7H108v8.7H97.2zm5.4-8.7h10.8v8.7h-10.8zm-91.8 17.4h10.8v8.7H10.8zm-5.4-8.7h10.8v8.7H5.4zM0 217h10.8v8.7H0zm21.6 34.8H27v8.6h-5.4zm64.8 0h5.4v8.6h-5.4zm-32.4-26h5.4v8.6H54zm-16.2 26h5.4v8.6h-5.4zm32.4 0h5.4v8.6h-5.4zm-16.2 0h5.4v8.6H54zm-54 0h5.4v8.6H0zm108 0h5.4v8.6H108zM54 130.2h5.4v8.6H54zM27 43.4h5.4v8.7H27zm54 0h5.4v8.7H81zm-32.4 60.7h16.2v8.7H48.6zm-10.8 8.7H54v8.7H37.8zm5.4 8.7h5.4v8.7h-5.4zm-10.8-17.4h10.8v8.7H32.4zm5.4-8.6H54v8.6H37.8zm5.4-8.7h5.4v8.7h-5.4zm16.2 8.7h16.2v8.6H59.4zm5.4-8.7h5.4v8.7h-5.4zm5.4 17.3H81v8.7H70.2zm-10.8 8.7h16.2v8.7H59.4zm5.4 8.7h5.4v8.7h-5.4zm21.6-17.4h10.8v8.7H86.4zm5.4-8.6H108v8.6H91.8zm10.8 8.6h10.8v8.7h-10.8zm-10.8 8.7H108v8.7H91.8zm5.4 8.7h5.4v8.7h-5.4zm0-34.7h5.4v8.7h-5.4zM0 104h10.8v8.7H0zm5.4-8.6h16.2v8.6H5.4zm10.8 8.6H27v8.7H16.2zm-10.8 8.7h16.2v8.7H5.4z"}),i.a.createElement("path",{d:"M10.8 121.5h5.4v8.7h-5.4zm0-34.7h5.4v8.7h-5.4zm-5.4 69.4H27v8.7H5.4zm27 0H54v8.7H32.4zm27 0H81v8.7H59.4zm27 0H108v8.7H86.4zm-43.2 17.4h27v8.6h-27zm-37.8 0h27v8.6h-27zm75.6 0h27v8.6H81zm27 34.7h5.4v8.6H108zm-108 0h5.4v8.6H0zm5.4 295h5.4v-8.6H5.4zm16.2 0h16.2v-8.6H21.6zM27 512h5.4v-8.7H27zm27 0h5.4v-8.7H54zm21.6-8.7h16.2v-8.7H75.6zM81 512h5.4v-8.7H81zm-64.8-17.4H27V486H16.2zm16.2 0h10.8V486H32.4zm37.8 0H81V486H70.2zm16.2 0h10.8V486H86.4zM37.8 486h10.8v-8.7H37.8zm27 0h10.8v-8.7H64.8zm27 0h10.8v-8.7H91.8zm10.8 17.3h5.4v-8.7h-5.4zm-97.2-26h10.8v-8.7H5.4zm37.8 0H54v-8.7H43.2zm54 0H108v-8.7H97.2zm-86.4-26h10.8v-8.7H10.8zm5.4-8.7H27v-8.7H16.2zm21.6 8.7h10.8v-8.7H37.8zm-5.4-8.7h10.8v-8.7H32.4zm-10.8-8.7h16.2v-8.7H21.6zm5.4-8.7h5.4v-8.6H27zm37.8 26h10.8v-8.6H64.8zm5.4-8.6H81v-8.7H70.2zm21.6 8.7h10.8v-8.7H91.8zm-5.4-8.7h10.8v-8.7H86.4zm-10.8-8.7h16.2v-8.7H75.6zm5.4-8.7h5.4v-8.6H81zM54 434h5.4v-8.7H54zm-54 0h5.4v-8.7H0zm108 0h5.4v-8.7H108zm-81-43.4h5.4v-8.7H27zm-5.4-8.8h16.2v-8.6H21.6zm-5.4-8.6h27v-8.7h-27zM81 390.5h5.4v-8.7H81z"}),i.a.createElement("path",{d:"M75.6 381.8h16.2v-8.6H75.6zm-5.4-8.6h27v-8.7h-27zm5.4-43.4h27V321h-27zm-10.8 34.7h37.8v-8.7H64.8zm-54 0h37.8v-8.7H10.8zm5.4-43.4h16.2v-8.7H16.2zm-5.4 8.7h27V321h-27zM86.4 347h27v-8.7h-27zM81 321h16.2v-8.7H81zM0 347h27v-8.7H0zm48.6-17.3h16.2V321H48.6zM54 321h5.4v-8.7H54zm-16.2 26h37.8v-8.7H37.8zm21.6 130.2h10.8v-8.7H59.4zm-10.8-8.7h16.2V460H48.6zm-5.4-8.7H54v-8.7H43.2zm16.2 0h10.8v-8.7H59.4zM0 468.6h10.8V460H0zm5.4-8.7h10.8v-8.6H5.4zm97.2 8.7h10.8V460h-10.8zm-5.4-8.7H108v-8.6H97.2zM0 382h5.4v-8.7H0zm108 0h5.4v-8.7H108zm-64.8-78.2H54v-8.6H43.2zm16.2 0h10.8v-8.6H59.4zm-21.6-8.6h10.8v-8.7H37.8zm27 0h10.8v-8.7H64.8zm-32.4-8.7h10.8v-8.7H32.4zm37.8 0H81v-8.7H70.2zM27 277.7h10.8V269H27zm48.6 0h10.8V269H75.6zM16.2 269h16.2v-8.7H16.2zm64.8 0h16.2v-8.7H81zm10.8 8.7h10.8V269H91.8zm5.4 8.7H108v-8.7H97.2zm5.4 8.7h10.8v-8.7h-10.8zm-91.8-17.4h10.8V269H10.8zm-5.4 8.7h10.8v-8.7H5.4zM0 295h10.8v-8.7H0zm21.6-34.8H27v-8.6h-5.4zm32.4 26h5.4v-8.6H54zm0 95.5h5.4v-8.6H54zm-27 86.8h5.4V460H27zm54 0h5.4V460H81zM48.6 408h16.2v-8.7H48.6zm-10.8-8.7H54v-8.7H37.8zm5.4-8.7h5.4v-8.7h-5.4zM32.4 408h10.8v-8.7H32.4zm5.4 8.5H54V408H37.8zm5.4 8.7h5.4v-8.6h-5.4zm16.2-8.7h16.2V408H59.4zm5.4 8.7h5.4v-8.6h-5.4zm5.4-17.3H81v-8.7H70.2zm-10.8-8.7h16.2v-8.7H59.4zm5.4-8.7h5.4v-8.7h-5.4zM86.4 408h10.8v-8.7H86.4zm5.4 8.5H108V408H91.8zm10.8-8.6h10.8v-8.7h-10.8zm-10.8-8.7H108v-8.7H91.8zm5.4-8.7h5.4v-8.7h-5.4zm0 34.7h5.4v-8.6h-5.4zM0 408h10.8v-8.7H0zm5.4 8.5h16.2V408H5.4z"}),i.a.createElement("path",{d:"M16.2 407.9H27v-8.7H16.2zm-10.8-8.7h16.2v-8.7H5.4zm5.4-8.7h5.4v-8.7h-5.4zm0 34.7h5.4v-8.6h-5.4zm-5.4-69.4H27v-8.7H5.4zm27 0H54v-8.7H32.4zm27 0H81v-8.7H59.4zm27 0H108v-8.7H86.4zm-43.2-17.4h27v-8.6h-27zm-37.8 0h27v-8.6h-27zm75.6 0h27v-8.6H81zm27-34.6h5.4V295H108zm-108 0h5.4V295H0zm48.6-43.5H54v8.7h-5.4zm10.8 0h5.4v8.7h-5.4zm0-17.3h5.4v8.7h-5.4zm-10.8 0H54v8.7h-5.4zM10.8 477.3h10.8v8.7H10.8zm75.6-164.9h5.4v-8.7h-5.4zm-64.8 0H27v-8.7h-5.4zm27-8.7h16.2v8.7H48.6z"}))));case"ka":return i.a.createElement("g",null,i.a.createElement("path",{fill:"#fff",d:"M0 0h640v480H0z"}),i.a.createElement("path",{fill:"red",d:"M272 0h96v480h-96z"}),i.a.createElement("path",{fill:"red",d:"M0 192h640v96H0z"}),i.a.createElement("path",{fill:"red",fillRule:"evenodd",d:"M146.8 373.1c1-16.8 4-31.1 4-31.1s-9.8 1-14.8 1c-4.9 0-14.8-1-14.8-1s3 14.3 4 31.2c-16.9-1-31.2-4-31.2-4s1 7.4 1 14.8-1 14.8-1 14.8 14.3-3 31.2-4c-1 16.9-4 31.2-4 31.2s7.4-1 14.8-1 14.8 1 14.8 1-3-14.3-4-31.2c16.9 1 31.2 4 31.2 4s-1-9.8-1-14.8c0-4.9 1-14.8 1-14.8s-14.3 3-31.1 4zm368-288c1-16.8 4-31.1 4-31.1s-9.8 1-14.8 1c-4.9 0-14.8-1-14.8-1s3 14.3 4 31.1c-16.9-1-31.2-3.9-31.2-3.9s1 7.4 1 14.8-1 14.8-1 14.8 14.3-3 31.2-4c-1 16.9-4 31.2-4 31.2s7.4-1 14.8-1 14.8 1 14.8 1-3-14.3-4-31.1c16.9 1 31.2 4 31.2 4s-1-10-1-14.9 1-14.8 1-14.8-14.3 3-31.2 4zm-368 0c1-16.8 4-31.1 4-31.1s-9.8 1-14.8 1c-4.9 0-14.8-1-14.8-1s3 14.3 4 31.2c-16.9-1-31.2-4-31.2-4s1 7.4 1 14.8-1 14.8-1 14.8 14.3-3 31.2-4c-1 16.9-4 31.2-4 31.2s7.4-1 14.8-1 14.8 1 14.8 1-3-14.3-4-31.2c16.9 1 31.2 4 31.2 4s-1-9.8-1-14.8c0-4.9 1-14.8 1-14.8s-14.3 3-31.1 4zm368 288c1-16.8 4-31.1 4-31.1s-9.8 1-14.8 1c-4.9 0-14.8-1-14.8-1s3 14.3 4 31.2c-16.9-1-31.2-4-31.2-4s1 7.4 1 14.8-1 14.8-1 14.8 14.3-3 31.2-4c-1 16.9-4 31.2-4 31.2s7.4-1 14.8-1 14.8 1 14.8 1-3-14.3-4-31.2c16.9 1 31.2 4 31.2 4s-1-9.8-1-14.8c0-4.9 1-14.8 1-14.8s-14.3 3-31.2 4z"}));case"az":return i.a.createElement("g",null,i.a.createElement("path",{fill:"#3f9c35",d:"M.1 0h640v480H.1z"}),i.a.createElement("path",{fill:"#ed2939",d:"M.1 0h640v320H.1z"}),i.a.createElement("path",{fill:"#00b9e4",d:"M.1 0h640v160H.1z"}),i.a.createElement("circle",{cx:"304",cy:"240",r:"72",fill:"#fff"}),i.a.createElement("circle",{cx:"320",cy:"240",r:"60",fill:"#ed2939"}),i.a.createElement("path",{fill:"#fff",d:"M384 200l7.7 21.5 20.6-9.8-9.8 20.7L424 240l-21.5 7.7 9.8 20.6-20.6-9.8L384 280l-7.7-21.5-20.6 9.8 9.8-20.6L344 240l21.5-7.7-9.8-20.6 20.6 9.8L384 200z"}));case"uz":return i.a.createElement("g",null,i.a.createElement("path",{fill:"#1eb53a",d:"M0 320h640v160H0z"}),i.a.createElement("path",{fill:"#0099b5",d:"M0 0h640v160H0z"}),i.a.createElement("path",{fill:"#ce1126",d:"M0 153.6h640v172.8H0z"}),i.a.createElement("path",{fill:"#fff",d:"M0 163.2h640v153.6H0z"}),i.a.createElement("circle",{cx:"134.4",cy:"76.8",r:"57.6",fill:"#fff"}),i.a.createElement("circle",{cx:"153.6",cy:"76.8",r:"57.6",fill:"#0099b5"}),i.a.createElement("g",{fill:"#fff",transform:"matrix(1.92 0 0 1.92 261.1 122.9)"},i.a.createElement("g",{id:"uz-e"},i.a.createElement("g",{id:"uz-d"},i.a.createElement("g",{id:"uz-c"},i.a.createElement("g",{id:"uz-b"},i.a.createElement("path",{id:"uz-a",d:"M0-6L-1.9-.3 1 .7"}),i.a.createElement("use",{width:"100%",height:"100%",transform:"scale(-1 1)",xlinkHref:"#uz-a"})),i.a.createElement("use",{width:"100%",height:"100%",transform:"rotate(72)",xlinkHref:"#uz-b"})),i.a.createElement("use",{width:"100%",height:"100%",transform:"rotate(-72)",xlinkHref:"#uz-b"}),i.a.createElement("use",{width:"100%",height:"100%",transform:"rotate(144)",xlinkHref:"#uz-c"})),i.a.createElement("use",{width:"100%",height:"100%",y:"-24",xlinkHref:"#uz-d"}),i.a.createElement("use",{width:"100%",height:"100%",y:"-48",xlinkHref:"#uz-d"})),i.a.createElement("use",{width:"100%",height:"100%",x:"24",xlinkHref:"#uz-e"}),i.a.createElement("use",{width:"100%",height:"100%",x:"48",xlinkHref:"#uz-e"}),i.a.createElement("use",{width:"100%",height:"100%",x:"-48",xlinkHref:"#uz-d"}),i.a.createElement("use",{width:"100%",height:"100%",x:"-24",xlinkHref:"#uz-d"}),i.a.createElement("use",{width:"100%",height:"100%",x:"-24",y:"-24",xlinkHref:"#uz-d"})));case"hy":return i.a.createElement("g",null,i.a.createElement("path",{fill:"red",d:"M0 0h640v160H0z"}),i.a.createElement("path",{fill:"#00f",d:"M0 160h640v160H0z"}),i.a.createElement("path",{fill:"orange",d:"M0 320h640v160H0z"}));case"ro":return i.a.createElement("g",{fillRule:"evenodd",strokeWidth:"1pt"},i.a.createElement("path",{fill:"#00319c",d:"M0 0h213.3v480H0z"}),i.a.createElement("path",{fill:"#ffde00",d:"M213.3 0h213.4v480H213.3z"}),i.a.createElement("path",{fill:"#de2110",d:"M426.7 0H640v480H426.7z"}));case"kk":return i.a.createElement("g",{fillRule:"evenodd"},i.a.createElement("path",{fill:"#6fdcff",d:"M0 0h640v480H0z"}),i.a.createElement("g",{fill:"#ffe400"},i.a.createElement("path",{d:"M60.2 467c3.3 3.2 2.2 8.5 11.3 7.8 13.8 0 14.2-8.4 14.2-14.3S65 446.4 64 437.7c-1-8.7 4.8-11 9.6-11 4.7 0 8 2.7 8 5.1S79.4 435 76 435s1.5-1.7-1.4-3-4.8 2-4.8 4c0 2.2 7.2 2.8 12 1.3 1 4.7 1.4 5-5.3 13 4.8-3.1 5.2-3.8 10.5-2-5.3-4.6-1.3-13.8-1.2-16.1s-1-5.1-3-6.5c-3.9-3.5-12.2-3.7-17.2-1.4-7.3 3.2-7.7 12.8-5.8 16L80 460.7c1.4 2.4 2 9.2-6.6 9.5-9 .7-12.2-11.6-13.8-15.7-2.1 4.5-4.5 16.8-13.6 16.1-8.6-.3-10.2-7-8.8-9.5l20.7-21c2-3.2 1.6-12.8-5.7-16-5-2.3-13.3-2-17.1 1.4-2.2 1.4-3.4 4.1-3.2 6.5s4.1 11.5-1.1 16c5.2-1.7 5.7-1 10.5 2-6.7-7.9-6.2-8.2-5.3-13 4.8 1.6 12 1 12-1.1s-2-5.6-4.9-4.2c-2.8 1.4 2 3.1-1.4 3.1-3.3 0-5.7-.7-5.7-3s3.3-5.3 8.1-5.3 10.5 2.4 9.5 11.1-22 18.1-22 24c0 6 1.4 13.1 15.2 13.1 9 .7 10.1-4.6 13.4-7.8z"}),i.a.createElement("path",{d:"M59.1 343.3c3.3-3.2 6-12.6 15-12 13.8 0 19 7.7 19 13.6 0 5.9-28 54-29 62.7-1 8.7 4.8 11.1 9.5 11.1 4.8 0 8.1-2.7 8.1-5.2s-2.4-3-5.7-3 1.4 1.7-1.4 3-4.8-2-4.8-4.1c0-2.1 7.2-2.8 12-1.2.9-4.7 1.3-5-5.3-13 4.8 3 5.2 3.8 10.5 2-5.3 4.6-1.4 13.7-1.2 16s-1 5.2-3.1 6.6c-3.8 3.5-12.2 3.6-17.2 1.4-7.2-3.3-7.6-12.8-5.7-16L87 346.6c1.5-2.4-2.3-10.4-10.9-10.7-9-.7-12.1 8.8-13.7 12.9l12.3-1s.5 2 0 3.2a110 110 0 0 0-12.3 1.6l-.5 6.2h6l-.4 2.8s-5.1-.4-5.6 0c-.5.3-1 6.2-1 6.2s-1 .4-2 .4-2-.4-2-.4-.4-5.9-.9-6.2c-.5-.4-5.6 0-5.6 0l-.5-2.8H56l-.5-6.2s-6-1.2-12.3-1.6c-.4-1.2 0-3.1 0-3.1l12.3.9c-1.6-4.1-4.7-13.6-13.7-13-8.6.4-12.4 8.4-11 10.8L58 405.2c1.9 3.1 1.5 12.7-5.7 16-5 2.2-13.4 2-17.2-1.4-2.1-1.4-3.3-4.2-3.1-6.5s4-11.6-1.2-16c5.3 1.7 5.8 1 10.5-2.1-6.6 8-6.2 8.3-5.2 13 4.7-1.6 11.9-1 11.9 1.2 0 2-2 5.5-4.8 4.1-2.8-1.4 2-3-1.4-3-3.3 0-5.7.6-5.7 3s3.3 5.2 8 5.2 10.5-2.4 9.6-11c-1-8.7-29-57-29-62.8 0-6 5.2-13.5 19-13.5 9-.7 12.3 8.7 15.5 11.9z"}),i.a.createElement("path",{d:"M59.1 319.4c3.3 3.2 6 12.6 15 12 13.8 0 19-7.7 19-13.6 0-5.9-28-54-29-62.7-1-8.7 4.8-11.1 9.5-11.1 4.8 0 8.1 2.7 8.1 5.2s-2.4 3-5.7 3 1.4-1.6-1.4-3-4.8 2-4.8 4.1c0 2.1 7.2 2.8 12 1.2.9 4.7 1.3 5-5.3 13 4.8-3 5.2-3.8 10.5-2-5.3-4.6-1.4-13.7-1.2-16s-1-5.2-3.1-6.6c-3.8-3.4-12.2-3.6-17.2-1.4-7.2 3.3-7.6 12.8-5.7 16L87 316c1.5 2.4-2.3 10.4-10.9 10.7-9 .7-12.1-8.8-13.7-12.9l12.3 1s.5-2 0-3.2a110 110 0 0 1-12.3-1.6l-.5-6.2h6l-.4-2.8s-5.1.4-5.6 0c-.5-.3-1-6.2-1-6.2s-1-.4-2-.4-2 .4-2 .4-.4 5.9-.9 6.2c-.5.4-5.6 0-5.6 0l-.5 2.8H56l-.5 6.2s-6 1.2-12.3 1.6c-.4 1.2 0 3.1 0 3.1l12.3-.9c-1.6 4.1-4.7 13.6-13.7 13-8.6-.4-12.4-8.4-11-10.8L58 257.5c1.9-3.2 1.5-12.7-5.7-16-5-2.2-13.4-2-17.2 1.4-2.1 1.4-3.3 4.2-3.1 6.5s4 11.5-1.2 16c5.3-1.7 5.8-1 10.5 2.1-6.6-8-6.2-8.3-5.2-13 4.7 1.6 11.9 1 11.9-1.2 0-2-2-5.5-4.8-4.1-2.8 1.4 2 3-1.4 3-3.3 0-5.7-.6-5.7-3s3.3-5.2 8-5.2 10.5 2.4 9.6 11c-1 8.7-29 57-29 62.8 0 6 5.2 13.5 19 13.5 9 .7 12.3-8.7 15.5-11.9z"}),i.a.createElement("path",{d:"M59.1 160.6c3.3-3.2 6-12.6 15-12 13.8 0 19 7.7 19 13.6 0 5.9-28 54-29 62.8-1 8.6 4.8 11 9.5 11 4.8 0 8.1-2.7 8.1-5.1s-2.4-3.2-5.7-3.2 1.4 1.8-1.4 3.2-4.8-2.1-4.8-4.2c0-2 7.2-2.8 12-1.2.9-4.7 1.3-5-5.3-13 4.8 3.1 5.2 3.8 10.5 2-5.3 4.6-1.4 13.8-1.2 16s-1 5.2-3.1 6.6c-3.8 3.5-12.2 3.6-17.2 1.4-7.2-3.3-7.6-12.8-5.7-16L87 164c1.5-2.4-2.3-10.4-10.9-10.7-9-.7-12.1 8.8-13.7 12.9l12.3-1s.5 2 0 3.2c-6.4.4-12.3 1.6-12.3 1.6l-.5 6.2h6l-.4 2.8s-5.1-.3-5.6 0-1 6.3-1 6.3-1 .3-2 .3-2-.3-2-.3-.4-6-.9-6.3c-.5-.3-5.6 0-5.6 0l-.5-2.8H56l-.5-6.2s-6-1.2-12.3-1.6c-.4-1.2 0-3.1 0-3.1l12.3.9c-1.6-4.1-4.7-13.6-13.7-13-8.6.4-12.4 8.4-11 10.8L58 222.5c1.9 3.2 1.5 12.7-5.7 16-5 2.2-13.4 2-17.2-1.4-2.1-1.4-3.3-4.2-3.1-6.5s4-11.5-1.2-16c5.3 1.7 5.8 1 10.5-2.1-6.6 8-6.2 8.3-5.2 13 4.7-1.6 11.9-.9 11.9 1.2 0 2-2 5.5-4.8 4.1-2.8-1.3 2-3-1.4-3-3.3 0-5.7.6-5.7 3s3.3 5.2 8 5.2 10.5-2.4 9.6-11c-1-8.7-29-56.9-29-62.8 0-5.9 5.2-13.5 19-13.5 9-.7 12.3 8.7 15.5 12z"}),i.a.createElement("path",{d:"M59.1 136.7c3.3 3.2 6 12.7 15 12 13.8 0 19-7.7 19-13.6 0-5.9-28-54-29-62.7-1-8.7 4.8-11.1 9.5-11.1 4.8 0 8.1 2.8 8.1 5.2s-2.4 3.1-5.7 3.1 1.4-1.7-1.4-3.1-4.8 2-4.8 4.1c0 2.1 7.2 2.8 12 1.2.9 4.7 1.3 5-5.3 13 4.8-3 5.2-3.8 10.5-2-5.3-4.5-1.4-13.7-1.2-16s-1-5.2-3.1-6.6c-3.8-3.4-12.2-3.6-17.2-1.3-7.2 3.2-7.6 12.8-5.7 15.9L87 133.4c1.5 2.4-2.3 10.4-10.9 10.8-9 .6-12.1-8.8-13.7-13l12.3 1s.5-2 0-3.2a111.5 111.5 0 0 1-12.3-1.5l-.5-6.3h6l-.4-2.8s-5.1.4-5.6 0c-.5-.3-1-6.2-1-6.2s-1-.4-2-.4-2 .4-2 .4-.4 5.9-.9 6.2c-.5.4-5.6 0-5.6 0l-.5 2.8H56l-.5 6.3s-6 1.1-12.3 1.5c-.4 1.3 0 3.2 0 3.2l12.3-1c-1.6 4.2-4.7 13.6-13.7 13-8.6-.4-12.4-8.4-11-10.8L58 74.8c1.9-3.1 1.5-12.7-5.7-16-5-2.2-13.4-2-17.2 1.4-2.1 1.4-3.3 4.2-3.1 6.5s4 11.6-1.2 16c5.3-1.7 5.8-1 10.5 2.1-6.6-8-6.2-8.3-5.2-13 4.8 1.6 11.9 1 11.9-1.2 0-2-2-5.5-4.8-4.1-2.8 1.4 2 3.1-1.4 3.1-3.3 0-5.7-.7-5.7-3.1s3.3-5.2 8-5.2 10.6 2.4 9.6 11c-1 8.7-29 57-29 62.8 0 6 5.2 13.6 19 13.6 9 .7 12.3-8.8 15.5-12z"}),i.a.createElement("path",{d:"M60.2 13c3.3-3.2 2.2-8.5 11.3-7.8 13.8 0 14.2 8.4 14.2 14.3S65 33.6 64 42.3c-1 8.7 4.8 11 9.6 11 4.7 0 8-2.7 8-5.1S79.4 45 76 45s1.5 1.7-1.4 3-4.8-2-4.8-4c0-2.2 7.2-2.9 12-1.3 1-4.7 1.4-5-5.3-13 4.8 3.1 5.2 3.8 10.5 2-5.3 4.6-1.3 13.8-1.2 16.1s-1 5.1-3 6.5c-4 3.7-12.3 3.7-17.3 1.5-7.3-3.2-7.7-12.8-5.8-16L80 19.3c1.4-2.4 2-9.2-6.6-9.5-9-.7-12.2 11.6-13.8 15.7C57.5 21 55.1 8.6 46 9.3c-8.6.3-10.2 7-8.8 9.5l20.7 21c2 3.2 1.6 12.8-5.7 16-5 2.3-13.3 2.1-17.1-1.4-2.2-1.4-3.4-4.1-3.2-6.5s4.1-11.5-1.1-16c5.2 1.7 5.7 1 10.4-2-6.6 7.9-6.1 8.2-5.2 13 4.8-1.6 12-1 12 1.1s-2 5.6-4.9 4.2c-2.8-1.4 2-3.1-1.4-3.1-3.3 0-5.7.7-5.7 3s3.3 5.3 8.1 5.3 10.5-2.4 9.5-11.1-22-18.1-22-24c0-6 1.4-13.1 15.2-13.1 9-.7 10.1 4.6 13.4 7.8z"})),i.a.createElement("g",{fill:"#ffe400",transform:"translate(-194.7 8.3) scale(1.0673)"},i.a.createElement("rect",{width:"170.2",height:"161.3",x:"425.9",y:"104.5",rx:"85.1",ry:"80.7"}),i.a.createElement("path",{d:"M507 56.4c-.8 0-4.6 26.8-6 32.8-1.4 13.5 18 13 14.8-.5L507 56.3zm6.8 259.8c.7 0 6.5-26.5 8.4-32.4 2.3-13.3-17.1-14-15-.4l6.6 32.8zM378.2 184.6c0 .7 27.9 6.3 34.1 8.1 14 2.3 15-16 .6-14l-34.7 6zm271.7 3.2c0-.7-28.2-5.3-34.5-6.9-14.1-1.7-14.2 16.6 0 14.1l34.5-7.2zM406.8 99.6c-.5.5 17.9 21.3 21.6 26.4 9.6 10 22.3-4 9.6-10.8l-31.2-15.5zm211.1 171c.5-.5-19.7-19.7-23.9-24.4-10.5-9.2-21.8 5.7-8.6 11.5l32.5 13zm-169-200c-.6.3 8 26.1 9.4 32.2 4.8 12.7 22.2 4.4 13.2-6.5L449 70.6zM572 303c.7-.3-6-26.6-6.9-32.7-3.9-13-21.8-6-13.7 5.6l20.7 27zm30.3-214.4c-.6-.5-22.8 16.6-28.2 20-10.7 9 3.8 21.2 11.2 9.3l17-29.3zm-183 193.7c.5.5 24-15 29.6-18.1 11.3-8.2-2.2-21.4-10.5-10l-19 28.1zm-35-144.1c-.3.6 24 14.7 29.3 18.4 12.5 6.5 19.8-10.5 5.5-13.2l-34.8-5.2zM638 236.6c.3-.6-23-16.3-28-20.3-12-7.4-20.5 9.1-6.4 12.7l34.4 7.6zM557.4 63.7c-.7-.2-14.6 23.4-18.3 28.5a7.8 7.8 0 0 0 14 4.7l4.3-33.2zM463.5 308c.7.3 16.3-22.4 20.3-27.3 7.3-11.6-10.4-19-13.7-5.6l-6.6 32.9zM386 238.7c.3.6 28-6 34.5-7 13.6-3.8 6-20.6-6-12.8L386 238.7zM638.1 136c-.2-.6-28.3 4.1-34.8 4.7-14 2.9-7.5 20.2 5 13.2l29.8-17.9z"}),i.a.createElement("path",{d:"M534.6 58.1c-.7-.1-10.1 25.4-12.9 31-4.1 13 15 16.2 14.7 2.4L534.7 58zM486.1 314c.7.2 12-24.7 15.2-30.2 5-12.6-13.8-17-14.5-3.3L486 314zm-9.7-253.4c-.7.2 1.9 27.2 1.9 33.4 1.9 13.3 20.6 8.7 14.4-3.7l-16.3-29.7zm68 251.9c.7-.1 0-27.2.5-33.4-.9-13.5-20-10.1-14.6 2.7l14 30.7zM428.2 83c-.6.4 12.7 24.3 15.2 30 7.2 11.7 22.7.7 11.8-8.6l-27-21.4zM593 290.9c.6-.4-11-25.2-13-31-6.3-12.1-22.5-2.1-12.4 7.8l25.4 23.2zM393 116.6c-.4.6 21.1 18.4 25.6 23 11.1 8.4 21.4-7.2 7.8-12.1L393 116.6zm234.2 139.7c.4-.6-19.7-19.8-23.9-24.6-10.4-9.1-21.8 5.8-8.6 11.6l32.5 13zm-249.6-97.8c-.2.7 26.3 10.8 32.1 13.7 13.4 4.5 17.7-13.4 3.1-13.8l-35.2.1zM645 216.3c.3-.6-25.4-12.4-31-15.7-13-5.4-18.7 12.2-4.2 13.6l35.2 2.1zM376.7 210c.1.6 28.7.2 35.2.7 14.2-.7 10.8-18.8-2.8-13.9L376.7 210zm270.2-45c0-.7-28.6-2.2-35-3.1-14.3-.2-12.2 18.1 1.7 14l33.3-11zm-245.7 98.4c.4.6 26-11.6 32-13.9 12.4-6.5 1-21.4-8.9-11.3l-23.1 25.2zm222.3-152.3c-.4-.6-26.7 9.9-33 11.8-12.9 5.7-2.6 21.3 8 11.9l25-23.7zM442.8 298.8c.6.3 18.9-20.5 23.5-24.9 8.7-10.7-8-20-12.9-7l-10.6 31.9zM582.5 75c-.5-.4-20.3 19.1-25.2 23.2-9.4 10.1 6.6 20.5 12.4 7.9L582.4 75z"}),i.a.createElement("g",{transform:"matrix(2.1824 0 0 2.0629 -405 -272.6)"},i.a.createElement("path",{d:"M360.1 247.9c.7 2.5.8 16.5 14.9 30 14 13.4 38 16.4 38 16.4s.1 1.9-1.6 2c-1.7.2-9.9-1.5-14-2.8-4-1.2-7.6-3.4-8-3.3-.5.2-1.3 1.6-2.5 1.4s-7-6.2-9.6-7.8a80.6 80.6 0 0 1-13.7-15.3c-2.8-4.5-3.5-7.5-4.4-7.5s-4.2 2.2-4.2 2.2-3-4.5-5.6-11.7c-2.7-7.2-2.4-11.4-1.8-11.7.7-.3.7 5.3 2.7 10.4 2 5.2 4.8 6.8 4.8 6.8s-1.8-2.7-3.2-9.4-2-13.2-1-15.2 1.9-2.6 2-2.5c.2.2-1.7 3.1-.4 10.8s4.8 14.2 5.6 13.9c.8-.3-.5-1.9-1-6.4s.5-7.3 1.6-7.7c.5-.4 1.3 5 1.4 7.4zm-9.8 12.8c-2.7-2.5-6.9-11.2-7.8-10.8-1 .5 6.8 13 7 14 .2 1.2 1.9 4.6.6 4.1s-10.6-10.3-9.5-8.4 8.1 10.5 7.7 11-5.8-4.8-6-4.1c-.1.6 5.3 5.8 5.2 6.4s-3.5-3.3-3.5-2.5 3.5 4.7 3.5 5.3-3-2.8-2-1c.9 2 3.5 3.7 3.4 4.3s-2.2-.8-2.2-.5c0 .3 3.9 1.7 4.8 2.8 1 1.1 7.4 8.5 12.2 12.2s18.6 10.2 19.6 10.2c.9 0 2.3-2 2-2.8-.3-.8-13.8-5.4-17.5-8.8-3.8-3.4-13-11.6-13.8-12-.7-.5-2.8-.3-2.8-.8s2.7.3 2.5 0c-.1-.3-3.7-1.9-3.6-2.2.2-.3 2.5.6 2.5.3s-4.2-2.6-4-3.1c.1-.5 3.1 1.4 3.1 1 0-.2-4-3-3.9-3.5.1-.5 3.1 2.2 3 1.6s-2.4-4-2.4-4.4c0-.5 3.6 3.4 4 2.6.2-.7-1.3-7.2-1.2-7.3s2.7 1.4 3.1.5c.5-1-1.8-2.3-4-4.1zm46.1 49.2c-1.9.3-2.8-.4-1.7-2 1.5 0 5.5-1.3 6.9-1.9s2.9-1.4 4.1-2.5c1.2-1.3 2 .7 1.3 1.8-.5.7-2.8 2-4.5 2.7-2.5.8-4.7 2-6.1 1.9zm12.5-5.1c-1.3-1.4-.2-2.4 1.7-3.5 2.8-1.5 2-3.6 5.6-5.3 1.6-1 24-10 31.3-14.8s27.8-20.3 33.3-31c5.4-10.6 2.8-11.4 3.6-11.8.7-.5 1.5 1.5 1.4 3.9-.2 2.3-2 9.3-1.4 10s8.2-5.5 11.4-13 5.6-15.3 7.1-15.3c1.6 0-2.6 12.8-5.3 17.8-2.6 5-5.7 7.5-5 8.6.8 1 8.6-5.5 11.3-10.3 2.6-4.9 5.1-9.2 5.6-8.3a34 34 0 0 1-6.7 16.1c-4.2 4.8-9.2 8.3-8.4 9 .7.8 6.4 1.6 12.3-2.4 6-4.1 6.6-10 7.3-9.7.8.3-.7 8.4-6.4 13.4s-13.2 5.5-13 6.6c.4 1 16.3-4.6 16-3.3-.3 1.2-20.6 9.2-20.8 10 0 .6 3.5.8 9-.5 5.4-1.2 10.6-5.5 11.3-4.5.2 1.4-3.9 4.8-10.1 6.4-6.3 1.6-9.4 3.7-9.6 4.2-.1.5 11.2-1.4 11.2-.8s-14.8 3.5-14.9 4.3c-.2.7 14-2.9 13.8-2-.4.7-19.3 6.3-19.1 6.6.1.4 15.8-3.4 15.5-2.8-.4.7-26.4 8-26.6 8.5-.2.4 23-5.2 22.8-4.7s-12 3.4-12 3.7c0 .3 9.5-1.5 9.3-1-.1.4-24 6.5-24.5 7.4-.5 1 12.4-2.5 12.2-.7s-27.7 11-27.8 9.3c-.2-1.7 16.7-6 16.6-6.5-.2-.5-9.7 1-9.9.1-.1-1 6.3-3 5.8-3.4-.5-.5-5.3 1.4-4.9.3.5-1.1 9.6-5.3 9.4-5.6-.1-.3-3.3 1-3 0 .4-1.1 19.7-6.7 19.4-7.4-.3-.6-8.9 1.4-9.7 1.6-.3-.6 12-5.2 11.8-6-.4-.7-6.6 2.7-7 1.8-.2-1 10.9-5.3 10.2-6s-5.7 1.8-6.4 1.1 10.5-8.4 8.8-8.6c-1.7-.1-3.8 2.4-4 .8.2-2 8.7-5.3 6.8-6.9-3-.9-13.1.7-17.3 3.2s-18.2 16.4-21.6 18.6c-3.4 2.1-15 7-17.2 8-3.4 1.2-4 3-7.5 4.8-6.3 1.7-6.2 3.6-9.2 4.7-1.1.3-12.4 5.7-12.5 5.3zm-15.8 7c-1.9 1-3.6 3.4-2.5 4.4.6 1.2 2.5-2.7 4-2.5l8 .4c4.3.3 6.4-.9 8.8-.7s7.7-1.3 10.2-1.3 3 .3 3.2-.8c.3-1-7.8-.3-11.4-.4-3.6-.2-8.1.7-10.8.7-2.5-.1-6.8-.9-9.5.2z"}),i.a.createElement("rect",{width:"3.4",height:"3",x:"401.7",y:"309.1",rx:"1.7",ry:"1.5"}),i.a.createElement("path",{d:"M445 307.7c1.7-.3 6.3 1.3 9.5 2 5.8 2.3 16.6 1.2 16.6 2.3s-.7 2.4-3.2 2.6-8.8-1-8.6-1 5 2.3 3.6 2.9-5.5-1.3-6.2-.8 3.8 1.4 3 1.7c-.6.3-3.7-.4-4.7-.3-1 .2.8 1.3-.4 1.7-1.2.5-3.2-.6-4-.3-.9.3 1.8 2 .6 2.2-1.2.2-4-.8-5.6-1-1.6 0 1.5 1.6.5 1.8-1 .1-3.8-1.3-4.5-1.3s0 2-1 2-2.2-1.7-2.8-1.7 0 2-1 2-1.4-2.1-2.2-2c-1 .2 0 2.7-1.4 2.5-1.3-.1-1.5-2.6-2.6-2.5-1 .2.2 2.5-.8 2.5s-1.2-2.3-2.2-2.5c-1-.1-.6 2.2-1.2 2.2s-1.2-2.2-1.6-2.2c-.3 0 0 2.2-1.2 2s-1.2-2.4-1.5-2.3c-.4.2-.4 1.8-1.2 1.8s-.9-1.6-1.2-1.4c-.4.1-1.6 2.1-2.4 1.8-.9-.3.2-1.9-.2-1.9s-1.4 1.1-2 1 0-1.4-.2-1.4-1.7.8-2.4.8-2.6 1-3.1.1c-.5-1 1.3-1 1.7-1.9.3-.9-1-3.6.4-4.5 1.3-1 5.6 1.3 12-.3 11.6-3.1 20.6-6.7 21.5-6.6z"}))));default:return null}}}]),n})(w.default);S.propTypes=Object.assign({type:O.a.oneOf(["en","ru","tr","uk","be","ka","az","uz","hy","ro","kk","tt"])},w.default.propTypes);var C=S,x=n(11),k=n.n(x);n(1359);function T(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var j=function(){return k()()("lang-select")},R=(function(e){f()(n,e);var t=T(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={popupVisible:!1},r._togglePopup=r._togglePopup.bind(l()(r)),r._closePopup=r._closePopup.bind(l()(r)),r._onMenuItemClick=r._onMenuItemClick.bind(l()(r)),r._toggler=i.a.createRef(),r}return u()(n,[{key:"_togglePopup",value:function(){this.state.popupVisible||this.props.onOpen(),this.setState({popupVisible:!this.state.popupVisible})}},{key:"_closePopup",value:function(){this.setState({popupVisible:!1})}},{key:"_getTuneLink",value:function(e){var t=this.props,n=t.yandexLink,r=t.sk,i=t.retpath;return"".concat(n,"/portal/set/lang/?intl=").concat(e,"&sk=").concat(r,"&retpath=").concat(encodeURIComponent(i))}},{key:"_onMenuItemClick",value:function(e){var t=e.target.value;this.props.onLangClick&&this.props.onLangClick.bind(t)}},{key:"_getItems",value:function(){var e=this;return this.props.langs.filter((function(t){return e.props.current!==t})).map((function(t){return i.a.createElement(y.Item,{key:t,value:t,url:e._getTuneLink(t),icon:function(e){return i.a.createElement(C,{type:t,cls:e})}},t.toUpperCase())}))}},{key:"render",value:function(){var e=this,t=this._getItems();return i.a.createElement("span",{className:j().mix(this.props.cls)},i.a.createElement(b.Link,{disabled:!t.length||this.props.disabled,innerRef:this._toggler,onClick:this._togglePopup,pseudo:!0,theme:"ghost",role:"button",tabIndex:0,iconLeft:function(t){return i.a.createElement(C,{cls:t,type:e.props.current})}},i.a.createElement("span",{className:j().e("text")},this.props.current.toUpperCase())),i.a.createElement(g.Popup,{anchor:this._toggler,direction:["top","top-start"],onClose:this._closePopup,target:"anchor",view:"default",visible:this.state.popupVisible},i.a.createElement(y.Menu,{className:j().e("menu"),size:"s",view:"default",wide:!0,onChange:this._onMenuItemClick,type:"navigation"},t)))}}]),n})(r.Component);R.defaultProps={onOpen:function(){}};var P=R,D=(n(1360),function(){return k()()("footer")});t.a=function(e){return i.a.createElement("footer",{className:D().mix(e.cls)},i.a.createElement("div",{className:D().e("left")},e.links.map((function(e,t){return i.a.createElement(b.Link,{key:t,className:D().e("link").mix(e.clsMix),href:e.url,target:"_blank",theme:"ghost",onClick:e.onClick},e.text)}))),i.a.createElement("div",{className:D().e("right")},i.a.createElement("span",{className:D().e("copyright")},e.copyright),e.noLangSelect?null:i.a.createElement(P,{cls:D().e("language-switcher"),langs:e.langs,current:e.currentLang,sk:e.sk,yandexLink:e.yandexLink,retpath:e.retpath,onOpen:e.onLangSelectOpen,onLangClick:e.onLangClick,disabled:e.languageSwitcherDisabled})))}}),(function(e,t,n){"use strict";n.r(t);var r=n(236),i=n(406),o=n(230),a=n(6),s=n(76),u=(n(1125),Object(a.withBemMod)(Object(s.b)(),{theme:"clear"})),c=(n(1126),Object(a.withBemMod)(Object(s.b)(),{theme:"normal"})),l=n(229),d=n(358);n.d(t,"Popup",(function(){return r.a})),n.d(t,"cnPopup",(function(){return r.b})),n.d(t,"withNonvisual",(function(){return i.a})),n.d(t,"withTargetAnchor",(function(){return o.a})),n.d(t,"withThemeClear",(function(){return u})),n.d(t,"withThemeNormal",(function(){return c})),n.d(t,"withViewDefault",(function(){return l.a})),n.d(t,"directions",(function(){return d.a}))}),(function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(5),l=n.n(c),d=n(7),f=n.n(d),h=n(1),p=n.n(h),m=n(0),v=n.n(m),g=n(29),y=n.n(g),b=n(92),_=n.n(b),O=n(27),w=n.n(O),E=n(11),S=n.n(E),C=n(524),x=n(70);n(1382);function k(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var T=function(){return S()()("selection-info")},j=(function(e){l()(n,e);var t=k(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onCheckboxChange=r._onCheckboxChange.bind(u()(r)),r}return a()(n,[{key:"_onCheckboxChange",value:function(){this.props.onCheckboxChange?this.props.onCheckboxChange():this.context.visible&&this.context.onClose()}},{key:"render",value:function(){return v.a.createElement("div",{className:T()},this.props.withSpin?v.a.createElement(x.Spin,{view:"default",className:T().e("spin"),size:"xs",progress:!0}):v.a.createElement(C.a,{cls:T().e("checkbox"),checked:this.context.visible,onChange:this._onCheckboxChange}),v.a.createElement("div",{className:T().e("text")},this.props.text))}}]),n})(m.Component);j.contextTypes={visible:w.a.bool,onClose:w.a.func},j.defaultProps={withSpin:!1};var R=j,P=n(103),D=n(180);n(1384);function I(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var A=(function(e){l()(n,e);var t=I(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={tooltipClosed:!1},r._onTooltipClose=r._onTooltipClose.bind(u()(r)),r}return a()(n,[{key:"componentDidUpdate",value:function(e){(this.props.selectedCount<=y.a.MAX_ACTIONABLE_SELECTION&&e.selectedCount>y.a.MAX_ACTIONABLE_SELECTION||this.props.visible&&!e.visible)&&(this._tooltipWasShown=!1,this.state.tooltipClosed&&this.setState({tooltipClosed:!1}))}},{key:"_onTooltipClose",value:function(){this.setState({tooltipClosed:!0})}},{key:"_getTooltip",value:function(){return v.a.createElement(P.MessageBoxPopup,{className:S()()("selection-info").e("tooltip"),view:"default",size:"m",anchor:this.props.actionBarRef,scope:this.props.actionBarRef,direction:"bottom-start",visible:!0,onClose:this._onTooltipClose,secondaryOffset:0},v.a.createElement(P.Wrapper,{align:"left",leading:v.a.createElement(D.a,null)},"Выбрано слишком много фото.\n Действия доступны только для 500 фото"))}},{key:"render",value:function(){var e,t=this.props,n=t.isPhotoslice,r=t.isPersonalAlbum,i=t.missingSelectedCount,o=t.selectedCount,a=t.isSelectingPhotos;e=(n||r)&&o>y.a.MAX_ACTIONABLE_SELECTION?"Слишком много фото":_.a.capitalize(__i18n__.i18n.convert(["1 файл",yr.externals.entityify(o)+" файл",yr.externals.entityify(o)+" файла",yr.externals.entityify(o)+" файлов"],yr.externals.entityify(o)));var s=n&&i>0&&o<y.a.PHOTOSLICE_MAX_FETCHING_SELECTION,u=(n||r)&&o>y.a.MAX_ACTIONABLE_SELECTION;return s||a||u?(s||a||(this._tooltipWasShown=!0),v.a.createElement(v.a.Fragment,null,v.a.createElement(R,{key:"info",text:s||a?"":e,withSpin:s||a,onCheckboxChange:this.props.onCheckboxChange}),!this.props.visible||this.state.tooltipClosed||(s||a)&&!this._tooltipWasShown?null:this._getTooltip())):v.a.createElement(R,{text:e,onCheckboxChange:this.props.onCheckboxChange})}}]),n})(m.Component);t.a=A}),(function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
 * https://github.com/es-shims/es5-shim
 * @license es5-shim Copyright 2009-2014 by contributors, MIT License
 * see https://github.com/es-shims/es5-shim/blob/master/LICENSE
 */!(function(e,t){"use strict";void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){var e,t=Array.prototype,n=Object.prototype,r=Function.prototype,i=String.prototype,o=Number.prototype,a=t.slice,s=t.splice,u=t.push,c=t.unshift,l=r.call,d=n.toString,f=function(e){return"[object Function]"===d.call(e)},h=function(e){return"[object Array]"===d.call(e)},p=function(e){return"[object String]"===d.call(e)},m=function(e){var t=d.call(e),n="[object Arguments]"===t;return n||(n=!h(e)&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&f(e.callee)),n};e=Object.defineProperty&&(function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}})()?function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,r){!r&&t in e||(e[t]=n)};var v=function(t,r,i){for(var o in r)n.hasOwnProperty.call(r,o)&&e(t,o,r[o],i)};function g(e){var t=+e;return t!=t?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function y(e){var t=typeof e;return null===e||"undefined"===t||"boolean"===t||"number"===t||"string"===t}var b={ToObject:function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)},ToUint32:function(e){return e>>>0}},_=function(){};v(r,{bind:function(e){var t=this;if(!f(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n,r=a.call(arguments,1),i=Math.max(0,t.length-r.length),o=[],s=0;s<i;s++)o.push("$"+s);return n=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this, arguments); }")((function(){if(this instanceof n){var i=t.apply(this,r.concat(a.call(arguments)));return Object(i)===i?i:this}return t.apply(e,r.concat(a.call(arguments)))})),t.prototype&&(_.prototype=t.prototype,n.prototype=new _,_.prototype=null),n}});var O=l.bind(n.hasOwnProperty),w=(function(){var e=[1,2],t=e.splice();return 2===e.length&&h(t)&&0===t.length})();v(t,{splice:function(e,t){return 0===arguments.length?[]:s.apply(this,arguments)}},w);var E=(function(){var e={};return t.splice.call(e,0,0,1),1===e.length})();v(t,{splice:function(e,t){if(0===arguments.length)return[];var n=arguments;return this.length=Math.max(g(this.length),0),arguments.length>0&&"number"!=typeof t&&((n=a.call(arguments)).length<2?n.push(this.length-e):n[1]=g(t)),s.apply(this,n)}},!E);var S=1!==[].unshift(0);v(t,{unshift:function(){return c.apply(this,arguments),this.length}},S),v(Array,{isArray:h});var C=Object("a"),x="a"!==C[0]||!(0 in C),k=function(e){var t=!0,n=!0;return e&&(e.call("foo",(function(e,n,r){"object"!=typeof r&&(t=!1)})),e.call([1],(function(){n="string"==typeof this}),"x")),!!e&&t&&n};v(t,{forEach:function(e){var t=b.ToObject(this),n=x&&p(this)?this.split(""):t,r=arguments[1],i=-1,o=n.length>>>0;if(!f(e))throw new TypeError;for(;++i<o;)i in n&&e.call(r,n[i],i,t)}},!k(t.forEach)),v(t,{map:function(e){var t=b.ToObject(this),n=x&&p(this)?this.split(""):t,r=n.length>>>0,i=Array(r),o=arguments[1];if(!f(e))throw new TypeError(e+" is not a function");for(var a=0;a<r;a++)a in n&&(i[a]=e.call(o,n[a],a,t));return i}},!k(t.map)),v(t,{filter:function(e){var t,n=b.ToObject(this),r=x&&p(this)?this.split(""):n,i=r.length>>>0,o=[],a=arguments[1];if(!f(e))throw new TypeError(e+" is not a function");for(var s=0;s<i;s++)s in r&&(t=r[s],e.call(a,t,s,n)&&o.push(t));return o}},!k(t.filter)),v(t,{every:function(e){var t=b.ToObject(this),n=x&&p(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if(!f(e))throw new TypeError(e+" is not a function");for(var o=0;o<r;o++)if(o in n&&!e.call(i,n[o],o,t))return!1;return!0}},!k(t.every)),v(t,{some:function(e){var t=b.ToObject(this),n=x&&p(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if(!f(e))throw new TypeError(e+" is not a function");for(var o=0;o<r;o++)if(o in n&&e.call(i,n[o],o,t))return!0;return!1}},!k(t.some));var T=!1;t.reduce&&(T="object"==typeof t.reduce.call("es5",(function(e,t,n,r){return r})));v(t,{reduce:function(e){var t=b.ToObject(this),n=x&&p(this)?this.split(""):t,r=n.length>>>0;if(!f(e))throw new TypeError(e+" is not a function");if(!r&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var i,o=0;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in n){i=n[o++];break}if(++o>=r)throw new TypeError("reduce of empty array with no initial value")}for(;o<r;o++)o in n&&(i=e.call(void 0,i,n[o],o,t));return i}},!T);var j=!1;t.reduceRight&&(j="object"==typeof t.reduceRight.call("es5",(function(e,t,n,r){return r})));v(t,{reduceRight:function(e){var t=b.ToObject(this),n=x&&p(this)?this.split(""):t,r=n.length>>>0;if(!f(e))throw new TypeError(e+" is not a function");if(!r&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i,o=r-1;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in n){i=n[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}if(o<0)return i;do{o in n&&(i=e.call(void 0,i,n[o],o,t))}while(o--);return i}},!j);var R=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);v(t,{indexOf:function(e){var t=x&&p(this)?this.split(""):b.ToObject(this),n=t.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=g(arguments[1])),r=r>=0?r:Math.max(0,n+r);r<n;r++)if(r in t&&t[r]===e)return r;return-1}},R);var P=Array.prototype.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);v(t,{lastIndexOf:function(e){var t=x&&p(this)?this.split(""):b.ToObject(this),n=t.length>>>0;if(!n)return-1;var r=n-1;for(arguments.length>1&&(r=Math.min(r,g(arguments[1]))),r=r>=0?r:n-Math.abs(r);r>=0;r--)if(r in t&&e===t[r])return r;return-1}},P);var D=!{toString:null}.propertyIsEnumerable("toString"),I=function(){}.propertyIsEnumerable("prototype"),A=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],M=A.length;v(Object,{keys:function(e){var t=f(e),n=m(e),r=null!==e&&"object"==typeof e,i=r&&p(e);if(!r&&!t&&!n)throw new TypeError("Object.keys called on a non-object");var o=[],a=I&&t;if(i||n)for(var s=0;s<e.length;++s)o.push(String(s));else for(var u in e)a&&"prototype"===u||!O(e,u)||o.push(String(u));if(D)for(var c=e.constructor,l=c&&c.prototype===e,d=0;d<M;d++){var h=A[d];l&&"constructor"===h||!O(e,h)||o.push(h)}return o}});var N=Object.keys&&(function(){return 2===Object.keys(arguments).length})(1,2),L=Object.keys;v(Object,{keys:function(e){return m(e)?L(t.slice.call(e)):L(e)}},!N);var F=Date.prototype.toISOString&&-1===new Date(-621987552e5).toISOString().indexOf("-000001");v(Date.prototype,{toISOString:function(){var e,t,n,r,i;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(r=this.getUTCFullYear(),i=this.getUTCMonth(),r+=Math.floor(i/12),e=[(i=(i%12+12)%12)+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],r=(r<0?"-":r>9999?"+":"")+("00000"+Math.abs(r)).slice(0<=r&&r<=9999?-4:-6),t=e.length;t--;)(n=e[t])<10&&(e[t]="0"+n);return r+"-"+e.slice(0,2).join("-")+"T"+e.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"}},F);var B=!1;try{B=Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(-621987552e5).toJSON().indexOf("-000001")&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(e){}B||(Date.prototype.toJSON=function(e){var t,n=Object(this),r=(function(e){var t,n,r;if(y(e))return e;if(n=e.valueOf,f(n)&&y(t=n.call(e)))return t;if(r=e.toString,f(r)&&y(t=r.call(e)))return t;throw new TypeError})(n);if("number"==typeof r&&!isFinite(r))return null;if("function"!=typeof(t=n.toISOString))throw new TypeError("toISOString property is not callable");return t.call(n)});var U=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),z=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z")),V=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));Date.parse&&!V&&!z&&U||(Date=(function(e){function t(n,r,i,o,a,s,u){var c=arguments.length;if(this instanceof e){var l=1===c&&String(n)===n?new e(t.parse(n)):c>=7?new e(n,r,i,o,a,s,u):c>=6?new e(n,r,i,o,a,s):c>=5?new e(n,r,i,o,a):c>=4?new e(n,r,i,o):c>=3?new e(n,r,i):c>=2?new e(n,r):c>=1?new e(n):new e;return l.constructor=t,l}return e.apply(this,arguments)}var n=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),r=[0,31,59,90,120,151,181,212,243,273,304,334,365];function i(e,t){var n=t>1?1:0;return r[t]+Math.floor((e-1969+n)/4)-Math.floor((e-1901+n)/100)+Math.floor((e-1601+n)/400)+365*(e-1970)}for(var o in e)t[o]=e[o];return t.now=e.now,t.UTC=e.UTC,t.prototype=e.prototype,t.prototype.constructor=t,t.parse=function(t){var r=n.exec(t);if(r){var o,a=Number(r[1]),s=Number(r[2]||1)-1,u=Number(r[3]||1)-1,c=Number(r[4]||0),l=Number(r[5]||0),d=Number(r[6]||0),f=Math.floor(1e3*Number(r[7]||0)),h=Boolean(r[4]&&!r[8]),p="-"===r[9]?1:-1,m=Number(r[10]||0),v=Number(r[11]||0);return c<(l>0||d>0||f>0?24:25)&&l<60&&d<60&&f<1e3&&s>-1&&s<12&&m<24&&v<60&&u>-1&&u<i(a,s+1)-i(a,s)&&(o=1e3*(60*((o=60*(24*(i(a,s)+u)+c+m*p))+l+v*p)+d)+f,h&&(o=(function(t){return Number(new e(1970,0,1,0,0,0,t))})(o)),-864e13<=o&&o<=864e13)?o:NaN}return e.parse.apply(this,arguments)},t})(Date));Date.now||(Date.now=function(){return(new Date).getTime()});var H=o.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)),W={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(e,t){for(var n=-1;++n<W.size;)t+=e*W.data[n],W.data[n]=t%W.base,t=Math.floor(t/W.base)},divide:function(e){for(var t=W.size,n=0;--t>=0;)n+=W.data[t],W.data[t]=Math.floor(n/e),n=n%e*W.base},numToString:function(){for(var e=W.size,t="";--e>=0;)if(""!==t||0===e||0!==W.data[e]){var n=String(W.data[e]);""===t?t=n:t+="0000000".slice(0,7-n.length)+n}return t},pow:function e(t,n,r){return 0===n?r:n%2==1?e(t,n-1,r*t):e(t*t,n/2,r)},log:function(e){for(var t=0;e>=4096;)t+=12,e/=4096;for(;e>=2;)t+=1,e/=2;return t}};v(o,{toFixed:function(e){var t,n,r,i,o,a,s,u;if((t=(t=Number(e))!=t?0:Math.floor(t))<0||t>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if((n=Number(this))!=n)return"NaN";if(n<=-1e21||n>=1e21)return String(n);if(r="",n<0&&(r="-",n=-n),i="0",n>1e-21)if(o=W.log(n*W.pow(2,69,1))-69,a=o<0?n*W.pow(2,-o,1):n/W.pow(2,o,1),a*=4503599627370496,(o=52-o)>0){for(W.multiply(0,a),s=t;s>=7;)W.multiply(1e7,0),s-=7;for(W.multiply(W.pow(10,s,1),0),s=o-1;s>=23;)W.divide(1<<23),s-=23;W.divide(1<<s),W.multiply(1,1),W.divide(2),i=W.numToString()}else W.multiply(0,a),W.multiply(1<<-o,0),i=W.numToString()+"0.00000000000000000000".slice(2,2+t);return t>0?(u=i.length,i=u<=t?r+"0.0000000000000000000".slice(0,t-u+2)+i:r+i.slice(0,u-t)+"."+i.slice(u-t)):i=r+i,i}},H);var G=i.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(function(){var e=void 0===/()??/.exec("")[1];i.split=function(t,n){var r=this;if(void 0===t&&0===n)return[];if("[object RegExp]"!==d.call(t))return G.call(this,t,n);var i,o,a,s,c=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),f=0;for(t=new RegExp(t.source,l+"g"),r+="",e||(i=new RegExp("^"+t.source+"$(?!\\s)",l)),n=void 0===n?-1>>>0:b.ToUint32(n);(o=t.exec(r))&&!((a=o.index+o[0].length)>f&&(c.push(r.slice(f,o.index)),!e&&o.length>1&&o[0].replace(i,(function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(o[e]=void 0)})),o.length>1&&o.index<r.length&&u.apply(c,o.slice(1)),s=o[0].length,f=a,c.length>=n));)t.lastIndex===o.index&&t.lastIndex++;return f===r.length?!s&&t.test("")||c.push(""):c.push(r.slice(f)),c.length>n?c.slice(0,n):c}})():"0".split(void 0,0).length&&(i.split=function(e,t){return void 0===e&&0===t?[]:G.call(this,e,t)});var q=i.replace;(function(){var e=[];return"x".replace(/x(.)?/g,(function(t,n){e.push(n)})),1===e.length&&void 0===e[0]})()||(i.replace=function(e,t){var n=f(t),r=(function(e){return"[object RegExp]"===d.call(e)})(e)&&/\)[*?]/.test(e.source);if(n&&r){return q.call(this,e,(function(n){var r=arguments.length,i=e.lastIndex;e.lastIndex=0;var o=e.exec(n)||[];return e.lastIndex=i,o.push(arguments[r-2],arguments[r-1]),t.apply(this,o)}))}return q.call(this,e,t)});var $=i.substr,Y="".substr&&"b"!=="0b".substr(-1);v(i,{substr:function(e,t){return $.call(this,e<0&&(e=this.length+e)<0?0:e,t)}},Y);var K="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",X="["+K+"]",Z=new RegExp("^"+X+X+"*"),J=new RegExp(X+X+"*$"),Q=i.trim&&(K.trim()||!"​".trim());v(i,{trim:function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(Z,"").replace(J,"")}},Q),(8!==parseInt(K+"08")||22!==parseInt(K+"0x16"))&&(parseInt=(function(e){var t=/^0[xX]/;return function(n,r){return n=String(n).trim(),Number(r)||(r=t.test(n)?16:10),e(n,r)}})(parseInt))})?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)})(),
/*!
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(e,t){"$:nomunge";var n,r=e.jQuery||e.Cowboy||(e.Cowboy={});r.throttle=n=function(e,n,i,o){var a,s=0;function u(){var r=this,u=+new Date-s,c=arguments;function l(){s=+new Date,i.apply(r,c)}o&&!a&&l(),a&&clearTimeout(a),o===t&&u>e?l():!0!==n&&(a=setTimeout(o?function(){a=t}:l,o===t?e-u:e))}return"boolean"!=typeof n&&(o=i,i=n,n=t),r.guid&&(u.guid=i.guid=i.guid||r.guid++),u},r.debounce=function(e,r,i){return i===t?n(e,r,!1):n(e,i,!1!==r)}})(this);var nb={};nb.IE_LT9=Boolean(document.documentMode&&document.documentMode<9),nb.inherit=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},nb.extend=function(e){for(var t=[].slice.call(arguments,1),n=0,r=t.length;n<r;n++){var i=t[n];for(var o in i)e[o]=i[o]}return e};var nb=nb||{};!(function(){nb.node={},nb.node.data=function(node,key,value){if(!key){for(var data={},attrs=node.attributes,r,i=0,l=attrs.length;i<l;i++){var attr=attrs[i];(r=/^data-nb-(.+)/.exec(attr.name))&&(data[r[1]]=parseValue(attr.value))}return data}if(void 0===value)return parseValue(node.getAttribute("data-nb-"+key)||"");function parseValue(value){var ch=value.charAt(0);return"["===ch||"{"===ch?eval("("+value+")"):value}node.setAttribute("data-nb-"+key,value)},nb.node.getMod=function(e,t){return nb.node.setMod(e,t)};var modCache={};nb.node.setMod=function(e,t,n){var r=modCache[t]||(modCache[t]=RegExp("(?:^|\\s+)"+t+"(?:_([\\w-]+))?(?:$|\\s+)")),i=e.className;if(void 0===n){var o=r.exec(i);return o?void 0===o[1]||o[1]:""}i=i.replace(r," ").trim(),!1!==n&&""!==n&&(i+=" "+t+(!0===n?"":"_"+n)),e.className=i},nb.node.delMod=function(e,t){nb.node.setMod(e,t,!1)}})(),(function(){var e={},t={},n=new RegExp("^("+["click","dblclick","mouseup","mousedown","keydown","keypress","keyup","input","change","blur","mouseover","mouseout","focusin","focusout"].join("|")+")\\b\\s*(.*)?$"),r=0,i={},o=function(e){var t=e.getAttribute("data-nb");return t?t.trim().replace(/\s+/g," "):t},a=function(e){return e.split(/\s+/)},s=function(){};s.prototype.__init=function(e){this.node=e,this.__handlers={},this.__bindEvents(),this.trigger("init"),c&&nb.trigger("inited:"+this.id,this)},s.prototype.__bindEvents=function(){for(var e=this,t=u.get(this.name).events,n=0,r=t.length;n<r;n++){var i=t[n].custom,o=t[n].local;for(var a in i)!(function(t){e.__bindCustomEvent(a,(function(n,r){for(var i=t.length;i--;){var o=t[i].call(e,n,r);if(!1===o||null===o)return o}}))})(i[a]);for(var a in o)for(var s in o[a]){var c=(s||"").length?" "+s:"",l=a+c,d=o[a][s];for(n=0;n<d.length;n++)!(function(t){e.on(l,(function(){t.apply(e,arguments)}))})(d[n])}}},s.prototype.destroy=function(){this.trigger("nb-destroyed",this),this.nbdestroy()},s.prototype.nbdestroy=function(){for(var e=u.get(this.name).events,t=0,n=e.length;t<n;t++){for(var r in e[t].custom)this.off(r);for(var r in e[t].local)this.off(r)}i[this.id]=null},s.prototype.__getHandlers=function(e){var t=this.__handlers;return t[e]||(t[e]=[])},s.prototype.on=function(e,t){var r=n.exec(e);return r?$(this.node).on(r[1],r[2]||"",t):this.__bindCustomEvent(e,t),t},s.prototype.__bindCustomEvent=function(e,t){this.__getHandlers(e).push(t)},s.prototype.off=function(e,t){var r=n.exec(e);if(r)$(this.node).off(r[1],r[2]||"",t);else if(t){var i=this.__getHandlers(e),o=i.indexOf(t);-1!==o&&i.splice(o,1)}else this.__handlers[e]=null},s.prototype.trigger=function(e){for(var t=this.__getHandlers(arguments[0]).slice(),n=0,r=t.length;n<r;n++)t[n].apply(this,arguments)},s.prototype.nbdata=function(e,t){return nb.node.data(this.node,e,t)},s.prototype.show=function(){$(this.node).removeClass("nb-is-hidden"),this.trigger("show")},s.prototype.hide=function(){$(this.node).addClass("nb-is-hidden"),this.trigger("hide")},s.prototype.getMod=function(e){return nb.node.setMod(this.node,e)},s.prototype.setMod=function(e,t){nb.node.setMod(this.node,e,t)},s.prototype.delMod=function(e){nb.node.setMod(this.node,e,!1)},s.prototype.children=function(){for(var e=[],t=$(this.node).find("[data-nb]"),n=0,r=t.length;n<r;n++)e=e.concat(nb.blocks(t[n]));return e},s.prototype.getYateModuleName=function(){return"main"},nb.Block=s;var u=function(e,t,n){this.name=e,t.prototype.name=e,this.ctor=t,this.events=this._prepareEvents(n)};u.prototype._prepareEvents=function(e){e=e||{};var r=this.ctor.prototype,i={},o={},a={};for(var s in e){var c,l,d=n.exec(s);if(d)c="blur"===(h=d[1])?a[h]||(a[h]={}):i[h]||(i[h]={}),l=d[2]||"";else c=o,l=s;var f=e[s];"string"==typeof f&&(f=r[f]),null===f?c[l]=null:(c=c[l]||(c[l]=[])).push(f)}for(var h in i)t[h]||($(document).on(h,(function(e){if(!e.button||"click"!==e.type)return u._onevent(e)})),t[h]=!0);return[{dom:i,custom:o,local:a}]},u.prototype.create=function(e,t){var n=e.getAttribute("id");if(n||(n="nb-"+r++,e.setAttribute("id",n)),i[n]||(i[n]={},null===o(e)&&e.setAttribute("data-nb",this.name)),!i[n][this.name]){var a=new this.ctor;if(a.id=n,a.__init(e),t)for(var s in t)a.on(s,t[s]);i[n][this.name]=a}return i[n][this.name]},u.prototype._extendEvents=function(e){var t=this.events[0].dom,n=e.events[0].dom;for(var r in n)i(t[r]||(t[r]={}),n[r]);function i(e,t){for(var n in t){var r=t[n],i=e[n];e[n]=null===i?[]:r.concat(i||[])}}i(this.events[0].custom,e.events[0].custom)},u._onevent=function(e){var t,n,r,i,s,c,l=e.type,d=e.target,f="mouseover"===l||"mouseout"===l,h=e.relatedTarget,p=d;for(r=[],n=(t=[]).length;w();){for(var m=a(s),v=!0,g=0;g<m.length;g++){var y=m[g];if(c=u.get(y))for(var b=c.events,_=0,O=b.length;_<O;_++)!1===E(y,b[_].dom[l])&&(v=!1)}if(!v)return!1;if(h)return;t.push(p),r.push($(p)),n=t.length,p=p.parentNode}function w(){var e;for(i=null;e=p.parentNode;){if(s=o(p)){i=p;break}t.push(p),p=e}if(i)return f&&h&&(t=d===i?[]:[d]),n=t.length,!0}function E(e,o){if(o){for(var a,s,u,c=0;c<n;c++){for(var l in s=t[c],u=r[c]||(r[c]=$(s)),o)if(l&&u.is(l)&&!(f&&h&&$.contains(s,h))){var d=S(s,e,o[l]);!1===d&&(a=d)}if(!1===a)return a}var p=o[""];return!p||f&&h&&$.contains(i,h)?void 0:S(i,e,p)}}function S(t,n,r){for(var o=c.create(i),a=r.length;a--;){var s=r[a].call(o,e,t);if(!1===s)return!1;if(null===s)break}}},u.get=function(t){return e[t]},nb.hasBlock=function(e,t){var n=e.getAttribute("id");return!(!n||!i[n]||t&&!i[n][t])},nb.block=function(e,t,n){return o(e)?n?u.get(n).create(e,t):nb.blocks(e,t)[0]:null},nb.blocks=function(e,t){var n=o(e);if(!n)return[];for(var r=a(n),i=[],s=0;s<r.length;s++)i.push(u.get(r[s]).create(e,t));return i},nb.find=function(e){var t=document.getElementById(e);if(t)return nb.block(t)},nb.define=function(t,n,i){"string"!=typeof t&&(i=n,n=t,t="nb-"+r++),i&&(i=u.get(i));var o=n.events;delete n.events;var a=function(){};nb.inherit(a,i?i.ctor:s),nb.extend(a.prototype,n);var c=new u(t,a,o);return i&&c._extendEvents(i),e[t]=c,c},nb.init=function(e){e=e||document;for(var t=$(e).find("._init").addBack().filter("._init"),n=0,r=t.length;n<r;n++)nb.block(t[n])},nb.destroy=function(e){e=e||document;for(var t=$(e).find("._init").addBack().filter("._init"),n=0,r=t.length;n<r;n++){var o=t[n].getAttribute("id"),a=i[o];if(a)for(var s in a)a[s].destroy()}};var c=nb.define({events:{click:function(e){nb.trigger("space:click",e.target)}}}).create(document.getElementsByTagName("html")[0]);nb.on=function(e,t){return c.on(e,t)},nb.off=function(e,t){c.off(e,t)},nb.trigger=function(e,t){c.trigger(e,t)}})(),nb.define("arrow",{oninit:function(){}},"base"),nb.define("base",{events:{init:"_oninit"},_oninit:function(){this.$node=$(this.node),this.oninit&&this.oninit()},
/*!
     * @returns {String} type of block
     */
getType:function(){return this.$node.attr("data-nb")}}),nb.define("button",{events:{},oninit:function(){this.$node.button({disabled:this.$node.prop("disabled")}),this.trigger("nb-inited",this)},setContent:function(e){return this.$node&&this.$node.data("uiButton")&&(this.$node.find("._nb-button-content").html(e),this.trigger("nb-text-set",this)),this},getContent:function(){return this.$node.find("._nb-button-content").html()},setUrl:function(e){return this.$node.attr("href",e),this.trigger("nb-url-set",this),this},getUrl:function(){return this.$node.attr("href")},disable:function(){return this.$node&&this.$node.data("uiButton")&&(this.$node.button("disable"),this._tabindex=this.$node.attr("tabindex"),this.$node.attr("tabindex","-1"),this.$node.addClass("_nb-is-disabled"),this.trigger("nb-disabled",this)),this},enable:function(){return this.$node&&this.$node.data("uiButton")&&(this.$node.button("enable"),this.$node.attr("tabindex",this._tabindex||"0"),this.$node.removeClass("_nb-is-disabled"),this.trigger("nb-enabled",this)),this},isEnabled:function(){return!this.$node.prop("disabled")},focus:function(){return this.isEnabled()&&this.$node.focus(),this.trigger("nb-focused",this),this},blur:function(){return this.isEnabled()&&this.$node.blur(),this.trigger("nb-blured",this),this},destroy:function(){this.$node&&this.$node.data("uiButton")&&this.$node.button("destroy"),this.trigger("nb-destroyed",this),this.nbdestroy()}},"base"),nb.define("tooltip-jq-toggler",{oninit:function(){this.onmouseenter=this.onmouseenter.bind(this),this.$node.tooltip(this._getParams()),this.$node.on("mouseenter",this.onmouseenter)},destroy:function(){this.$node.tooltip("destroy"),this.$node.off("mouseenter",this.onmouseenter),this.nbdestroy()},onmouseenter:function(){if(this.$node.hasClass("_nb-is-disabled"))return!0;this.$node.tooltip("open")},_getParams:function(){var e=this.nbdata()[this.name]||{},t={tooltipClass:"nb-tooltip nb-island _nb-small-fly-island"};return e.class&&(e.tooltipClass+=" "+e.class),e.content&&(t.content=e.content),e.position&&(t.position=e.position),t}},"base"),
/*!
 * @class nb.block.Checkbox
 * @augments nb.block.Base
 */
nb.define("checkbox",{events:{"change input":"onchange"},_onCheckboxChecked:function(e,t){t.name==this.getName()&&t.nb.$node.attr("id")!=this.$node.attr("id")&&this.uncheck()},onchange:function(){this.$control.prop("checked")?this.check():this.uncheck()},oninit:function(){if(this.$control=this.$node.find("input[type]"),this._isChecked=this.$control.prop("checked"),this.$control.on("click.nb-checkbox",(function(e){e.stopPropagation()})),document.documentMode&&document.documentMode<9){var e=this;this.$control.on("propertychange.nb-checkbox",(function(t){"checked"===t.originalEvent.propertyName&&e.onchange()}))}"radio"===this.getType()&&nb.on("checkbox:checked",$.proxy(this._onCheckboxChecked,this)),this.trigger("nb-inited",this)},getType:function(){return this.$control.attr("type")},isChecked:function(){return this._isChecked},check:function(){if(!this.isEnabled())return this;"radio"===this.getType()&&nb.trigger("checkbox:checked",{name:this.getName(),nb:this});var e=this.isChecked();return this.$control.prop({indeterminate:!1,checked:!0}),this._isChecked=!0,this.trigger("nb-checked",this),e||this.trigger("nb-changed",this),this},uncheck:function(){if(!this.isEnabled())return this;var e=this.isChecked();return this.$control.prop({indeterminate:!1,checked:!1}),this._isChecked=!1,this.trigger("nb-unchecked",this),e&&this.trigger("nb-changed",this),this},toggle:function(){return this.isEnabled()?(this.trigger("nb-change",this),this.isChecked()?this.uncheck():this.check(),this):this},isIndeterminate:function(){return this.$control.prop("indeterminate")},setIndeterminate:function(){return this.isEnabled()&&(this.$control.prop("indeterminate",!0),this.trigger("nb-indeterminated",this)),this},setDeterminate:function(){return this.isEnabled()&&(this.$control.prop("indeterminate",!1),this.trigger("nb-determinated",this)),this},isEnabled:function(){return!this.$control.prop("disabled")},enable:function(){return this.isEnabled()||(this.$node.removeClass("_nb-is-disabled"),this.$control.removeAttr("disabled"),this.trigger("nb-enabled",this)),this},disable:function(){return this.isEnabled()&&(this.blur(),this.$node.addClass("_nb-is-disabled"),this.$control.attr("disabled","disabled"),this.trigger("nb-disabled",this)),this},focus:function(){return this.$control.focus(),this.trigger("nb-focused",this),this},blur:function(){return this.$control.blur(),this.trigger("nb-blured",this),this},setLabel:function(e){return this.$node.find("._nb-checkbox-label").html(e),this.trigger("nb-label-set",this),this},getLabel:function(){return this.$node.find("._nb-checkbox-label").html()},getName:function(){return this.$control.prop("name")},setName:function(e){return this.$control.attr("name",e),this.trigger("nb-name-set",this),this},getValue:function(){var e=this.$control.attr("value");return"string"==typeof e?e:"on"},setValue:function(e){return this.$control.attr("value",e),this.trigger("nb-value-set",this),this},destroy:function(){this.$control.off(".nb-checkbox"),"radio"===this.getType()&&nb.off("checkbox:checked",$.proxy(this._onCheckboxChecked,this)),this.trigger("nb-destroyed",this),this.nbdestroy()}},"base"),
/*!
 * @class nb.block.Select
 * @augments nb.block.Base
 */
nb.define("select",{events:{mousedown:"_onclick"},oninit:function(){if(this.isOpen=!1,this.$control=this.$node.find("select"),this.data=this.nbdata(),this.$dropdown=this.$node.children(".nb-select-dropdown").appendTo(this.data.appendto||"body"),this._updateFromSelect(),nb.IE_LT9){var e=this;this.$control.on("change",(function(t){e.setState({value:t.target.value})}))}else this.controlPrepare();this.trigger("nb-inited",this)},controlPrepare:function(){var e=this,t={collision:"flip"};e.data.within&&(t.within=e.data.within),"top"==e.data.direction?(t.my="left bottom",t.at="left top"):(t.my="left top",t.at="left bottom"),e._returnOptItem=function(e){var t=$(e),n=t.data("icon"),r=t.data("class"),i={};return t.attr("separator")?i={separator:!0,option:e}:(i={label:t.text(),value:t.val(),option:e},n&&(i.icon=n),r&&(i.className=r)),i},e.$node.autocomplete({disabled:e.$node.hasClass("_nb-is-disabled"),delay:0,minLength:0,autoFocus:!1,position:t,appendTo:e.$dropdown,source:function(t,n){n(e.$control.children(["option","optgroup"]).map((function(){var t=$(this);return"OPTGROUP"==this.tagName?{type:"group",label:t.attr("label"),option:this,group:t.children("option").map((function(){return e._returnOptItem(this)}))}:e._returnOptItem(this)})))},select:function(t,n){"group"!=n.item.type&&(n.item.option.selected=!0,e.$jUI._trigger("selected",t,{item:n.item.option}))},open:function(){e.$jUI._on(e.$jUI.document,{mousedown:function(t){1!=t.which||$.contains(e.$jUI.element.get(0),t.target)||$.contains(e.$dropdown[0],t.target)||this.close()}}),e.trigger("nb-opened",e)},close:function(){e.$jUI._off(e.$jUI.document,"mousedown"),e.trigger("nb-closed",e)}}).addClass("ui-widget ui-widget-content"),e.$jUI=e.$node.data("uiAutocomplete"),e.$node.on("autocompleteopen",(function(){e.isOpen=!0})),e.$node.on("autocompleteclose",(function(){e.isOpen=!1})),e.$jUI._renderItem=function(t,n){var r=$('<li class="_nb-select-item"></li>');if(n.className&&r.addClass(n.className),n.option.selected&&r.addClass("is-selected"),"group"==n.type){r.addClass("_nb-select-group-item");var i=$("<ul></ul>");n.group.each((function(t,n){e.$jUI._renderItem(i,n)})),r.append(i)}if(n.separator)r.addClass("_nb-select-seperator-item");else{r.data("ui-autocomplete-item",n);var o=$('<a class="_nb-select-a"></a>');"group"==n.type?o.html('<span class="_nb-select-text">'+n.label+"</span>"):o.text(n.label).appendTo(o),n.icon&&o.prepend('<img class="nb-icon nb-s-'+n.icon+'-icon" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">'),r.append(o)}return r.appendTo(t),r},e.$jUI.valueMethod=function(t){if("string"==typeof t){var n=e.$control.find('option[value="'+t+'"]').text();e.setState({value:t,text:n})}return e.$selected.val()},e.$jUI.__resizeMenu=e.$jUI._resizeMenu,e.$jUI._resizeMenu=function(){e.data.maxheight&&e._setMaxHeight(e.data.maxheight),this.__resizeMenu()},e.$jUI.menu.element.on("click",(function(e){e.stopPropagation()}))},
/*!
         * Save value and text from <select> node.
         * @private
         */
_updateFromSelect:function(){this.$selected=this.$control.find(":selected"),this.value=this.$selected.val(),this.text=this.$selected.text(),this.icon=this.$selected.data("icon"),this._setText({text:this.text,icon:this.icon})},_onclick:function(e){this.$node&&this.$node.data("uiAutocomplete")&&(e.preventDefault(),this.isOpen?this.close():this.isEnabled()&&(this.open(),this.$node.focus()))},_setText:function(e){var t=this.$node.find("._nb-button-content");e.text||e.icon?(t.text(e.text),e.icon&&(this.$node.addClass("_nb-with-icon"),e.text||this.$node.addClass("_nb-with-only-button"),t.prepend('<img class="nb-icon nb-s-'+e.icon+'-icon" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">'))):this.$node.find("._nb-button-content").html("&nbsp;")},_setMaxHeight:function(e){var t;if(/^\d+$/.test(e)){var n=this.$jUI.menu.element.find("._nb-select-item").first();t=parseInt(n.height())*e}else t=e;this.$jUI.menu.element.css({"max-height":t,"overflow-y":"auto","overflow-x":"hidden"})},render:function(){return this.isEnabled()?(this.$node.autocomplete("search",""),this.trigger("nb-rendered",this),this):this},open:function(){return this.$node&&this.$node.data("uiAutocomplete")&&this.isEnabled()&&this.render(),this},close:function(){return this.$node&&this.$node.data("uiAutocomplete")&&(this.$node.autocomplete("close"),this.trigger("nb-closed",this)),this},setState:function(e){var t;(e=e||{},this.value!==e.value)&&(0!==(t=e.value?this.$control.find('option[value="'+e.value+'"]').first():this.$control.find("option:contains("+e.text+")").first()).length&&(this.$selected.prop("selected",!1),this.$selected=t,this.$selected.prop("selected",!0),this.value=this.$selected.val(),this.text=this.$selected.text(),this.icon=this.$selected.data("icon"),this._setText({text:this.text,icon:this.icon}),this.trigger("nb-changed",this),this.$control.val(e.value)));return this},getState:function(){return{value:this.value,text:this.text}},getName:function(){return this.$control.prop("name")},setName:function(e){return this.$control.prop("name",e),this.trigger("nb-name-set",this),this},disable:function(){return this.isEnabled()&&(this.$node.addClass("_nb-is-disabled"),this._tabindex=this.$node.attr("tabindex"),this.$node.attr("tabindex","-1"),this.$node.attr("_nb-is-disabled"),nb.IE_LT9||this.$node.autocomplete("disable"),this.$control.attr("disabled","disabled"),this.trigger("nb-disabled",this)),this},enable:function(){return this.isEnabled()||(this.$node.attr("tabindex",this._tabindex||"0"),this.$node.removeClass("_nb-is-disabled"),nb.IE_LT9||this.$node.autocomplete("enable"),this.$control.removeAttr("disabled"),this.trigger("nb-enabled",this)),this},isEnabled:function(){return!this.$node.hasClass("_nb-is-disabled")},setSource:function(e){if(!e)return this;e instanceof Array||(e=[e]);var t=[];e.forEach((function(e){e.selected&&t.push(e)})),t.slice(0,-1).forEach((function(e){e.selected=!1}));var n=yr.run(this.getYateModuleName(),{items:e},"nb-select-options");return this.$control.empty().append(n),this._updateFromSelect(),this.trigger("nb-source-changed",this),this},getSource:function(){return $.map(this.$control.children("option"),(function(e){var t=$(e);return{text:t.text(),value:t.val(),selected:t.prop("selected")}}))},addToSource:function(e,t){var n=this.getSource();e instanceof Array||(e=[e]);var r=null,i=e.filter((function(e){return!(-1!==n.indexOf(e))&&(e.selected&&(r=e.value),!0)}),this);return isNaN(t)&&(t=n.length),i.forEach((function(e,r){n.splice(t+r,0,e)}),this),this.setSource(n),r&&this.setState({value:r}),this.trigger("nb-source-changed",this),this},removeFromSource:function(e){var t,n=this.getSource();return"number"==typeof e||"string"==typeof e?t=parseInt(e):e instanceof Array||(e=[e]),t||0===t?n.splice(t,1):e.forEach((function(e){n=n.filter((function(t){return t.text!=e.text&&t.value!=e.value}))}),this),this.setSource(n),this.trigger("nb-source-changed",this),this},focus:function(){return this.isEnabled()&&this.$node.focus(),this.trigger("nb-focused",this),this},blur:function(){return this.isEnabled()&&this.$node.blur(),this.trigger("nb-blured",this),this},setOption:function(e){return this.$node.autocomplete("option",e),this.trigger("nb-option-set",this),this},getOption:function(e){return this.$node.autocomplete("option",e)},destroy:function(){this.$node&&this.$node.data("uiAutocomplete")&&(this.$node.autocomplete("destroy"),this.$dropdown.empty().appendTo(this.$node)),this.trigger("nb-destroyed",this),this.nbdestroy()}},"base"),
/*!
 * @class nb.block.Slider
 * @augments nb.block.Base
 */
nb.define("slider",{oninit:function(){var e=this;return this.data=this.nbdata(),this.$control=this.$node.find("._nb-slider-fallback"),this.$body=this.$node.children("._nb-slider-body"),this.$body.show(),this.$body.slider({range:"min",disabled:this.$node.hasClass("_nb-is-disabled"),value:parseFloat(this.data.value),change:function(e,t){this.$control.val(t.value)}.bind(this)}),this.$body.on("slidestop",(function(t,n){e.trigger("nb-slider_slidestop",n.value)})),this.$body.on("slidestart",(function(t,n){e.trigger("nb-slider_slidestart",n.value)})),this.$body.on("slide",(function(t,n){e.trigger("nb-slider_slide",n.value)})),this.trigger("nb-inited",this),this},setValue:function(e){return this.$body.slider("option","disabled")?this:(this.$body.slider("value",e),this.trigger("nb-value-set",this),this)},getValue:function(){return this.$body.slider("option","value")},setName:function(e){return this.$control.prop("name",e),this.trigger("nb-name-set",this),this},getName:function(){return this.$control.prop("name")},disable:function(){return this.$node.addClass("_nb-is-disabled"),this.$body.slider("disable"),this.trigger("nb-disabled",this),this},enable:function(){return this.$node.removeClass("_nb-is-disabled"),this.$body.slider("enable"),this.trigger("nb-enabled",this),this},isEnabled:function(){return!this.$body.slider("option","disabled")},destroy:function(){this.$body&&this.$body.data("uiSlider")&&this.$body.slider("destroy"),this.trigger("nb-destroyed",this),this.nbdestroy()}},"base"),
/*!
 * ### jQuery UI Depends
 *
 * - jquery.ui.dialog.js
 * - jquery.ui.core.js
 * - jquery.ui.widget.js
 * - jquery.ui.button.js
 * - jquery.ui.draggable.js
 * - jquery.ui.mouse.js
 * - jquery.ui.position.js
 */
(function(){$.nb={};function e(e,t){return Math.min(Math.max(e,t[0]),t[1])}function t(e){return[{x:Math.round(e.left),y:Math.round(e.top)},{x:Math.round(e.left+e.width),y:Math.round(e.top+e.height)}]}
/*!
     *  Функция возвращает строку с модификаторами
     *  для обертки попапа, которую добавляет jquery ui,
     *  в соответсвии с модификаторами самого попапа
     *
     *  Например, для попапа заданы классы-модификаторы nb-popup_mod и nb-popup_another-mod,
     *  функция вернет строку 'nb-popup-outer_mod nb-popup-outer_another-mod'
     *
     */
function n(e){var t=e.split(" ")||[],n=/[^_]_(?!_)/;return $.map(t,(function(e){var t=e.split(n),r=t.length,i=t.pop(),o="";return r>1&&(o="nb-popup-outer_"+i),o})).join(" ")}$.widget("nb.baseDialog",$.ui.dialog,{options:{height:"auto",minHeight:"auto",width:"auto"},open:function(){this._super();var e=this;this.options.autoclose&&(this.options.modal?(this._onmousedown=function(t){2!==t.which&&3!==t.which&&(e.options.closedByOuterClick=!0,e.close())},this.overlay.click(this._onmousedown)):(this._onmousedown=function(t){var n=$(e.uiDialog[0]).find(".nb-popup").attr("id"),r=$(t.target).parents().addBack().filter('[data-nb="popup-toggler"]');2!==t.which&&3!==t.which&&($.contains(e.uiDialog[0],t.target)||r.length&&nb.find(r.attr("id"))&&nb.find(r.attr("id")).nbdata()["popup-toggler"].id==n||t.clientX>window.screen.width-18||(e.options.closedByOuterClick=!0,e.close()))},this.document.on("mousedown",this._onmousedown),this.document.on("touchstart",this._onmousedown))),this._onresize=$.throttle(1e3/60,this._position.bind(this)),this.window.on("resize",this._onresize),this._onpopupclose=nb.on("popup-close",(function(){e.options.autoclose&&e.close()}))},close:function(e){this._super(),e&&27===e.keyCode&&this.options.modal&&(this.nbBlock=this.nbBlock||nb.find($(this.uiDialog[0]).find(".nb-popup").attr("id")),this.nbBlock.trigger("nb-closed",this.nbBlock)),this.options.autoclose&&(this.document.off("mousedown",this._onmousedown),this.document.off("touchstart",this._onmousedown),this.document.off("click",this._onmousedown)),this._onresize&&this.window.off("resize",this._onresize),nb.off("popup-close",this._onpopupclose)},_focusTabbable:function(){this.options.autofocus&&this._super()},_keepFocus:$.noop,_create:function(){this._super(),this.element[0].widget=this},_destroy:function(){this._super(),delete this.element[0].widget},_position:function(){var e=this,t=this.options.position.using;this.options.position.using=function(n,r){var i,o,a=$.extend({},n);return $(r.element.element[0]).css({top:"auto",bottom:"auto",left:"auto",right:"auto"}),"bottom"==r.vertical&&(o=e.window.height(),a.bottom=o-(a.top+r.element.height),a.top="auto"),"right"==r.horizontal&&(i=e.window.width(),a.right=i-(a.left+r.element.width),a.left="auto"),t.call(r.element.element[0],a,r)},this._super(),this.options.position.using=t},_createTitlebar:function(){this.uiDialogTitlebarClose=$()}}),$.widget("nb.contextDialog",$.nb.baseDialog,{tailOffset:13,options:{show:{effect:"nb",duration:150},hide:{effect:"nb",duration:150},draggable:!1,resizable:!1,position:{my:"center top",at:"center bottom",collision:"fit flip"}},_create:function(){this._super(),this.options.withoutTail||(this.$tail=$('<div class="_nb-popup-tail"><i/></div>'),this.$tail.prependTo(this.uiDialog))},_position:function(){var n=this,r=this.options.position.using,i={top:"",left:"",right:"",bottom:""};this.options.position.using=function(o,a){var s,u,c=a.element.element,l=c[0],d=(function(e,n){var r=t(n),i=t(e);if(r[0].y<=i[0].y&&r[1].y<=i[0].y)return"bottom";if(r[0].x>=i[1].x&&r[1].x>=i[1].x)return"left";if(r[0].y>=i[1].y&&r[1].y>=i[1].y)return"top";return"right"})(a.target,a.element),f=(function(e){return{x:Math.round(e.left+e.width/2),y:Math.round(e.top+e.height/2)}})(a.target);return nb.node.setMod(l,"_nb-popup_to",(function(e){return{top:"bottom",bottom:"top",left:"right",right:"left"}[e]})(d)),c.data("nb-tail-dir",d),n.options.withoutTail||(!(function(e){return"top"===e||"bottom"===e})(d)?(u=[n.tailOffset,a.element.height-n.tailOffset],s=e(Math.abs(f.y-a.element.top),u),n.$tail.css($.extend(i,{top:s+"px"}))):(u=[n.tailOffset,a.element.width-n.tailOffset],s=e(Math.abs(f.x-a.element.left),u),n.$tail.css($.extend(i,{left:s+"px"}))),o[d]+=n.tailOffset),r.call(l,o,a)},this._super(),this.options.position.using=r}}),jQuery.effects.effect.nb=function(e,t){var n=$(this),r=nb.block(n.find(".nb-popup").get(0)),i="hide"===$.effects.setMode(n,e.mode||"hide"),o=n.data("nb-tail-dir"),a=$.nb.contextDialog.prototype.tailOffset,s={};s.opacity=i?0:1,s[o]=(i?"+=":"-=")+a,r.animationInProgress=!1,r.animationInProgress?t():(i||(r.hasAnimation&&n.css(o,"+="+a),n.show()),r.animationInProgress=!0,r.hasAnimation?n.animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){i?(n.hide(),r.animationInProgress=!1,r.trigger("nb-closed",r),t()):(r.animationInProgress=!1,r.trigger("nb-opened",r),t())}}):(n.css({opacity:"1"}),i?(n.hide(),r.trigger("nb-closed",r),t()):(r.trigger("nb-opened",r),t()),r.animationInProgress=!1))},nb.define("popup",{events:{"click ._nb-popup-close":"close",position:"onposition"},oninit:function(){"modal"in this.nbdata()&&(this.modal=!0),this._initPopupMenu()},_initPopupMenu:function(){if(this.$menu=this.$node.find("._nb-popup-menu").eq(0),this.$menu.length){var e=this;this.$menu.menu({select:function(t,n){e.trigger("nb-select",{event:t,ui:n})},focus:function(t,n){e.trigger("nb-focused",{event:t,ui:n})},blur:function(t,n){e.trigger("nb-blured",{event:t,ui:n})}})}},onposition:function(e,t){var n=t.where,r=t.how;this._move(n,r,t)},open:function(e){if(!e&&!this.modal)return console.warn("Trying to call popup.open() without params;"),this;var t=e||{},n=t.where,r=t.how;return this.where?(n!==this.where||n instanceof Array&&(n[0]!==this.where[0]||n[1]!==this.where[1]))&&this._move(n,r):(t.where||this.modal)&&(this.$node.removeClass("_nb-is-hidden"),this._move(n,r,t),this.modal?this.trigger("nb-opened"):this.trigger("nb-open-started")),this},close:function(){return this.where=null,this.isOpen()&&(this.node.widget.close(),this.modal?this.trigger("nb-closed"):this.trigger("nb-close-started")),this.node&&this.node.widget&&this.node.widget.options.closedByOuterClick&&(this.modal?this.trigger("nb-closed"):this.trigger("nb-close-started"),this.node.widget.options.closedByOuterClick=!1),this},setContent:function(e){return this.$menu.length?(this.$menu.menu("destroy"),this.$menu.replaceWith(e),this._initPopupMenu()):this.$node.find("._nb-popup-content").html(e),this.trigger("nb-content-set"),this},getContent:function(){return this.$node.find("._nb-popup-content").html()},isOpen:function(){return this.node&&this.node.widget&&this.node.widget.isOpen()},destroy:function(){this.node&&this.node.widget&&(this.node.widget.destroy(),this.$node.addClass("_nb-is-hidden")),this.trigger("nb-destroyed",this),this.nbdestroy()},_move:function(e,t,r){this.where=e;var i=this,o=(r=r||{},t=t||{},this.nbdata());"fixed"!==t&&"fixed"!==o.how||(t={fixed:!0});var a=!1;t.fixed&&(a=!0);var s=function(e){$(this).css(e)},u=!0;void 0!==t.autoclose&&(u=t.autoclose),void 0!==r.autoclose&&(u=r.autoclose);var c=!0;if(void 0!==t.autofocus&&(c=t.autofocus),void 0!==r.autofocus&&(c=r.autofocus),this.hasAnimation=!0,void 0!==t.animation&&(this.hasAnimation=t.animation),void 0!==r.animation&&(this.hasAnimation=r.animation),this.modal){var l=r.class||"_nb-popup-outer ui-dialog-fixed ";return l+=n(this.$node.attr("class")),void $(this.node).baseDialog({height:r.height||o.height,minHeight:r.minHeight||o.minheight,maxHeight:r.maxHeight||o.maxheight,width:r.width||o.width,show:"fade",hide:"fade",modal:!0,resizable:!1,draggable:!1,dialogClass:l,close:function(){i.close()},appendTo:r.appendTo,position:{using:s},autoclose:u,autofocus:c})}if(!this.animationInProgress){l="_nb-popup-outer ui-dialog-no-close ";r.class&&(l+=r.class),a&&(l+=" ui-dialog-fixed"),l+=n(this.$node.attr("class")),this.$node.hide().contextDialog({height:r.height||o.height||"auto",minHeight:r.minHeight||o.minheight||"auto",maxHeight:r.maxHeight||o.maxheight||"auto",width:r.width||o.width||"auto",dialogClass:l,position:{at:t.at?t.at:"center bottom",my:t.my?t.my:"center top",fixed:a,of:$(this.where),collision:t.collision?t.collision:"fit flip",using:t.using||s,within:t.within},close:function(){i.close()},appendTo:r.appendTo||t.appendTo,autoclose:u,autofocus:c,withoutTail:r.withoutTail||o.withouttail||!1})}}},"base")})(),nb.define("popup-toggler",{events:{click:"toggle"},oninit:function(){var e=this;this.data=this.nbdata()["popup-toggler"],this.popup=nb.find(this.data.id),this.popup&&(this.popup.on("nb-closed",(function(){e.trigger("nb-closed",e)})),this.popup.on("nb-opened",(function(){e.trigger("nb-opened",e)}))),this.options={where:this.data.where||this.node,how:this.data.how,withoutTail:this.data.withoutTail,autoclose:this.data.autoclose,autofocus:this.data.autofocus,appendTo:this.data.appendTo},this.trigger("nb-inited",this)},toggle:function(e){return e&&e.preventDefault(),this.popup&&this.popup.isOpen()?this.close(e):this.open(e),this},open:function(e){return e&&e.preventDefault(),this.isEnabled()&&this.popup&&!this.popup.isOpen()&&(this.popup.open(this.options),this.trigger("nb-open-started",this)),this},close:function(){return this.isEnabled()&&this.popup&&this.popup.isOpen()&&(this.popup.close(),this.trigger("nb-close-started",this)),this},getPopup:function(){return this.popup},setPopup:function(e){if("string"==typeof e){var t={};t.popup=e,e=t}if(1===arguments.length&&"object"==typeof e&&e.popup){var n=e.popup;delete e.popup,e.where&&(this.options=e),this.popup="string"==typeof n?nb.find(n):n,this.trigger("nb-popup-set",this)}return this},getOptions:function(){return this.options},setOptions:function(e){return 1===arguments.length&&"object"==typeof e&&(this.options=e,this.trigger("nb-options-set",this)),this},disable:function(){return this._tabindex=this.$node.attr("tabindex"),this.$node.attr("tabindex","-1"),this.$node.addClass("_nb-is-disabled"),this.trigger("nb-disabled",this),this},enable:function(){return this.$node.attr("tabindex",this._tabindex||"0"),this.$node.removeClass("_nb-is-disabled"),this.trigger("nb-enabled",this),this},isEnabled:function(){return!this.$node.hasClass("_nb-is-disabled")},destroy:function(){this.nbdestroy()}},"base"),(function(){var e=function(e,t){e.$control.get(0).attachEvent?e.$control.get(0).attachEvent("onpropertychange",(function(e){"value"===e.propertyName&&t(e)})):e.$control.on("input",t)};
/*!
     * @class nb.block.Input
     * @augments nb.block.Base
     */nb.define("input",{events:{click:"focus","mousedown ._nb-input-reset":"reset"},oninit:function(){var t=this;this.data=this.nbdata(),"simple"==this.data.type?this.$control=this.$node:this.$control=this.$node.find("._nb-input-controller"),this.focused=!1,this.disabled=this.$control.prop("disabled"),this.value=this.getValue(),this.$reset=this.$node.find("._nb-input-reset"),this.$hint=this.$node.find("._nb-input-hint"),this.$control.on("focusin",(function(e){t.focused||t._onfocus(e)})),this.$control.on("focusout",(function(e){t.focused&&t._onblur(e)})),this.$control.on("change",(function(e){t.trigger("nb-changed",t,e)})),e(this,(function(e){t.value=t.getValue(),""!==t.value&&t.$reset.length?t.$reset.css("visibility","visible"):t.$reset.css("visibility","hidden"),t.trigger("nb-input",this,e)})),this.$hint.length&&this._inithint(),this.data.ghost&&this.$node.on("mouseover mouseout",(function(){t.$node.toggleClass("_nb-is-ghost")})),this.data.error&&(this.error=nb.find(this.data.error.id)),""===this.value&&this.$reset.length&&this.$reset.css("visibility","hidden"),this._onmousedown=function(e){$.contains(this.$node.get(0),e.target)||this._onblur(e)}.bind(this),$(document).on("mousedown",this._onmousedown),$(document).on("touchstart",this._onmousedown),this.trigger("nb-inited",this)},_inithint:function(){var t=this;this.$control.removeAttr("placeholder"),this.$hintGhost=this.$hint.find("._nb-input-hint-ghost"),this.$hintGhost.length?(this.$hintGhost.html(t.getValue()),e(this,(function(){t.$hintGhost.html(t.getValue())}))):(t.$hint.css("visibility","visible"),e(this,(function(){""===t.getValue()?t.$hint.css("visibility","inherit"):t.$hint.css("visibility","hidden")})))},_onfocus:function(e){this.$node.addClass("_nb-is-focused"),this.focused=!0,e||this.$control.focus(),this.$hintGhost&&this.$hintGhost.length&&this.$hint.css("visibility","hidden"),this.data.ghost&&this.$node.removeClass("_nb-is-ghost")},_onblur:function(e){this.$node.removeClass("_nb-is-focused"),this.focused=!1,e||this.$control.blur(),this.$hintGhost&&this.$hintGhost.length&&this.$hint.css("visibility","inherit"),this.data.ghost&&this.$node.addClass("_nb-is-ghost")},showError:function(e){var t=this.focused;e=e||{};if(this.data.error){this.$node.addClass("_nb-is-wrong");var n={collision:"flip flip"};this.data.error.direction&&"left"==this.data.error.direction?(n.at="left",n.my="right"):(n.at="right",n.my="left"),"string"==typeof e&&this.setErrorContent(e),e.content&&this.setErrorContent(e.content),this.error.isOpen()||(this.error.open({autoclose:e.autoclose||!1,autofocus:!1,where:e.where||this.node,how:e.how||n,appendTo:e.appendTo||!1,class:e.class||!1}),t&&this._onfocus())}return this},hideError:function(){var e=this.focused;return this.data.error&&(this.$node.removeClass("_nb-is-wrong"),this.error.close(),e&&this._onfocus()),this},setErrorContent:function(e){return this.data.error&&(this.error.$node.find("._nb-popup-content").html(e),this.trigger("nb-error-content-set",this)),this},focus:function(){return!this.focused&&this.isEnabled()&&(nb.trigger("nb-focusout"),this._onfocus(),this.trigger("nb-focused",this)),this},blur:function(){return this.focused&&this.isEnabled()&&(this._onblur(),this.trigger("nb-blured",this)),this},disable:function(){return this.$node.addClass("_nb-is-disabled"),this.$control.prop("disabled",!0),this.trigger("nb-disabled",this),this},enable:function(){return this.$node.removeClass("_nb-is-disabled"),this.$control.prop("disabled",!1),this.trigger("nb-enabled",this),this},setValue:function(e){return this.value!=e&&(this.value=e,this.$control.val(e),this.$control.trigger("input"),this.trigger("nb-value-set",this),this.trigger("nb-changed",this)),this},getValue:function(){return this.$control.val()},getName:function(){return this.$control.prop("name")},setName:function(e){return this.$control.attr("name",e),this.trigger("nb-name-set",this),this},isEnabled:function(){return!this.$control.prop("disabled")},reset:function(e){return e&&e.preventDefault&&e.preventDefault(),this.setValue(""),this},setHint:function(e){return this.$hint.length&&(this.$hintGhost.length?this.$hint.find("._nb-input-hint-content").html(e):this.$hint.find("._nb-input-hint-inner").html(e),this.trigger("nb-hint-set",this)),this},getHint:function(){var e="";return this.$hint.length&&(e=this.$hintGhost.length?this.$hint.find("._nb-input-hint-content").html():this.$hint.find("._nb-input-hint-inner").html()),e},destroy:function(){this.trigger("nb-destroyed",this),this.error&&(this.error.nbdestroy(),this.error.$node.remove()),$(document).off("mousedown",this._onmousedown),$(document).off("touchstart",this._onmousedown),this.nbdestroy()}},"base")})(),nb.define("input-group",{events:{click:"oninit",disable:"onDisable",enable:"onEnable"},oninit:function(){var e=this;e.disabled=this.nbdata().disabled,$(this.children()).each((function(){this.$node.hasClass("nb-input")?e.input=this:e.button=this}))},
/*!
     * Disables the input-group
     */
onDisable:function(){this.input.trigger("disable"),this.button.disable(),this.disabled=!0},
/*!
     * Enables the input-group
     */
onEnable:function(){this.input.trigger("enable"),this.button.enable(),this.disabled=!1}},"base"),nb.define("progress",{oninit:function(){var e=this.nbdata();e&&e.type&&(this.type=e.type),this.$title=this.$node.find(".js-title"),this.$control=this.$node.find("input"),this.$bar=this.$node.find(".js-bar")},setValue:function(e){var t=parseFloat(e);return this.$control.val(t),this.$bar.css({width:t+"%"}),"percentage"==this.type&&this.$title.html(t+"%"),this.trigger("nb-value-set",this),this},getValue:function(){return this.$control.val()},tick:function(){var e=parseFloat(this.getValue());return e<100&&e++,this.setValue(e),this.trigger("nb-changed",this),this}},"base"),nb.define("tabs",{oninit:function(){this.$node.tabs()}},"base"),nb.define("header",{events:{"click .nb-header-button":"togglePress"},
/*!
     * Toggles pressed state of button
     */
togglePress:function(e){var t=$(e.target);t.closest(".nb-header-button").toggleClass("nb-header-pressed-button"),t.hasClass("nb-services-icon")&&nb.trigger("services-click"),t.hasClass("nb-settings-icon")&&nb.trigger("settings-click")}},"base"),(function(){$.widget("ui.suggest",$.ui.autocomplete,{options:{
/*!
         * Истоник данных
         * @description См. http://api.jqueryui.com/autocomplete/#option-source
         *
         * @type {(String|Array|Function)}
         */
source:null,
/*!
         * Количество элеметов, при котором в выпадающем списке появляется скролл
         *
         * @type {Number}
         */
countMax:10,
/*!
         * Тип саджеста
         * @description
         *     Указывает из какого шаблона брать верстку для элемента выпадающего списка.
         *     См. файл suggest.yate: match /[.type].item nb-suggest
         *
         * @type {String}
         */
type:"default",
/*!
         * Включение или отключение выделения жирным начертанием результатов
         * матчинга в выпадающем списке.
         *
         * @type {Boolean}
         */
highlight:!1,
/*!
         * Размер блока.
         * @description Применятся на размер элементов в выпадающем списке.
         *
         * @type {String}
         */
size:"s",
/*!
         * Количесвто введенных символов, после которого начинать поиск слов
         */
minLength:2},_resizeMenu:function(){this.menu.element.width($(this.options.position.of).outerWidth())},_renderMenu:function(e,t){var n=this,r="";$.each(t,(function(e,t){r+=n._renderItem(t)})),$(r).appendTo(e),e.children("li").each((function(e){$(this).data("ui-autocomplete-item",t[e])}))},_renderItem:function(t){var n=$.extend({},t);this.options.highlight&&("function"==typeof e[this.options.type]?e[this.options.type](n,this._value()):"function"==typeof this.options.highlight&&this.options.highlight(n,this._value())),n.labelContent=n.label,delete n.label;var r={item:n,type:this.options.type,size:this.options.size};return $.isFunction(this.options.renderItem)?this.options.renderItem(r):'<li><a href="#">'+n.labelContent+"</a></li>"},_suggest:function(e){this._super(e),this.options.countMax&&!this._heightMax&&(this._heightMax=this.menu.element.children().eq(0).height()*this.options.countMax,this.menu.element.css({"max-height":this._heightMax,"overflow-y":"auto","overflow-x":"hidden"}))},_value:function(e){if(!e)return this._super.apply(this,arguments);this._trigger("_setvalue",null,e)},search:function(e,t){return this._trigger("_search"),this._super(e,t)}});var e={default:function(e,t){var n=new RegExp("("+$.ui.autocomplete.escapeRegex(t)+")","i");e.label=e.label.replace(n,"<b>$1</b>")},username:function(e,t){var n=new RegExp("("+$.ui.autocomplete.escapeRegex(t)+")","ig");e.usernameHighlighted=e.username.replace(n,'<span class="_nb-suggest-hl">$1</span>'),"string"==typeof e.email&&(e.emailHighlighted=e.email.replace(n,'<span class="_nb-suggest-hl">$1</span>'))}};
/*!
     * @class nb.block.Suggest
     * @augments nb.block.Base
     */nb.define("suggest",{oninit:function(){var e=this,t=this.$node[0].tagName.toLowerCase();"input"===t||"textarea"===t?this.$control=this.$node:(this.$control=this.$node.find("input"),this.input=nb.block(this.$node.find(".nb-input").get(0)));var n=this.$node.data("source");this.$control.on("keydown.nb-suggest",function(e){var t=$.ui.keyCode;-1!==$.inArray(e.keyCode,[t.ENTER,t.NUMPAD_ENTER])&&(this.$jUI.data().uiSuggest.menu.active||this.trigger("nb-keypress-enter",this,this.getValue()))}.bind(this)),this.$jUI=this.$control.suggest({source:n,position:{of:this.$node.get(0)},countMax:this.$node.data("countMax"),type:this.$node.data("type"),size:this.$node.data("size"),highlight:this.$node.data("highlight"),minLength:this.$node.data("minLength"),renderItem:function(t){return yr.run(e.getYateModuleName(),t,"nb-suggest")},search:this.onBeforeStartSearch.bind(this)}),this.$suggest=this.$jUI.data().uiSuggest.menu.element,this.$suggest.addClass(this.$node.data("class-suggest")),this.$jUI.on("suggest_search.nb-suggest",function(){this.trigger("nb-type",this,this.getValue())}.bind(this)),this.$jUI.on("suggest_setvalue.nb-suggest",this.onSetValueToInput.bind(this)),this.$jUI.on("suggestselect.nb-suggest",this.onSelectValue.bind(this)),this.trigger("nb-inited",this)},onBeforeStartSearch:function(e){var t=this.getSelected();t&&this.getValue()===t.value&&e.preventDefault()},onSelectValue:function(e,t){this.$selected=t.item,this.trigger("nb-select",this,t.item)},onSetValueToInput:function(e,t){this.input?this.input.setValue(t):this.$control.val(t)},getSelected:function(){return this.$selected},setOption:function(e){return this.$jUI.suggest("option",e),this.trigger("nb-option-set",this),this},getOption:function(e){return this.$jUI.suggest("option",e)},setSource:function(e){return this.setOption({source:e}),this.trigger("nb-source-set",this),this},getSource:function(){return this.getOption("source")},close:function(){return this.$jUI.suggest("close"),this.trigger("nb-closed",this),this},disable:function(){return this.isEnabled()&&(this.input?this.input.disable():this.$control.prop("disabled",!0),this.$node.addClass("_nb-is-disabled"),this.$jUI.suggest("disable"),this.trigger("nb-disabled",this)),this},enable:function(){return this.isEnabled()||(this.input?this.input.enable():this.$control.prop("disabled",!1),this.$node.removeClass("_nb-is-disabled"),this.$jUI.suggest("enable"),this.trigger("nb-enabled",this)),this},isEnabled:function(){return!this.$node.hasClass("_nb-is-disabled")},focus:function(){return this.isEnabled()&&(this.input?this.input.focus():this.$control.focus()),this.trigger("nb-focused",this),this},getName:function(){return this.$control.prop("name")},setName:function(e){return this.$control.prop("name",e),this.trigger("nb-name-set",this),this},blur:function(){return this.isEnabled()&&(this.input?this.input.blur():this.$control.blur()),this.trigger("nb-blured",this),this},getValue:function(){return this.$control.val()},setValue:function(e){return this.isEnabled()&&(this.$control.val(e),this.trigger("nb-value-set",this)),this},search:function(e){return this.$jUI.suggest("search",e),this},destroy:function(){if(this.$control&&this.$jUI){var e=this.$jUI.data();this.$control.off(".nb-suggest"),this.$jUI.off(".nb-suggest"),e&&e.uiSuggest&&this.$jUI.suggest("destroy")}this.trigger("nb-destroyed",this),this.nbdestroy()}},"base")})(),nb.define("toggler",{events:{click:"toggle"},
/*!
     * Init the toggler
     * @fires 'nb-inited'
     */
oninit:function(){return this.$control=this.$node.find("._nb-toggler-checkbox"),this.trigger("nb-inited",this),this},setValue:function(e){return this.$control.attr("value",e),this.trigger("nb-value-set",this),this},getValue:function(){return this.$control.prop("value")},toggle:function(){return this.isEnabled()&&(this.isChecked()?this.uncheck():this.check(),this.trigger("nb-changed",this)),this},getName:function(){return this.$control.attr("name")},setName:function(e){return this.$control.attr("name",e),this.trigger("nb-name-set",this),this},disable:function(){return this.$control.prop("disabled",!0),this.$node.addClass("_nb-is-disabled"),this.trigger("nb-disabled",this),this},enable:function(){return this.$control.prop("disabled",!1),this.$node.removeClass("_nb-is-disabled"),this.trigger("nb-enabled",this),this},isEnabled:function(){return!this.$control.prop("disabled")},focus:function(){return this.isEnabled()&&(this.$node.hasClass("_nb-is-focused")||(this.$node.addClass("_nb-is-focused").focus(),this.focused=!0,this.$control.focus(),this.trigger("nb-focused",this))),this},blur:function(){return this.$node.removeClass("_nb-is-focused").blur(),this.focused=!1,this.trigger("nb-blured",this),this},isChecked:function(){return this.$control.prop("checked")},check:function(){return this.isEnabled()&&!this.isChecked()&&(this.$control.prop({checked:!0}),this.$node.addClass("_nb-is-checked"),this.trigger("nb-checked",this)),this},uncheck:function(){return this.isEnabled()&&this.isChecked()&&(this.$control.prop({checked:!1}),this.$node.removeClass("_nb-is-checked"),this.trigger("nb-unchecked",this)),this},destroy:function(){this.trigger("nb-destroyed",this),this.nbdestroy()}},"base"),module.exports=nb}),(function(e,t,n){(function(r,i){var o;!(function(a){var s=function(e){this._res=e,this._isFulfilled=!!arguments.length,this._isRejected=!1,this._fulfilledCallbacks=[],this._rejectedCallbacks=[],this._progressCallbacks=[]};s.prototype={valueOf:function(){return this._res},isFulfilled:function(){return this._isFulfilled},isRejected:function(){return this._isRejected},isResolved:function(){return this._isFulfilled||this._isRejected},fulfill:function(e){this.isResolved()||(this._isFulfilled=!0,this._res=e,this._callCallbacks(this._fulfilledCallbacks,e),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=void 0)},reject:function(e){this.isResolved()||(this._isRejected=!0,this._res=e,this._callCallbacks(this._rejectedCallbacks,e),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=void 0)},notify:function(e){this.isResolved()||this._callCallbacks(this._progressCallbacks,e)},then:function(e,t,n,r){t&&!d(t)?(r=t,t=void 0):n&&!d(n)&&(r=n,n=void 0);var i,o=new s;return this._isRejected||(i={promise:o,fn:d(e)?e:void 0,ctx:r},this._isFulfilled?this._callCallbacks([i],this._res):this._fulfilledCallbacks.push(i)),this._isFulfilled||(i={promise:o,fn:t,ctx:r},this._isRejected?this._callCallbacks([i],this._res):this._rejectedCallbacks.push(i)),this.isResolved()||this._progressCallbacks.push({promise:o,fn:n,ctx:r}),o},fail:function(e,t){return this.then(void 0,e,t)},always:function(e,t){var n=this,r=function(){return e.call(this,n)};return this.then(r,r,t)},progress:function(e,t){return this.then(void 0,void 0,e,t)},spread:function(e,t,n){return this.then((function(t){return e.apply(this,t)}),t,n)},done:function(e,t,n,r){this.then(e,t,n,r).fail(l)},delay:function(e){var t,n=this.then((function(n){var r=new s;return t=setTimeout((function(){r.fulfill(n)}),e),r}));return n.always((function(){clearTimeout(t)})),n},timeout:function(e){var t=new s,n=setTimeout((function(){t.reject(Error("timed out"))}),e);return t.sync(this),t.always((function(){clearTimeout(n)})),t},sync:function(e){e.then(this.fulfill,this.reject,this.notify,this)},_callCallbacks:function(e,t){var n=e.length;if(n){var r=this.isResolved(),i=this.isFulfilled();c((function(){for(var o,a,s,c=0;c<n;)if(a=(o=e[c++]).promise,s=o.fn){var l,d=o.ctx;try{l=d?s.call(d,t):s(t)}catch(e){a.reject(e);continue}r?u.isPromise(l)?(function(e){l.then((function(t){e.fulfill(t)}),(function(t){e.reject(t)}),(function(t){e.notify(t)}))})(a):a.fulfill(l):a.notify(l)}else r?i?a.fulfill(t):a.reject(t):a.notify(t)}))}}};var u={Promise:s,promise:function(e){return arguments.length?u.isPromise(e)?e:new s(e):new s},when:function(e,t,n,r,i){return u.promise(e).then(t,n,r,i)},fail:function(e,t,n){return u.when(e,void 0,t,n)},always:function(e,t,n){return u.promise(e).always(t,n)},progress:function(e,t,n){return u.promise(e).progress(t,n)},spread:function(e,t,n,r){return u.promise(e).spread(t,n,r)},done:function(e,t,n,r,i){u.promise(e).done(t,n,r,i)},isPromise:function(e){return e&&d(e.then)},valueOf:function(e){return u.isPromise(e)?e.valueOf():e},isFulfilled:function(e){return!u.isPromise(e)||e.isFulfilled()},isRejected:function(e){return!!u.isPromise(e)&&e.isRejected()},isResolved:function(e){return!u.isPromise(e)||e.isResolved()},fulfill:function(e){return u.when(e,void 0,(function(e){return e}))},reject:function(e){return u.when(e,(function(e){var t=new s;return t.reject(e),t}))},resolve:function(e){return u.isPromise(e)?e:u.when(e)},invoke:function(e){try{return u.promise(e.apply(a,f.call(arguments,1)))}catch(e){return u.reject(e)}},forEach:function(e,t,n,r){for(var i=r?r.length:e.length,o=0;o<i;)u.when(e[r?r[o]:o],t,n),++o},all:function(e){var t=new s,n=p(e),r=n?m(e):v(e),i=r.length,o=n?[]:{};if(!i)return t.fulfill(o),t;var a=i;return u.forEach(e,(function(){if(!--a){for(var n=0;n<i;)o[r[n]]=u.valueOf(e[r[n++]]);t.fulfill(o)}}),(function(e){t.reject(e)}),r),t},allResolved:function(e){var t=new s,n=p(e),r=n?m(e):v(e),i=r.length,o=n?[]:{};if(!i)return t.fulfill(o),t;var a=function(){--i||t.fulfill(e)};return u.forEach(e,a,a,r),t},allPatiently:function(e){return u.allResolved(e).then((function(){var t,n,r,i,o=p(e),a=o?m(e):v(e),s=a.length,c=0;if(!s)return o?[]:{};for(;c<s;)r=a[c++],i=e[r],u.isRejected(i)?(t||(t=o?[]:{}),o?t.push(i.valueOf()):t[r]=i.valueOf()):t||((n||(n=o?[]:{}))[r]=u.valueOf(i));if(t)throw t;return n}))},any:function(e){var t=new s,n=e.length;if(!n)return t.reject(Error()),t;var r,i=0;return u.forEach(e,(function(e){t.fulfill(e)}),(function(e){i||(r=e),++i===n&&t.reject(r)})),t},delay:function(e,t){return u.promise(e).delay(t)},timeout:function(e,t){return u.promise(e).timeout(t)}},c=(function(){var e=[],t=function(t){return 1===e.push(t)},n=function(){var t=e,n=0,r=e.length;for(e=[];n<r;)t[n++]()};if("function"==typeof r)return function(e){t(e)&&r(n)};if("object"==typeof i&&i.nextTick)return function(e){t(e)&&i.nextTick(n)};if(a.postMessage){var o=!0;if(a.attachEvent){var s=function(){o=!1};a.attachEvent("onmessage",s),a.postMessage("__checkAsync","*"),a.detachEvent("onmessage",s)}if(o){var u="__promise"+ +new Date,c=function(e){e.data===u&&(e.stopPropagation&&e.stopPropagation(),n())};return a.addEventListener?a.addEventListener("message",c,!0):a.attachEvent("onmessage",c),function(e){t(e)&&a.postMessage(u,"*")}}}var l=a.document;if("onreadystatechange"in l.createElement("script")){return function(e){t(e)&&(function(){var e=l.createElement("script");e.onreadystatechange=function(){e.parentNode.removeChild(e),e=e.onreadystatechange=null,n()},(l.documentElement||l.body).appendChild(e)})()}}return function(e){t(e)&&setTimeout(n,0)}})(),l=function(e){c((function(){throw e}))},d=function(e){return"function"==typeof e},f=Array.prototype.slice,h=Object.prototype.toString,p=Array.isArray||function(e){return"[object Array]"===h.call(e)},m=function(e){for(var t=[],n=0,r=e.length;n<r;)t.push(n++);return t},v=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};e.exports=u,"object"==typeof modules&&modules.define("vow",(function(e){e(u)})),void 0===(o=function(e,t,n){n.exports=u}.call(t,n,t,e))||(e.exports=o),!1&&(a.Vow=u)})(this)}).call(this,n(300).setImmediate,n(264))}),(function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(133))}),(function(e,t){function n(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function r(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,i){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"==typeof t&&(i=t,t={}),t=t||{},i=i||function(){},a.type=t.type||"text/javascript",a.charset=t.charset||"utf8",a.async=!("async"in t)||!!t.async,a.src=e,t.attrs&&(function(e,t){for(var n in t)e.setAttribute(n,t[n])})(a,t.attrs),t.text&&(a.text=""+t.text),("onload"in a?n:r)(a,i),a.onload||n(a,i),o.appendChild(a)}}),(function(e,t,n){(function(t,n){e.exports=(function(){"use strict";var e=void 0;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),e||void 0===t||"node"!==t.title||(e=n);var r=e=e||function(e){window.setTimeout(e,1e3/60)},i=Array.prototype.concat,o=Array.prototype.slice;function a(e){return r(e)}function s(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}var u={};function c(e){if(u[e])return u[e];var t=e.replace("#","");3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var n=t.match(/.{2}/g);if(!n||n.length<3)throw new Error("Expected a color string of format #rrggbb");var r={r:parseInt(n[0],16),g:parseInt(n[1],16),b:parseInt(n[2],16)};return u[e]=r,r}function l(e,t,n){var r=e.toString(16),i=t.toString(16),o=n.toString(16);return r=r.length<2?"0"+r:r,i=i.length<2?"0"+i:i,o=o.length<2?"0"+o:o,"#"+r+i+o}var d=Object.freeze({bind:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return function(){for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];e.apply(t,i.call(r,o.call(a)))}},extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},onFrame:a,removeFirst:s,hexToRGB:c,rgbToHex:l});function f(e,t,n,r,i){var o=n-t,a=i-r,s=(e-t)/o;return r+s*a}var h=Object.freeze({mapValueInRange:f,interpolateColor:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments[5],a=c(t),s=c(n),u=Math.floor(f(e,r,i,a.r,s.r)),d=Math.floor(f(e,r,i,a.g,s.g)),h=Math.floor(f(e,r,i,a.b,s.b));return o?"rgb("+u+","+d+","+h+")":l(u,d,h)},degreesToRadians:function(e){return e*Math.PI/180},radiansToDegrees:function(e){return 180*e/Math.PI}});function p(e){return 3.62*(e-30)+194}function m(e){return 3*(e-8)+25}var v=Object.freeze({tensionFromOrigamiValue:p,origamiValueFromTension:function(e){return(e-194)/3.62+30},frictionFromOrigamiValue:m,origamiFromFriction:function(e){return(e-25)/3+8}}),g=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b=(function(){function e(){g(this,e),this.springSystem=null}return e.prototype.run=function(){var e=w.call(this);a((function(){e.loop(Date.now())}))},e})(),_=(function(){function e(t){g(this,e),this.springSystem=null,this.time=0,this.running=!1,this.timestep=t||16.667}return e.prototype.run=function(){var e=w.call(this);if(!this.running){for(this.running=!0;!e.getIsIdle();)e.loop(this.time+=this.timestep);this.running=!1}},e})(),O=(function(){function e(){g(this,e),this.springSystem=null,this.time=0,this.running=!1}return e.prototype.run=function(){},e.prototype.step=function(e){var t=w.call(this);t.loop(this.time+=e)},e})();function w(){if(null==this.springSystem)throw new Error("cannot run looper without a springSystem");return this.springSystem}var E=Object.freeze({AnimationLooper:b,SimulationLooper:_,SteppingSimulationLooper:O}),S=(function(){function e(t,n){g(this,e),this.bounciness=t,this.speed=n;var r=this.normalize(t/1.7,0,20);r=this.projectNormal(r,0,.8);var i=this.normalize(n/1.7,0,20);this.bouncyTension=this.projectNormal(i,.5,200),this.bouncyFriction=this.quadraticOutInterpolation(r,this.b3Nobounce(this.bouncyTension),.01)}return e.prototype.normalize=function(e,t,n){return(e-t)/(n-t)},e.prototype.projectNormal=function(e,t,n){return t+e*(n-t)},e.prototype.linearInterpolation=function(e,t,n){return e*n+(1-e)*t},e.prototype.quadraticOutInterpolation=function(e,t,n){return this.linearInterpolation(2*e-e*e,t,n)},e.prototype.b3Friction1=function(e){return 7e-4*Math.pow(e,3)-.031*Math.pow(e,2)+.64*e+1.28},e.prototype.b3Friction2=function(e){return 44e-6*Math.pow(e,3)-.006*Math.pow(e,2)+.36*e+2},e.prototype.b3Friction3=function(e){return 4.5e-7*Math.pow(e,3)-332e-6*Math.pow(e,2)+.1078*e+5.84},e.prototype.b3Nobounce=function(e){return e<=18?this.b3Friction1(e):e>18&&e<=44?this.b3Friction2(e):this.b3Friction3(e)},e})(),C=(function(){function e(t,n){g(this,e),this.tension=t,this.friction=n}return e.fromOrigamiTensionAndFriction=function(t,n){return new e(p(t),m(n))},e.fromBouncinessAndSpeed=function(t,n){var r=new S(t,n);return e.fromOrigamiTensionAndFriction(r.bouncyTension,r.bouncyFriction)},e.coastingConfigWithOrigamiFriction=function(t){return new e(0,m(t))},e})();C.DEFAULT_ORIGAMI_SPRING_CONFIG=C.fromOrigamiTensionAndFriction(40,7);var x=function e(){g(this,e),this.position=0,this.velocity=0},k=(function(){function e(t){g(this,e),this.listeners=[],this._startValue=0,this._currentState=new x,this._displacementFromRestThreshold=.001,this._endValue=0,this._overshootClampingEnabled=!1,this._previousState=new x,this._restSpeedThreshold=.001,this._tempState=new x,this._timeAccumulator=0,this._wasAtRest=!0,this._id="s"+e._ID++,this._springSystem=t}return e.prototype.destroy=function(){this.listeners=[],this._springSystem.deregisterSpring(this)},e.prototype.getId=function(){return this._id},e.prototype.setSpringConfig=function(e){return this._springConfig=e,this},e.prototype.getSpringConfig=function(){return this._springConfig},e.prototype.setCurrentValue=function(e,t){return this._startValue=e,this._currentState.position=e,t||this.setAtRest(),this.notifyPositionUpdated(!1,!1),this},e.prototype.getStartValue=function(){return this._startValue},e.prototype.getCurrentValue=function(){return this._currentState.position},e.prototype.getCurrentDisplacementDistance=function(){return this.getDisplacementDistanceForState(this._currentState)},e.prototype.getDisplacementDistanceForState=function(e){return Math.abs(this._endValue-e.position)},e.prototype.setEndValue=function(e){if(this._endValue===e&&this.isAtRest())return this;this._startValue=this.getCurrentValue(),this._endValue=e,this._springSystem.activateSpring(this.getId());for(var t=0,n=this.listeners.length;t<n;t++){var r=this.listeners[t],i=r.onSpringEndStateChange;i&&i(this)}return this},e.prototype.getEndValue=function(){return this._endValue},e.prototype.setVelocity=function(e){return e===this._currentState.velocity?this:(this._currentState.velocity=e,this._springSystem.activateSpring(this.getId()),this)},e.prototype.getVelocity=function(){return this._currentState.velocity},e.prototype.setRestSpeedThreshold=function(e){return this._restSpeedThreshold=e,this},e.prototype.getRestSpeedThreshold=function(){return this._restSpeedThreshold},e.prototype.setRestDisplacementThreshold=function(e){this._displacementFromRestThreshold=e},e.prototype.getRestDisplacementThreshold=function(){return this._displacementFromRestThreshold},e.prototype.setOvershootClampingEnabled=function(e){return this._overshootClampingEnabled=e,this},e.prototype.isOvershootClampingEnabled=function(){return this._overshootClampingEnabled},e.prototype.isOvershooting=function(){var e=this._startValue,t=this._endValue;return this._springConfig.tension>0&&(e<t&&this.getCurrentValue()>t||e>t&&this.getCurrentValue()<t)},e.prototype.advance=function(t,n){var r=this.isAtRest();if(!r||!this._wasAtRest){var i=n;n>e.MAX_DELTA_TIME_SEC&&(i=e.MAX_DELTA_TIME_SEC),this._timeAccumulator+=i;for(var o=this._springConfig.tension,a=this._springConfig.friction,s=this._currentState.position,u=this._currentState.velocity,c=this._tempState.position,l=this._tempState.velocity,d=void 0,f=void 0,h=void 0,p=void 0,m=void 0,v=void 0,g=void 0,y=void 0,b=void 0;this._timeAccumulator>=e.SOLVER_TIMESTEP_SEC;)this._timeAccumulator-=e.SOLVER_TIMESTEP_SEC,this._timeAccumulator<e.SOLVER_TIMESTEP_SEC&&(this._previousState.position=s,this._previousState.velocity=u),d=u,f=o*(this._endValue-c)-a*u,c=s+d*e.SOLVER_TIMESTEP_SEC*.5,l=u+f*e.SOLVER_TIMESTEP_SEC*.5,h=l,p=o*(this._endValue-c)-a*l,c=s+h*e.SOLVER_TIMESTEP_SEC*.5,l=u+p*e.SOLVER_TIMESTEP_SEC*.5,m=l,v=o*(this._endValue-c)-a*l,c=s+m*e.SOLVER_TIMESTEP_SEC,l=u+v*e.SOLVER_TIMESTEP_SEC,g=l,y=o*(this._endValue-c)-a*l,b=1/6*(f+2*(p+v)+y),s+=1/6*(d+2*(h+m)+g)*e.SOLVER_TIMESTEP_SEC,u+=b*e.SOLVER_TIMESTEP_SEC;this._tempState.position=c,this._tempState.velocity=l,this._currentState.position=s,this._currentState.velocity=u,this._timeAccumulator>0&&this._interpolate(this._timeAccumulator/e.SOLVER_TIMESTEP_SEC),(this.isAtRest()||this._overshootClampingEnabled&&this.isOvershooting())&&(this._springConfig.tension>0?(this._startValue=this._endValue,this._currentState.position=this._endValue):(this._endValue=this._currentState.position,this._startValue=this._endValue),this.setVelocity(0),r=!0);var _=!1;this._wasAtRest&&(this._wasAtRest=!1,_=!0);var O=!1;r&&(this._wasAtRest=!0,O=!0),this.notifyPositionUpdated(_,O)}},e.prototype.notifyPositionUpdated=function(e,t){for(var n=0,r=this.listeners.length;n<r;n++){var i=this.listeners[n];e&&i.onSpringActivate&&i.onSpringActivate(this),i.onSpringUpdate&&i.onSpringUpdate(this),t&&i.onSpringAtRest&&i.onSpringAtRest(this)}},e.prototype.systemShouldAdvance=function(){return!this.isAtRest()||!this.wasAtRest()},e.prototype.wasAtRest=function(){return this._wasAtRest},e.prototype.isAtRest=function(){return Math.abs(this._currentState.velocity)<this._restSpeedThreshold&&(this.getDisplacementDistanceForState(this._currentState)<=this._displacementFromRestThreshold||0===this._springConfig.tension)},e.prototype.setAtRest=function(){return this._endValue=this._currentState.position,this._tempState.position=this._currentState.position,this._currentState.velocity=0,this},e.prototype._interpolate=function(e){this._currentState.position=this._currentState.position*e+this._previousState.position*(1-e),this._currentState.velocity=this._currentState.velocity*e+this._previousState.velocity*(1-e)},e.prototype.getListeners=function(){return this.listeners},e.prototype.addListener=function(e){return this.listeners.push(e),this},e.prototype.removeListener=function(e){return s(this.listeners,e),this},e.prototype.removeAllListeners=function(){return this.listeners=[],this},e.prototype.currentValueIsApproximately=function(e){return Math.abs(this.getCurrentValue()-e)<=this.getRestDisplacementThreshold()},e})();k._ID=0,k.MAX_DELTA_TIME_SEC=.064,k.SOLVER_TIMESTEP_SEC=.001;var T=(function(){function e(t){g(this,e),this.listeners=[],this._activeSprings=[],this._idleSpringIndices=[],this._isIdle=!0,this._lastTimeMillis=-1,this._springRegistry={},this.looper=t||new b,this.looper.springSystem=this}return e.prototype.setLooper=function(e){this.looper=e,e.springSystem=this},e.prototype.createSpring=function(e,t){var n=void 0;return n=void 0===e||void 0===t?C.DEFAULT_ORIGAMI_SPRING_CONFIG:C.fromOrigamiTensionAndFriction(e,t),this.createSpringWithConfig(n)},e.prototype.createSpringWithBouncinessAndSpeed=function(e,t){var n=void 0;return n=void 0===e||void 0===t?C.DEFAULT_ORIGAMI_SPRING_CONFIG:C.fromBouncinessAndSpeed(e,t),this.createSpringWithConfig(n)},e.prototype.createSpringWithConfig=function(e){var t=new k(this);return this.registerSpring(t),t.setSpringConfig(e),t},e.prototype.getIsIdle=function(){return this._isIdle},e.prototype.getSpringById=function(e){return this._springRegistry[e]},e.prototype.getAllSprings=function(){var e=[];for(var t in this._springRegistry)this._springRegistry.hasOwnProperty(t)&&e.push(this._springRegistry[t]);return e},e.prototype.registerSpring=function(e){this._springRegistry[e.getId()]=e},e.prototype.deregisterSpring=function(e){s(this._activeSprings,e),delete this._springRegistry[e.getId()]},e.prototype.advance=function(e,t){for(;this._idleSpringIndices.length>0;)this._idleSpringIndices.pop();for(var n=0,r=this._activeSprings.length;n<r;n++){var i=this._activeSprings[n];i.systemShouldAdvance()?i.advance(e/1e3,t/1e3):this._idleSpringIndices.push(this._activeSprings.indexOf(i))}for(;this._idleSpringIndices.length>0;){var o=this._idleSpringIndices.pop();o>=0&&this._activeSprings.splice(o,1)}},e.prototype.loop=function(e){var t=void 0;-1===this._lastTimeMillis&&(this._lastTimeMillis=e-1);var n=e-this._lastTimeMillis;this._lastTimeMillis=e;var r=0,i=this.listeners.length;for(r=0;r<i;r++)(t=this.listeners[r]).onBeforeIntegrate&&t.onBeforeIntegrate(this);for(this.advance(e,n),0===this._activeSprings.length&&(this._isIdle=!0,this._lastTimeMillis=-1),r=0;r<i;r++)(t=this.listeners[r]).onAfterIntegrate&&t.onAfterIntegrate(this);this._isIdle||this.looper.run()},e.prototype.activateSpring=function(e){var t=this._springRegistry[e];-1===this._activeSprings.indexOf(t)&&this._activeSprings.push(t),this.getIsIdle()&&(this._isIdle=!1,this.looper.run())},e.prototype.addListener=function(e){this.listeners.push(e)},e.prototype.removeListener=function(e){s(this.listeners,e)},e.prototype.removeAllListeners=function(){this.listeners=[]},e})();return y({},E,{OrigamiValueConverter:v,MathUtil:h,Spring:k,SpringConfig:C,SpringSystem:T,util:y({},d,h)})})()}).call(this,n(264),n(300).setImmediate)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(52),i=n(44);function o(e){Object(i.a)(1,arguments);var t=Object(r.a)(e),n=t.getFullYear(),o=t.getMonth(),a=new Date(0);return a.setFullYear(n,o+1,0),a.setHours(0,0,0,0),a.getDate()}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(56),u=n(511),c=n(75),l=n(202),d=a(n(12)),f=a(n(9)),h=n(45),p=n(13),m=n(142),v=a(n(34)),g=a(n(51)),y=n(33),b=n(16),_=n(26),O=n(42),w=n(17),E=n(16),S=n(197),C=n(16),x=a(n(22)),k=100;function T(e){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return[4,s.select()];case 1:return t=i.sent().config,n=t.urlsBase.hostCloudAPI,r=t.idClient,[4,s.call(l.openDatabase,{apiHost:n,databaseId:".ext.yadisk@docs_"+e,session:r})];case 2:return[2,i.sent()]}}))}var j=function(e){return u.eventChannel((function(t){var n=function(e){t(e)};return e.on("update",n),function(){e.off("update",n)}}),u.buffers.expanding())},R=function(e){var t=[];return e.forEach("docs",(function(e){t.push(f.default.pick(l.processRecord(e),"resource_id","ts","office_online_sharing_url","pinned","recordId"))})),t};function P(e,t){var n,r,o;return i(this,(function(i){switch(i.label){case 0:if(!t.length)return[2];i.label=1;case 1:return i.trys.push([1,4,,5]),[4,s.call(T,e)];case 2:return n=i.sent(),r=[],n.forEach("docs",(function(e){t.includes(e.getRecordId())&&r.push(e)})),[4,n.createTransaction().deleteRecords(r).push()];case 3:return i.sent(),[3,5];case 4:return o=i.sent(),console.error("Delete missing failed:",o),[3,5];case 5:return[2]}}))}function D(e,t){var n,r,a,u,c,l,d,h,p,g,y,b,_,O,w,E;return i(this,(function(i){switch(i.label){case 0:return n=f.default.chunk(e,k),r=n.map((function(e){return s.call(m.api,"mpfs/docs-resources",{docs:e})})),c=(u=f.default).flatten,[4,s.all(r)];case 1:return a=c.apply(u,[i.sent()]),[4,s.select()];case 2:return l=i.sent(),[4,s.call(v.default.preprocessResources,a,l)];case 3:return d=i.sent(),h=e.reduce((function(e,t){var n=t.resource_id||t.office_online_sharing_url;return n&&(e[n]=t),e}),{}),p={},g={},y=function(e){g[e.meta.resource_id]=o(g[e.meta.resource_id]||[],[e])},d.forEach((function(e){var t=e.isVicariousDoc?e.meta.office_online_sharing_url:e.meta.resource_id,n=h[t];e.openInEditorTimestamp=n.ts,e.pinned=n.pinned,e.recordId=n.recordId,p[t]=!0,y(e)})),b=l.docs.lists,_=l.resources,b[t].items.forEach((function(e){y(_[e])})),O=e.filter((function(e){var t=e.resource_id||e.office_online_sharing_url;return t&&!p[t]})).map((function(e){return e.recordId})),w=[],E=[],Object.values(g).forEach((function(e){e.length>1&&e.sort((function(e,t){return t.openInEditorTimestamp-e.openInEditorTimestamp})).slice(1).forEach((function(e){var t=e.recordId,n=e.id;w.push(t),E.push(n)}))})),[4,s.call(P,t,f.default.uniq(o(O,w)))];case 4:return i.sent(),[2,{resources:d,duplicatedResourcesIds:E}]}}))}function I(){var e,t,n,a;return i(this,(function(u){switch(u.label){case 0:return[4,s.select(y.currentDocsType)];case 1:return e=u.sent(),[4,s.call(T,e)];case 2:return t=u.sent(),[4,s.call(j,t)];case 3:n=u.sent(),a=function(){var a,u,l,d,f,h,p,m,v,g,y,b,_,O;return i(this,(function(i){switch(i.label){case 0:return[4,s.take(n)];case 1:return i.sent(),[4,s.select()];case 2:return a=i.sent(),u=a.resources,l=a.docs.lists,d=l[e].items,f=[],h={},p=R(t),m=p.reduce((function(e,t){return e[t.recordId]=t,e}),{}),d.forEach((function(e){var t=u[e],n=t.isVicariousDoc?t.meta.office_online_sharing_url:t.meta.resource_id;h[n]=!0,m[t.recordId]&&f.push(r(r({},t),{pinned:m[t.recordId].pinned,openInEditorTimestamp:m[t.recordId].ts}))})),v=p.filter((function(e){var t=e.resource_id,n=e.office_online_sharing_url,r=t||n;return r&&!h[r]})),g=o(d),y=[],b=[],v.length?[4,s.call(D,v,e)]:[3,4];case 3:_=i.sent(),y=_.resources,b=_.duplicatedResourcesIds,O=y.map((function(e){return e.id})),g.push.apply(g,O),i.label=4;case 4:return g=g.filter((function(e){return!b.includes(e)})),[4,s.put(c.updateList({type:e,ids:g,resources:o(y,f)}))];case 5:return i.sent(),[2]}}))},u.label=4;case 4:return[5,a()];case 5:return u.sent(),[3,4];case 6:return[2]}}))}function A(){var e,t,n,r,o,a,u,l;return i(this,(function(i){switch(i.label){case 0:return[4,s.select(y.currentDocsType)];case 1:return e=i.sent(),[4,s.select(y.docsList)];case 2:if(i.sent().isComplete)return[2];i.label=3;case 3:return i.trys.push([3,9,,11]),[4,s.select(y.docsList)];case 4:return i.sent().isComplete?[2]:[4,s.call(T,e)];case 5:return t=i.sent(),n=R(t),[4,s.call(D,n,e)];case 6:return r=i.sent(),o=r.resources,a=r.duplicatedResourcesIds,[4,s.spawn(I)];case 7:return i.sent(),u=o.map((function(e){return e.id})).filter((function(e){return!a.includes(e)})),[4,s.put(c.updateList({type:e,ids:u,resources:o}))];case 8:return i.sent(),[3,11];case 9:return l=i.sent(),[4,s.call(g.default.go,"/client/error","preserve",{reason:"docs_fetch_error",error:l})];case 10:return i.sent(),l instanceof Error&&setTimeout((function(){throw l}),0),[3,11];case 11:return[2]}}))}function M(e){var t=e.payload;return i(this,(function(e){switch(e.label){case 0:return[4,s.put(h.saveSettings({key:"docsView",value:t}))];case 1:return e.sent(),[2]}}))}function N(e){return i(this,(function(t){switch(t.label){case 0:return[4,s.put(O.notify({operation:"docsError",message:e}))];case 1:return t.sent(),[2]}}))}function L(e){var t,n,r,o,a,u,c,f,h=e.payload;return i(this,(function(e){switch(e.label){case 0:return[4,s.select()];case 1:t=e.sent().resources,e.label=2;case 2:return e.trys.push([2,7,,13]),[4,s.select(y.currentDocsType)];case 3:return o=e.sent(),[4,s.call(T,o)];case 4:return(a=e.sent()).forEach("docs",(function(e){var i=l.processRecord(e);n||i.recordId!==t[h].recordId||(n=e,r=i.pinned)})),r||d.default.countDocs("pin doc"),u=r?0:Number(new Date),[4,s.put(C.updateResources([{id:h,pinned:u}]))];case 5:return e.sent(),c=a.createTransaction(),n&&c.updateRecordFields(n,{pinned:u}),[4,c.push()];case 6:return e.sent(),[3,13];case 7:return f=e.sent(),console.error(f),r?[4,s.call(N,"Не удалось открепить файл")]:[3,9];case 8:return e.sent(),[3,11];case 9:return[4,s.call(N,"Не удалось закрепить файл")];case 10:e.sent(),e.label=11;case 11:return[4,s.put(C.updateResources([{id:h,pinned:r}]))];case 12:return e.sent(),[3,13];case 13:return[2]}}))}function F(e){var t,n,r,o,a,u,c,l,d,f,h,v,g=e.payload,b=g.id,_=g.status;return i(this,(function(e){switch(e.label){case 0:return[4,s.select()];case 1:if(t=e.sent(),n=y.isDocsPage(t),r=_===w.UPLOAD_STATUSES.DONE||_===w.UPLOAD_STATUSES.CANCELED,!n||!r)return[3,11];e.label=2;case 2:return e.trys.push([2,10,,11]),[4,s.select()];case 3:return o=e.sent().resources,a=o[b],u=a.meta,c=a.ext,(l=u.resource_id)?[3,7]:[4,s.put(E.fetchSingleResource(b))];case 4:e.sent(),e.label=5;case 5:return[4,s.take(p.UPDATE_RESOURCES)];case 6:return d=e.sent().payload.resources,(f=d.find((function(e){var t;return e.id===b&&(null===(t=e.meta)||void 0===t?void 0:t.resource_id)})))?(l=f.meta.resource_id,[3,7]):[3,5];case 7:return(h=S.getDocsTypeByExt(c))?[4,s.call(m.api,"cloud/add-to-docs",{resource_id:l,type:h})]:[3,9];case 8:e.sent(),e.label=9;case 9:return[3,11];case 10:return v=e.sent(),console.error(v),[3,11];case 11:return[2]}}))}function B(e){var t,n,r,o,a=e.payload;return i(this,(function(e){switch(e.label){case 0:return[4,s.select()];case 1:return t=e.sent().page.originalNSParams,[4,s.select(y.currentDocsType)];case 2:return n=e.sent(),[4,s.select(y.isDocsView)];case 3:return r=e.sent(),!(o=S.getDocsTypeByExt(a))||!r&&o===n?[3,5]:[4,s.put(_.goToUrl("/docs?type="+o+(t["test-id"]?"&test-id=328685":"")))];case 4:e.sent(),e.label=5;case 5:return[2]}}))}function U(e){var t,n,r,o=e.payload;return i(this,(function(e){switch(e.label){case 0:return[4,s.select()];case 1:return t=e.sent(),y.isDocsPage(t)&&o?(n={},o.forEach((function(e){var t=S.getExtByFileName(e.name);if(t){var r=S.getDocsTypeByExt(t);r&&(n[r]=!0)}})),1!==Object.keys(n).length?[3,3]:(r=S.getExtByFileName(o[0].name))?[4,s.call(B,{payload:r,type:""})]:[3,3]):[2];case 2:e.sent(),e.label=3;case 3:return[2]}}))}function z(){return i(this,(function(e){switch(e.label){case 0:return[4,s.call(N,"Загружать можно только документы.")];case 1:return e.sent(),[2]}}))}function V(e){var t,n,r,o,a,u,l,d,f,h=e.payload,p=h.id,v=h.openOnLoad;return i(this,(function(e){switch(e.label){case 0:return[4,s.select(y.currentDocsType)];case 1:return t=e.sent(),[4,s.select()];case 2:n=e.sent().resources,e.label=3;case 3:return e.trys.push([3,10,,12]),r=n[p],o=r.name,a=r.meta.resource_id,u=x.default.extname(o),l=void 0,u&&(l=S.getDocsTypeByExt(u)),a?v?[4,s.put(b.openOrEditResource(p))]:[3,5]:[3,9];case 4:e.sent(),e.label=5;case 5:return l?[4,s.call(m.api,"cloud/add-to-docs",{resource_id:a,type:l})]:[3,9];case 6:return e.sent(),[4,s.select(y.isDocsView)];case 7:return d=e.sent(),t===l||d?[3,9]:[4,s.put(c.changeDocsPageType(l))];case 8:e.sent(),e.label=9;case 9:return[3,12];case 10:return f=e.sent(),console.error(f),[4,s.call(N,"Не удалось загрузить файл")];case 11:return e.sent(),[3,12];case 12:return[2]}}))}function H(e){var t,n=e.payload;return i(this,(function(e){switch(e.label){case 0:return[4,s.select()];case 1:return t=e.sent().page.originalNSParams,[4,s.put(_.goToUrl("/docs?type="+n+(t["test-id"]?"&test-id=328685":"")))];case 2:return e.sent(),[2]}}))}function W(e){var t,n,r=e.payload;return i(this,(function(e){switch(e.label){case 0:return[4,s.select()];case 1:return t=e.sent().resources,[4,s.select(y.currentDocsType)];case 2:return n=e.sent(),[4,s.put(c.removeItem({id:r,type:n}))];case 3:return e.sent(),[4,s.call(P,n,[t[r].recordId])];case 4:return e.sent(),[2]}}))}function G(e){var t=e.payload.resources;return i(this,(function(e){switch(e.label){case 0:return[4,s.put(c.moveClonedResources(t))];case 1:return e.sent(),[2]}}))}function q(e){var t=e.payload,n=t.src,r=t.dst;return i(this,(function(e){switch(e.label){case 0:return[4,s.put(c.moveClonedResources([{src:r,dst:n}]))];case 1:return e.sent(),[2]}}))}function $(e){var t,n,r=e.payload,o=r.id,a=r.data;return i(this,(function(e){switch(e.label){case 0:return a.recordId?[4,s.select()]:[3,4];case 1:return t=e.sent(),(n=y.getResourceType(o,t))?[4,s.put(c.removeItem({id:o,type:n}))]:[3,4];case 2:return e.sent(),[4,s.call(P,n,[a.recordId])];case 3:e.sent(),e.label=4;case 4:return[2]}}))}t.default=function(){return i(this,(function(e){switch(e.label){case 0:return[4,s.all([s.takeEvery(c.maybeFetchDocs,A),s.takeEvery(c.setListingType,M),s.takeEvery(c.remoteTogglePinDoc,L),s.takeEvery(p.UPDATE_UPLOADING_STATE,F),s.takeEvery(c.goToDocsPageByExt,B),s.takeEvery(c.showNotAllowedExtNotification,z),s.takeEvery(c.addDocFromDisk,V),s.takeEvery(c.removeFromDocs,W),s.takeEvery(p.MOVE_CLONED_RESOURCES,G),s.takeEvery(p.CANCEL_MOVE_CLONED_RESOURCE,q),s.takeEvery(p.DESTROY_RESOURCE,$),s.takeEvery(c.redirectToDocsPageOnLoadFiles,U),s.takeEvery(c.changeDocsPageType,H)])];case 1:return e.sent(),[2]}}))}}),(function(e,t,n){var r=n(93),i=n(12),o=n(99).log,a=n(14).default,s=n(26).checkVersion,u=n(69).getPreloadedData;n(1139),n(1140);var c={_init:function(){ns.request.requestParams.idClient=r.idClient,ns.request.URL=r.modelsRoute+"/",ns.request.requestParams.sk=r.sk,ns.request.canProcessResponse=function(e){if(e.error)return!1;var t=a();return e.uid!==t.getState().user.uid?(window.location.reload(),!1):(t.dispatch(s(e.version)),ns.request.requestParams.sk!==e.sk&&(ns.request.requestParams.sk=r.sk=e.sk),!0)},ns.page.title=function(){var e=u("environment");u("config").isDocsHost?"view"===ns.page.current.params.idPage?document.title=ns.page.current.params.name+" - Яндекс.Документы":document.title="Яндекс.Документы":e.agent.isInMobileApp?document.title="Диск":document.title="Яндекс.Диск"};var e=ns.history.pushState;ns.history.pushState=function(t,n){var r=window.location.href;e.call(ns.history,t,n),i.hit(t,n,r,null)};var t=ns.history.onpopstate;ns.history.onpopstate=function(){var e=window.location.href,n=window.location.origin+ns.page.currentUrl,r=ns.page.title(e);i.hit(e,r,n,null),t.call(ns.history)},ns.action.init(),ns.router.init(),ns.history.init()},initApp:function(){var e=u("environment");c._init(),e.session.loadingFailed?(ns.page.go("/client/error?reason=init_app_error","preserve"),o({event:"errorPage",context:ns.page.current.params.idContext,reason:"init_app_error",requestId:e.session.requestId})):ns.page.go(ns.page.getCurrentUrl(),"preserve")}};e.exports=c}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetsXivaNames=t.XivaServices=void 0;const r=n(292);var i;!(function(e){e.Disk="disk-json",e.Mail="mail"})(i=t.XivaServices||(t.XivaServices={})),t.WidgetsXivaNames={[r.WidgetNames.Disk]:i.Disk,[r.WidgetNames.Mail]:i.Mail}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.canDownloadFolder=function(e){var t=e.ua,n=t.BrowserName,r=t.OSFamily,i=e.resourceStats,o=i.size,a=i.filesCount,s=e.forceDefaults,u=void 0!==s&&s||"Firefox"===n||!["Windows","MacOS"].includes(r);return o>=(u?53687091200:5368709120)||a>=(u?1e4:500)}}),(function(e,t,n){"use strict";var r=n(504),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=u(t),m=u(n),v=0;v<a.length;++v){var g=a[v];if(!(o[g]||r&&r[g]||m&&m[g]||s&&s[g])){var y=f(n,g);try{c(t,g,y)}catch(e){}}}}return t}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1180)),o=r(n(1201)),a=n(1204);t.default=o.default(a.withDefaultServices()(i.default));var s=n(462);t.Logo360=s.Logo360,t.LogoCorp=s.LogoCorp}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(0)),s=n(28).cn("WithSlidingSearch");n(1205);t.default=function(e){return (function(t){function n(e){var n=t.call(this,e)||this;return n.state={isCenterHidden:!1},n._onTransitionEnd=n._onTransitionEnd.bind(n),n}return r(n,t),n.prototype._onTransitionEnd=function(e){this.state.isCenterHidden&&!this.props.searchOpened&&this.setState({isCenterHidden:!1}),this.props.onTransitionEnd&&this.props.onTransitionEnd(e)},n.prototype._getLeftContent=function(){var e=this.props.searchOpened,t=s({searchOpened:e},[this.props.leftContentClassName]);return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:t,onTransitionEnd:this._onTransitionEnd},this.props.leftContent),!e&&this.props.leftAdditionalContent)},n.prototype.componentDidUpdate=function(){this.props.searchOpened&&!this.state.isCenterHidden&&this.setState({isCenterHidden:!0})},n.prototype.render=function(){return a.default.createElement(e,i({},this.props,{hideCenter:this.state.isCenterHidden,leftContent:this._getLeftContent()}))},n})(a.default.Component)}}),(function(e,t){e.exports="/s3/disk/_/_7FQESiA5ypPhfat3JVKqaQA4bTi.png"}),(function(e,t){e.exports="/s3/disk/_/_cobzO4nrbsmKXrsz1uzuMz2WYif.svg"}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(0)),u=a(n(540));t.default=function(e){return function(t){var n=t.modelsRoute,o=t.sk,a=t.onSkUpdate,c=t.uid,l=t.onAuthChanged,d=t.connectionId,f=t.fetchOptions,h=i(t,["modelsRoute","sk","onSkUpdate","uid","onAuthChanged","connectionId","fetchOptions"]),p=s.useCallback((function(e,t){return u.default({modelsRoute:n,apiMethod:e,requestParams:t,sk:o,onSkUpdate:a,uid:c,onAuthChanged:l,connectionId:d,options:f})}),[n,o,a,c,l,d,f]),m=s.useCallback((function(e,t){return p(e?"mpfs/album-unpublish":"mpfs/set-private",t)}),[p]),v=s.useCallback((function(e){var t=e.resourceId,n=e.accessType;return p("mpfs/office-set-access-state",{resourceId:t,accessState:n})}),[p]),g=s.useCallback((function(e){return p("mpfs/set-public-settings",e)}),[p]);return s.default.createElement(e,r({runDeleteLink:m,runChangeType:v,setLinkSettings:g},h))}}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(196)),s=i(n(114)),u=n(28).cn("CloseAllEditorsConfirm");n(1372),t.getConfirmTexts=function(e){return{title:s.default(e,"close-docs-alert-title"),text:s.default(e,"close-docs-alert-text"),retry:s.default(e,"retry"),cancel:s.default(e,"delete-link-confirm-cancel")}};t.default=function(e){var n=e.visible,r=e.progress,i=e.onClose,s=e.onSubmit,c=e.onCancel,l=e.zIndexGroupLevel,d=e.className,f=e.lang,h=o.useMemo((function(){return t.getConfirmTexts(f)}),[f]);return o.default.createElement(a.default,{visible:n,progress:r,onClose:i,onSubmit:s,onCancel:c,zIndexGroupLevel:l,className:u({},[d]),submitButtonText:h.retry,cancelButtonText:h.cancel,title:h.title},h.text)}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(196)),s=i(n(114)),u=n(28).cn("NewEditorConfirm");n(1373),t.getConfirmTexts=function(e){return{text:s.default(e,"new-editor-confirm-text"),submit:s.default(e,"enable-new-editor"),cancel:s.default(e,"delete-link-confirm-cancel")}};t.default=function(e){var n=e.visible,r=e.progress,i=e.onClose,s=e.onSubmit,c=e.onCancel,l=e.zIndexGroupLevel,d=e.className,f=e.lang,h=e.title,p=e.children,m=o.useMemo((function(){return t.getConfirmTexts(f)}),[f]);return o.default.createElement(a.default,{visible:n,progress:r,onClose:i,onSubmit:s,onCancel:c,zIndexGroupLevel:l,className:u({langUk:"uk"===f},[d]),submitButtonText:m.submit,cancelButtonText:m.cancel,title:h||m.text},p)}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(196)),s=i(n(114)),u=n(28).cn("UpdateEditorErrorConfirm");n(1374),t.getConfirmTexts=function(e){return{title:s.default(e,"update-editor-error-title"),close:s.default(e,"close-menu")}};t.default=function(e){var n=e.visible,r=e.title,i=e.onSubmit,s=e.onClose,c=e.onCancel,l=void 0===c?s:c,d=e.zIndexGroupLevel,f=e.className,h=e.lang,p=o.useMemo((function(){return t.getConfirmTexts(h)}),[h]);return o.default.createElement(a.default,{visible:n,onSubmit:i,onClose:s,onCancel:l,zIndexGroupLevel:d,className:u({},[f]),submitButtonText:p.close,title:r||p.title})}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(291),a=n(25);n(1417);var s=r(n(11)),u=function(){return s.default()("read-only-notification")};t.default=function(e){var t=e.type,n=e.isMobile,r=e.url,s=t===o.Type.TECH,c=s?"Технические работы. Сейчас можно только просматривать и скачивать файлы.":"Загрузка файлов недоступна, можно только просматривать и скачивать. Вы достигли ограничения по загрузке файлов.";return i.default.createElement("div",{className:u().m({mobile:n})},i.default.createElement("span",{className:u().e("icon")}),i.default.createElement("div",{className:u().e("text-block")},c,!s&&r&&i.default.createElement(i.default.Fragment,null,n&&" ",i.default.createElement(a.Button,{className:u().e("link"),url:r,target:"_blank",type:"link",view:n?"clear":"default"},"Узнать больше"))))}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(81));t.default=o.default({loader:function(){return Promise.resolve().then((function(){return i(n(603))}))},webpack:function(){return[603]},modules:["./rootDocs"]})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(81));t.default=o.default({loader:function(){return Promise.resolve().then((function(){return i(n(615))}))},webpack:function(){return[615]},modules:["./docs-view"]})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(19),a=n(60);n(1492);var s=r(n(11)),u=o.connect((function(e){return{forms:e.config.urlsBase.forms}}));t.default=u((function(e){var t=e.forms;return i.default.createElement(a.Link,{href:t+"/surveys/10033577.be6b87652554c9b1165a08525eee2ed3b542f3a1/",className:s.default()("a11y-feedback"),theme:"normal"},"Обратная связь о специальных возможностях")}))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(19),a=n(33),s=n(38),u=n(72),c=n(29),l=n(1493),d=new(n(616).UXFeedbackIframeController);t.default=o.connect((function(e){var t=null,n=null,r=e.environment.session.locale,i=a.isDocsPage(e),o=a.isDocsView(e),l=u.isDiskWebNpsExp(e),d=u.isDiskWebNpsSecurityExp(e),f=u.isDiskViewerNpsExp(e),h=s.getPage(e),p=e.user,m=p.isYandexStaff,v=p.isB2b;return"ru"!==r||m||(i?f&&o&&(t=c.DOCS_UXFEEDBACK_ACCOUNT_ID,n=c.DOCS_UXFEEDBACK_EVENT):"photo"===h||"albums"===h||v||(l?(t=c.DISK_UXFEEDBACK_ACCOUNT_ID,n=c.DISK_UXFEEDBACK_EVENT_DEFAULT):d&&(t=c.DISK_UXFEEDBACK_ACCOUNT_ID,n=c.DISK_UXFEEDBACK_EVENT_SECURITY))),{accountId:t,eventMessage:n}}))((function(e){var t=e.accountId,n=e.eventMessage;return i.useEffect((function(){n&&d.sendEvent(n)}),[n]),i.useMemo((function(){return t?i.default.createElement(l.UXFeedbackComponent,{accountId:t,uxfbController:d}):null}),[t])}))}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(19),s=n(617),u=n(95);n(1512);var c=i(n(11)),l=n(105),d=a.connect((function(e){return{themeName:u.getThemeName(e),settings:u.getThemeSettings(e)}}));t.default=d((function(e){var t=e.themeName,n=e.settings,i=l.getCover(t),a=l.getPageOverrides(t);if(!t||!i)return null;var u=i.imageUrl,d=i.videoUrl,f=r({imageUrl:u},(null===n||void 0===n?void 0:n.isVideoEnabled)?{videoUrl:d}:{});return o.default.createElement(o.default.Fragment,null,o.default.createElement("style",null,"body { background: rgb("+a["--bg-color"]+")!important; }"),o.default.createElement(s.CoverLayer,r({className:c.default()("CoverLayer")},f)))}))}),(function(e,t){e.exports="/s3/disk/_/_fx7xxDRLEWsTJsp_yD1rS-pRIEH.png"}),(function(e,t){e.exports="/s3/disk/_/_dl40StUq-TqpEi0uKKO9S_RdRbe.png"}),(function(e,t){e.exports="/s3/disk/_/_4YyqL_PLyJ1dL1LrORBbX6C7wVa.png"}),(function(e,t){e.exports="/s3/disk/_/_33COsRwU_2Y4hJBKrtFFmqi2sVj.svg"}),(function(e,t){e.exports="/s3/disk/_/_2haSe9WbszyjuygQv1x0pwK6hC.svg"}),(function(e,t){e.exports="/s3/disk/_/_a_6lfbIt2pVYXKGQgotKCb7Q00Q.svg"}),(function(e,t){e.exports="/s3/disk/_/_4zD1GE_78gAudk5F7GvcRCg-678.svg"}),(function(e,t){e.exports="/s3/disk/_/_eTJvO4N3ZMRt-Z45trh_rkvfSO1.svg"}),(function(e,t){e.exports="/s3/disk/_/_fuwvGVrPDyMLdnoXmdwBXumRMwv.png"}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(0)),u=n(19),c=a(n(1518)),l=a(n(54)),d=a(n(12)),f=n(25),h=n(29),p=n(45),m=n(43),v=n(141),g=function(e,t){var n={from:"disk_promopopup",open_tariff_by_price_id:t};return l.default.addParams(e,n)},y={saveSettings:p.saveSettings,updateSettings:p.updateSettings},b=u.connect((function(e){var t=e.config.urlsBase.mail360,n=e.environment.session.locale,r=m.getPricesOfferWithTemporaryDiscount(e);return{billingPromoAppearanceData:v.getBillingPromoAppearanceData(e),locale:n,mail360:t,pricesOfferWithTemporaryDiscount:r}}),y);t.default=b((function(e){var t,n,o,a,u,l,p=e.saveSettings,m=e.updateSettings,v=e.billingPromoAppearanceData,y=e.locale,b=e.mail360,_=e.pricesOfferWithTemporaryDiscount,O=s.useCallback((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.default.count.apply(d.default,i(["interface elements"],e))}),[]),w=s.useCallback((function(e){Ya&&Ya.Rum&&Ya.Rum.enabled&&Ya.Rum.logError&&Ya.Rum.logError({message:"subscription_onboarding_data_error",source:"fullscreen_promo",sourceMethod:"wrong config",level:Ya.Rum.ERROR_LEVEL.ERROR,additioonal:{promoId:"common"}},e)}),[]),E=s.useCallback((function(){m({shouldSkipPromoTooltipInSession:"1"}),m({wasShownOnboardingInSession:!0}),p({key:"timestampLastClosedSubscriptionOnboarding",value:Number(new Date)}),p({key:"lastClosedSubscriptionOnboardingId",value:(null===v||void 0===v?void 0:v.id)||h.COMMON_SUBSCRIPTION_ONBOARDING_ID})}),[p,m,null===v||void 0===v?void 0:v.id]),S=null===(t=_.priceYear)||void 0===t?void 0:t.price_id,C=null===(n=_.priceMonth)||void 0===n?void 0:n.price_id,x=_&&{yearButton:{price:_.priceYear,url:g(b,S),customTexts:S&&(null===(a=null===(o=null===v||void 0===v?void 0:v.onboarding)||void 0===o?void 0:o.customTexts)||void 0===a?void 0:a[S])},monthButton:{price:_.priceMonth,url:g(b,C),customTexts:C&&(null===(l=null===(u=null===v||void 0===v?void 0:v.onboarding)||void 0===u?void 0:u.customTexts)||void 0===l?void 0:l[C])}},k=null===v||void 0===v?void 0:v.onboarding;if(!k)return null;var T=r(r({},k),x);return s.default.createElement(c.default,{metrikaTail:(null===v||void 0===v?void 0:v.id)||"common",countMetrikaFn:O,LegoButton:f.Button,onCloseOnboarding:E,onboardingData:T,onErrorOnboardingData:w,locale:y})}))}),(function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=n(19),u=o(n(1528)),c=o(n(12)),l=n(45),d=n(1530),f={updateSettings:l.updateSettings,saveSettings:l.saveSettings,enableThemeFlow:d.enableThemeFlow},h=s.connect((function(e){return{illustrationLang:"ru"===e.environment.session.locale?"ru":"en"}}),f),p=Date.now()>=Number(new Date(2022,6,25));t.default=h((function(e){var t=e.illustrationLang,n=e.updateSettings,i=e.saveSettings,o=e.enableThemeFlow,s=a.useCallback((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c.default.count.apply(c.default,r(["interface elements","videotheme onboarding"],e))}),[]),l=a.useCallback((function(){i({key:p?"videoThemeOnboardingV2Closed":"videoThemeOnboardingClosed",value:"1"}),n({wasShownOnboardingInSession:!0})}),[n,i]),d=a.useCallback((function(){o()}),[o]);return a.default.createElement(u.default,{title:p?"Анимированная тема в Яндекс 360":"Найдите состояние потока в сервисах Яндекс 360",text:p?"Первая единая тема в четырёх сервисах: Диске, Почте, Телемосте и Документах":"Включите единую анимированную тему, разработанную для повышения фокуса с учетом интерфейсов Яндекс 360. Идеальна для создания нужной атмосферы",secondRowText:p?"Включите сейчас и активируйте дополнительный год с Яндекс 360 Премиум бесплатно":void 0,disclaimerText:"Отключить тему можно в настройках почты",enableButtonText:"Включить",closeI18n:"Закрыть",illustrationLang:t,countMetrikaFn:s,onClose:l,onEnable:d})}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1531);t.Api=r.Api;var i=n(1533);t.ModelsApi=i.ModelsApi;var o=n(623);t.ResponseError=o.ResponseError}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemesSettingsDatasyncSchema=t.GeneralThemesSettingsDatasyncService=t.ThemeName=void 0;var o=n(164);Object.defineProperty(t,"ThemeName",{enumerable:!0,get:function(){return o.ThemeName}});var a=n(1552);Object.defineProperty(t,"GeneralThemesSettingsDatasyncService",{enumerable:!0,get:function(){return a.GeneralThemesSettingsDatasyncService}}),Object.defineProperty(t,"GeneralThemesSettingsDatasyncSchema",{enumerable:!0,get:function(){return a.GeneralThemesSettingsDatasyncSchema}}),i(n(1554),t),i(n(1557),t)}),(function(e,t,n){"use strict";const r=n(632),i=n(633),o=n(634),a=n(1603),s=Symbol("encodeFragmentIdentifier");function u(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function c(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function l(e,t){return t.decode?i(e):e}function d(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function f(e){const t=(e=d(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function h(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function p(e,t){u((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=(function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"colon-list-separator":return(e,n,r)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const i="string"==typeof n&&n.includes(e.arrayFormatSeparator),o="string"==typeof n&&!i&&l(n,e).includes(e.arrayFormatSeparator);n=o?l(n,e):n;const a=i||o?n.split(e.arrayFormatSeparator).map(t=>l(t,e)):null===n?n:l(n,e);r[t]=a};case"bracket-separator":return(t,n,r)=>{const i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!i)return void(r[t]=n?l(n,e):n);const o=null===n?[]:n.split(e.arrayFormatSeparator).map(t=>l(t,e));void 0!==r[t]?r[t]=[].concat(r[t],o):r[t]=o};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}})(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const i of e.split("&")){if(""===i)continue;let[e,a]=o(t.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:l(a,t),n(l(e,t),a,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=h(n[e],t);else r[e]=h(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=(function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t})(n):e[t]=n,e},Object.create(null))}t.extract=f,t.parse=p,t.stringify=((e,t)=>{if(!e)return"";u((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&(e=>null===e||void 0===e)(e[n])||t.skipEmptyString&&""===e[n],r=(function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[c(t,e),"[",i,"]"].join("")]:[...n,[c(t,e),"[",c(i,e),"]=",c(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[c(t,e),"[]"].join("")]:[...n,[c(t,e),"[]=",c(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[c(t,e),":list="].join("")]:[...n,[c(t,e),":list=",c(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return n=>(r,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?r:(i=null===i?"":i,0===r.length?[[c(n,e),t,c(i,e)].join("")]:[[r,c(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,c(t,e)]:[...n,[c(t,e),"=",c(r,e)].join("")]}})(t),i={};for(const t of Object.keys(e))n(t)||(i[t]=e[t]);const o=Object.keys(i);return!1!==t.sort&&o.sort(t.sort),o.map(n=>{const i=e[n];return void 0===i?"":null===i?c(n,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?c(n,t)+"[]":i.reduce(r(n),[]).join("&"):c(n,t)+"="+c(i,t)}).filter(e=>e.length>0).join("&")}),t.parseUrl=((e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=o(e,"#");return Object.assign({url:n.split("?")[0]||"",query:p(f(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:l(r,t)}:{})}),t.stringifyUrl=((e,n)=>{n=Object.assign({encode:!0,strict:!0,[s]:!0},n);const r=d(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),a=Object.assign(o,e.query);let u=t.stringify(a,n);u&&(u=`?${u}`);let l=(function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t})(e.url);return e.fragmentIdentifier&&(l=`#${n[s]?c(e.fragmentIdentifier,n):e.fragmentIdentifier}`),`${r}${u}${l}`}),t.pick=((e,n,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[s]:!1},r);const{url:i,query:o,fragmentIdentifier:u}=t.parseUrl(e,r);return t.stringifyUrl({url:i,query:a(o,n),fragmentIdentifier:u},r)}),t.exclude=((e,n,r)=>{const i=Array.isArray(n)?e=>!n.includes(e):(e,t)=>!n(e,t);return t.pick(e,i,r)})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=i(n(9)),u=n(23),c=n(41),l=i(n(287)),d=n(85),f=n(33),h=i(n(12)),p=r(n(34)),m=i(n(11)),v={docx:"Новый документ",xlsx:"Новая таблица",pptx:"Новая презентация"},g={docx:"Укажите название документа",xlsx:"Укажите название таблицы",pptx:"Укажите название презентации"},y=function(e){return v[e]},b=function(e,t){e?h.default.countDocs("name dialog",t):h.default.count("interface elements","name dialog",t)},_=a.connect((function(e,t){var n=t.dialog,r=d.isIosSafariSelector(e);return n&&n.data?Object.assign({visible:n.state===u.STATE.OPENED,isIosSafari:r,isDocs:f.isDocsPage(e)},n.data):{visible:!1,isIosSafari:r}}))((function(e){var t=e.visible,n=e.isIosSafari,r=e.isDocs,i=e.onClose,a=e.onSubmit,u=e.extension,d=o.useState(y(u)),f=d[0],h=d[1],v=o.useState(null),_=v[0],O=v[1],w=o.useRef(!1),E=o.useCallback((function(e){var t=p.default.validateName(e);O(t?s.default.get(p.resourceNameValidationResultI18n,[t,"file"]):null)}),[]);o.useEffect((function(){if(t&&!w.current){var e=y(u);h(e),E(e),b(r,"show")}w.current=t}),[r,t,u,E]);var S=o.useCallback((function(e){h(e),E(e)}),[E]),C=o.useCallback((function(){a(f),b(r,"create")}),[r,f,a]);return o.default.createElement(l.default,{cls:m.default()("Document-Title-Dialog").mix(c.LISTING_PREVENT_DESELECT_CLASS),visible:t,title:g[u],renameText:f,submitButtonText:"Создать",submitDisabled:Boolean(_)||!Boolean(f),closeButtonAriaLabel:"Закрыть",errorText:_,onClose:i,onSubmit:C,onTextChange:S,isIosSafari:n})}));_.dialogName="document-name",t.default=_}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=i(n(98)),u=i(n(506)),c=n(23),l=i(n(11));n(1775);var d={closeDialog:c.closeDialog},f=a.connect((function(e,t){return{visible:t.dialog.state===c.STATE.OPENED}}),d)((function(e){var t=e.visible,n=e.closeDialog,r=o.useCallback((function(){n("overdraft")}),[n]);return o.default.createElement(s.default,{visible:t,onClose:r,cls:l.default()("overdraft"),hasCloseButton:!1},o.default.createElement(u.default,{from:"disk_overdraft-dialog",onClose:r}))}));f.dialogName="overdraft",t.default=f}),(function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=n(19),u=o(n(1776)),c=n(23),l=n(43),d=o(n(54)),f=n(12),h={closeDialog:c.closeDialog},p=s.connect((function(e,t){var n=e.config.urlsBase.mail360,r=e.environment.agent;return{mail360:n,isMobile:r.isMobile,isTablet:r.isTablet,limitSize:l.getLimitUploadSize(e),files:t.dialog.data.files,visible:t.dialog.state===c.STATE.OPENED}}),h)((function(e){var t=e.mail360,n=e.isMobile,i=e.isTablet,o=e.limitSize,s=e.files,c=e.visible,l=e.closeDialog,h=a.useCallback((function(){window.open(d.default.addParams(t,{from:"disk_limit_upload_dialog"}),"_blank")}),[t]),p=a.useCallback((function(){l("limit-upload")}),[l]),m=a.useCallback((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];f.count.apply(void 0,r(["interface elements","limit upload dialog"],e))}),[]);return a.default.createElement(u.default,{lang:"ru",visible:c,limitSize:o,files:s,onClose:p,onBuy:h,countMetrikaFn:m,useDrawer:n&&!i})}));p.dialogName="limit-upload",t.default=p}),(function(e,t,n){var r=n(9),i={eventType:null,parentFolder:null,platform:null,startEventTimestamp:null,querySearch:null},o={dialog:null,idContext:null};e.exports={journalParams:r.extend({},i),generateUrl:function(e){var t=r.extend({},o,i);return e=r({}).extend(ns.page.current.params,e).pick(r.keys(t)).pickBy(Boolean).value(),ns.router.generateUrl("client-dualPane",e)}}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=i(n(1432)),s={tile:"Крупная плитка",icons:"Плитка",list:"Список",wow:"Умная плитка"};t.default=function(e){return o.default.createElement(a.default,r({typesNames:s,title:"Вид"},e))}}),(function(e,t,n){"use strict";var r=n(32),i=n.n(r),o=n(10),a=n.n(o),s=n(3),u=n.n(s),c=n(4),l=n.n(c),d=n(8),f=n.n(d),h=n(5),p=n.n(h),m=n(7),v=n.n(m),g=n(1),y=n.n(g),b=(n(1558),n(19)),_=n(26),O=n(0),w=n.n(O),E=n(25),S=n(286),C=n(30),x=n(43),k=n(38),T=n(85),j=n(11),R=n.n(j);function P(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var D=function(){return R()()("listing-stub")},I={screenshots:function(e){return{caption:"Скриншоты",descs:["win","mac"].includes(e.osId)?["В этой папке могут храниться скриншоты с компьютера. Но сейчас их здесь нет.","Чтобы они появились, установите программу Яндекс.Диск. В ней вы сможете сделать скриншот, отредактировать его и поделиться."]:["В этой папке могут храниться скриншоты из программы Яндекс.Диск. Программа доступна для Windows и Mac."]}},downloads:{caption:"Загрузки",descs:["В папке «Загрузки» сохраняются все файлы, которыми с вами поделились в Диске или прислали на Яндекс.Почту.","Сохранять на свой Диск любые файлы из интернета помогает Яндекс.Браузер."]},published:{caption:"Публичные ссылки",descs:["Любым файлом в Диске легко поделиться. Выберите файл или папку и сделайте ссылку."]},shared:function(e){return{caption:"Общие папки для совместной работы",descs:[e.agent.isMobile?"В общих папках могут вместе просматривать, добавлять и редактировать файлы несколько человек":"Пригласите несколько человек в общую папку, чтобы вместе просматривать, добавлять и редактировать файлы."]}},photo:function(e){return{caption:"Все фотографии",descs:[e.agent.isMobile?"Здесь будут ваши загруженные фото и видео":"Загружайте свои фотографии любым удобным способом, можно даже перетащить в окно браузера."]}},photo_filter:{caption:"Пустой альбом",descs:["В альбоме ничего нет"]},recent:{caption:"Последние файлы",descs:["В этом разделе Яндекс.Диск показывает файлы, загруженные последними."]},albums:{caption:"Альбомы",descs:["У вас пока нет ни одного альбома. Загрузите фото, чтобы создать альбом."]},album:{caption:"Пустой альбом",descs:["В альбоме ничего нет"]}},A=(function(e){p()(n,e);var t=P(n);function n(e){var r;return u()(this,n),(r=t.call(this,e))._onUploadButtonChange=r._onUploadButtonChange.bind(f()(r)),r._onUploadButtonClick=r._onUploadButtonClick.bind(f()(r)),r}return l()(n,[{key:"_onUploadButtonChange",value:function(e,t){this.props.upload(e).then(t,t)}},{key:"_onUploadButtonClick",value:function(){this.props.maybeBlockActionOverdraft({forLite:!0})}},{key:"_getButtonProps",value:function(){var e=this.props,t=e.stubId,n=e.agent.isMobile,r={target:"_blank",type:"link"};switch(t){case"screenshots":var i=null;switch(this.props.osId){case"win":i="Скачать Диск для Windows";break;case"mac":i="Скачать Диск для Mac"}return i?Object.assign({children:i,url:this.props.links.downloadApp[this.props.osId]},r):null;case"downloads":return Object.assign({children:"Скачать Яндекс.Браузер",url:this.props.links.downloadBrowser},r);case"shared":return!n&&{onClick:this.props.createSharedFolder,children:"Создать общую папку"}}}},{key:"_getContent",value:function(){var e=this.props.stubId;return"function"==typeof I[e]?I[e](this.props):I[e]}},{key:"render",value:function(){var e,t=this.props,n=t.stubId,r=t.disableUploadButton,o=t.isFooterHidden;if(!n)return null;var s=this._getButtonProps(),u=this._getContent(),c=u.caption,l=u.descs;return w.a.createElement("div",{className:D().m((e={},a()(e,n,!0),a()(e,"footer-hidden",o),e))},w.a.createElement("div",{className:D().e("wrapper")},w.a.createElement("div",{className:D().e("icon")}),w.a.createElement("h1",{className:D().e("title")},this.props.caption?this.props.caption:c),l.map((function(e,t){return w.a.createElement("p",{className:D().e("desc"),key:t},e)})),w.a.createElement("div",{className:D().e("button-wrap")},s?w.a.createElement(E.Button,i()({view:"raised",size:"m",theme:"raised"},s)):null,"recent"===n?w.a.createElement(S.default,{theme:"raised",disabled:r,text:"Загрузить",title:"Загрузить файлы",onChange:this._onUploadButtonChange,onClick:this._onUploadButtonClick,withoutInput:Boolean(this.props.overdraftType)}):null,["albums","photo"].includes(n)?w.a.createElement(S.default,{theme:"raised",disabled:r,action:!1,text:"Загрузить фото",title:"Загрузить фото",onChange:this._onUploadButtonChange,onClick:this._onUploadButtonClick,withoutInput:Boolean(this.props.overdraftType)}):null)))}}]),n})(O.Component);t.a=Object(b.connect)((function(e){var t=e.config,n=t.links,r=t.urlsBase,i=e.page.filter,o=e.environment.agent,a=Object(x.getOverdraftType)(e);return{osId:Object(T.getOsId)(e),stubId:Object(C.getListingStubId)(e),isFooterHidden:Object(k.isFooterHidden)(e),links:n,urlsBase:r,agent:o,filter:i,disableUploadButton:Object(x.shouldNotifyOverdraft)(e)&&!a,overdraftType:a}}),{createSharedFolder:_.createSharedFolder,upload:_.upload,maybeBlockActionOverdraft:_.maybeBlockActionOverdraft})(A)}),(function(e,t,n){n(448),n(450),n(521);var r=n(9),i=n(195),o=n(18).getResourceData,a=n(14).default;ns.Model.define("inviteesFolder",e.exports={isCollection:!0,jpathItems:".invitees",params:{idFolder:null},defaults:{status:"initiated",invitees:[]},events:{"ns-model-destroyed":"ondestroy"},methods:{_init:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];ns.ModelCollection.prototype._init.apply(this,n),r.bindAll(this,"onChangedLinkedModel","onInsertUserFolder"),this.gidFolder=o(a().getState(),this.params.idFolder,"meta.group.gid"),this.unsubscribeUpdateResource=this.subscribeUpdateResource(this.params.idFolder,{"meta.group.gid":function(){e.toggleUsersFolders()}},(function(){e.destroyAll()})),this.linkUsersFolder(),this.linkContacts(),this.fetch()},ondestroy:function(){this.unsubscribeUpdateResource&&this.unsubscribeUpdateResource()},linkContacts:function(){this.contacts&&this.contacts.off("ns-model-changed",this.onChangedLinkedModel),this.contacts=ns.Model.get("contacts"),this.contacts.on("ns-model-changed",this.onChangedLinkedModel)},linkUsersFolder:function(){this.usersFolder&&(this.usersFolder.off("ns-model-changed",this.onChangedLinkedModel),this.usersFolder.off("ufo-model-insert",this.onInsertUserFolder)),this.usersFolder=ns.Model.get("usersFolder",r.extend({},this.params,{gidFolder:this.gidFolder})),this.usersFolder.on("ns-model-changed",this.onChangedLinkedModel),this.usersFolder.on("ufo-model-insert",this.onInsertUserFolder)},onChangedLinkedModel:function(e,t){t||this.syncDataLinked()},onInsertUserFolder:function(e,t){var n=ns.Model.get("inviteeFolder",{id:t.get(".id"),idFolder:this.params.idFolder});n.syncWith(t),this.insertItem(n,0)},fetch:function(){this.setDataDefault(),this.usersFolder.isValid()||(this.gidFolder?(this.usersFolder.fetch(),this.linkUsersFolder()):this.usersFolder.isValid()||this.usersFolder.setDataDefault()),this.contacts.isLoaded()||this.contacts.load(),this.syncDataLinked()},updateStatus:function(){var e="loaded";this.usersFolder.isValid()?this.contacts.isLoaded()||this.contacts.isLoadingFailed()||(e="loadingContacts"):e="loadingUsers",this.get(".status")!==e&&this.set(".status",e),this.set(".contactsLoadFailed",this.contacts.isLoadingFailed()),(this.contacts.get(".index")||[]).length>1e3&&this.set(".tooManyContacts",!0)},syncDataLinked:function(){var e=this;this.updateStatus();var t=this.usersFolder.get(".index")||[],n=this.contacts.get(".index")||[],i=r.difference(n,t),o=0;r.each(t,(function(t){var n=ns.Model.get("userFolder",{userid:t,idFolder:e.params.idFolder}),i=ns.Model.get("contact",{userid:t});i.getData()&&n.get(".is_ya_directory")&&n.setData(r.extend(n.getData(),{avatar:i.get(".avatar"),department:i.get(".department"),email:i.get(".email"),name:i.get(".name"),title:i.get(".title"),type:i.get(".type")}));var a=ns.Model.get("inviteeFolder",{id:n.get(".id"),idFolder:e.params.idFolder});a.syncWith(n),e.insertItem(a,o++)})),this.get(".tooManyContacts")||r.each(i,(function(t){var n=ns.Model.get("contact",{userid:t}),r=ns.Model.get("inviteeFolder",{id:n.get(".id"),idFolder:e.params.idFolder});r.syncWith(n),e.insertItem(r,e.models.length)}))},insertItem:function(e,t){-1===this.models.indexOf(e)&&this.insert(e,t)},syncOrder:function(){var e=this;if(this.usersFolder.isValid()){var t=this.usersFolder.get(".index"),n=this.contacts.get(".index"),i=r.uniq(t.concat(this.get(".tooManyContacts")?[]:n)),o=[];r.each(i,(function(t){o.push(ns.Model.get("inviteeFolder",{id:t,idFolder:e.params.idFolder}))})),this.models=o,this.touch()}},destroyAll:function(){this.contacts.off("ns-model-changed",this.onChangedLinkedModel),this.usersFolder.off("ns-model-changed",this.onChangedLinkedModel),this.usersFolder.off("ufo-model-insert",this.onInsertUserFolder),r.each(this.models.slice(),ns.Model.destroy),ns.Model.destroy(this)},fetchUsersFolder:function(){return this.usersFolder.fetch()},toggleUsersFolders:function(){this.gidFolder=o(a().getState(),this.params.idFolder,"meta.group.gid");var e=ns.Model.get("usersFolder",{idFolder:this.params.idFolder,gidFolder:this.gidFolder||null}),t=this,n=function(){t.linkUsersFolder(),t.syncDataLinked(),t.syncOrder()};this.gidFolder?e.fetch().then(n):(e.setDataDefault(),n())},resetState:function(){r.invokeMap(this.models.slice(),"resetState")},getItem:function(e){return ns.Model.getValid("inviteeFolder",{id:i.normalize(e),idFolder:this.params.idFolder})},getItemByEmail:function(e){return e=i.normalize(e),r.find(this.models,(function(t){return t.get(".email")===e}))},isEmpty:function(){return r.isEmpty(this.models)}}})}),(function(e,t,n){"use strict";n.r(t),t.default=ns.Model.define("stateAccessFolder",{params:{idFolder:null},methods:{_init:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ns.Model.prototype._init.apply(this,t),this.setDataDefault()},reset:function(){this.get(".operationFailed")&&this.set(".operationFailed",null)}}})}),(function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(6),s=n(40),u=n(1818),c=n(1835),l=n(25),d=n(57),f=n(74),h=n(1438),p=a.compose(h.withGlyphTypeArrow)(h.Icon),m=new s.Registry({id:u.cnSelect()});m.set("Trigger",l.Button).set("Popup",f.Popup).set("Menu",d.Menu).set("Icon",p);var v=a.compose(c.withTogglable,s.withRegistry(m))(u.Select);t.Select=function(e){return o.default.createElement(v,r({iconProps:{glyph:"type-arrow"}},e))}}),(function(e,t,n){"use strict";n(1764),n(1765);nb.define("loader-thin",{events:{init:function(){this.$node=$(this.node),this.$text=this.$node.find(".js-text")}},showText:function(){this.$text.show()},hideText:function(){this.$text.hide()},show:function(){this.$node.removeClass("nb-is-hidden")},hide:function(){this.$node.addClass("nb-is-hidden")}})}),(function(e,t,n){"use strict";n.r(t);var r=n(21),i=n.n(r),o=n(9),a=n.n(o),s=n(203),u=n(415);s.a.define("queueSync",{limit:3,methods:{TIMEOUT_RETRY_REQUEST:5e3,handlePortion:function(e){var t=this,n=a.a.reduce(e,(function(e,t){var n=ns.Model.key(t.item.id,t.item.params);return e[n]?e[n].promise&&e[n].promise.then((function(){t.promise.fulfill()}),(function(){t.promise.reject()})):e[n]=t,e}),{}),r=a.a.map(n,(function(e){return e.item})),o=ns.forcedRequest(r);return o.then((function(e){a.a.each(e,(function(e){var t=ns.Model.key(e.id,e.params);n[t].promise&&n[t].promise.fulfill(e)}))}),(function(n){Object(u.a)(n,e,t.TIMEOUT_RETRY_REQUEST).then((function(e){var n;(n=t.items).unshift.apply(n,i()(e)),t.doIteration()})).catch((function(){}))})),o}}}),ns.Model.get("queueSync").setDataDefault()}),(function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}})()?Object.assign:function(e,t){for(var n,a,s=(function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)})(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var l=0;l<a.length;l++)o.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}}),(function(e,t,n){var r={mail:"Почта",vkontakte:"ВКонтакте",twitter:"Twitter",facebook:"Facebook",odnoklassniki:"Одноклассники",gplus:"Google+",moimir:"Мой мир",google:"Google",qr:"QR код",instagram:"Instagram"},i={"login-empty":"Заполните это поле","account-not-found":"Учётной записи с таким логином не существует","password-empty":"Заполните это поле","password-invalid":"Неправильная пара логин-пароль",keyboard_warning:"Неправильная раскладка клавиатуры"};e.exports={getTitleSocial:function(e){return r[e]},getMessageError:function(e){return i[e]}}}),(function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r),o=n(34),a=n(51),s=n.n(a),u=n(22),c=n.n(u),l=n(67),d=n(14),f=n(18),h=n(16),p=n(77),m=n(147);n(448),n(449),n(460),n(97),n(1159),l.a.define("operationAccessFolder",{methods:{init:function(){var e=this.get(".idSrc"),t=Object(d.default)().getState();if(e&&Object(f.isExistsResource)(t,e)){var n=ns.Model.getValid("inviteesFolder",{idFolder:e});this.set(".invitees",n)}var r=this.get(".idInvitee");if(r){var i=ns.Model.getValid("inviteeFolder",{id:r,idFolder:e});i.state.bindOperation(this),this.set(".invitee",i)}},onStatusCreated:function(){this.doRequestShareAccess()},doRequestShareAccess:function(){var e=Object(f.getResourceData)(Object(d.default)().getState(),this.get(".idSrc")),t=this.get(".invitee");ns.Model.get("queueRequest").push({id:"do-resource-share-access",params:{gid:i.a.get(e,"meta.group.gid"),userid:t.get(".originid"),uid:t.get(".uid"),service:t.get(".service"),status:t.get(".status"),rights:this.get(".rights")}}).then(this.handleResponseShareAccess,this.handleResponseShareAccess,this)},handleResponseShareAccess:function(e){e.get(".error")?(this.checkReasonFailed(e),this.setStatus("failed")):this.setStatus("completed")},onStatusCompleted:function(){var e=Object(d.default)(),t=Object(f.getResourceData)(e.getState(),this.get(".idSrc")),n=this.get(".invitees");return this.get(".isRemote")?"actor"===this.get(".role")?(this.get(".rights")?t?(this.fetchResource(t.id),e.dispatch(Object(h.notifyChangedAccess)(t.id))):this.setStatus("done"):(this.get(".invite")?Object(d.default)().dispatch(Object(m.c)(!0)):(t&&(c.a.isParentOrEqualToCurrentFolder(t.id)&&s.a.go("/client/disk"),e.dispatch(Object(h.removeResource)(t.id))),o.default.updateParentsOf(this.get(".idSrc")),e.dispatch(Object(p.a)())),this.setStatus("done")),void this.showNotification({operation:this.getType(),nameFolder:this.get(".nameFolder"),role:this.get(".role"),rights:this.get(".rights"),status:this.get(".status"),reason:this.get(".reason")})):void(("owner"===this.get(".role")||"user"===this.get(".role")&&!this.get(".rights"))&&(t&&n.usersFolder.fetch(),this.setStatus("done"))):("0"===this.get(".rights")?(n.usersFolder.removeItem(this.get(".idInvitee")),this.get(".invitee").set(".status","contact")):ns.Model.get("userFolder",{idFolder:t.id,userid:this.get(".idInvitee")}).updateData({rights:this.get(".rights")}),void this.setStatus("done"))},handleSyncResource:function(){this.setStatus("done")},isFinalized:function(){return"failed"===this.get(".status")||"done"===this.get(".status")}}})}),(function(e,t,n){var r=n(192)(n(146),"Set");e.exports=r}),(function(e,t,n){var r=n(160),i=n(1403),o=n(1404),a="Expected a function",s=Math.max,u=Math.min;e.exports=function(e,t,n){var c,l,d,f,h,p,m=0,v=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError(a);function b(t){var n=c,r=l;return c=l=void 0,m=t,f=e.apply(r,n)}function _(e){var n=e-p;return void 0===p||n>=t||n<0||g&&e-m>=d}function O(){var e=i();if(_(e))return w(e);h=setTimeout(O,(function(e){var n=t-(e-p);return g?u(n,d-(e-m)):n})(e))}function w(e){return h=void 0,y&&c?b(e):(c=l=void 0,f)}function E(){var e=i(),n=_(e);if(c=arguments,l=this,p=e,n){if(void 0===h)return (function(e){return m=e,h=setTimeout(O,t),v?b(e):f})(p);if(g)return clearTimeout(h),h=setTimeout(O,t),b(p)}return void 0===h&&(h=setTimeout(O,t)),f}return t=o(t)||0,r(n)&&(v=!!n.leading,d=(g="maxWait"in n)?s(o(n.maxWait)||0,t):d,y="trailing"in n?!!n.trailing:y),E.cancel=function(){void 0!==h&&clearTimeout(h),m=0,c=p=l=h=void 0},E.flush=function(){return void 0===h?f:w(i())},E}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=n(25),u=n(718),c=n(57),l=o(n(198));n(1439);var d=o(n(11));t.default=function(e){var t=e.title,n=e.value,i=e.menuClassName,o=a.useCallback((function(i){var o=e.options.find((function(e){return e.value===n}));return a.default.createElement(s.Button,r({},l.default(i,["width"]),{view:"raised","aria-label":t+" "+(null===o||void 0===o?void 0:o.content),iconLeft:null===o||void 0===o?void 0:o.icon})," ")}),[t,n,e.options]),f=a.useCallback((function(e,n){return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:d.default()("SelectWithTitle").e("Title")},t),a.default.createElement(n,r({},l.default(e,["items"]),{rightGlyph:!0,wide:!0,className:i}),e.items.map((function(e){var t=e.content,n=e.value,r=e.icon;return a.default.createElement(c.Item,{key:n,value:n,icon:r},t)}))))}),[t,i]);return a.default.createElement(u.Select,r({renderMenu:f,renderTrigger:o},e))}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(19),a=r(n(1478)),s=r(n(11));n(1479);var u=n(25),c=r(n(1480)),l=function(){return s.default()("listing-scans-stub")},d=o.connect((function(e){var t=e.environment.agent,n=t.isMobile,r=t.isInMobileApp;return{links:e.config.links,isMobile:n,isInMobileApp:r}}));t.default=d((function(e){var t=e.isMobile,n=e.isInMobileApp,r=e.links;return i.default.createElement("div",{className:l().m({desktop:!t})},i.default.createElement("div",{className:l().e("title")},n?"Сканируйте в приложении любые бумажные документы":t?"Сканируйте в приложении Почты любые бумажные документы":"Сканов пока нет. Сканируйте документы в приложениях Яндекс 360:"),t?i.default.createElement("div",{className:l().e("image-wrapper")},i.default.createElement("img",{className:l().e("image"),src:r.static.host+a.default}),!t&&i.default.createElement("div",{className:l().e("qr-wrapper")},i.default.createElement("div",{className:l().e("qr-code-old")}),i.default.createElement("div",{className:l().e("qr-text")},"Cкачать",i.default.createElement("div",{className:l().e("qr-text-mail")},"Яндекс Почту")))):i.default.createElement("div",{className:l().e("content")},t?i.default.createElement("img",{className:l().e("image"),src:r.static.host+a.default}):i.default.createElement(i.default.Fragment,null,i.default.createElement(c.default,{staticHost:r.static.host,service:"mail",className:l().e("qr-code")}),i.default.createElement(c.default,{staticHost:r.static.host,service:"disk",className:l().e("qr-code")}))),t&&!n&&i.default.createElement(u.Button,{className:l().e("install-button"),view:"action",size:"xxl",type:"link",url:r.downloadMailApp},"Установить Яндекс Почту"))}))}),(function(e,t,n){var r=n(1535);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}}),(function(e,t){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"getInvitesList",(function(){return r})),n.d(t,"getInvitesCount",(function(){return i}));var r=function(e){var t=e.invitesToFolders,n=t.invites,r=t.invitesByHash;return n.map((function(e){return r[e]})).filter((function(e){return e&&!e.hidden}))},i=function(e){return e.invitesToFolders.invites.length}}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(134),v=n.n(m),g=n(198),y=n.n(g),b=n(508),_=n(11),O=n.n(_);function w(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var E=function(){return O()()("drop-target")};t.default=function(e){return (function(t){u()(r,t);var n=w(r);function r(e){var t;return i()(this,r),(t=n.call(this,e)).state={highlighted:!1,active:!1},t._elementRef=p.a.createRef(),t}return a()(r,[{key:"componentDidMount",value:function(){this._addSelf()}},{key:"componentWillUnmount",value:function(){this._removeSelf()}},{key:"componentDidUpdate",value:function(e){e.id!==this.props.id&&(this._removeSelf(),this._addSelf())}},{key:"_addSelf",value:function(){Object(b.addExternalDropTarget)({id:this.props.id,type:this.props.type,isFixed:this.props.isFixed,scrollContainerSelector:this.props.scrollContainerSelector,reactElement:this})}},{key:"_removeSelf",value:function(){Object(b.removeExternalDropTarget)(this)}},{key:"getDomElement",value:function(){return this._elementRef.current||v.a.findDOMNode(this._ref)}},{key:"toggleHighlight",value:function(e){this.setState({highlighted:e})}},{key:"toggleActive",value:function(e){this.setState({active:e})}},{key:"render",value:function(){var t=this,n=y()(this.props,["scrollContainerSelector","isFixed","type"]);return this.props.cls?(n.cls=E().m(this.state).mix(this.props.cls),n.ref=function(e){t._ref=e}):(n.innerRef=this._elementRef,n.className=E().m(this.state).mix(this.props.className)),p.a.createElement(e,n)}}]),r})(h.Component)}}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=(n(1582),n(0)),p=n.n(h),m=n(11),v=n.n(m);function g(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var y=function(){return v()()("indicator-bar")},b="normal",_="medium",O="full",w=(function(e){u()(n,e);var t=g(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getLoadValue",value:function(){return this.props.value<50?b:this.props.value<90?_:O}},{key:"render",value:function(){return p.a.createElement("div",{className:y().m({load:this._getLoadValue(),mail360:this.props.isBuyButtonMail360,discount:this.props.shouldShowDiscount}).mix(this.props.cls)},p.a.createElement("div",{className:y().e("value"),style:{width:this.props.value.toFixed(2)+"%"}}))}}]),n})(h.PureComponent);w.defaultProps={value:0},t.default=w}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"closeIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(15),p=n(0),m=n.n(p);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return m.a.createElement("path",{d:"M2 2 14 14M2 14 14 2",stroke:"currentColor"})}}]),n})(h.default),y=Object(h.iconProvider)(g)}),(function(e,t,n){var r=n(9);function i(e){var t=e.rect,n=e.fnGetRectEl(e.el,e.indexEl);return n.top>=t.bottom||n.left>=t.right?1:n.bottom<=t.top||n.right<=t.left?-1:0}function o(e){for(var t=e.positionEl,n={from:t,to:t},i=e.elements.length;--t>=0&&a(r.extend(e,{el:e.elements[t],indexEl:t}));)n.from--;for(t=e.positionEl;++t<i&&a(r.extend(e,{el:e.elements[t],indexEl:t}));)n.to++;return n}function a(e){return 0===i(e)}e.exports={findInRect:function(e){for(var t,n,a=0,s=e.elements.length;a<s;)if(t=(a+s)/2|0,(n=i(r.extend(e,{el:e.elements[t],indexEl:t})))<0)a=t+1;else{if(!(n>0))return o(r.extend(e,{positionEl:t}));s=t}},findElSiblingsInRect:o,isElInRect:a,getRect:function(e){if(e===window||e===window.document){var t=$(window),n=t.scrollTop()||0,r=t.scrollLeft()||0;return{top:n,bottom:n+(t.height()||0),left:r,right:r+(t.width()||0)}}var i=e.getBoundingClientRect();return{top:i.top+window.pageYOffset,bottom:i.bottom+window.pageYOffset,left:i.left+window.pageXOffset,right:i.right+window.pageXOffset}}}}),(function(e,t,n){!(function(){var e=yr.cmpNN,t=yr.cmpSN,n=yr.nodeset2xml,r=yr.nodeset2boolean,i=yr.nodeset2attrvalue,o=yr.nodeset2scalar,a=yr.scalar2attrvalue,s=(yr.xml2attrvalue,yr.scalar2xml),u=yr.xml2scalar,c=yr.simpleScalar,l=yr.simpleBoolean,d=yr.selectNametest,f=yr.closeAttrs,h=new yr.Module;var p=[0,"models",0,"*",2,function(e,n,r,i){return t("ok",d("status",n,[]))}];h.k0={},h.k0.n=function(e,t,n,r){return e.s(p,t.doc.root)},h.k0.u=function(e,t,n,r){return t.name},h.k0.b=function(e,t,n,r,i){var o=[0,"*",2,function(e,t,n,r){return"status"!=t.name}];return e.s(o,t)},h.k0.ut="scalar",h.k0.bt="nodeset";var m=[0,"models",0,"*",2,function(e,n,r,i){return t("error",d("status",n,[]))}];h.k1={},h.k1.n=function(e,t,n,r){return e.s(m,t.doc.root)},h.k1.u=function(e,t,n,r){return t.name},h.k1.b=function(e,t,n,r,i){var o=[0,"*",2,function(e,t,n,r){return"status"!=t.name}];return e.s(o,t)},h.k1.ut="scalar",h.k1.bt="nodeset",h.f0=function(e,t,n,r,i,o,a,s,u,c){o=void 0===o?[]:o,a=void 0===a?[]:a,s=void 0===s?[]:s,u=void 0===u?[]:u,c=void 0===c?[]:c;return yr.externals["_ns-view-call"]([t.doc.root],i,o,a,s,u,c)},h.f1=function(e,t,n,r,i,o,a,s,u,c,l){a=void 0===a?[]:a,s=void 0===s?[]:s,u=void 0===u?[]:u,c=void 0===c?[]:c,l=void 0===l?[]:l;return yr.externals["_ns-model-call"]([t.doc.root],i,o,a,s,u,c,l)},h.f2=function(e,t,n,r,i,o,a,s,u,c){a=void 0===a?[]:a,s=void 0===s?[]:s,u=void 0===u?[]:u,c=void 0===c?[]:c;return yr.externals["_ns-view-call-scalar"]([t.doc.root],i,o,a,s,u,c)},h.f3=function(e,t,n,r,i,o,a,s,u,c,l){s=void 0===s?[]:s,u=void 0===u?[]:u,c=void 0===c?[]:c,l=void 0===l?[]:l;return yr.externals["_ns-model-call-scalar"]([t.doc.root],i,o,a,s,u,c,l)},h.f4=function(e,t,n,r,i,o){var a="";return a+=f(i),a+=o};var v=[0,"*"];h.f5=function(e,t,n,r,i,o,a){a=void 0===a?[]:a;var s="";return s+=e.a(e,0,e.n(v,yr.externals["_nb-wrap"](o,a)),"nb",i)};var g=[0,"name"],y=[0,"size"],b=[0,"theme"],_=[0,"type"];h.f6=function(e,n,i,a,s,u){u=void 0===u?[]:u;var c=s.a.class;if(s.a.class=c?c.addscalar(" nb-"+o(e.n(g,u))):new yr.scalarAttr(" nb-"+o(e.n(g,u))),r(e.n(y,u))&&!t("m",e.n(y,u))||r(e.n(b,u))&&!t("normal",e.n(b,u))||r(e.n(_,u))){var l="";t("s",e.n(y,u))?l+="-small":t("xs",e.n(y,u))?l+="-extra-small":t("l",e.n(y,u))?l+="-large":t("xl",e.n(y,u))&&(l+="-extra-large");var d=l;l="";!t("normal",e.n(b,u))&&r(e.n(b,u))&&(l+="-"+o(e.n(b,u)));var f=l;l="";r(e.n(_,u))&&(l+="-"+o(e.n(_,u)));var h=l;c=s.a.class;s.a.class=c?c.addscalar(" _nb"+d+f+h+"-"+o(e.n(g,u))):new yr.scalarAttr(" _nb"+d+f+h+"-"+o(e.n(g,u)))}else{var c=s.a.class;s.a.class=c?c.addscalar(" _nb-normal-"+o(e.n(g,u))):new yr.scalarAttr(" _nb-normal-"+o(e.n(g,u)))}return s.a},h.f7=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="s";var u=s;return a+=f(i),a+=e.f("f5",t,n,r,i,"ico",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},h.f8=function(e,n,r,i,o,a){a=void 0===a?[]:a;var s="",u={};u.size="m",u.theme="normal";var c=u;return s+=f(o),t("file",e.n(_,a))?s+=e.f("f5",n,r,i,o,"buttonAttach",yr.externals["_nb-extend"](yr.object2nodeset(c),a)):t("inline",e.n(_,a))?s+=e.f("f5",n,r,i,o,"buttonSpan",yr.externals["_nb-extend"](yr.object2nodeset(c),a)):t("label",e.n(_,a))?s+=e.f("f5",n,r,i,o,"buttonLabel",yr.externals["_nb-extend"](yr.object2nodeset(c),a)):t("link",e.n(_,a))?s+=e.f("f5",n,r,i,o,"buttonLink",yr.externals["_nb-extend"](yr.object2nodeset(c),a)):s+=e.f("f5",n,r,i,o,"button",yr.externals["_nb-extend"](yr.object2nodeset(c),a)),s};var O=[0,"attrs",0,"name"],w=[0,"icon"];h.f9=function(e,t,n,i,a,s){if(e.f("f6",t,n,i,a,yr.object2nodeset(function(){var e={};return e.name="button",e.size=yr.nodeset2data(d("size",t,[])),e.theme=yr.nodeset2data(d("theme",t,[])),e}())),l("disabled",t)){var u=a.a.class;a.a.class=u?u.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),a.a.tabindex=new yr.scalarAttr("-1"),"button"==s&&(a.a.disabled=new yr.scalarAttr("disabled"))}if(l("tabindex",t)&&!l("disabled",t)&&(a.a.tabindex=new yr.scalarAttr(c("tabindex",t))),"attach"==s){u=a.a.class;a.a.class=u?u.addscalar(" _nb-attach-button"):new yr.scalarAttr(" _nb-attach-button")}if("button"==s&&(l("name",t)&&(a.a.name=new yr.scalarAttr(c("name",t))),r(e.s(O,t))&&(a.a.name=new yr.scalarAttr(o(e.s(O,t))))),!r(d("content",t,[]))&&(l("icon",t)||l("iconText",t))){u=a.a.class;a.a.class=u?u.addscalar(" _nb-with-only-button"):new yr.scalarAttr(" _nb-with-only-button")}return a.a},h.f10=function(e,t,r,i,o){var a="";return a+=f(o),l("iconText",t)&&(a+='<span class="nb-icon _nb-icon-text">',a+=n(d("iconText",t,[])),a+="</span>"),l("content",t)&&(a+=c("content",t)),a};h.f11=function(e,t,n,i,o){if(!r(d("static",t,[]))){var a=o.a.class;o.a.class=a?a.addscalar(" _init"):new yr.scalarAttr(" _init"),o.a["data-nb"]=new yr.scalarAttr("button")}return o.a},h.f12=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.none="none";var u=s;return a+=f(i),a+=e.f("f5",t,n,r,i,"popupMenu",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},h.f13=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.none="none";var u=s;return a+=f(i),a+=e.f("f5",t,n,r,i,"popup",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},h.f14=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};(u={}).modal="true",u.width="auto",u.height="auto",u.minHeight="auto",u.maxHeight="auto",s["data-nb"]=u;var u;(u={}).none="none",s.close=u;var c=s;return a+=f(i),a+=e.f("f5",t,n,r,i,"modalPopup",yr.externals["_nb-deep-extend"](yr.object2nodeset(c),o))},h.f15=function(e,t,n,r,i,a){a=void 0===a?[]:a;var s="";return s+=f(i),s+='<div class="_nb-popup-content">',s+=o(a),s+="</div>"},h.f16=function(e,t,n,r,i,a){a=void 0===a?[]:a;var s="";return s+=f(i),s+='<div class="_nb-popup-title">',s+=o(a),s+="</div>"};var E=[0,"data"],S=[0,"data",0,"*"],C=[1,0];h.f17=function(e,t,n,r,i,a){a=void 0===a?[]:a;var s="";if(s+=f(i),s+="<div",i.a={class:new yr.scalarAttr("_nb-popup-buttons")},i.s="div",s+=e.a(e,0,a,"nb-main-attrs",i),s+=f(i),e.n(S,a).length)for(var u=e.n(E,a),c=0,l=u.length;c<l;c++){var d=u[c];s+=e.f("f8",d,c,l,i,e.s(C,d))}else s+=o(e.n(E,a));return s+="</div>"};var x=[0,"class"],k=[0,"attrs"],T=[0,"attrs",0,"*"];h.f18=function(e,t,n,i,a,s){s=void 0===s?[]:s;var u="";u+=f(a),u+="<a",a.a={class:new yr.scalarAttr("_nb-popup-close")},a.s="a";for(var c="",l=0,d=(m=e.n(x,s)).length;l<d;l++){var h=m[l];c+=" "+o(e.s(C,h))}var p=a.a.class;if(a.a.class=p?p.addscalar(c):new yr.scalarAttr(c),r(e.n(k,s))){var m;for(l=0,d=(m=e.n(T,s)).length;l<d;l++){h=m[l];a.a[h.name]=new yr.scalarAttr(o(e.s(C,h)))}}return u+=f(a),u+="</a>"},h.f19=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="m",s.theme="normal",s.type="radio";var u=s;return a+=f(i),a+=e.f("f5",t,n,r,i,"radio-button",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},h.f20=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="m",s.theme="normal",s.direction="bottom";var u=s;return a+=f(i),a+=e.f("f5",t,n,r,i,"select",yr.externals["_nb-extend"](yr.object2nodeset(u),o))};var j=[0,"text"],R=[0,"value"],P=[0,"selected"],D=[0,"separator"];h.f21=function(e,t,i,a,s,u){u=void 0===u?[]:u;var c="";if(c+=f(s),c+="<option",s.a={},s.s="option",r(e.n(D,u)))s.a.separator=new yr.scalarAttr("true");else{if(s.a.label=new yr.scalarAttr(o(e.n(j,u))),s.a.value=new yr.scalarAttr(o(e.n(R,u))),s.a["data-icon"]=new yr.scalarAttr(o(e.n(w,u))),r(e.n(x,u)))for(var l=e.n(x,u),d=0,h=l.length;d<h;d++){var p=l[d],m=s.a["data-class"];s.a["data-class"]=m?m.addscalar(" "+o(e.s(C,p))):new yr.scalarAttr(" "+o(e.s(C,p)))}r(e.n(P,u))&&(s.a.selected=new yr.scalarAttr("")),c+=f(s),c+=n(e.n(j,u))}return c+=f(s),c+="</option>"},h.f22=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="m",s.type="checkbox",s.theme="normal";var u=s;return a+=f(i),a+=e.f("f5",t,n,r,i,"checkbox",yr.externals["_nb-extend"](yr.object2nodeset(u),o))};var I=[0,"leftContent"],A=[0,"rightContent"],M=[0,"labelContent"],N=[0,"reset"],L=[0,"ghost"],F=[0,"error"],B=[0,"hint"];h.f23=function(e,n,i,o,a,s){s=void 0===s?[]:s;var u="",c={};c.size="s";var l=c;return u+=f(a),r(e.n(I,s))||r(e.n(A,s))||r(e.n(M,s))||r(e.n(N,s))||r(e.n(L,s))||r(e.n(F,s))||r(e.n(B,s))?t("multiline",e.n(_,s))?u+=e.f("f5",n,i,o,a,"textarea",yr.externals["_nb-extend"](yr.object2nodeset(l),s)):u+=e.f("f5",n,i,o,a,"input",yr.externals["_nb-extend"](yr.object2nodeset(l),s)):t("multiline",e.n(_,s))?u+=e.f("f5",n,i,o,a,"textareaSimple",yr.externals["_nb-extend"](yr.object2nodeset(l),s)):u+=e.f("f5",n,i,o,a,"inputSimple",yr.externals["_nb-extend"](yr.object2nodeset(l),s)),u},h.f24=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="";return a+=f(i),a+=e.f("f5",t,n,r,i,"input-group",o)},h.f25=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.bar="true",s.start="0",s.type="percentage",s.title=" ";var u=s;return a+=f(i),a+=e.f("f5",t,n,r,i,"progress",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},h.f26=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.theme="dark";var u=s;return a+=f(i),a+=e.f("f5",t,n,r,i,"paranja",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},h.f27=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.content="";var u=s;return a+=f(i),a+=e.f("f5",t,n,r,i,"island",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},h.f28=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={},u={};u.size="s",u.type="file",u.theme="pseudo",u.class="_nb-dropzone-button",s.button=u;var c=s;return a+=f(i),a+=e.f("f5",t,n,r,i,"dropzone",yr.externals["_nb-deep-extend"](yr.object2nodeset(c),o))},h.f29=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="m";var u=s;return a+=f(i),a+=e.f("f5",t,n,r,i,"loader",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},h.f30=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.value=0,s.type="range",s.size="s",s.orientation="horiz";var u=s;return a+=f(i),a+=e.f("f5",t,n,r,i,"slider",yr.externals["_nb-deep-extend"](yr.object2nodeset(u),o))},h.f31=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="m";var u=s;return a+=f(i),a+=e.f("f5",t,n,r,i,"tabs",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},h.f32=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.search="true",s.buttonContent="Find";var u=s;return a+=f(i),a+=e.f("f5",t,n,r,i,"arrow",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},h.f33=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={},u={};u.search="true",u.buttonContent="Найти",u.class="_nb-header-arrow",s.arrow=u,s.services=!0,s.settings=!0,s.yaHref="http://yandex.ru";var c=s;return a+=f(i),a+=e.f("f5",t,n,r,i,"header",yr.externals["_nb-deep-extend"](yr.object2nodeset(c),o))},h.f34=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="m";var u=s;return a+=f(i),a+=e.f("f5",t,n,r,i,"user",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},h.f35=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.countMax="10",s.type="default";var u=s;return a+=f(i),a+=e.f("f5",t,n,r,i,"suggest",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},h.f36=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.leftText="On",s.rightText="Off",s.size="s";var u=s;return a+=f(i),a+=e.f("f5",t,n,r,i,"toggler",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},h.v82=function(e,t,n,r){return yr.externals.getConfig()},h.v83=function(e,t,n,r){return yr.externals.getEnvironment()},h.v84=function(e,t,n,r){return yr.externals.getConsts()},h.f37=function(e,t,n,r,i,o,a){a=void 0===a?[]:a;var s="";return s+=e.a(e,0,e.n(v,yr.externals["nb-wrap"](o,a)),"nb",i)};h.f38=function(e,t,n,r,i){return yr.externals.addShowHookMetrika("count",c("key",t.doc.root),i)},h.f39=function(e,t,n,r,i){return yr.externals.addShowHookMetrika("reach",c("key",t.doc.root),i)};var U=[0,"published"];h.f40=function(e,t,n,i,a,s){var u="";if(u+=f(a),u+="<div",a.a={class:new yr.scalarAttr("nb-icon-resource-public")},a.s="div",r(e.n(x,yr.object2nodeset(s)))){var c=a.a.class;a.a.class=c?c.addscalar(" "+o(e.n(x,yr.object2nodeset(s)))):new yr.scalarAttr(" "+o(e.n(x,yr.object2nodeset(s))))}return u+=f(a),r(e.n(U,yr.object2nodeset(s)))&&(u+=e.f("f7",t,n,i,a,yr.object2nodeset(function(){var e={};return e.icon="published",e}()))),u+="</div>"},h.f41=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="";return a+=f(i),a+=e.f("f37",t,n,r,i,"icon-start-play",o)},h.f42=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="s",s["size-icon-video"]="s";var u=s;return a+=e.a(e,0,e.n(v,yr.externals["nb-wrap"]("icon-resource",yr.externals["nb-extend"](yr.object2nodeset(u),o))),"nb",i)};h.f43=function(e,n,r,i){return l("preview",n)&&(t("image",d("type",n,[]))||t("document",d("type",n,[]))||t("book",d("type",n,[]))||t("video",d("type",n,[])))},h.f44=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="m";var u=s;return a+=f(i),a+=e.f("f37",t,n,r,i,"loader-thin",yr.externals["nb-extend"](yr.object2nodeset(u),o))};h.f45=function(e,t,r,i,o){var a="";return a+=f(o),l("mobileDialog",t)?(a+='&lt;button class="Link Link_view_default ns-action" data-click-action="dialog-mobile-app.open"&gt;',a+="папку «Загрузки»",a+="&lt;/button&gt;"):(a+='&lt;a class="Link Link_view_default" href="'+n(d("diskUrl",t,[]))+'"&gt;',a+="папку «Загрузки»",a+="&lt;/a&gt;"),a};var z=[0,"views",0,"*"],V=[0,"tree",0,"*"],H=[0,"views",0,"*"],W=[0,"views",0,"ns-view-collection-container",0,"*"];var G=[0,"*",4,function(e,t,n,r){return!!l("isReactView",t.doc.root)}];var q=[0,"*",4,function(e,t,n,r){return!!l("isReactView",t.doc.root)&&!!l("isServer",t.doc.root)}],$=[0,"data-nb",0,"*"],Y=[0,"attrs",0,"multiple"],K=[0,"attrs",0,"title"],X=[0,"attrs",0,"accept"],Z=[0,"popupMenu"],J=[1,1,0,"name"],Q=[1,1,0,"size"],ee=[0,"select"];var te=[0,"items",2,function(e,t,n,i){return r(d("selected",t,[]))}],ne=[0,"error",0,"direction"],re=[0,"error",0,"class"],ie=[0,"error",0,"content"],oe=[0,"hint",0,"text"],ae=[0,"hint",0,"ghost"],se=[0,"dropzone"],ue=[0,"handle",0,"class"];function ce(e,n,r,i){return!t("true",d("search",n,[]))}var le=[0,"arrow",2,ce];var de=[0,"arrow",2,ce,2,function(e,t,n,r){return l("href",t)}],fe=[0,"settings",0,"content"],he=[0,"services",0,"content"],pe=[0,"auth",0,"content"],me=[0,"user"],ve=[0,"user",0,"content"],ge=[0,"input",0,"attrs"],ye=[0,"input",0,"leftContent"],be=[0,"input",0,"rightContent"],_e=[0,"input",0,"labelContent"],Oe=[0,"input",0,"reset"],we=[0,"input",0,"ghost"],Ee=[0,"input",0,"error"],Se=[0,"input",0,"hint"];var Ce=[2,function(e,n,r,i){return t("default",d("type",n,[]))},0,"item"];var xe=[2,function(e,n,r,i){return t("username",d("type",n,[]))},0,"item"];var ke=[0,"user",2,function(e,n,r,i){return t("suggest",d("mod",n,[]))&&l("usernameHighlighted",n)},0,"username"],Te=[1,1,0,"usernameHighlighted"];var je=[0,"user",2,function(e,n,r,i){return t("suggest",d("mod",n,[]))&&l("emailHighlighted",n)},0,"email"],Re=[1,1,0,"emailHighlighted"],Pe=[0,"icon-resource"];var De=[0,"icon-resource",2,function(e,n,r,i){return t("cover",d("image-sizing",n,[]))}];var Ie=[0,"icon-resource",2,function(e,t,n,r){return l("static",t)}];var Ae=[0,"icon-resource",2,function(e,t,n,r){return l("icon",t)}],Me=[0,"agent",0,"OSFamily"],Ne=[0,"notification"];var Le=[0,"notification",2,function(e,t,n,r){return l("textOnly",t)}];var Fe=[0,"notification",2,function(e,n,r,i){return t("delete",d("operation",n,[]))&&t("done",d("status",n,[]))&&l("dst",n)}];var Be=[0,"notification",2,function(e,t,n,r){return l("cannotUploadFolder",t)}],Ue=[0,"links",0,"downloadApp",0,"win"],ze=[0,"links",0,"downloadApp",0,"linux"],Ve=[0,"links",0,"downloadApp",0,"mac"],He=[0,"sourcesDownloadApp",0,"upload"];var We=[0,"notification",2,function(e,n,r,i){return t("notification_web_desktop_v1",d("ufoCustomNotification",n,[]))}];var Ge=[0,"notification",2,function(e,n,r,i){return t("move",d("operation",n,[]))&&t("done",d("status",n,[]))}],qe=[0,"dst",0,"name"],$e=[0,"dst",0,"parents"],Ye=[0,"src",0,"type"];var Ke=[0,"notification",2,function(e,n,r,i){return t("move",d("operation",n,[]))&&t("done",d("status",n,[]))&&t("dir",e.s(Ye,n))}];var Xe=[0,"notification",2,function(e,n,r,i){return t("move",d("operation",n,[]))&&t("done",d("status",n,[]))&&l("count",n)}];var Ze=[0,"notification",2,function(e,n,r,i){return t("move",d("operation",n,[]))&&t("failed",d("status",n,[]))}],Je=[0,"src",0,"name"];var Qe=[0,"notification",2,function(e,n,r,i){return t("move",d("operation",n,[]))&&t("failed",d("status",n,[]))&&t("dir",e.s(Ye,n))}];var et=[0,"notification",2,function(e,n,r,i){return t("move",d("operation",n,[]))&&t("canceled",d("status",n,[]))}];var tt=[0,"notification",2,function(e,n,r,i){return t("move",d("operation",n,[]))&&t("canceled",d("status",n,[]))&&t("dir",e.s(Ye,n))}];var nt=[0,"notification",2,function(e,n,r,i){return t("cleanTrash",d("operation",n,[]))&&t("failed",d("status",n,[]))}];var rt=[0,"notification",2,function(e,n,r,i){return t("cleanTrash",d("operation",n,[]))&&t("done",d("status",n,[]))}];var it=[0,"notification",2,function(e,n,r,i){return(t("delete",d("operation",n,[]))||t("leaveFolder",d("operation",n,[])))&&t("done",d("status",n,[]))}];var ot=[0,"notification",2,function(e,n,r,i){return(t("delete",d("operation",n,[]))||t("leaveFolder",d("operation",n,[])))&&t("done",d("status",n,[]))&&t("dir",e.s(Ye,n))}];var at=[0,"notification",2,function(e,n,r,i){return(t("delete",d("operation",n,[]))||t("leaveFolder",d("operation",n,[])))&&t("failed",d("status",n,[]))}];var st=[0,"notification",2,function(e,n,r,i){return(t("delete",d("operation",n,[]))||t("leaveFolder",d("operation",n,[])))&&t("failed",d("status",n,[]))&&t("dir",e.s(Ye,n))}];var ut=[0,"notification",2,function(e,n,r,i){return(t("delete",d("operation",n,[]))||t("leaveFolder",d("operation",n,[])))&&t("done",d("status",n,[]))&&l("count",n)}];var ct=[0,"notification",2,function(e,n,r,i){return t("leaveFolder",d("operation",n,[]))&&t("owner",d("role",n,[]))}];var lt=[0,"notification",2,function(e,n,r,i){return t("rename",d("operation",n,[]))&&t("failed",d("status",n,[]))}];var dt=[0,"notification",2,function(e,n,r,i){return t("rename",d("operation",n,[]))&&t("failed",d("status",n,[]))&&t("dir",e.s(Ye,n))}];var ft=[0,"notification",2,function(e,n,r,i){return t("rename",d("operation",n,[]))&&t("failed",d("status",n,[]))&&t("NAME_HAS_SLASH",d("reason",n,[]))&&t("file",e.s(Ye,n))}];var ht=[0,"notification",2,function(e,n,r,i){return t("rename",d("operation",n,[]))&&t("failed",d("status",n,[]))&&t("NAME_EXCEEDS_MAX_LENGTH",d("reason",n,[]))&&t("file",e.s(Ye,n))}];var pt=[0,"notification",2,function(e,n,r,i){return t("rename",d("operation",n,[]))&&t("failed",d("status",n,[]))&&t("NAME_HAS_SLASH",d("reason",n,[]))&&t("dir",e.s(Ye,n))}];var mt=[0,"notification",2,function(e,n,r,i){return t("createFolder",d("operation",n,[]))&&t("canceled",d("status",n,[]))&&t("NAME_HAS_SLASH",d("reason",n,[]))&&t("dir",e.s(Ye,n))}];var vt=[0,"notification",2,function(e,n,r,i){return t("rename",d("operation",n,[]))&&t("failed",d("status",n,[]))&&t("NAME_EXCEEDS_MAX_LENGTH",d("reason",n,[]))&&t("dir",e.s(Ye,n))}];var gt=[0,"notification",2,function(e,n,r,i){return t("createFolder",d("operation",n,[]))&&t("canceled",d("status",n,[]))&&t("NAME_EXCEEDS_MAX_LENGTH",d("reason",n,[]))&&t("dir",e.s(Ye,n))}];var yt=[0,"notification",2,function(e,n,r,i){return t("rename",d("operation",n,[]))&&t("failed",d("status",n,[]))&&t("exists",d("reason",n,[]))&&t("dir",e.s(Ye,n))}];var bt=[0,"notification",2,function(e,n,r,i){return t("rename",d("operation",n,[]))&&t("failed",d("status",n,[]))&&t("exists",d("reason",n,[]))&&t("file",e.s(Ye,n))}];var _t=[0,"notification",2,function(e,n,r,i){return t("restore",d("operation",n,[]))&&t("done",d("status",n,[]))}];var Ot=[0,"notification",2,function(e,n,r,i){return t("restore",d("operation",n,[]))&&t("failed",d("status",n,[]))}];var wt=[0,"notification",2,function(e,n,r,i){return t("restore",d("operation",n,[]))&&t("failed",d("status",n,[]))&&l("reason",n)}],Et=[0,"dst",0,"type"];var St=[0,"notification",2,function(e,n,r,i){return t("restore",d("operation",n,[]))&&t("done",d("status",n,[]))&&t("dir",e.s(Et,n))}];var Ct=[0,"notification",2,function(e,n,r,i){return t("restore",d("operation",n,[]))&&t("failed",d("status",n,[]))&&t("dir",e.s(Ye,n))}];var xt=[0,"notification",2,function(e,n,r,i){return t("restore",d("operation",n,[]))&&t("failed",d("status",n,[]))&&t("dir",e.s(Ye,n))&&l("reason",n)}];var kt=[0,"notification",2,function(e,n,r,i){return t("restore",d("operation",n,[]))&&t("done",d("status",n,[]))&&l("count",n)}];var Tt=[0,"notification",2,function(e,n,r,i){return t("copy",d("operation",n,[]))&&t("done",d("status",n,[]))}];var jt=[0,"notification",2,function(e,n,r,i){return t("copy",d("operation",n,[]))&&t("done",d("status",n,[]))&&t("dir",e.s(Ye,n))}];var Rt=[0,"notification",2,function(e,n,r,i){return t("copy",d("operation",n,[]))&&t("done",d("status",n,[]))&&l("count",n)}];var Pt=[0,"notification",2,function(e,n,r,i){return t("copy",d("operation",n,[]))&&t("failed",d("status",n,[]))}];var Dt=[0,"notification",2,function(e,n,r,i){return t("copy",d("operation",n,[]))&&t("failed",d("status",n,[]))&&t("dir",e.s(Ye,n))}];var It=[0,"notification",2,function(e,n,r,i){return t("copy",d("operation",n,[]))&&t("failed",d("status",n,[]))&&l("reason",n)}];var At=[0,"notification",2,function(e,n,r,i){return t("copy",d("operation",n,[]))&&t("failed",d("status",n,[]))&&t("dir",e.s(Ye,n))&&l("reason",n)}];var Mt=[0,"notification",2,function(e,n,r,i){return t("copy",d("operation",n,[]))&&t("failed",d("status",n,[]))&&(t("NO_SPACE_OWNER",d("reason",n,[]))||t("NO_SPACE",d("reason",n,[])))}];var Nt=[0,"notification",2,function(e,n,r,i){return t("createFolder",d("operation",n,[]))&&t("exists",d("status",n,[]))}];var Lt=[0,"notification",2,function(e,n,r,i){return t("createFolder",d("operation",n,[]))&&t("failed",d("status",n,[]))}];var Ft=[0,"notification",2,function(e,n,r,i){return t("createFolder",d("operation",n,[]))&&t("done",d("status",n,[]))&&!l("src",n)}],Bt=[0,"dst",0,"id"];var Ut=[0,"notification",2,function(e,n,r,i){return t("createFolder",d("operation",n,[]))&&t("done",d("status",n,[]))&&!l("src",n)&&l("committer",n)}];var zt=[0,"notification",2,function(e,n,r,i){return t("upload",d("operation",n,[]))&&t("exists",d("status",n,[]))}];var Vt=[0,"notification",2,function(e,n,r,i){return t("upload",d("operation",n,[]))&&t("failed",d("status",n,[]))}];var Ht=[0,"notification",2,function(e,n,r,i){return t("publish",d("operation",n,[]))&&l("reverse",n)&&t("done",d("status",n,[]))}];var Wt=[0,"notification",2,function(e,n,r,i){return t("publish",d("operation",n,[]))&&l("reverse",n)&&t("done",d("status",n,[]))&&t("dir",e.s(Ye,n))}];var Gt=[0,"notification",2,function(e,n,r,i){return t("publish",d("operation",n,[]))&&t("failed",d("status",n,[]))}];var qt=[0,"notification",2,function(e,n,r,i){return t("publish",d("operation",n,[]))&&t("failed",d("status",n,[]))&&t("dir",e.s(Ye,n))}];var $t=[0,"notification",2,function(e,n,r,i){return t("publish",d("operation",n,[]))&&t("failed",d("status",n,[]))&&t("NO_SPACE",d("reason",n,[]))}];var Yt=[0,"notification",2,function(e,n,r,i){return t("publish",d("operation",n,[]))&&t("failed",d("status",n,[]))&&t("dir",e.s(Ye,n))&&t("NO_SPACE",d("reason",n,[]))}];var Kt=[0,"notification",2,function(e,n,r,i){return t("publish",d("operation",n,[]))&&l("reverse",n)&&t("failed",d("status",n,[]))}];var Xt=[0,"notification",2,function(e,n,r,i){return t("publish",d("operation",n,[]))&&l("reverse",n)&&t("failed",d("status",n,[]))&&t("dir",e.s(Ye,n))}];var Zt=[0,"notification",2,function(e,n,r,i){return t("acceptInvite",d("operation",n,[]))&&t("done",d("status",n,[]))}],Jt=[0,"invite",0,"folder_name"];var Qt=[0,"notification",2,function(e,n,r,i){return t("acceptInvite",d("operation",n,[]))&&t("failed",d("status",n,[]))}];var en=[0,"notification",2,function(e,n,r,i){return t("acceptInvite",d("operation",n,[]))&&t("owner",d("role",n,[]))}];var tn=[0,"notification",2,function(e,n,r,i){return t("rejectInvite",d("operation",n,[]))&&t("done",d("status",n,[]))}];var nn=[0,"notification",2,function(e,n,r,i){return t("rejectInvite",d("operation",n,[]))&&t("failed",d("status",n,[]))}];var rn=[0,"notification",2,function(e,n,r,i){return t("unshare",d("operation",n,[]))&&t("user",d("role",n,[]))}];var on=[0,"notification",2,function(e,n,r,i){return t("accessFolder",d("operation",n,[]))&&t("actor",d("role",n,[]))&&!l("rights",n)}];var an=[0,"notification",2,function(e,n,r,i){return t("accessFolder",d("operation",n,[]))&&t("actor",d("role",n,[]))&&t("660",d("rights",n,[]))}];var sn=[0,"notification",2,function(e,n,r,i){return t("accessFolder",d("operation",n,[]))&&t("actor",d("role",n,[]))&&t("640",d("rights",n,[]))}];var un=[0,"notification",2,function(e,n,r,i){return t("failed",d("status",n,[]))&&t("READ_ONLY",d("reason",n,[]))}];var cn=[0,"notification",2,function(e,n,r,i){return t("failed",d("status",n,[]))&&t("READ_ONLY",d("reason",n,[]))&&l("reasonText",n)}];var ln=[0,"notification",2,function(e,n,r,i){return t("failed",d("status",n,[]))&&t("READ_ONLY",d("reason",n,[]))&&l("reasonText",n)&&l("reasonTextAux",n)}];var dn=[0,"notification",2,function(e,n,r,i){return t("createAlbum",d("operation",n,[]))&&t("failed",d("status",n,[]))}];var fn=[0,"notification",2,function(e,n,r,i){return t("createAlbum",d("operation",n,[]))&&t("success",d("status",n,[]))}];var hn=[0,"notification",2,function(e,n,r,i){return t("removeAlbum",d("operation",n,[]))&&t("done",d("status",n,[]))}];var pn=[0,"notification",2,function(e,n,r,i){return t("removeAlbum",d("operation",n,[]))&&t("failed",d("status",n,[]))}];var mn=[0,"notification",2,function(e,n,r,i){return t("refuseAlbumsFaces",d("operation",n,[]))&&t("failed",d("status",n,[]))}];var vn=[0,"notification",2,function(e,n,r,i){return t("publishAlbum",d("operation",n,[]))&&t("done",d("status",n,[]))}],gn=[0,"src",0,"title"];var yn=[0,"notification",2,function(e,n,r,i){return t("publishAlbum",d("operation",n,[]))&&l("reverse",n)&&t("done",d("status",n,[]))}];var bn=[0,"notification",2,function(e,n,r,i){return t("publishAlbum",d("operation",n,[]))&&t("failed",d("status",n,[]))}];var _n=[0,"notification",2,function(e,n,r,i){return t("publishAlbum",d("operation",n,[]))&&l("reverse",n)&&t("failed",d("status",n,[]))}];var On=[0,"notification",2,function(e,n,r,i){return t("addToAlbum",d("operation",n,[]))&&t("done",d("status",n,[]))}],wn=[0,"dst",0,"title"];var En=[0,"notification",2,function(e,n,r,i){return t("addToAlbum",d("operation",n,[]))&&t("failed",d("status",n,[]))}];var Sn=[0,"notification",2,function(e,n,r,i){return t("removeResourceAlbum",d("operation",n,[]))&&t("done",d("status",n,[]))}];var Cn=[0,"notification",2,function(e,n,r,i){return t("removeResourceAlbum",d("operation",n,[]))&&t("done",d("status",n,[]))&&l("count",n)}];var xn=[0,"notification",2,function(e,n,r,i){return t("removeResourceAlbum",d("operation",n,[]))&&t("failed",d("status",n,[]))}];var kn=[0,"notification",2,function(e,n,r,i){return t("removeResourceAlbum",d("operation",n,[]))&&t("failed",d("status",n,[]))&&l("count",n)}];var Tn=[0,"notification",2,function(e,n,r,i){return t("editAlbum",d("operation",n,[]))&&t("failed",d("status",n,[]))&&t("title",d("target",n,[]))}];var jn=[0,"notification",2,function(e,n,r,i){return t("editAlbum",d("operation",n,[]))&&t("failed",d("status",n,[]))&&t("NAME_HAS_SLASH",d("reason",n,[]))}];var Rn=[0,"notification",2,function(e,n,r,i){return t("editAlbum",d("operation",n,[]))&&t("done",d("status",n,[]))&&t("cover",d("target",n,[]))}];var Pn=[0,"notification",2,function(e,n,r,i){return t("editAlbum",d("operation",n,[]))&&t("failed",d("status",n,[]))&&t("cover",d("target",n,[]))}];var Dn=[0,"notification",2,function(e,n,r,i){return t("download",d("operation",n,[]))&&t("failed",d("status",n,[]))}];var In=[0,"notification",2,function(e,n,r,i){return t("download",d("operation",n,[]))&&t("failed",d("status",n,[]))&&t("dir",d("type",n,[]))}];var An=[0,"notification",2,function(e,n,r,i){return t("download",d("operation",n,[]))&&t("failed",d("status",n,[]))&&t("large",d("reason",n,[]))}];var Mn=[0,"notification",2,function(e,n,r,i){return t("downloadAlbum",d("operation",n,[]))&&t("failed",d("status",n,[]))}];var Nn=[0,"notification",2,function(e,t,n,r){return l("browserScrollLimit",t)}];var Ln=[0,"notification",2,function(e,n,r,i){return t("photosliceScroll",d("operation",n,[]))&&l("reason",n)}];var Fn=[0,"notification",2,function(e,n,r,i){return t("excludeFromAlbum",d("operation",n,[]))&&t("done",d("status",n,[]))}];var Bn=[0,"notification",2,function(e,n,r,i){return t("excludeFromAlbum",d("operation",n,[]))&&t("done",d("status",n,[]))&&l("count",n)}];var Un=[0,"notification",2,function(e,n,r,i){return t("excludeFromAlbum",d("operation",n,[]))&&t("failed",d("status",n,[]))}];var zn=[0,"notification",2,function(e,n,r,i){return t("excludeFromAlbum",d("operation",n,[]))&&t("failed",d("status",n,[]))&&l("count",n)}];var Vn=[0,"notification",2,function(e,n,r,i){return t("excludeFromAlbum",d("operation",n,[]))&&t("cannotExclude",d("status",n,[]))}];var Hn=[0,"notification",2,function(e,n,r,i){return t("copyPublicLink",d("operation",n,[]))&&t("done",d("status",n,[]))}];var Wn=[0,"notification",2,function(e,n,r,i){return t("mergeAlbums",d("operation",n,[]))&&t("failed",d("status",n,[]))}];var Gn=[0,"notification",2,function(e,n,r,i){return t("mergeAlbums",d("operation",n,[]))&&t("done",d("status",n,[]))}];var qn=[0,"notification",2,function(e,n,r,i){return t("officeAccessTypeChange",d("operation",n,[]))&&t("failed",d("status",n,[]))}];var $n=[0,"notification",2,function(e,n,r,i){return t("getPublicLinkSettings",d("operation",n,[]))&&t("failed",d("status",n,[]))}];var Yn=[0,"notification",2,function(e,n,r,i){return t("changePublicLinkSettings",d("operation",n,[]))&&t("failed",d("status",n,[]))}];var Kn=[0,"notification",2,function(e,n,r,i){return t("enableVideotheme",d("operation",n,[]))&&t("failed",d("status",n,[]))}];var Xn=[0,"notification",2,function(e,n,r,i){return t("docsError",d("operation",n,[]))}],Zn=[0,"tree"],Jn=[0,"state",0,"hidden"],Qn=[0,"meta",0,"public"],er=[0,"state",0,"expanded"],tr=[0,"state",0,"blocked"],nr=[0,"state",0,"part"],rr=[0,"meta",0,"group",0,"rights"],ir=[0,"meta",0,"group"],or=[0,"creatingSharedFolder"],ar=[0,"isMove"],sr=[0,"hasGroupFolder"],ur=[0,"meta",0,"group",0,"gid"],cr=[0,"parentId"],lr=[0,"isSelectedAcrossSeveralFolders"],dr=[0,"state",0,"loading"];h.t0=function(e,t,n,r,i){var o="";return o+=e.a(e,0,e.s(z,t),"ns-view",i)},h.t0.j=1,h.t0.a=1,h.t1=function(e,t,n,r,i){var o="";return o+=e.a(e,0,e.n(V,yr.document(e.s(C,t))),"ns-build-view",i)},h.t1.j=v,h.t1.a=0,h.t2=function(e,t,n,r,i){var o="";return o+=f(i),o+="<div",i.a={},i.s="div",o+=e.a(e,0,e.s(C,t),"ns-build-view-content",i),o+=f(i),o+="</div>"},h.t2.j=v,h.t2.a=0,h.t3=function(e,t,n,i,a){var s="",u=c("state",t.doc.root);if(a.a.class=new yr.scalarAttr("ns-view-"+o(d("id",t.doc.root,[]))+" "+o(d("uniqueId",t.doc.root,[]))),a.a["data-key"]=new yr.scalarAttr(o(d("key",t.doc.root,[]))),"placeholder"==u){var l=a.a.class;a.a.class=l?l.addscalar(" ns-view-placeholder"):new yr.scalarAttr(" ns-view-placeholder"),r(d("collection",t.doc.root,[]))?s+=e.a(e,0,e.s(C,t),"ns-view-collection",a):s+=e.a(e,0,e.s(C,t),"ns-view-desc",a)}else{var f="";f+=e.a(e,0,e.s(C,t),"ns-view-add-class",{a:{}});l=a.a.class;a.a.class=l?l.addxml(f):new yr.xmlAttr(f),s+=e.a(e,0,e.s(C,t),"ns-view-add-attrs",a),s+="loading"==u?e.a(e,0,e.s(C,t),"ns-view-async-content",a):"error"==u?e.a(e,0,e.s(C,t),"ns-view-error-content",a):e.a(e,0,e.s(C,t),"ns-view-content",a)}return s},h.t3.j=v,h.t3.a=0,h.t4=function(e,t,n,r,i){return""},h.t4.j=v,h.t4.a=0,h.t5=function(e,t,n,r,i){return""},h.t5.j=v,h.t5.a=0,h.t6=function(e,t,n,i,o){var a="";return r(d("collection",t.doc.root,[]))?(a+=f(o),a+="<div",o.a={class:new yr.scalarAttr("ns-view-container-desc")},o.s="div",a+=e.a(e,0,e.s(C,t),"ns-view-collection",o),a+=f(o),a+="</div>"):a+=e.a(e,0,e.s(C,t),"ns-view-desc",o),a},h.t6.j=v,h.t6.a=0,h.t7=function(e,t,n,r,i){var o="";return o+=e.a(e,0,e.s(H,t.doc.root),"ns-view",i)},h.t7.j=v,h.t7.a=0,h.t8=function(e,t,n,r,i){var o="";return o+=e.a(e,0,e.s(W,t.doc.root),"ns-view",i)},h.t8.j=v,h.t8.a=0,h.t9=function(e,t,n,r,i){return""},h.t9.j=v,h.t9.a=0,h.t10=function(e,t,n,r,i){return""},h.t10.j=v,h.t10.a=0,h.t11=function(e,t,n,r,i){return""},h.t11.j=G,h.t11.a=0,h.t12=function(e,t,n,r,i){return""},h.t12.j=G,h.t12.a=0,h.t13=function(e,t,n,r,i){var a="";return a+=f(i),a+=o(e.f("f0",t,n,r,"renderToString"))},h.t13.j=q,h.t13.a=0,h.t14=function(e,t,n,r,i){var a="";return a+=f(i),a+=o(e.f("f0",t,n,r,"renderToString"))},h.t14.j=q,h.t14.a=0,h.t15=function(e,t,n,r,i){var a="";a+=e.a(e,0,e.s(C,t),"nb-attrs",i),a+=e.a(e,0,d("*",t,[]),"nb-attrs",i),l("id",t)&&(i.a.id=new yr.scalarAttr(c("id",t)));for(var s="",u=0,f=(m=d("class",t,[])).length;u<f;u++){var h=m[u];s+=" "+o(e.s(C,h))}var p=i.a.class;if(i.a.class=p?p.addscalar(s):new yr.scalarAttr(s),l("mixin-nb",t)){for(s="",u=0,f=(m=d("mixin-nb",t,[])).length;u<f;u++){h=m[u];s+=" "+o(e.s(C,h))}p=i.a["data-nb"];i.a["data-nb"]=p?p.addscalar(s):new yr.scalarAttr(s)}for(u=0,f=(m=e.s($,t)).length;u<f;u++){h=m[u];i.a["data-nb-"+h.name]=new yr.scalarAttr(o(e.s(C,h)))}var m;for(u=0,f=(m=e.s(T,t)).length;u<f;u++){h=m[u];i.a[h.name]=new yr.scalarAttr(o(e.s(C,h)))}return a},h.t15.j=v,h.t15.a=0,h.t16=function(e,t,n,r,i){var o="";return o+=e.a(e,0,e.s(C,t),"nb-content",i)},h.t16.j=v,h.t16.a=0,h.t17=function(e,n,r,i,o){var a="";a+=f(o),a+="<img",o.a={src:new yr.scalarAttr("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7")},o.s="img";var s="";return s+="nb-icon nb-",s+=c("size",n),t("",d("icon",n,[]))||(s+="-",s+=c("icon",n)),s+="-icon",o.a.class=new yr.scalarAttr(s),a+=e.a(e,0,e.s(C,n),"nb-main-attrs",o),a+=f(o),a+=""},h.t17.j=[0,"ico"],h.t17.a=0,h.t18=function(e,t,n,r,i){var o="";return o+=f(i),o+="<button",i.a={},i.s="button",e.f("f9",t,n,r,i,"button"),e.f("f11",t,n,r,i),o+=e.a(e,0,e.s(C,t),"nb-main-attrs",i),o+=f(i),o+='<span class="_nb-button-content">',l("icon",t)&&(o+=e.f("f7",t,n,r,i,yr.object2nodeset(function(){var e={};return e.icon=yr.nodeset2data(d("icon",t,[])),e}()))),o+=e.f("f10",t,n,r,i),o+="</span>",o+="</button>"},h.t18.j=[0,"button"],h.t18.a=0,h.t19=function(e,t,n,r,i){var o="";return o+=f(i),o+="<a",i.a={},i.s="a",e.f("f9",t,n,r,i,"link"),e.f("f11",t,n,r,i),o+=e.a(e,0,e.s(C,t),"nb-main-attrs",i),o+=f(i),o+='<span class="_nb-button-content">',l("icon",t)&&(o+=e.f("f7",t,n,r,i,yr.object2nodeset(function(){var e={};return e.icon=yr.nodeset2data(d("icon",t,[])),e}()))),o+=e.f("f10",t,n,r,i),o+="</span>",o+="</a>"},h.t19.j=[0,"buttonLink"],h.t19.a=0,h.t20=function(e,t,n,r,i){var o="";return o+=f(i),o+="<span",i.a={},i.s="span",e.f("f9",t,n,r,i,"span"),e.f("f11",t,n,r,i),o+=e.a(e,0,e.s(C,t),"nb-main-attrs",i),o+=f(i),o+='<span class="_nb-button-content">',l("icon",t)&&(o+=e.f("f7",t,n,r,i,yr.object2nodeset(function(){var e={};return e.icon=yr.nodeset2data(d("icon",t,[])),e}()))),o+=e.f("f10",t,n,r,i),o+="</span>",o+="</span>"},h.t20.j=[0,"buttonSpan"],h.t20.a=0,h.t21=function(e,t,n,r,i){var o="";return o+=f(i),o+="<label",i.a={},i.s="label",e.f("f9",t,n,r,i,"label"),e.f("f11",t,n,r,i),o+=e.a(e,0,e.s(C,t),"nb-main-attrs",i),o+=f(i),o+='<span class="_nb-button-content">',l("icon",t)&&(o+=e.f("f7",t,n,r,i,yr.object2nodeset(function(){var e={};return e.icon=yr.nodeset2data(d("icon",t,[])),e}()))),o+=e.f("f10",t,n,r,i),o+="</span>",o+="</label>"},h.t21.j=[0,"buttonLabel"],h.t21.a=0,h.t22=function(e,t,n,i,a){var s="";if(s+=f(a),s+="<label",a.a={},a.s="label",e.f("f9",t,n,i,a,"attach"),e.f("f11",t,n,i,a),s+=e.a(e,0,e.s(C,t),"nb-main-attrs",a),s+=f(a),s+='<span class="_nb-file-intruder">',s+='<span class="_nb-file-intruder-inner">',s+="<input",a.a={class:new yr.scalarAttr("_nb-file-intruder-input"),type:new yr.scalarAttr("file")},a.s="input",(r(e.s(Y,t))||l("multiple",t))&&(a.a.multiple=new yr.scalarAttr("multiple")),l("name",t)&&(a.a.name=new yr.scalarAttr(c("name",t))),r(e.s(O,t))&&(a.a.name=new yr.scalarAttr(o(e.s(O,t)))),r(e.s(K,t))){var u=a.a.title;a.a.title=u?u.addscalar(o(e.s(K,t))):new yr.scalarAttr(o(e.s(K,t)))}return l("disabled",t)&&(a.a.disabled=new yr.scalarAttr("disabled")),r(e.s(X,t))&&(a.a.accept=new yr.scalarAttr(o(e.s(X,t)))),s+=f(a),s+="",s+='<span class="_nb-file-intruder-focus"></span>',s+="</span>",s+="</span>",s+='<span class="_nb-button-content">',l("icon",t)&&(s+=e.f("f7",t,n,i,a,yr.object2nodeset(function(){var e={};return e.icon=yr.nodeset2data(d("icon",t,[])),e}()))),s+=e.f("f10",t,n,i,a),s+="</span>",s+="</label>"},h.t22.j=[0,"buttonAttach"],h.t22.a=0,h.t23=function(e,t,n,i,o){var a="";if(a+=f(o),a+="<div",o.a={class:new yr.scalarAttr("nb-popup _nb-popup _init")},o.s="div",!l("static",t)){o.a["data-nb"]=new yr.scalarAttr("popup");var s=o.a.class;o.a.class=s?s.addscalar(" _nb-is-hidden"):new yr.scalarAttr(" _nb-is-hidden")}return a+=e.a(e,0,e.s(C,t),"nb-main-attrs",o),r(d("withoutTail",t,[]))&&(o.a["data-nb-withoutTail"]=new yr.scalarAttr("true")),a+=e.a(e,0,e.s(C,t),"nb-popup-menu-content",o),a+=f(o),a+="</div>"},h.t23.j=Z,h.t23.a=0,h.t24=function(e,t,n,r,i){var o="";return o+=f(i),o+="<ul",i.a={class:new yr.scalarAttr("_nb-popup-menu")},i.s="ul",o+=e.a(e,0,d("menu",t,[]),"nb-popup-menu-content-item",i),o+=f(i),o+="</ul>"},h.t24.j=Z,h.t24.a=0,h.t25=function(e,t,n,r,i){var o="";return o+=f(i),l("separator",t)?o+='<li class="_nb-popup-separator"></li>':(o+='<li class="_nb-popup-line">',o+="<a",i.a={class:new yr.scalarAttr("_nb-popup-link")},i.s="a",l("href",t)&&(i.a.href=new yr.scalarAttr(c("href",t))),o+=e.a(e,0,e.s(C,t),"nb-main-attrs",i),o+=f(i),o+=c("content",t),o+="</a>",o+="</li>"),o},h.t25.j=[0,"menu"],h.t25.a=0,h.t26=function(e,t,n,i,o){var a="";return a+=f(o),a+="<div",o.a={class:new yr.scalarAttr("nb-popup _nb-popup _init _nb-is-hidden"),"data-nb":new yr.scalarAttr("popup")},o.s="div",a+=e.a(e,0,e.s(C,t),"nb-main-attrs",o),r(d("withoutTail",t,[]))&&(o.a["data-nb-withoutTail"]=new yr.scalarAttr("true")),a+=f(o),l("close",t)&&(a+=e.f("f18",t,n,i,o,d("close",t,[]))),l("titleContent",t)&&(a+=e.f("f16",t,n,i,o,d("titleContent",t,[]))),l("content",t)&&(a+=e.f("f15",t,n,i,o,d("content",t,[]))),a+="</div>"},h.t26.j=[0,"popup"],h.t26.a=0,h.t27=function(e,t,n,r,i){var o="";o+=f(i),l("static",t)&&(o+=e.f("f26",t,n,r,i)),o+="<div",i.a={},i.s="div",e.f("f6",t,n,r,i,yr.object2nodeset(function(){var e={};return e.name="popup",e.theme=yr.nodeset2data(d("theme",t,[])),e.type="modal",e}()));var a=i.a.class;i.a.class=a?a.addscalar(" _init"):new yr.scalarAttr(" _init");a=i.a.class;if(i.a.class=a?a.addscalar(" _nb-popup"):new yr.scalarAttr(" _nb-popup"),!l("static",t)){i.a["data-nb"]=new yr.scalarAttr("popup");a=i.a.class;i.a.class=a?a.addscalar(" _nb-is-hidden"):new yr.scalarAttr(" _nb-is-hidden")}return o+=e.a(e,0,e.s(C,t),"nb-main-attrs",i),o+=f(i),o+='<div class="_nb-popup-i">',l("close",t)&&(o+=e.f("f18",t,n,r,i,d("close",t,[]))),l("titleContent",t)&&(o+=e.f("f16",t,n,r,i,d("titleContent",t,[]))),l("content",t)&&(o+=e.f("f15",t,n,r,i,d("content",t,[]))),l("buttons",t)&&(o+=e.f("f17",t,n,r,i,d("buttons",t,[]))),o+="</div>",o+="</div>"},h.t27.j=[0,"modalPopup"],h.t27.a=0,h.t28=function(e,t,n,i,a){var s="",u="radio-button_"+yr.externals["_nb-uniq"]();s+=f(a),s+="<div",a.a={},a.s="div",e.f("f6",t,n,i,a,yr.object2nodeset(function(){var e={};return e.name="radio-button",e.size=yr.nodeset2data(d("size",t,[])),e.theme=yr.nodeset2data(d("theme",t,[])),e}()));var h=a.a.class;a.a.class=h?h.addscalar(" nb-group"):new yr.scalarAttr(" nb-group"),s+=e.a(e,0,e.s(C,t),"nb-main-attrs",a),s+=f(a);for(var p=d("group",t,[]),m=0,v=p.length;m<v;m++){var g=p[m],y="nb-radio-button_"+yr.externals["_nb-uniq"]();s+='<span class="_nb-radio-button-button nb-complex-group-item">',s+="<input",a.a={class:new yr.scalarAttr("_nb-radio-button-radio"),type:new yr.scalarAttr("radio"),value:new yr.scalarAttr(o(d("value",g,[]))),id:new yr.scalarAttr(y)},a.s="input",l("checked",g)&&(a.a.checked=new yr.scalarAttr("checked")),l("disabled",g)&&(a.a.disabled=new yr.scalarAttr("disabled")),l("tabindex",g)&&!l("disabled",g)&&(a.a.tabindex=new yr.scalarAttr(c("tabindex",g)));var b="";r(d("name",g,[]))?b+=c("name",g):r(e.s(O,g))?b+=o(e.s(O,g)):r(e.s(J,g))?b+=o(e.s(J,g)):b+=u,a.a.name=new yr.scalarAttr(b),s+=f(a),s+="",s+=e.f("f8",g,m,v,a,yr.externals["_nb-extend"](e.s(C,g),yr.object2nodeset(function(){var t={};(n=[]).push("nb-complex-group-item-subject"),n.push("js-button"),t.class=n,t.type="label",t.static=!0,t.id=!1,t.size=yr.nodeset2data(e.s(Q,g));var n;return(n={}).for=y,n["data-value"]=yr.nodeset2data(d("value",g,[])),t.attrs=n,t}()))),s+="</span>"}return s+="</div>"},h.t28.j=[0,"radio-button"],h.t28.a=0,h.t29=function(e,i,a,s,u){var h="",p=e.s(te,i).length>0;h+=f(u),h+="<span",u.a={"data-nb-direction":new yr.scalarAttr(o(d("direction",i,[]))),"data-nb":new yr.scalarAttr("select"),tabindex:new yr.scalarAttr("0")},u.s="span",e.f("f9",i,a,s,u,"span");var m=u.a.class;if(u.a.class=m?m.addscalar(" nb-select _init _nb-select-button"):new yr.scalarAttr(" nb-select _init _nb-select-button"),t("s",d("size",i,[]))){m=u.a.class;u.a.class=m?m.addscalar(" _nb-small-normal-select"):new yr.scalarAttr(" _nb-small-normal-select")}h+=e.a(e,0,e.s(C,i),"nb-main-attrs",u),l("within",i)&&(u.a["data-nb-within"]=new yr.scalarAttr(c("within",i))),l("appendto",i)&&(u.a["data-nb-appendto"]=new yr.scalarAttr(c("appendto",i))),l("tabindex",i)&&!l("disabled",i)&&(u.a.tabindex=new yr.scalarAttr(c("tabindex",i))),l("maxHeight",i)&&(u.a["data-nb-maxheight"]=new yr.scalarAttr(c("maxHeight",i))),h+=f(u),h+='<span class="_nb-button-content">';for(var v=d("items",i,[]),g=0,y=v.length;g<y;g++){var b=v[g];(p&&l("selected",b)||!p&&0==g)&&(h+=n(d("text",b,[])))}return h+="</span>",h+='<span class="_nb-select-helper"></span>',h+="<select",u.a={class:new yr.scalarAttr("_nb-select-fallback")},u.s="select",r(d("disabled",i,[]))&&(u.a.disabled=new yr.scalarAttr("disabled")),l("name",i)&&(u.a.name=new yr.scalarAttr(c("name",i))),r(e.s(O,i))&&(u.a.name=new yr.scalarAttr(o(e.s(O,i)))),h+=e.a(e,0,e.s(C,i),"nb-select-options",u),h+=f(u),h+="</select>",h+="<span",u.a={},u.s="span",e.f("f6",i,a,s,u,yr.object2nodeset(function(){var e={};return e.name="select-dropdown",e.size=yr.nodeset2data(d("size",i,[])),e.theme=yr.nodeset2data(d("theme",i,[])),e}())),h+=f(u),h+="</span>",h+="</span>"},h.t29.j=ee,h.t29.a=0,h.t30=function(e,t,n,r,o){var a="";a+=f(o);for(var s=d("items",t,[]),u=0,c=s.length;u<c;u++){var h=s[u];if(l("group",h)){a+='<optgroup label="'+i(d("text",h,[]))+'" data-nb-type="'+i(d("type",h,[]))+'">';for(var p=d("group",h,[]),m=0,v=p.length;m<v;m++){var g=p[m];a+=e.f("f21",g,m,v,o,e.s(C,g))}a+="</optgroup>"}else a+=e.f("f21",h,u,c,o,e.s(C,h))}return a},h.t30.s=[1,ee],h.t30.a=[1,0],h.t31=function(e,n,i,a,s){var u="",h="";l("id",n)?h+=c("id",n):h+=yr.externals["_nb-uniq"]();var p=h;u+=f(s),u+="<label",s.a={"data-nb":new yr.scalarAttr("checkbox"),for:new yr.scalarAttr("nb-checkbox_"+p)},s.s="label",u+=e.a(e,0,e.s(C,n),"nb-main-attrs",s),e.f("f6",n,i,a,s,yr.object2nodeset(function(){var e={};return e.name="checkbox",e.size=yr.nodeset2data(d("size",n,[])),l("type",n)&&(e.type=yr.nodeset2data(d("type",n,[]))),e}()));var m=s.a.class;if(s.a.class=m?m.addscalar(" _init"):new yr.scalarAttr(" _init"),l("disabled",n)){m=s.a.class;s.a.class=m?m.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled")}if(u+=f(s),u+="<input",s.a={class:new yr.scalarAttr("_nb-checkbox-input"),id:new yr.scalarAttr("nb-checkbox_"+p)},s.s="input",t("button",d("type",n,[]))?s.a.type=new yr.scalarAttr("checkbox"):s.a.type=new yr.scalarAttr(c("type",n)),l("name",n)&&(s.a.name=new yr.scalarAttr(c("name",n))),l("tabindex",n)&&!l("disabled",n)&&(s.a.tabindex=new yr.scalarAttr(c("tabindex",n))),l("disabled",n)&&(s.a.disabled=new yr.scalarAttr("disabled")),l("checked",n)&&(s.a.checked=new yr.scalarAttr("checked")),d("value",n,[]).length&&(s.a.value=new yr.scalarAttr(c("value",n))),u+=f(s),u+="",t("button",d("type",n,[])))u+=e.f("f8",n,i,a,s,yr.externals["_nb-extend"](e.s(C,n),yr.object2nodeset(function(){var e={};e.type="inline",e.static=!0,e.id=!1,e.attrs=!1;var t=[];return t.push("_nb-checkbox-label"),e.class=t,e}())));else{if(u+="<span",s.a={class:new yr.scalarAttr("_nb-checkbox-flag ")},s.s="span",t("checkbox",d("type",n,[]))){m=s.a.class;s.a.class=m?m.addscalar("_nb-checkbox-normal-flag"):new yr.scalarAttr("_nb-checkbox-normal-flag")}else if(l("type",n)){m=s.a.class;s.a.class=m?m.addscalar("_nb-checkbox-"+o(d("type",n,[]))+"-flag"):new yr.scalarAttr("_nb-checkbox-"+o(d("type",n,[]))+"-flag")}u+=f(s),u+='<span class="_nb-checkbox-flag-icon"></span>',u+="</span>",u+='<span class="_nb-checkbox-label">',r(d("content",n,[]))&&(u+=c("content",n)),u+="</span>"}return u+="</label>"},h.t31.j=[0,"checkbox"],h.t31.a=0,h.t32=function(e,i,a,s,u){var h="",p="nb-input_error"+yr.externals["_nb-uniq"]();h+=f(u),h+="<label",u.a={},u.s="label",e.f("f6",i,a,s,u,yr.object2nodeset(function(){var e={};return e.name="input",l("size",i)&&(e.size=yr.nodeset2data(d("size",i,[]))),e.type="complex",e}())),h+=e.a(e,0,e.s(C,i),"nb-main-attrs",u);var m=u.a.class;if(u.a.class=m?m.addscalar(" _init"):new yr.scalarAttr(" _init"),r(d("static",i,[]))||(u.a["data-nb"]=new yr.scalarAttr("input")),l("disabled",i)){m=u.a.class;u.a.class=m?m.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),u.a["data-nb-disabled"]=new yr.scalarAttr("true")}if(l("ghost",i)){m=u.a.class;u.a.class=m?m.addscalar(" _nb-is-ghost"):new yr.scalarAttr(" _nb-is-ghost"),u.a["data-nb-ghost"]=new yr.scalarAttr("true")}l("error",i)&&(u.a["data-nb-error"]=new yr.scalarAttr('{ "id": "'+p+'", "direction":"'+o(e.s(ne,i))+'"}')),h+=f(u),l("error",i)&&(h+=e.f("f13",i,a,s,u,yr.object2nodeset(function(){var t={};return t.class=o(e.s(re,i))+" _nb-error-popup",t.content=yr.nodeset2data(e.s(ie,i)),t.id=p,t}()))),l("leftContent",i)&&(h+='<span class="_nb-input-left">',h+=c("leftContent",i),h+="</span>"),l("rightContent",i)&&(h+='<span class="_nb-input-right">',h+=c("rightContent",i),h+="</span>"),l("reset",i)&&(h+='<span class="_nb-input-reset"></span>'),h+='<span class="_nb-input-content">',!l("hint",i)||t("",e.s(oe,i))||!t("",d("content",i,[]))&&l("content",i)||(h+='<span class="_nb-input-hint">',h+='<span class="_nb-input-hint-inner">',r(e.s(ae,i))?(h+='<span class="_nb-input-hint-ghost"></span>',h+='<span class="_nb-input-hint-content">',h+=n(e.s(oe,i)),h+="</span>"):h+=n(d("hint",i,[])),h+="</span>",h+="</span>"),h+="<input",u.a={type:new yr.scalarAttr("text"),class:new yr.scalarAttr("_nb-input-controller"),value:new yr.scalarAttr(o(d("content",i,[])))},u.s="input";for(var v=e.s(T,i),g=0,y=v.length;g<y;g++){var b=v[g];u.a[b.name]=new yr.scalarAttr(o(e.s(C,b)))}return l("name",i)&&(u.a.name=new yr.scalarAttr(c("name",i))),l("tabindex",i)&&!l("disabled",i)&&(u.a.tabindex=new yr.scalarAttr(c("tabindex",i))),l("disabled",i)&&(u.a.disabled=new yr.scalarAttr("disabled")),l("hint",i)&&!t("",e.s(oe,i))&&(u.a.placeholder=new yr.scalarAttr(c("hint",i))),h+=f(u),h+="",h+='<span class="_nb-input-view"> </span>',h+="</span>",h+="</label>"},h.t32.j=[0,"input"],h.t32.a=0,h.t33=function(e,t,i,a,s){var u="",h="nb-input_error"+yr.externals["_nb-uniq"]();u+=f(s),u+="<label",s.a={},s.s="label",e.f("f6",t,i,a,s,yr.object2nodeset(function(){var e={};return e.name="input",l("size",t)&&(e.size=yr.nodeset2data(d("size",t,[]))),e.type="complex",e}()));var p=s.a.class;if(s.a.class=p?p.addscalar(" _init"):new yr.scalarAttr(" _init"),u+=e.a(e,0,e.s(C,t),"nb-main-attrs",s),r(d("static",t,[]))||(s.a["data-nb"]=new yr.scalarAttr("input")),l("disabled",t)){p=s.a.class;s.a.class=p?p.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),s.a["data-nb-disabled"]=new yr.scalarAttr("true")}if(l("ghost",t)){p=s.a.class;s.a.class=p?p.addscalar(" _nb-is-ghost _init"):new yr.scalarAttr(" _nb-is-ghost _init"),s.a["data-nb-ghost"]=new yr.scalarAttr("true")}if(l("error",t)){p=s.a.class;s.a.class=p?p.addscalar(" _init"):new yr.scalarAttr(" _init"),s.a["data-nb-error"]=new yr.scalarAttr('{ "id": "'+h+'", "direction":"'+o(e.s(ne,t))+'" }'),u+=f(s),u+=e.f("f13",t,i,a,s,yr.object2nodeset(function(){var n={};return n.class="_nb-error-popup",n.content=yr.nodeset2data(e.s(ie,t)),n.id=h,n}()))}u+=f(s),l("reset",t)&&(u+='<span class="_nb-input-reset"></span>'),l("leftContent",t)&&(u+='<span class="_nb-input-left">',u+=c("leftContent",t),u+="</span>"),l("rightContent",t)&&(u+='<span class="_nb-input-right">',u+=c("rightContent",t),u+="</span>"),u+='<span class="_nb-input-content">',u+="<textarea",s.a={class:new yr.scalarAttr("_nb-input-controller")},s.s="textarea";for(var m=e.s(T,t),v=0,g=m.length;v<g;v++){var y=m[v];s.a[y.name]=new yr.scalarAttr(o(e.s(C,y)))}return l("name",t)&&(s.a.name=new yr.scalarAttr(c("name",t))),l("tabindex",t)&&!l("disabled",t)&&(s.a.tabindex=new yr.scalarAttr(c("tabindex",t))),l("disabled",t)&&(s.a.disabled=new yr.scalarAttr("disabled")),u+=f(s),l("content",t)&&(u+=n(d("content",t,[]))),u+="</textarea>",u+='<span class="_nb-input-view"> </span>',u+="</span>",u+="</label>"},h.t33.j=[0,"textarea"],h.t33.a=0,h.t34=function(e,t,n,i,a){var s="";s+=f(a),s+="<input",a.a={type:new yr.scalarAttr("text"),value:new yr.scalarAttr(o(d("content",t,[]))),"data-nb-type":new yr.scalarAttr("simple")},a.s="input",e.f("f6",t,n,i,a,yr.object2nodeset(function(){var e={};return e.name="input",l("size",t)&&(e.size=yr.nodeset2data(d("size",t,[]))),e.type="simple",e}()));var u=a.a.class;if(a.a.class=u?u.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=e.a(e,0,e.s(C,t),"nb-main-attrs",a),l("name",t)&&(a.a.name=new yr.scalarAttr(c("name",t))),l("tabindex",t)&&!l("disabled",t)&&(a.a.tabindex=new yr.scalarAttr(c("tabindex",t))),r(d("static",t,[]))||(a.a["data-nb"]=new yr.scalarAttr("input")),l("disabled",t)){u=a.a.class;a.a.class=u?u.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),a.a.disabled=new yr.scalarAttr("disabled"),a.a["data-nb-disabled"]=new yr.scalarAttr("true")}return s+=f(a),s+=""},h.t34.j=[0,"inputSimple"],h.t34.a=0,h.t35=function(e,t,i,o,a){var s="";s+=f(a),s+="<textarea",a.a={"data-nb-type":new yr.scalarAttr("simple")},a.s="textarea",e.f("f6",t,i,o,a,yr.object2nodeset(function(){var e={};return e.name="input",l("size",t)&&(e.size=yr.nodeset2data(d("size",t,[]))),e.type="simple",e}()));var u=a.a.class;if(a.a.class=u?u.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=e.a(e,0,e.s(C,t),"nb-main-attrs",a),l("name",t)&&(a.a.name=new yr.scalarAttr(c("name",t))),l("tabindex",t)&&!l("disabled",t)&&(a.a.tabindex=new yr.scalarAttr(c("tabindex",t))),r(d("static",t,[]))||(a.a["data-nb"]=new yr.scalarAttr("input")),l("disabled",t)){u=a.a.class;a.a.class=u?u.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),a.a.disabled=new yr.scalarAttr("disabled"),a.a["data-nb-disabled"]=new yr.scalarAttr("true")}return s+=f(a),l("content",t)&&(s+=n(d("content",t,[]))),s+="</textarea>"},h.t35.j=[0,"textareaSimple"],h.t35.a=0,h.t36=function(e,t,n,r,i){var o="";if(o+=f(i),o+="<div",i.a={class:new yr.scalarAttr("nb-input-group"),"data-nb":new yr.scalarAttr("input-group")},i.s="div",o+=e.a(e,0,e.s(C,t),"nb-main-attrs",i),l("disabled",t)){var a=i.a.class;i.a.class=a?a.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),i.a["data-nb-disabled"]=new yr.scalarAttr("true")}o+=f(i);for(var s=d("*",t,[]),u=0,c=s.length;u<c;u++){var h=s[u];"button"==h.name?o+=e.f("f8",h,u,c,i,e.s(C,h)):"input"==h.name&&(o+=e.f("f23",h,u,c,i,e.s(C,h)))}return o+="</div>"},h.t36.j=[0,"input-group"],h.t36.a=0,h.t37=function(e,r,a,u,h){var p="";p+=f(h),p+="<div",h.a={"data-nb":new yr.scalarAttr("progress"),"data-nb-type":new yr.scalarAttr(o(d("type",r,[])))},h.s="div",e.f("f6",r,a,u,h,yr.object2nodeset(function(){var e={};return e.name="progress",e.type=yr.nodeset2data(d("type",r,[])),e}()));var m=h.a.class;return h.a.class=m?m.addscalar(" _init"):new yr.scalarAttr(" _init"),p+=e.a(e,0,e.s(C,r),"nb-main-attrs",h),p+=f(h),l("bar",r)&&(p+='<div class="_nb-progress-bar js-bar" style="width: '+i(d("start",r,[]))+'%"></div>'),l("title",r)&&(p+='<div class="_nb-progress-title js-title">',t("percentage",d("type",r,[]))?p+=s(c("start",r)+"%"):p+=n(d("title",r,[])),p+="</div>"),p+='<input type="hidden" value="'+i(d("start",r,[]))+'%"/>',p+="</div>"},h.t37.j=[0,"progress"],h.t37.a=0,h.t38=function(e,t,n,r,i){var o="";return o+=f(i),o+="<div",i.a={},i.s="div",e.f("f6",t,n,r,i,yr.object2nodeset(function(){var e={};return e.name="paranja",e.theme=yr.nodeset2data(d("theme",t,[])),e}())),o+=e.a(e,0,e.s(C,t),"nb-main-attrs",i),o+=f(i),l("content",t)&&(o+=c("content",t)),o+="</div>"},h.t38.j=[0,"paranja"],h.t38.a=0,h.t39=function(e,n,r,i,o){var a="",s="";l("type",n)?s+="-"+c("type",n):s+="";var u=s;s="";t("s",d("padding",n,[]))?s+="-small":t("l",d("padding",n,[]))?s+="-large":t("m",d("padding",n,[]))&&(s+="");var h=s;a+=f(o),a+="<div",o.a={},o.s="div",a+=e.a(e,0,e.s(C,n),"nb-main-attrs",o);var p=o.a.class;return o.a.class=p?p.addscalar(" nb-island _nb"+h+u+"-island"):new yr.scalarAttr(" nb-island _nb"+h+u+"-island"),a+=f(o),l("content",n)&&(a+=c("content",n)),a+="</div>"},h.t39.j=[0,"island"],h.t39.a=0,h.t40=function(e,r,i,o,a){var s="";return s+=f(a),s+="<div",a.a={},a.s="div",e.f("f6",r,i,o,a,yr.object2nodeset(function(){var e={};return e.name="dropzone",e.type=yr.nodeset2data(d("type",r,[])),e}())),s+=e.a(e,0,e.s(C,r),"nb-main-attrs",a),s+=f(a),l("head",r)&&(s+='<div class="_nb-dropzone-head">',s+=n(d("head",r,[])),s+="</div>"),l("content",r)&&(s+='<div class="_nb-dropzone-text">',l("content",r)&&(s+=c("content",r)),t("false",d("button",r,[]))||(s+=e.f("f8",r,i,o,a,d("button",r,[]))),s+="</div>"),t("modal",d("type",r,[]))&&(s+='<div class="_nb-dropzone-cover"></div>'),s+="</div>"},h.t40.j=se,h.t40.a=0,h.t41=function(e,t,n,r,i){var a="";if(a+=f(i),a+="<span",i.a={},i.s="span",e.f("f6",t,n,r,i,yr.object2nodeset(function(){var e={};return e.name="loader",e.size=yr.nodeset2data(d("size",t,[])),e}())),a+=e.a(e,0,e.s(C,t),"nb-main-attrs",i),a+=f(i),a+="<span",i.a={class:new yr.scalarAttr("_nb-loader-spinner")},i.s="span",l("color",t)){var s=i.a.class;i.a.class=s?s.addscalar(" _nb-loader-"+o(d("color",t,[]))+"-spinner"):new yr.scalarAttr(" _nb-loader-"+o(d("color",t,[]))+"-spinner")}return a+=f(i),a+="</span>",a+="</span>"},h.t41.j=[0,"loader"],h.t41.a=0,h.t42=function(e,n,a,s,u){var h="";h+=f(u),h+="<div",u.a={},u.s="div",e.f("f6",n,a,s,u,yr.object2nodeset(function(){var e={};return e.name="slider",e.size=yr.nodeset2data(d("size",n,[])),e}()));var p=u.a.class;if(u.a.class=p?p.addscalar(" _init _nb-"+o(d("orientation",n,[]))+"-slider _nb-slider-"+o(d("type",n,[]))+"-handle"):new yr.scalarAttr(" _init _nb-"+o(d("orientation",n,[]))+"-slider _nb-slider-"+o(d("type",n,[]))+"-handle"),h+=e.a(e,0,e.s(C,n),"nb-main-attrs",u),u.a["data-nb-value"]=new yr.scalarAttr(o(d("value",n,[]))),l("static",n)||(u.a["data-nb"]=new yr.scalarAttr("slider")),l("disabled",n)){p=u.a.class;u.a.class=p?p.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled")}if(h+=f(u),h+='<div class="_nb-slider-body _nb-slider-'+i(d("type",n,[]))+'-body">',h+="<label",u.a={class:new yr.scalarAttr("ui-slider-handle")},u.s="label",t("s",d("size",n,[]))){p=u.a.class;u.a.class=p?p.addscalar(" _nb-slider-small-handle"):new yr.scalarAttr(" _nb-slider-small-handle")}else{p=u.a.class;u.a.class=p?p.addscalar(" _nb-slider-handle"):new yr.scalarAttr(" _nb-slider-handle")}if(r(e.s(ue,n))){p=u.a.class;u.a.class=p?p.addscalar(" "+o(e.s(ue,n))):new yr.scalarAttr(" "+o(e.s(ue,n)))}if(l("tabindex",n)&&!l("disabled",n)&&(u.a.tabindex=new yr.scalarAttr(c("tabindex",n))),h+=f(u),h+="<span",u.a={class:new yr.scalarAttr("nb-button-content")},u.s="span",l("content",n)){p=u.a.class;u.a.class=p?p.addscalar(" nb-is-hidden"):new yr.scalarAttr(" nb-is-hidden")}return h+=f(u),h+="<input",u.a={tabindex:new yr.scalarAttr("-1"),class:new yr.scalarAttr("_nb-slider-fallback"),type:new yr.scalarAttr("text"),value:new yr.scalarAttr(o(d("value",n,[]))),readonly:new yr.scalarAttr("readonly")},u.s="input",l("name",n)&&(u.a.name=new yr.scalarAttr(o(d("name",n,[])))),h+=f(u),h+="",h+="</span>",l("content",n)&&(h+=c("content",n)),h+="</label>",h+="</div>",h+="</div>"},h.t42.j=[0,"slider"],h.t42.a=0,h.t43=function(e,t,r,i,o){var s="",u="tabs-"+yr.externals["_nb-uniq"]();s+=f(o),s+="<div",o.a={"data-nb":new yr.scalarAttr("tabs")},o.s="div",e.f("f6",t,r,i,o,yr.object2nodeset(function(){var e={};return e.name="tabs",e.size=yr.nodeset2data(d("size",t,[])),l("rise",t)&&(e.type="rise-"+c("rise",t)),e}()));var h=o.a.class;o.a.class=h?h.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=e.a(e,0,e.s(C,t),"nb-main-attrs",o),s+=f(o),s+='<ul class="_nb-tabs-tabs">';for(var p=0,m=(y=d("items",t,[])).length;p<m;p++){var v=y[p];if(s+="<li",o.a={class:new yr.scalarAttr("_nb-tabs-tab")},o.s="li",l("active",v)){var g=o.a.class;o.a.class=g?g.addscalar(" ui-tabs-active"):new yr.scalarAttr(" ui-tabs-active")}s+=f(o),s+='<a class="_nb-tabs-link _link" href="#'+a(u)+"-"+a(p)+'">',s+=n(d("title",v,[])),s+="</a>",s+="</li>"}s+="</ul>";var y;for(p=0,m=(y=d("items",t,[])).length;p<m;p++){v=y[p];s+='<div class="_nb-tabs-panel" id="'+a(u)+"-"+a(p)+'">',l("content",v)&&(s+=c("content",v)),s+="</div>"}return s+="</div>"},h.t43.j=[0,"tabs"],h.t43.a=0,h.t44=function(e,t,n,r,i){var o="",a="";l("text",t)?a+='<a href="'+c("href",t)+'" class="_nb-search-arrow-label">'+c("text",t)+"</a>":a+="";var s=a;a="";l("requests",t)?a+=" — "+c("requests",t):a+="";var u=a;return o+=f(i),o+="<form",i.a={"data-nb":new yr.scalarAttr("arrow"),class:new yr.scalarAttr("nb-arrow _init _nb-search-arrow")},i.s="form",o+=e.a(e,0,e.s(C,t),"nb-main-attrs",i),o+=f(i),o+='<span class="_nb-arrow-tail"></span>',o+=e.f("f8",t,n,r,i,yr.object2nodeset(function(){var e={};e.size="m",e.class="_nb-search-arrow-button",e.tabindex=yr.nodeset2data(d("buttonTabindex",t,[])),e.content=yr.nodeset2data(d("buttonContent",t,[]));var n={};return n.type="submit",e.attrs=n,e}())),o+='<div class="_nb-search-arrow-content">',o+=e.f("f23",t,n,r,i,yr.object2nodeset(function(){var e={};e.size="m",e.class="_nb-search-arrow-input",e.tabindex=yr.nodeset2data(d("inputTabindex",t,[])),e.leftContent=s;(n={}).autocomplete="off",n.value=yr.nodeset2data(d("value",t,[])),n.name="text",e.attrs=n;var n;return(n={}).text=u,n.ghost=!0,e.hint=n,e}())),o+="</div>",o+="</form>"},h.t44.j=[0,"arrow"],h.t44.a=0,h.t45=function(e,t,r,i,o){var a="";return a+=f(o),a+="<div",o.a={class:new yr.scalarAttr("_nb-service-arrow")},o.s="div",a+=e.a(e,0,e.s(C,t),"nb-main-attrs",o),a+=f(o),a+='<span class="_nb-arrow-tail"></span>',a+=n(d("text",t,[])),a+="</div>"},h.t45.j=le,h.t45.a=0,h.t46=function(e,t,r,i,a){var s="";return s+=f(a),s+="<a",a.a={href:new yr.scalarAttr(o(d("href",t,[]))),class:new yr.scalarAttr("_nb-service-arrow")},a.s="a",s+=e.a(e,0,e.s(C,t),"nb-main-attrs",a),s+=f(a),s+='<span class="_nb-arrow-tail"></span>',s+=n(d("text",t,[])),s+="</a>"},h.t46.j=de,h.t46.a=0,h.t47=function(e,t,n,a,s){var u="";return u+=f(s),u+="<div",s.a={class:new yr.scalarAttr("nb-header _init"),"data-nb":new yr.scalarAttr("header")},s.s="div",u+=e.a(e,0,e.s(C,t),"nb-main-attrs",s),u+=f(s),u+='<div class="_nb-header-actions">',l("settings",t)&&(r(e.s(fe,t))?u+=o(e.s(fe,t)):(u+='<div class="_nb-header-button">',u+='<div class="_nb-header-button-icon">',u+=e.f("f7",t,n,a,s,yr.object2nodeset(function(){var e={};return e.icon="settings",e.size="m",e}())),u+="</div>",u+="</div>")),l("services",t)&&(r(e.s(he,t))?u+=o(e.s(pe,t)):(u+='<div class="_nb-header-button">',u+='<div class="_nb-header-button-icon">',u+=e.f("f7",t,n,a,s,yr.object2nodeset(function(){var e={};return e.icon="services",e.size="m",e}())),u+="</div>",u+="</div>")),l("user",t)&&(r(e.s(ve,t))?u+=o(e.s(ve,t)):u+=e.f("f34",t,n,a,s,d("user",t,[]))),l("auth",t)&&r(e.s(pe,t))&&(u+=o(e.s(pe,t))),u+="</div>",u+='<div class="_nb-header-main">',u+='<a href="'+i(d("yaHref",t,[]))+'" class="_nb-header-logo"></a>',u+=e.f("f32",t,n,a,s,d("arrow",t,[])),u+="</div>",u+="</div>"},h.t47.j=[0,"header"],h.t47.a=0,h.t48=function(e,t,n,r,i){var o="";o+=f(i),o+="<span",i.a={},i.s="span",e.f("f6",t,n,r,i,yr.object2nodeset(function(){var e={};return e.name="user",e.size=yr.nodeset2data(d("size",t,[])),e}()));var a=i.a.class;if(i.a.class=a?a.addscalar(" _init"):new yr.scalarAttr(" _init"),l("justify",t)){a=i.a.class;i.a.class=a?a.addscalar(" _nb-user_justify"):new yr.scalarAttr(" _nb-user_justify")}if(o+=e.a(e,0,e.s(C,t),"nb-main-attrs",i),l("rightToLeft",t)){a=i.a.class;i.a.class=a?a.addscalar(" _nb-user_rtl"):new yr.scalarAttr(" _nb-user_rtl")}else{var a=i.a.class;i.a.class=a?a.addscalar(" _nb-user_ltr"):new yr.scalarAttr(" _nb-user_ltr")}return o+=e.a(e,0,e.s(C,t),"nb-user-pic",i),o+=e.a(e,0,e.s(C,t),"nb-user-name",i),o+=f(i),o+="</span>"},h.t48.j=me,h.t48.a=0,h.t49=function(e,t,r,i,a){var s="";if(s+=f(a),s+="<span",a.a={},a.s="span",e.f("f6",t,r,i,a,yr.object2nodeset(function(){var e={};return e.name="user-avatar",e.size=yr.nodeset2data(d("size",t,[])),e}())),l("userpic",t)){var u=a.a.style;a.a.style=u?u.addscalar(" background-image: url('"+o(d("userpic",t,[]))+"')"):new yr.scalarAttr(" background-image: url('"+o(d("userpic",t,[]))+"')")}return s+=f(a),c("notices",t)>0&&(s+='<span class="_nb-user-notice-count">',s+=n(d("notices",t,[])),s+="</span>"),s+="</span>"},h.t49.j=me,h.t49.a=0,h.t50=function(e,t,r,o,a){var s="";return s+=f(a),s+='<span class="_nb-user-label">',s+='<span class="_nb-user-name _link" title="'+i(d("username",t,[]))+'">',s+=n(d("username",t,[])),s+="</span>",l("email",t)&&(s+='<span class="_nb-user-email" title="'+i(d("email",t,[]))+'">',s+=n(d("email",t,[])),s+="</span>"),s+="</span>"},h.t50.j=me,h.t50.a=0,h.t51=function(e,t,n,r,i){var a="";if(a+=f(i),a+="<div",i.a={class:new yr.scalarAttr("nb-suggest _init"),"data-nb":new yr.scalarAttr("suggest")},i.s="div",i.a["data-countMax"]=new yr.scalarAttr(c("countMax",t)),i.a["data-type"]=new yr.scalarAttr(c("type",t)),i.a["data-size"]=new yr.scalarAttr(c("size",t)),i.a["data-source"]=new yr.scalarAttr(c("source",t)),i.a["data-highlight"]=new yr.scalarAttr(c("highlight",t)),i.a["data-class-suggest"]=new yr.scalarAttr("nb-island _nb-fly-island _nb-suggest-container _nb-"+o(d("size",t,[]))+"-suggest"),l("class",t)){var s=i.a["data-class-suggest"];i.a["data-class-suggest"]=s?s.addscalar(" "+o(d("classSuggest",t,[]))):new yr.scalarAttr(" "+o(d("classSuggest",t,[])))}if(a+=e.a(e,0,e.s(C,t),"nb-main-attrs",i),l("disabled",t)){s=i.a.class;i.a.class=s?s.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled")}return a+=f(i),a+=e.f("f23",t,n,r,i,yr.object2nodeset(function(){var n={};return n.size=yr.nodeset2data(d("size",t,[])),n.class="_nb-suggest-input",n.attrs=yr.nodeset2data(e.s(ge,t)),n.tabindex=yr.nodeset2data(d("tabindex",t,[])),n.disabled=yr.nodeset2data(d("disabled",t,[])),n.name=yr.nodeset2data(d("name",t,[])),n.content=yr.nodeset2data(d("content",t,[])),n.leftContent=yr.nodeset2data(e.s(ye,t)),n.rightContent=yr.nodeset2data(e.s(be,t)),n.labelContent=yr.nodeset2data(e.s(_e,t)),n.reset=yr.nodeset2data(e.s(Oe,t)),n.ghost=yr.nodeset2data(e.s(we,t)),n.error=yr.nodeset2data(e.s(Ee,t)),n.hint=yr.nodeset2data(e.s(Se,t)),n}())),a+="</div>"},h.t51.j=[0,"suggest"],h.t51.a=0,h.t52=function(e,t,n,r,i){var o="";return o+=f(i),o+="<li",i.a={class:new yr.scalarAttr("_nb-suggest-item")},i.s="li",o+=e.a(e,0,d("item",t,[]),"nb-suggest",i),o+=f(i),o+="</li>"},h.t52.j=1,h.t52.a=1,h.t53=function(e,t,n,r,i){var o="";return o+=f(i),l("labelContent",t)&&(o+=c("labelContent",t)),o},h.t53.j=Ce,h.t53.a=1,h.t54=function(e,t,n,r,i){var o="",a={};a.size=yr.nodeset2data(d("size",t.doc.root,[])),a.mod="suggest";var s=[];l("username",t)?s+=yr.nodeset2data(d("username",t,[])):l("email",t)&&(s+=yr.nodeset2data(d("email",t,[]))),a.username=s,a.rightToLeft=!0,l("username",t)&&l("email",t)&&(a.email=yr.nodeset2data(d("email",t,[]))),a.justify=!0,l("userpic",t)&&(a.userpic=yr.nodeset2data(d("userpic",t,[]))),l("usernameHighlighted",t)&&(a.usernameHighlighted=yr.nodeset2data(d("usernameHighlighted",t,[]))),l("emailHighlighted",t)&&(a.emailHighlighted=yr.nodeset2data(d("emailHighlighted",t,[])));var u=a;return o+=f(i),o+=e.f("f34",t,n,r,i,yr.object2nodeset(u))},h.t54.j=xe,h.t54.a=1,h.t55=function(e,t,n,r,i){var a="";return a+=f(i),a+=o(e.s(Te,t))},h.t55.j=ke,h.t55.a=0,h.t56=function(e,t,n,r,i){var a="";return a+=f(i),a+=o(e.s(Re,t))},h.t56.j=je,h.t56.a=0,h.t57=function(e,t,r,i,a){var s="";s+=f(a),s+="<a",a.a={"data-nb":new yr.scalarAttr("toggler")},a.s="a",e.f("f6",t,r,i,a,yr.object2nodeset(function(){var e={};return e.name="toggler",e.size=yr.nodeset2data(d("size",t,[])),e}()));var u=a.a.class;if(a.a.class=u?u.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=e.a(e,0,e.s(C,t),"nb-main-attrs",a),l("checked",t)){u=a.a.class;a.a.class=u?u.addscalar(" _nb-is-checked"):new yr.scalarAttr(" _nb-is-checked")}if(l("tabindex",t)&&!l("disabled",t)&&(a.a.tabindex=new yr.scalarAttr(c("tabindex",t))),l("disabled",t)){u=a.a.class;a.a.class=u?u.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled")}s+=f(a),s+='<label class="_nb-toggler-label">',s+="<input",a.a={type:new yr.scalarAttr("checkbox"),class:new yr.scalarAttr("_nb-toggler-checkbox")},a.s="input";for(var h=e.s(T,t),p=0,m=h.length;p<m;p++){var v=h[p];a.a[v.name]=new yr.scalarAttr(o(e.s(C,v)))}return l("name",t)&&(a.a.name=new yr.scalarAttr(c("name",t))),l("checked",t)&&(a.a.checked=new yr.scalarAttr("checked")),l("disabled",t)&&(a.a.disabled=new yr.scalarAttr("disabled")),s+=f(a),s+="",s+="</label>",s+='<span class="_nb-toggler-container">',s+='<span class="_nb-toggler-sticker _nb-toggler-left-sticker">',s+='<span class="_nb-toggler-text">',s+=n(d("leftText",t,[])),s+="</span>",s+="</span>",s+='<span class="_nb-toggler-sticker _nb-toggler-right-sticker">',s+='<span class="_nb-toggler-text">',s+=n(d("rightText",t,[])),s+="</span>",s+="</span>",s+="</span>",s+='<span class="_nb-toggler-knob"></span>',s+="</a>"},h.t57.j=[0,"toggler"],h.t57.a=0,h.t58=function(e,t,n,r,i){var a="";return a+=f(i),a+="<div",i.a={class:new yr.scalarAttr("icon-start-play icon-start-play_"+o(d("size",t,[])))},i.s="div",a+=e.a(e,0,e.s(C,t),"nb-main-attrs",i),a+=f(i),a+=e.f("f7",t,n,r,i,yr.object2nodeset(function(){var e={};return e.icon="start-play",e.size=yr.nodeset2data(d("size",t,[])),e.class="nb-icon_start-play nb-icon_size_"+o(d("size",t,[]))+" icon-start-play__icon",e}())),a+="</div>"},h.t58.j=[0,"icon-start-play"],h.t58.a=0,h.t59=function(e,n,r,i,a){var s="";if(s+=f(a),s+="<div",a.a={class:new yr.scalarAttr("nb-icon-resource _init nb-icon-resource_size-"+o(d("size",n,[])))},a.s="div",l("clickable",n)){var u=a.a.class;a.a.class=u?u.addscalar(" nb-icon-resource_clickable"):new yr.scalarAttr(" nb-icon-resource_clickable")}if(t("cover",d("image-sizing",n,[]))){u=a.a.class;a.a.class=u?u.addscalar(" nb-icon-resource_cover"):new yr.scalarAttr(" nb-icon-resource_cover")}if(l("preview",n)&&l("static",n)){u=a.a.class;a.a.class=u?u.addscalar(" nb-icon-resource_loaded-preview"):new yr.scalarAttr(" nb-icon-resource_loaded-preview")}return a.a["data-nb"]=new yr.scalarAttr("icon-resource"),a.a["data-params"]=new yr.scalarAttr(yr.externals.json(e.s(C,n))),s+=e.a(e,0,e.s(C,n),"nb-main-attrs",a),s+=f(a),s+="<div",a.a={class:new yr.scalarAttr("nb-icon-resource__wrap")},a.s="div",t("video-stub",d("preview",n,[]))?s+=e.a(e,0,e.s(C,n),"nb-icon-resource-video-stub",a):(s+=e.a(e,0,e.s(C,n),"nb-icon-resource-icon",a),e.f("f43",n,r,i)&&(s+=e.a(e,0,e.s(C,n),"nb-icon-resource-preview",a))),s+=f(a),s+="</div>",s+="</div>"},h.t59.j=Pe,h.t59.a=0,h.t60=function(e,n,r,i,o){var a="";if(a+=f(o),a+="<div",o.a={class:new yr.scalarAttr("nb-icon-resource__image nb-icon-resource__image_preview")},o.s="div",t("document",d("type",n,[]))){var s=o.a.class;o.a.class=s?s.addscalar(" nb-icon-resource__image_document"):new yr.scalarAttr(" nb-icon-resource__image_document")}if(t("dark",d("theme",n,[]))){s=o.a.class;o.a.class=s?s.addscalar(" nb-icon-resource__image_no-outline"):new yr.scalarAttr(" nb-icon-resource__image_no-outline")}if(l("icon-video",n)){s=o.a.class;o.a.class=s?s.addscalar(" nb-icon-resource__image_video"):new yr.scalarAttr(" nb-icon-resource__image_video"),a+=f(o),a+=e.f("f41",n,r,i,o,yr.object2nodeset(function(){var e={};return e.class="nb-icon-resource__icon-start-play",e.size=yr.nodeset2data(d("size-icon-video",n,[])),e}()))}return a+=f(o),a+=e.f("f40",n,r,i,o,(function(){var e={};return e.class="nb-icon-resource__public",e.published=yr.nodeset2data(d("published",n,[])),e})()),a+=e.a(e,0,e.s(C,n),"nb-icon-resource-image",o),a+="</div>"},h.t60.j=Pe,h.t60.a=0,h.t61=function(e,t,n,r,i){var a="";return a+=f(i),a+="<img",i.a={},i.s="img",i.a.class=new yr.scalarAttr("nb-icon-resource__img nb-icon-resource__img_size-"+o(d("size",t,[]))+" js-icon-preview"),i.a["data-src"]=new yr.scalarAttr(c("preview",t)),i.a.src=new yr.scalarAttr("data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="),a+=f(i),a+=""},h.t61.j=Pe,h.t61.a=0,h.t62=function(e,t,n,r,i){var o="";return o+=f(i),o+='<div class="nb-icon-resource__img js-cover-preview">',o+="<img",i.a={class:new yr.scalarAttr("nb-icon-resource__img-fake js-icon-preview")},i.s="img",i.a["data-src"]=new yr.scalarAttr(c("preview",t)),i.a.src=new yr.scalarAttr("data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="),o+=f(i),o+="",o+="</div>"},h.t62.j=De,h.t62.a=0,h.t63=function(e,t,n,r,i){var a="";return a+=f(i),a+="<img",i.a={},i.s="img",i.a.class=new yr.scalarAttr("nb-icon-resource__img nb-icon-resource__img_size-"+o(d("size",t,[]))),i.a.src=new yr.scalarAttr(c("preview",t)),a+=f(i),a+=""},h.t63.j=Ie,h.t63.a=0,h.t64=function(e,t,n,r,i){var o="";return o+=f(i),o+='<div class="nb-icon-resource__video-stub">',l("icon-video",t)&&(o+=e.f("f41",t,n,r,i,yr.object2nodeset(function(){var e={};return e.class="nb-icon-resource__icon-start-play",e.size=yr.nodeset2data(d("size-icon-video",t,[])),e}()))),o+=e.f("f40",t,n,r,i,(function(){var e={};return e.class="nb-icon-resource__public",e.published=yr.nodeset2data(d("published",t,[])),e})()),o+="</div>"},h.t64.j=Pe,h.t64.a=0,h.t65=function(e,n,r,i,a){var s="",u="";t("xxl",d("size",n,[]))?u+="xl":u+=c("size",n);var l=u;if(s+=f(a),s+="<div",a.a={class:new yr.scalarAttr("nb-icon-resource__image nb-icon-resource__image_icon file-icon file-icon_size_"+l)},a.s="div",t("dir",d("type",n,[])))if(t("dir",d("icon",n,[]))){h=a.a.class;a.a.class=h?h.addscalar(" file-icon_dir"):new yr.scalarAttr(" file-icon_dir")}else{var h=a.a.class;a.a.class=h?h.addscalar(" file-icon_dir_"+o(d("icon",n,[]))):new yr.scalarAttr(" file-icon_dir_"+o(d("icon",n,[])))}else{h=a.a.class;a.a.class=h?h.addscalar(" file-icon_"+o(d("icon",n,[]))+" nb-icon-resource__image_file"):new yr.scalarAttr(" file-icon_"+o(d("icon",n,[]))+" nb-icon-resource__image_file")}return s+=f(a),e.f("f43",n,r,i)||(s+=e.f("f40",n,r,i,a,(function(){var e={};return e.class="nb-icon-resource__public",e.published=yr.nodeset2data(d("published",n,[])),e})())),s+="</div>"},h.t65.j=Ae,h.t65.a=0,h.t66=function(e,t,n,r,i){var a="";if(a+=f(i),a+="<div",i.a={class:new yr.scalarAttr("nb-loader-thin nb-loader-thin_"+o(d("size",t,[]))+" "),"data-nb":new yr.scalarAttr("loader-thin")},i.s="div",a+=e.a(e,0,e.s(C,t),"nb-main-attrs",i),l("centered",t)){var s=i.a.class;i.a.class=s?s.addscalar(" nb-loader-thin_centered"):new yr.scalarAttr(" nb-loader-thin_centered")}return a+=f(i),a+='<div class="nb-loader-thin__spinner">',a+='<div class="nb-loader-thin__circle"></div>',a+="</div>",l("content",t)&&(a+='<span class="nb-loader-thin__text js-text">',a+=c("content",t),a+="</span>"),a+="</div>"},h.t66.j=[0,"loader-thin"],h.t66.a=0,h.t67=function(e,t,n,i,o){var a="",s=e.f("f0",t,n,i,"isDocsPage"),u="";u+=f({a:{}}),r(s)?u+="Загрузить документы с компьютера":yr.externals.modernizr("folderupload")?u+="Загрузить файлы и папки на Яндекс.Диск":u+="Загрузить файлы на Яндекс.Диск";var c=u;(u={}).head=c;var l="";l+=e.a(e,0,e.s(C,t),"dropzone__content",{a:{}}),u.content=l,u.type="modal",u.button="false";var d=u;return a+=f(o),a+=e.f("f28",t,n,i,o,yr.object2nodeset(d)),a+=e.f("f26",t,n,i,o)},h.t67.j=se,h.t67.a=0,h.t68=function(e,n,i,o,a){var s="",u=e.f("f0",n,i,o,"isDocsPage"),c="";t("Windows",e.n(Me,yr.object2nodeset(e.v("v83",n.doc.root))))?c+="Windows":t("MacOS",e.n(Me,yr.object2nodeset(e.v("v83",n.doc.root))))&&(c+="Mac OS");var l=c;return s+=f(a),s+='<div class="dropzone__content">',l&&!r(u)&&(s+="Файлы и папки больше 2 ГБ загружайте с помощью программы для "+yr.externals.entityify(l)),s+="</div>"},h.t68.j=se,h.t68.a=0,h.t69=function(e,t,n,r,i){var o="";return o+=f(i),o+=" notifications js-prevent-deselect"},h.t69.j=[0,"notifications"],h.t69.a=0,h.t70=function(e,t,n,r,i){var o="";return o+=e.a(e,0,d("notification",t,[]),"",i)},h.t70.j=1,h.t70.a=1,h.t71=function(e,t,n,r,i){var o="";return o+=f(i),o+="<div",i.a={class:new yr.scalarAttr("notifications__item nb-island"),role:new yr.scalarAttr("alert"),"aria-live":new yr.scalarAttr("assertive")},i.s="div",o+=e.a(e,0,e.s(C,t),"notification-inner",i),o+=f(i),o+="</div>"},h.t71.j=Ne,h.t71.a=0,h.t72=function(e,t,n,r,i){var o="";return o+=e.a(e,0,e.s(C,t),"message",i)},h.t72.j=Le,h.t72.a=0,h.t73=function(e,t,n,r,i){var o="";return o+=f(i),o+="<div",i.a={class:new yr.scalarAttr("notifications__item notifications__item_trash nb-island"),role:new yr.scalarAttr("alert"),"aria-live":new yr.scalarAttr("assertive")},i.s="div",o+=e.a(e,0,e.s(C,t),"notification-inner",i),o+=f(i),o+="</div>"},h.t73.j=Fe,h.t73.a=0,h.t74=function(e,n,r,i,s){var c="",l=[],d=l=t("MacOS",e.n(Me,yr.object2nodeset(e.v("v83",n.doc.root))))?e.n(Ve,e.v("v82",n.doc.root)):t("Windows",e.n(Me,yr.object2nodeset(e.v("v83",n.doc.root))))?e.n(Ue,e.v("v82",n.doc.root)):e.n(ze,e.v("v82",n.doc.root));l="";l+=f({a:{}}),l+='<a href="'+a(yr.externals.addParamsUrl(o(d),(function(){var t={};return t.src=yr.nodeset2data(e.n(He,e.v("v82",n.doc.root))),t})()))+'" class="notifications__link" target="_blank">',t("MacOS",e.n(Me,yr.object2nodeset(e.v("v83",n.doc.root))))?l+="приложения для macOS":t("Windows",e.n(Me,yr.object2nodeset(e.v("v83",n.doc.root))))?l+="программы для Windows":l+="программы для Linux";var h=l+="</a>";return c+=f(s),c+='<div class="notifications__item notifications__item_cannot-upload-folders nb-island" role="alert" aria-live="assertive">',c+='<div class="notifications__text notifications__text_long">',c+="Ваш браузер не поддерживает загрузку папок. Загрузите файлы по одному или с помощью "+u(h),c+="</div>",c+="</div>"},h.t74.j=Be,h.t74.a=0,h.t75=function(e,t,r,o,a){var s="";return s+=f(a),s+='<a href="'+i(d("link",t,[]))+'" class="notifications__item nb-island" role="alert" aria-live="assertive">',s+="<span",a.a={class:new yr.scalarAttr("notifications__text js-message")},a.s="span",a.a["data-metrika-click"]=new yr.scalarAttr("count"),a.a["data-metrika-params"]=new yr.scalarAttr(c("metrika",t)),s+=f(a),s+="<b>"+n(d("title",t,[]))+"</b>",s+=" ",s+=n(d("text",t,[])),s+="</span>",s+="</a>"},h.t75.j=We,h.t75.a=0,h.t76=function(e,t,n,r,i){var o="";return o+=f(i),o+="<div",i.a={class:new yr.scalarAttr("notifications__text js-message")},i.s="div",o+=e.a(e,0,e.s(C,t),"message",i),o+=f(i),o+="</div>"},h.t76.j=Ne,h.t76.a=0,h.t77=function(e,t,n,r,i){var a="";return a+=f(i),a+="Файл «"+yr.externals.entityify(o(e.s(qe,t)))+"» перемещен в «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s($e,t)))))+"»"},h.t77.j=Ge,h.t77.a=0,h.t78=function(e,t,n,r,i){var a="";return a+=f(i),a+="Папка «"+yr.externals.entityify(o(e.s(qe,t)))+"» перемещена в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s($e,t)))))+"»"},h.t78.j=Ke,h.t78.a=0,h.t79=function(e,t,n,r,i){var a="";return a+=f(i),a+="Перемещено "+__i18n__.i18n.convert(["1 объект",yr.externals.entityify(c("count",t))+" объект",yr.externals.entityify(c("count",t))+" объекта",yr.externals.entityify(c("count",t))+" объектов"],yr.externals.entityify(c("count",t)))+" в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s($e,t)))))+"»"},h.t79.j=Xe,h.t79.a=0,h.t80=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось переместить файл «"+yr.externals.entityify(o(e.s(Je,t)))+"» в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s($e,t)))))+"»"},h.t80.j=Ze,h.t80.a=0,h.t81=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось переместить папку «"+yr.externals.entityify(o(e.s(Je,t)))+"» в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s($e,t)))))+"»"},h.t81.j=Qe,h.t81.a=0,h.t82=function(e,t,n,r,i){var a="";return a+=f(i),a+="Перемещение файла «"+yr.externals.entityify(o(e.s(Je,t)))+"» в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s($e,t)))))+"» отменено"},h.t82.j=et,h.t82.a=0,h.t83=function(e,t,n,r,i){var a="";return a+=f(i),a+="Перемещение папки «"+yr.externals.entityify(o(e.s(Je,t)))+"» в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s($e,t)))))+"» отменено"},h.t83.j=tt,h.t83.a=0,h.t84=function(e,t,n,r,i){var o="";return o+=f(i),o+="Не удалось очистить Корзину."},h.t84.j=nt,h.t84.a=0,h.t85=function(e,t,n,r,i){var o="";return o+=f(i),o+="Корзина успешно очищена."},h.t85.j=rt,h.t85.a=0,h.t86=function(e,t,n,r,i){var a="";return a+=f(i),a+="Файл «"+yr.externals.entityify(o(e.s(Je,t)))+"» был удален"},h.t86.j=it,h.t86.a=0,h.t87=function(e,t,n,r,i){var a="";return a+=f(i),a+="Папка «"+yr.externals.entityify(o(e.s(Je,t)))+"» была удалена"},h.t87.j=ot,h.t87.a=0,h.t88=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось удалить файл «"+yr.externals.entityify(o(e.s(Je,t)))+"»"},h.t88.j=at,h.t88.a=0,h.t89=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось удалить папку «"+yr.externals.entityify(o(e.s(Je,t)))+"»"},h.t89.j=st,h.t89.a=0,h.t90=function(e,n,r,i,o){var a="";return a+=f(o),t("file",d("typeResources",n,[]))&&(a+=__i18n__.i18n.convert(["1 файл",yr.externals.entityify(c("count",n))+" файл",yr.externals.entityify(c("count",n))+" файла",yr.externals.entityify(c("count",n))+" файлов"],yr.externals.entityify(c("count",n)))+" "+__i18n__.i18n.convert(["удален","удален","удалены","удалены"],yr.externals.entityify(c("count",n)))),t("dir",d("typeResources",n,[]))&&(a+=__i18n__.i18n.convert(["одна папка",yr.externals.entityify(c("count",n))+" папка",yr.externals.entityify(c("count",n))+" папки",yr.externals.entityify(c("count",n))+" папок"],yr.externals.entityify(c("count",n)))+" "+__i18n__.i18n.convert(["удалена","удалена","удалены","удалены"],yr.externals.entityify(c("count",n)))),t("mix",d("typeResources",n,[]))&&(a+=__i18n__.i18n.convert(["1 объект",yr.externals.entityify(c("count",n))+" объект",yr.externals.entityify(c("count",n))+" объекта",yr.externals.entityify(c("count",n))+" объектов"],yr.externals.entityify(c("count",n)))+" "+__i18n__.i18n.convert(["удален","удален","удалены","удалены"],yr.externals.entityify(c("count",n)))),a},h.t90.j=ut,h.t90.a=0,h.t91=function(e,t,n,r,i){var o="";return o+=f(i),o+=yr.externals.entityify(c("nameUser",t))+" больше не является участником папки «"+yr.externals.entityify(c("nameFolder",t))+"»"},h.t91.j=ct,h.t91.a=0,h.t92=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось переименовать файл «"+yr.externals.entityify(o(e.s(Je,t)))+"»"},h.t92.j=lt,h.t92.a=0,h.t93=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось переименовать папку «"+yr.externals.entityify(o(e.s(Je,t)))+"»"},h.t93.j=dt,h.t93.a=0,h.t94=function(e,t,n,r,i){var o="";return o+=f(i),o+="Название файла не может содержать символ «/»"},h.t94.j=ft,h.t94.a=0,h.t95=function(e,t,n,r,i){var o="";return o+=f(i),o+="Название файла не может быть длиннее 255 символов"},h.t95.j=ht,h.t95.a=0,h.t96=function(e,t,n,r,i){var o="";return o+=f(i),o+="Название папки не может содержать символ «/»"},h.t96.j=pt,h.t96.a=0,h.t97=function(e,t,n,r,i){var o="";return o+=f(i),o+="Название папки не может содержать символ «/»"},h.t97.j=mt,h.t97.a=0,h.t98=function(e,t,n,r,i){var o="";return o+=f(i),o+="Название папки не может быть длиннее 255 символов"},h.t98.j=vt,h.t98.a=0,h.t99=function(e,t,n,r,i){var o="";return o+=f(i),o+="Название папки не может быть длиннее 255 символов"},h.t99.j=gt,h.t99.a=0,h.t100=function(e,t,n,r,i){var o="";return o+=f(i),o+="Папка с именем «"+yr.externals.entityify(c("nameProposed",t))+"» уже существует"},h.t100.j=yt,h.t100.a=0,h.t101=function(e,t,n,r,i){var o="";return o+=f(i),o+="Файл с именем «"+yr.externals.entityify(c("nameProposed",t))+"» уже существует"},h.t101.j=bt,h.t101.a=0,h.t102=function(e,n,i,a,u){var h="",p=d("linksHost",n.doc.root,[]),m='<a href="'+o(p)+'/client/trash" '+(r(p)?' target="_blank"':"")+' class="notifications__link" data-metrika-click="count" data-metrika-params="navigation,via notification,trash">',v=d("trash",n.doc.root,[]),g="";g+=f({a:{}}),l("count",n)&&t("file",d("typeResources",n,[]))?g+=__i18n__.i18n.convert(["1 файл",c("count",n)+" файл",c("count",n)+" файла",c("count",n)+" файлов"],c("count",n))+" "+__i18n__.i18n.convert(["перемещён","перемещён","перемещены","перемещены"],c("count",n))+" в "+m+"Корзину</a>":l("count",n)&&t("dir",d("typeResources",n,[]))?g+=__i18n__.i18n.convert(["одна папка",c("count",n)+" папка",c("count",n)+" папки",c("count",n)+" папок"],c("count",n))+" "+__i18n__.i18n.convert(["перемещена","перемещена","перемещены","перемещены"],c("count",n))+" в "+m+"Корзину</a>":l("count",n)&&t("mix",d("typeResources",n,[]))?g+=__i18n__.i18n.convert(["1 объект",c("count",n)+" объект",c("count",n)+" объекта",c("count",n)+" объектов"],c("count",n))+" "+__i18n__.i18n.convert(["перемещён","перемещён","перемещены","перемещены"],c("count",n))+" в "+m+"Корзину</a>":t("dir",e.s(Ye,n))?g+="Папка «"+yr.externals.entityify(o(e.s(Je,n)))+"» перемещена в "+m+"Корзину</a>":g+="Файл «"+yr.externals.entityify(o(e.s(Je,n)))+"» перемещён в "+m+"Корзину</a>";var y=g;h+=f(u),h+="<div>",h+=y,h+="</div>",h+="<div>",h+="<span",u.a={class:new yr.scalarAttr("notifications__link notifications__link_action")},u.s="span";var b=u.a.class;return u.a.class=b?b.addscalar(" _link ns-action"):new yr.scalarAttr(" _link ns-action"),u.a["data-click-action"]=new yr.scalarAttr("trash.clean"),u.a["data-metrika-click"]=new yr.scalarAttr("count"),u.a["data-metrika-params"]=new yr.scalarAttr("actions,with resources,empty trash,via notification"),h+=f(u),h+="Очистить Корзину",h+="</span>",o(v)>0&&(h+=" ("+s(yr.externals.formatSpace(o(v),"length",3))+")"),h+="</div>"},h.t102.j=Fe,h.t102.a=0,h.t103=function(e,t,n,r,i){var a="";return a+=f(i),a+="Файл «"+yr.externals.entityify(o(e.s(qe,t)))+"» восстановлен"},h.t103.j=_t,h.t103.a=0,h.t104=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось восстановить файл «"+yr.externals.entityify(o(e.s(Je,t)))+"»"},h.t104.j=Ot,h.t104.a=0,h.t105=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось восстановить файл «"+yr.externals.entityify(o(e.s(Je,t)))+"». "+yr.externals.entityify(c("reason",t))},h.t105.j=wt,h.t105.a=0,h.t106=function(e,t,n,r,i){var a="";return a+=f(i),a+="Папка «"+yr.externals.entityify(o(e.s(qe,t)))+"» восстановлена"},h.t106.j=St,h.t106.a=0,h.t107=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось восстановить папку «"+yr.externals.entityify(o(e.s(Je,t)))+"»"},h.t107.j=Ct,h.t107.a=0,h.t108=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось восстановить папку «"+yr.externals.entityify(o(e.s(Je,t)))+"». "+yr.externals.entityify(c("reason",t))},h.t108.j=xt,h.t108.a=0,h.t109=function(e,n,r,i,o){var a="";return a+=f(o),t("file",d("typeResources",n,[]))&&(a+=__i18n__.i18n.convert(["1 файл",yr.externals.entityify(c("count",n))+" файл",yr.externals.entityify(c("count",n))+" файла",yr.externals.entityify(c("count",n))+" файлов"],yr.externals.entityify(c("count",n)))+" "+__i18n__.i18n.convert(["восстановлен","восстановлен","восстановлены","восстановлены"],yr.externals.entityify(c("count",n)))),t("dir",d("typeResources",n,[]))&&(a+=__i18n__.i18n.convert(["одна папка",yr.externals.entityify(c("count",n))+" папка",yr.externals.entityify(c("count",n))+" папки",yr.externals.entityify(c("count",n))+" папок"],yr.externals.entityify(c("count",n)))+" "+__i18n__.i18n.convert(["восстановлена","восстановлена","восстановлены","восстановлены"],yr.externals.entityify(c("count",n)))),t("mix",d("typeResources",n,[]))&&(a+=__i18n__.i18n.convert(["1 объект",yr.externals.entityify(c("count",n))+" объект",yr.externals.entityify(c("count",n))+" объекта",yr.externals.entityify(c("count",n))+" объектов"],yr.externals.entityify(c("count",n)))+" "+__i18n__.i18n.convert(["восстановлен","восстановлен","восстановлены","восстановлены"],yr.externals.entityify(c("count",n)))),a},h.t109.j=kt,h.t109.a=0,h.t110=function(e,t,n,r,i){var a="";return a+=f(i),a+="Файл «"+yr.externals.entityify(o(e.s(qe,t)))+"» скопирован в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s($e,t)))))+"»"},h.t110.j=Tt,h.t110.a=0,h.t111=function(e,t,n,r,i){var a="";return a+=f(i),a+="Папка «"+yr.externals.entityify(o(e.s(qe,t)))+"» скопирована в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s($e,t)))))+"»"},h.t111.j=jt,h.t111.a=0,h.t112=function(e,t,n,r,i){var a="";return a+=f(i),a+="Скопировано "+__i18n__.i18n.convert(["1 объект",yr.externals.entityify(c("count",t))+" объект",yr.externals.entityify(c("count",t))+" объекта",yr.externals.entityify(c("count",t))+" объектов"],yr.externals.entityify(c("count",t)))+" в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s($e,t)))))+"»"},h.t112.j=Rt,h.t112.a=0,h.t113=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось скопировать файл «"+yr.externals.entityify(o(e.s(Je,t)))+"» в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s($e,t)))))+"»"},h.t113.j=Pt,h.t113.a=0,h.t114=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось скопировать папку «"+yr.externals.entityify(o(e.s(Je,t)))+"» в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s($e,t)))))+"»"},h.t114.j=Dt,h.t114.a=0,h.t115=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось скопировать файл «"+yr.externals.entityify(o(e.s(Je,t)))+"» в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s($e,t)))))+"». "+yr.externals.entityify(c("reason",t))},h.t115.j=It,h.t115.a=0,h.t116=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось скопировать папку «"+yr.externals.entityify(o(e.s(Je,t)))+"» в папку «"+yr.externals.entityify(o(e.n(g,yr.externals.last(e.s($e,t)))))+"». "+yr.externals.entityify(c("reason",t))},h.t116.j=At,h.t116.a=0,h.t117=function(e,t,n,r,i){var o="";return o+=f(i),o+="Недостаточно свободного места."},h.t117.j=Mt,h.t117.a=0,h.t118=function(e,t,n,r,i){var o="";return o+=f(i),o+="Папка с именем «"+yr.externals.entityify(c("nameFolderDst",t))+"» уже существует"},h.t118.j=Nt,h.t118.a=0,h.t119=function(e,t,n,r,i){var o="";return o+=f(i),o+="Не удалось создать папку «"+yr.externals.entityify(c("nameFolderDst",t))+"»"},h.t119.j=Lt,h.t119.a=0,h.t120=function(e,t,n,r,a){var c="",l="";l+=f({a:{}}),l+='<a class="Link Link_view_default" href="/client'+i(e.s(Bt,t))+'">',l+=s(yr.externals.entityify(o(e.s(qe,t))));var d=l+="</a>";return c+=f(a),c+="Вы создали папку "+u(d)},h.t120.j=Ft,h.t120.a=0,h.t121=function(e,t,n,r,a){var l="",d="";d+=f({a:{}}),d+='<a class="Link Link_view_default" href="/client'+i(e.s(Bt,t))+'">',d+=s(yr.externals.entityify(o(e.s(qe,t))));var h=d+="</a>";return l+=f(a),l+="Пользователь "+c("committer",t)+" создал папку "+u(h)},h.t121.j=Ut,h.t121.a=0,h.t122=function(e,t,n,r,i){var o="";return o+=f(i),o+="Файл с именем «"+yr.externals.entityify(c("nameDst",t))+"» уже существует"},h.t122.j=zt,h.t122.a=0,h.t123=function(e,t,n,r,i){var o="";return o+=f(i),o+="Не удалось загрузить файл «"+yr.externals.entityify(c("nameDst",t))+"»"},h.t123.j=Vt,h.t123.a=0,h.t124=function(e,t,n,r,i){var a="";return a+=f(i),a+="Публичная ссылка на файл «"+yr.externals.entityify(o(e.s(Je,t)))+"» удалена"},h.t124.j=Ht,h.t124.a=0,h.t125=function(e,t,n,r,i){var a="";return a+=f(i),a+="Публичная ссылка на папку «"+yr.externals.entityify(o(e.s(Je,t)))+"» удалена"},h.t125.j=Wt,h.t125.a=0,h.t126=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось опубликовать файл «"+yr.externals.entityify(o(e.s(Je,t)))+"»"},h.t126.j=Gt,h.t126.a=0,h.t127=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось опубликовать папку «"+yr.externals.entityify(o(e.s(Je,t)))+"»"},h.t127.j=qt,h.t127.a=0,h.t128=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось опубликовать файл «"+yr.externals.entityify(o(e.s(Je,t)))+"»",a+=". ",a+="На вашем Диске закончилось место"},h.t128.j=$t,h.t128.a=0,h.t129=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось опубликовать папку «"+yr.externals.entityify(o(e.s(Je,t)))+"»",a+=". ",a+="На вашем Диске закончилось место"},h.t129.j=Yt,h.t129.a=0,h.t130=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось удалить публичную ссылку на файл «"+yr.externals.entityify(o(e.s(Je,t)))+"»"},h.t130.j=Kt,h.t130.a=0,h.t131=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось удалить публичную ссылку на папку «"+yr.externals.entityify(o(e.s(Je,t)))+"»"},h.t131.j=Xt,h.t131.a=0,h.t132=function(e,t,n,r,i){var a="";return a+=f(i),a+="Приглашение в папку «"+yr.externals.entityify(o(e.s(Jt,t)))+"» принято"},h.t132.j=Zt,h.t132.a=0,h.t133=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось принять приглашение в папку «"+yr.externals.entityify(o(e.s(Jt,t)))+"»"},h.t133.j=Qt,h.t133.a=0,h.t134=function(e,t,n,r,i){var o="";return o+=f(i),o+="Ваше приглашение в папку «"+yr.externals.entityify(c("folderName",t))+"» было принято. "+yr.externals.entityify(c("userName",t))+" теперь имеет доступ к файлам в ней."},h.t134.j=en,h.t134.a=0,h.t135=function(e,t,n,r,i){var a="";return a+=f(i),a+="Приглашение в папку «"+yr.externals.entityify(o(e.s(Jt,t)))+"» отклонено"},h.t135.j=tn,h.t135.a=0,h.t136=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось отклонить приглашение в папку «"+yr.externals.entityify(o(e.s(Jt,t)))+"»"},h.t136.j=nn,h.t136.a=0,h.t137=function(e,t,n,r,i){var o="";return o+=f(i),o+="Владелец закрыл доступ к папке «"+yr.externals.entityify(c("nameFolder",t))+"». Она будет удалена с вашего Диска."},h.t137.j=rn,h.t137.a=0,h.t138=function(e,t,n,r,i){var o="";return o+=f(i),o+="Владелец закрыл доступ к папке «"+yr.externals.entityify(c("nameFolder",t))+"». Она будет удалена с вашего Диска."},h.t138.j=on,h.t138.a=0,h.t139=function(e,t,n,r,i){var o="";return o+=f(i),o+="Права доступа к папке «"+yr.externals.entityify(c("nameFolder",t))+"» изменились: теперь у вас есть полный доступ."},h.t139.j=an,h.t139.a=0,h.t140=function(e,t,n,r,i){var o="";return o+=f(i),o+="Права доступа к папке «"+yr.externals.entityify(c("nameFolder",t))+"» изменились: вы можете только просматривать файлы."},h.t140.j=sn,h.t140.a=0,h.t141=function(e,t,n,r,i){var o="";return o+=f(i),o+="Невозможно выполнить операцию. Файл доступен только для просмотра и скачивания."},h.t141.j=un,h.t141.a=0,h.t142=function(e,t,r,i,o){var a="";return a+=f(o),a+=n(d("reasonText",t,[]))},h.t142.j=cn,h.t142.a=0,h.t143=function(e,t,r,i,o){var a="";return a+=f(o),a+=n(d("reasonText",t,[])),a+="<br/>",a+=n(d("reasonTextAux",t,[]))},h.t143.j=ln,h.t143.a=0,h.t144=function(e,t,n,r,i){var o="";return o+=f(i),o+="Не удалось создать альбом"},h.t144.j=dn,h.t144.a=0,h.t145=function(e,t,n,r,i){var a="",s="";s+='<a class="notifications__link" href="'+o(d("url",t,[]))+'">',s+=yr.externals.entityify(c("name",t));var u=s+="</a>";return a+=f(i),a+='<div class="notifications__item notifications__item_trash nb-island" role="alert" aria-live="assertive">',a+='<div class="notifications__text js-message">',a+="Вы создали альбом «"+u+"»",a+="</div>",a+="</div>"},h.t145.j=fn,h.t145.a=0,h.t146=function(e,t,n,r,i){var o="";return o+=f(i),l("title",t)?o+="Альбом «"+yr.externals.entityify(c("title",t))+"» был удален":o+="Альбом был удален",o},h.t146.j=hn,h.t146.a=0,h.t147=function(e,t,n,r,i){var o="";return o+=f(i),l("title",t)?o+="Не удалось удалить альбом «"+yr.externals.entityify(c("title",t))+"»":o+="Не получилось удалить альбом",o},h.t147.j=pn,h.t147.a=0,h.t148=function(e,t,n,r,i){var o="";return o+=f(i),o+="Не удалось отключить группировку фото по людям"},h.t148.j=mn,h.t148.a=0,h.t149=function(e,t,n,r,i){var a="";return a+=f(i),a+="Опубликован альбом «"+yr.externals.entityify(o(e.s(gn,t)))+"»"},h.t149.j=vn,h.t149.a=0,h.t150=function(e,t,n,r,i){var a="";return a+=f(i),a+="Теперь альбом «"+yr.externals.entityify(o(e.s(gn,t)))+"» виден только вам"},h.t150.j=yn,h.t150.a=0,h.t151=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось опубликовать альбом «"+yr.externals.entityify(o(e.s(gn,t)))+"»"},h.t151.j=bn,h.t151.a=0,h.t152=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось удалить публичную ссылку на альбом «"+yr.externals.entityify(o(e.s(gn,t)))+"»"},h.t152.j=_n,h.t152.a=0,h.t153=function(e,n,i,a,l){var h="",p="",m={a:{}};p+=f(m),p+="<a",m.a={href:new yr.scalarAttr("/client/albums/"+o(e.s(Bt,n))),class:new yr.scalarAttr("Link Link_view_default")},m.s="a",m.a["data-metrika-click"]=new yr.scalarAttr("count"),m.a["data-metrika-params"]=new yr.scalarAttr("navigation,via notification,albums"),p+=f(m),p+=s(yr.externals.entityify(yr.externals.entityify(o(e.s(wn,n)))));var v=p+="</a>";return h+=f(l),t("half",d("typeAddition",n,[]))?r(e.s(wn,n))?h+=yr.externals.capitalize(u(__i18n__.i18n.convert(["один новый файл",c("count",n)+" новый файл",c("count",n)+" новых файла",c("count",n)+" новых файлов"],c("count",n))+" "+__i18n__.i18n.convert(["добавлен","добавлен","добавлены","добавлено"],c("count",n))+" в альбом «"+u(v)+"»")):h+=yr.externals.capitalize(u(__i18n__.i18n.convert(["один новый файл",c("count",n)+" новый файл",c("count",n)+" новых файла",c("count",n)+" новых файлов"],c("count",n))+" "+__i18n__.i18n.convert(["добавлен","добавлен","добавлены","добавлено"],c("count",n))+" в альбом")):t(1,d("count",n,[]))?r(e.s(wn,n))?h+=yr.externals.capitalize(u("Файл добавлен в альбом «"+u(v)+"»")):h+=yr.externals.capitalize(u("Файл добавлен в альбом")):r(e.s(wn,n))?h+=yr.externals.capitalize(u(__i18n__.i18n.convert(["1 файл",c("count",n)+" файл",c("count",n)+" файла",c("count",n)+" файлов"],c("count",n))+" "+__i18n__.i18n.convert(["добавлен","добавлен","добавлены","добавлено"],c("count",n))+" в альбом «"+u(v)+"»")):h+=yr.externals.capitalize(u(__i18n__.i18n.convert(["1 файл",c("count",n)+" файл",c("count",n)+" файла",c("count",n)+" файлов"],c("count",n))+" "+__i18n__.i18n.convert(["добавлен","добавлен","добавлены","добавлено"],c("count",n))+" в альбом")),h},h.t153.j=On,h.t153.a=0,h.t154=function(e,n,i,a,s){var u="";return u+=f(s),t("none",d("typeAddition",n,[]))?u+="Выбранные файлы уже находятся в альбоме":r(e.s(wn,n))?u+="Не удалось добавить "+__i18n__.i18n.convert(["1 файл",yr.externals.entityify(c("count",n))+" файл",yr.externals.entityify(c("count",n))+" файла",yr.externals.entityify(c("count",n))+" файлов"],yr.externals.entityify(c("count",n)))+" в альбом «"+yr.externals.entityify(o(e.s(wn,n)))+"»":u+="Не удалось добавить "+__i18n__.i18n.convert(["1 файл",yr.externals.entityify(c("count",n))+" файл",yr.externals.entityify(c("count",n))+" файла",yr.externals.entityify(c("count",n))+" файлов"],yr.externals.entityify(c("count",n)))+" в альбом",u},h.t154.j=En,h.t154.a=0,h.t155=function(e,t,n,r,i){var o="";return o+=f(i),o+="Файл убран из альбома"},h.t155.j=Sn,h.t155.a=0,h.t156=function(e,t,n,r,i){var o="";return o+=f(i),o+=__i18n__.i18n.convert(["1 файл",yr.externals.entityify(c("count",t))+" файл",yr.externals.entityify(c("count",t))+" файла",yr.externals.entityify(c("count",t))+" файлов"],yr.externals.entityify(c("count",t)))+" "+__i18n__.i18n.convert(["убран","убран","убрано","убрано"],yr.externals.entityify(c("count",t)))+" из альбома"},h.t156.j=Cn,h.t156.a=0,h.t157=function(e,t,n,r,i){var o="";return o+=f(i),o+="Не удалось удалить файл из альбома"},h.t157.j=xn,h.t157.a=0,h.t158=function(e,t,n,r,i){var o="";return o+=f(i),o+="Не удалось убрать "+__i18n__.i18n.convert(["1 файл",yr.externals.entityify(c("count",t))+" файл",yr.externals.entityify(c("count",t))+" файла",yr.externals.entityify(c("count",t))+" файлов"],yr.externals.entityify(c("count",t)))+" из альбома"},h.t158.j=kn,h.t158.a=0,h.t159=function(e,t,n,r,i){var o="";return o+=f(i),o+="Не удалось переименовать альбом"},h.t159.j=Tn,h.t159.a=0,h.t160=function(e,t,n,r,i){var o="";return o+=f(i),o+="Название альбома не может содержать символ «/»"},h.t160.j=jn,h.t160.a=0,h.t161=function(e,t,n,r,i){var o="";return o+=f(i),o+="Обложка изменена"},h.t161.j=Rn,h.t161.a=0,h.t162=function(e,t,n,r,i){var o="";return o+=f(i),o+="Не удалось изменить обложку"},h.t162.j=Pn,h.t162.a=0,h.t163=function(e,t,n,r,i){var o="";return o+=f(i),o+="Не удалось скачать файл. Попробуйте позже."},h.t163.j=Dn,h.t163.a=0,h.t164=function(e,t,n,r,i){var o="";return o+=f(i),o+="Не удалось скачать папку. Попробуйте позже."},h.t164.j=In,h.t164.a=0,h.t165=function(e,t,n,r,i){var o="";return o+=f(i),o+="Папка слишком большая. Попробуйте скачать её частями или используйте приложение Диска"},h.t165.j=An,h.t165.a=0,h.t166=function(e,t,n,r,i){var o="";return o+=f(i),o+="Не удалось скачать альбом. Попробуйте позже."},h.t166.j=Mn,h.t166.a=0,h.t167=function(e,t,n,r,i){var a="",s='<a class="notifications__link" href="'+o(d("link",t,[]))+'" target="_blank">';return a+=f(i),a+='<div class="notifications__item notifications__item_scroll-limit nb-island" role="alert" aria-live="assertive">',a+='<div class="notifications__text notifications__text_long">',a+="Показаны не все фотографии. Ваш браузер не поддерживает отображение большого количества фото. "+s+"Установите Яндекс.Браузер</a>, чтобы увидеть больше",a+="</div>",a+="</div>"},h.t167.j=Nn,h.t167.a=0,h.t168=function(e,t,r,i,o){var a="";return a+=f(o),a+=n(d("reason",t,[]))},h.t168.j=Ln,h.t168.a=0,h.t169=function(e,t,n,r,i){var o="";return o+=f(i),o+="Фото скрыто из альбома"},h.t169.j=Fn,h.t169.a=0,h.t170=function(e,t,n,r,i){var o="";return o+=f(i),o+=s(yr.externals.toLowerCase(u(__i18n__.i18n.convert([yr.externals.entityify(c("count",t))+" фото",yr.externals.entityify(c("count",t))+" фото",yr.externals.entityify(c("count",t))+" фото",yr.externals.entityify(c("count",t))+" фото"],yr.externals.entityify(c("count",t)))+" скрыто из альбома")))},h.t170.j=Bn,h.t170.a=0,h.t171=function(e,t,n,r,i){var o="";return o+=f(i),o+="Не удалось скрыть фото из альбома"},h.t171.j=Un,h.t171.a=0,h.t172=function(e,t,n,r,i){var o="";return o+=f(i),o+="Не удалось скрыть "+__i18n__.i18n.convert([yr.externals.entityify(c("count",t))+" фото",yr.externals.entityify(c("count",t))+" фото",yr.externals.entityify(c("count",t))+" фото",yr.externals.entityify(c("count",t))+" фото"],yr.externals.entityify(c("count",t)))+" из альбома"},h.t172.j=zn,h.t172.a=0,h.t173=function(e,t,n,r,i){var o="";return o+=f(i),o+="Некоторые фото нельзя убрать из альбома"},h.t173.j=Vn,h.t173.a=0,h.t174=function(e,t,n,r,i){var o="";return o+=f(i),o+="Ссылка скопирована"},h.t174.j=Hn,h.t174.a=0,h.t175=function(e,t,n,r,i){var o="";return o+=f(i),o+="Не удалось объединить альбомы"},h.t175.j=Wn,h.t175.a=0,h.t176=function(e,t,n,r,i){var o="";return o+=f(i),o+="Альбомы объединены"},h.t176.j=Gn,h.t176.a=0,h.t177=function(e,t,n,r,i){var a="";return a+=f(i),a+="Не удалось сменить права доступа к «"+yr.externals.entityify(o(e.s(Je,t)))+"»"},h.t177.j=qn,h.t177.a=0,h.t178=function(e,t,n,r,i){var o="";return o+=f(i),o+="Не удалось открыть настройки ссылки"},h.t178.j=$n,h.t178.a=0,h.t179=function(e,t,n,r,i){var o="";return o+=f(i),o+="Не удалось сохранить настройки ссылки"},h.t179.j=Yn,h.t179.a=0,h.t180=function(e,t,n,r,i){var o="";return o+=f(i),o+="Не удалось включить тему «Поток»"},h.t180.j=Kn,h.t180.a=0,h.t181=function(e,t,r,i,o){var a="";return a+=f(o),a+=n(d("message",t,[]))},h.t181.j=Xn,h.t181.a=0,h.t182=function(e,t,n,r,i){var o="";return o+=f(i),o+='<div class="b-text b-text_center b-tree__async">',o+=e.f("f44",t,n,r,i),o+="</div>"},h.t182.j=Zn,h.t182.a=0,h.t183=function(e,t,n,i,o){var a="";return a+=f(o),a+=" b-listing_view_list b-tree__item",r(e.n(Jn,e.k("k0","tree",t.doc.root)))&&(a+=" _hidden"),a+=e.a(e,0,e.k("k0","tree",t.doc.root),"tree-root-class",o)},h.t183.j=Zn,h.t183.a=0,h.t184=function(e,t,n,r,i){var o="",a={};a.size="s",a.class="b-tree__loader";var s=a;return o+=e.a(e,0,e.k("k0","tree",t.doc.root),"tree-root",i),o+=f(i),o+=e.f("f44",t,n,r,i,yr.object2nodeset(s)),o+="<div",i.a={class:new yr.scalarAttr("b-tree__sub ns-view-container-desc")},i.s="div",o+=e.a(e,0,e.s(C,t),"ns-view-collection",i),o+=f(i),o+="</div>"},h.t184.j=Zn,h.t184.a=0,h.t185=function(e,n,o,u,l){var h="",p=yr.externals.getAlias(c("id",n)),m={};m.icon=yr.nodeset2data(d("icon",n,[])),m.type=yr.nodeset2data(d("type",n,[])),m.size="s",r(e.s(Qn,n))&&(m.published=!0),m.class="b-tree__icon";var v=m;return l.a.tabindex=new yr.scalarAttr(0),l.a.role=new yr.scalarAttr("row"),h+=f(l),h+='<div class="b-tree__line"></div>',t("/disk",d("id",n,[]))||t("vd",d("type",n,[]))||(h+='<div class="b-tree__toggle b-tree__toggle_expanded_'+i(e.s(er,n))+' js-folders-toggle"></div>'),h+='<div class="b-tree__name" title="'+a(p)+'">',h+=e.f("f42",n,o,u,l,yr.object2nodeset(v)),h+=s(p),h+="</div>"},h.t185.j=Zn,h.t185.a=0,h.t186=function(n,i,o,a,s){var u="",c=d("id",i,[]),l=n.f("f0",i,o,a,"getOperationParams");var h=[0,"resourceIds",2,function(t,n,r,i){return e(t.s(C,n),c)}],p=n.n(h,l).length>0;return u+=f(s),(r(n.s(tr,i))||r(n.s(nr,i))||t("640",n.s(rr,i))||p||r(n.s(ir,i))&&r(n.n(or,l)))&&(u+=" b-tree__item_disabled_subtree js-disabled js-disabled-subtree"),r(n.n(ar,l))&&r(n.n(sr,l))&&r(n.s(ur,i))&&(u+=" b-tree__item_disabled_subtree js-disabled js-disabled-subtree"),e(d("id",i,[]),n.n(cr,l))&&r(n.n(ar,l))&&!r(n.n(lr,l))&&(u+=" b-tree__item_disabled_self js-disabled"),(t("/disk",d("id",i,[]))||t("vd",d("type",i,[]))||r(n.s(er,i)))&&(u+=" b-tree__item_expanded"),r(n.s(dr,i))&&(u+=" b-tree__item_waiting"),u},h.t186.j=Zn,h.t186.a=0,h.matcher={"":{"":["t0"],notification:["t167","t145","t75","t74","t73","t72","t71"]},"ns-view":{"*":["t1"]},"ns-build-view":{"*":["t2"]},"ns-build-view-content":{"*":["t3"]},"ns-view-add-class":{"*":["t4"],notifications:["t69","t4"],tree:["t183","t4"]},"ns-view-add-attrs":{"*":["t5"]},"ns-view-content":{"*":["t13","t11","t6"],dropzone:["t67","t13","t11","t6"],tree:["t184","t13","t11","t6"]},"ns-view-desc":{"*":["t7"]},"ns-view-collection":{"*":["t8"]},"ns-view-async-content":{"*":["t14","t12","t9"],tree:["t182","t14","t12","t9"]},"ns-view-error-content":{"*":["t10"]},"nb-main-attrs":{"*":["t15"]},"nb-main-content":{"*":["t16"]},nb:{ico:["t17"],button:["t18"],buttonLink:["t19"],buttonSpan:["t20"],buttonLabel:["t21"],buttonAttach:["t22"],popupMenu:["t23"],popup:["t26"],modalPopup:["t27"],"radio-button":["t28"],select:["t29"],checkbox:["t31"],input:["t32"],textarea:["t33"],inputSimple:["t34"],textareaSimple:["t35"],"input-group":["t36"],progress:["t37"],paranja:["t38"],island:["t39"],dropzone:["t40"],loader:["t41"],slider:["t42"],tabs:["t43"],arrow:["t46","t45","t44"],header:["t47"],user:["t48"],suggest:["t51"],toggler:["t57"],"icon-start-play":["t58"],"icon-resource":["t59"],"loader-thin":["t66"]},"nb-popup-menu-content":{popupMenu:["t24"]},"nb-popup-menu-content-item":{menu:["t25"]},"nb-select-options":{"":["t30"],select:["t30"]},"nb-user-pic":{user:["t49"]},"nb-user-name":{user:["t50"],username:["t55"],email:["t56"]},"nb-suggest":{"":["t52"],item:["t54","t53"]},"nb-icon-resource-preview":{"icon-resource":["t60"]},"nb-icon-resource-image":{"icon-resource":["t63","t62","t61"]},"nb-icon-resource-video-stub":{"icon-resource":["t64"]},"nb-icon-resource-icon":{"icon-resource":["t65"]},dropzone__content:{dropzone:["t68"]},notification:{"":["t70"]},"notification-inner":{notification:["t76"]},message:{notification:["t181","t180","t179","t178","t177","t176","t175","t174","t173","t172","t171","t170","t169","t168","t166","t165","t164","t163","t162","t161","t160","t159","t158","t157","t156","t155","t154","t153","t152","t151","t150","t149","t148","t147","t146","t144","t143","t142","t141","t140","t139","t138","t137","t136","t135","t134","t133","t132","t131","t130","t129","t128","t127","t126","t125","t124","t123","t122","t121","t120","t119","t118","t117","t116","t115","t114","t113","t112","t111","t110","t109","t108","t107","t106","t105","t104","t103","t102","t101","t100","t99","t98","t97","t96","t95","t94","t93","t92","t91","t90","t89","t88","t87","t86","t85","t84","t83","t82","t81","t80","t79","t78","t77"]},"tree-root":{tree:["t185"]},"tree-root-class":{tree:["t186"]}},h.imports=[],yr.register("common",h)})()}),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(function(e,t,n){var r;!(function(){return function e(t,n,i){function o(s,u){if(!n[s]){if(!t[s]){if(!u&&"function"==typeof r&&r)return r(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,(function(e){return o(t[s][1][e]||e)}),l,l.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}})()({1:[function(e,t,n){e(276),e(212),e(214),e(213),e(216),e(218),e(223),e(217),e(215),e(225),e(224),e(220),e(221),e(219),e(211),e(222),e(226),e(227),e(178),e(180),e(179),e(229),e(228),e(199),e(209),e(210),e(200),e(201),e(202),e(203),e(204),e(205),e(206),e(207),e(208),e(182),e(183),e(184),e(185),e(186),e(187),e(188),e(189),e(190),e(191),e(192),e(193),e(194),e(195),e(196),e(197),e(198),e(263),e(268),e(275),e(266),e(258),e(259),e(264),e(269),e(271),e(254),e(255),e(256),e(257),e(260),e(261),e(262),e(265),e(267),e(270),e(272),e(273),e(274),e(173),e(175),e(174),e(177),e(176),e(161),e(159),e(166),e(163),e(169),e(171),e(158),e(165),e(155),e(170),e(153),e(168),e(167),e(160),e(164),e(152),e(154),e(157),e(156),e(172),e(162),e(245),e(246),e(252),e(247),e(248),e(249),e(250),e(251),e(230),e(181),e(253),e(288),e(289),e(277),e(278),e(283),e(286),e(287),e(281),e(284),e(282),e(285),e(279),e(280),e(231),e(232),e(233),e(234),e(235),e(238),e(236),e(237),e(239),e(240),e(241),e(242),e(244),e(243),t.exports=e(50)},{152:152,153:153,154:154,155:155,156:156,157:157,158:158,159:159,160:160,161:161,162:162,163:163,164:164,165:165,166:166,167:167,168:168,169:169,170:170,171:171,172:172,173:173,174:174,175:175,176:176,177:177,178:178,179:179,180:180,181:181,182:182,183:183,184:184,185:185,186:186,187:187,188:188,189:189,190:190,191:191,192:192,193:193,194:194,195:195,196:196,197:197,198:198,199:199,200:200,201:201,202:202,203:203,204:204,205:205,206:206,207:207,208:208,209:209,210:210,211:211,212:212,213:213,214:214,215:215,216:216,217:217,218:218,219:219,220:220,221:221,222:222,223:223,224:224,225:225,226:226,227:227,228:228,229:229,230:230,231:231,232:232,233:233,234:234,235:235,236:236,237:237,238:238,239:239,240:240,241:241,242:242,243:243,244:244,245:245,246:246,247:247,248:248,249:249,250:250,251:251,252:252,253:253,254:254,255:255,256:256,257:257,258:258,259:259,260:260,261:261,262:262,263:263,264:264,265:265,266:266,267:267,268:268,269:269,270:270,271:271,272:272,273:273,274:274,275:275,276:276,277:277,278:278,279:279,280:280,281:281,282:282,283:283,284:284,285:285,286:286,287:287,288:288,289:289,50:50}],2:[function(e,t,n){e(290),t.exports=e(50).Array.flatMap},{290:290,50:50}],3:[function(e,t,n){e(291),t.exports=e(50).Array.includes},{291:291,50:50}],4:[function(e,t,n){e(292),t.exports=e(50).Object.entries},{292:292,50:50}],5:[function(e,t,n){e(293),t.exports=e(50).Object.getOwnPropertyDescriptors},{293:293,50:50}],6:[function(e,t,n){e(294),t.exports=e(50).Object.values},{294:294,50:50}],7:[function(e,t,n){"use strict";e(230),e(295),t.exports=e(50).Promise.finally},{230:230,295:295,50:50}],8:[function(e,t,n){e(296),t.exports=e(50).String.padEnd},{296:296,50:50}],9:[function(e,t,n){e(297),t.exports=e(50).String.padStart},{297:297,50:50}],10:[function(e,t,n){e(299),t.exports=e(50).String.trimRight},{299:299,50:50}],11:[function(e,t,n){e(298),t.exports=e(50).String.trimLeft},{298:298,50:50}],12:[function(e,t,n){e(300),t.exports=e(149).f("asyncIterator")},{149:149,300:300}],13:[function(e,t,n){e(30),t.exports=e(16).global},{16:16,30:30}],14:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],15:[function(e,t,n){var r=e(26);t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{26:26}],16:[function(e,t,n){var r=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=r)},{}],17:[function(e,t,n){var r=e(14);t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},{14:14}],18:[function(e,t,n){t.exports=!e(21)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},{21:21}],19:[function(e,t,n){var r=e(26),i=e(22).document,o=r(i)&&r(i.createElement);t.exports=function(e){return o?i.createElement(e):{}}},{22:22,26:26}],20:[function(e,t,n){var r=e(22),i=e(16),o=e(17),a=e(24),s=e(23),u=function(e,t,n){var c,l,d,f=e&u.F,h=e&u.G,p=e&u.S,m=e&u.P,v=e&u.B,g=e&u.W,y=h?i:i[t]||(i[t]={}),b=y.prototype,_=h?r:p?r[t]:(r[t]||{}).prototype;for(c in h&&(n=t),n)(l=!f&&_&&void 0!==_[c])&&s(y,c)||(d=l?_[c]:n[c],y[c]=h&&"function"!=typeof _[c]?n[c]:v&&l?o(d,r):g&&_[c]==d?(function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t})(d):m&&"function"==typeof d?o(Function.call,d):d,m&&((y.virtual||(y.virtual={}))[c]=d,e&u.R&&b&&!b[c]&&a(b,c,d)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},{16:16,17:17,22:22,23:23,24:24}],21:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],22:[function(e,t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],23:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],24:[function(e,t,n){var r=e(27),i=e(28);t.exports=e(18)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},{18:18,27:27,28:28}],25:[function(e,t,n){t.exports=!e(18)&&!e(21)((function(){return 7!=Object.defineProperty(e(19)("div"),"a",{get:function(){return 7}}).a}))},{18:18,19:19,21:21}],26:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],27:[function(e,t,n){var r=e(15),i=e(25),o=e(29),a=Object.defineProperty;n.f=e(18)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{15:15,18:18,25:25,29:29}],28:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],29:[function(e,t,n){var r=e(26);t.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{26:26}],30:[function(e,t,n){var r=e(20);r(r.G,{global:e(22)})},{20:20,22:22}],31:[function(e,t,n){arguments[4][14][0].apply(n,arguments)},{14:14}],32:[function(e,t,n){var r=e(46);t.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},{46:46}],33:[function(e,t,n){var r=e(150)("unscopables"),i=Array.prototype;void 0==i[r]&&e(70)(i,r,{}),t.exports=function(e){i[r][e]=!0}},{150:150,70:70}],34:[function(e,t,n){"use strict";var r=e(127)(!0);t.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},{127:127}],35:[function(e,t,n){t.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},{}],36:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{15:15,79:79}],37:[function(e,t,n){"use strict";var r=e(140),i=e(135),o=e(139);t.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),s=i(e,a),u=i(t,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:i(c,a))-u,a-s),d=1;for(u<s&&s<u+l&&(d=-1,u+=l-1,s+=l-1);l-- >0;)u in n?n[s]=n[u]:delete n[s],s+=d,u+=d;return n}},{135:135,139:139,140:140}],38:[function(e,t,n){"use strict";var r=e(140),i=e(135),o=e(139);t.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)t[s++]=e;return t}},{135:135,139:139,140:140}],39:[function(e,t,n){var r=e(138),i=e(139),o=e(135);t.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},{135:135,138:138,139:139}],40:[function(e,t,n){var r=e(52),i=e(75),o=e(140),a=e(139),s=e(43);t.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,d=6==e,f=5==e||d,h=t||s;return function(t,s,p){for(var m,v,g=o(t),y=i(g),b=r(s,p,3),_=a(y.length),O=0,w=n?h(t,_):u?h(t,0):void 0;_>O;O++)if((f||O in y)&&(v=b(m=y[O],O,g),e))if(n)w[O]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return O;case 2:w.push(m)}else if(l)return!1;return d?-1:c||l?l:w}}},{139:139,140:140,43:43,52:52,75:75}],41:[function(e,t,n){var r=e(31),i=e(140),o=e(75),a=e(139);t.exports=function(e,t,n,s,u){r(t);var c=i(e),l=o(c),d=a(c.length),f=u?d-1:0,h=u?-1:1;if(n<2)for(;;){if(f in l){s=l[f],f+=h;break}if(f+=h,u?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:d>f;f+=h)f in l&&(s=t(s,l[f],f,c));return s}},{139:139,140:140,31:31,75:75}],42:[function(e,t,n){var r=e(79),i=e(77),o=e(150)("species");t.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},{150:150,77:77,79:79}],43:[function(e,t,n){var r=e(42);t.exports=function(e,t){return new(r(e))(t)}},{42:42}],44:[function(e,t,n){"use strict";var r=e(31),i=e(79),o=e(74),a=[].slice,s={};t.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),u=function(){var r=n.concat(a.call(arguments));return this instanceof u?(function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)})(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(u.prototype=t.prototype),u}},{31:31,74:74,79:79}],45:[function(e,t,n){var r=e(46),i=e(150)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=(function(e,t){try{return e[t]}catch(e){}})(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},{150:150,46:46}],46:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],47:[function(e,t,n){"use strict";var r=e(97).f,i=e(96),o=e(115),a=e(52),s=e(35),u=e(66),c=e(83),l=e(85),d=e(121),f=e(56),h=e(92).fastKey,p=e(147),m=f?"_s":"size",v=function(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};t.exports={getConstructor:function(e,t,n,c){var l=e((function(e,r){s(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=r&&u(r,n,e[c],e)}));return o(l.prototype,{clear:function(){for(var e=p(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=p(this,t),r=v(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(e){p(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!v(p(this,t),e)}}),f&&r(l.prototype,"size",{get:function(){return p(this,t)[m]}}),l},def:function(e,t,n){var r,i,o=v(e,t);return o?o.v=n:(e._l=o={i:i=h(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[m]++,"F"!==i&&(e._i[i]=o)),e},getEntry:v,setStrong:function(e,t,n){c(e,t,(function(e,n){this._t=p(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1))}),n?"entries":"values",!n,!0),d(t)}}},{115:115,121:121,147:147,35:35,52:52,56:56,66:66,83:83,85:85,92:92,96:96,97:97}],48:[function(e,t,n){"use strict";var r=e(115),i=e(92).getWeak,o=e(36),a=e(79),s=e(35),u=e(66),c=e(40),l=e(69),d=e(147),f=c(5),h=c(6),p=0,m=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},g=function(e,t){return f(e.a,(function(e){return e[0]===t}))};v.prototype={get:function(e){var t=g(this,e);if(t)return t[1]},has:function(e){return!!g(this,e)},set:function(e,t){var n=g(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=h(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(e,t,n,o){var c=e((function(e,r){s(e,c,t,"_i"),e._t=t,e._i=p++,e._l=void 0,void 0!=r&&u(r,n,e[o],e)}));return r(c.prototype,{delete:function(e){if(!a(e))return!1;var n=i(e);return!0===n?m(d(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=i(e);return!0===n?m(d(this,t)).has(e):n&&l(n,this._i)}}),c},def:function(e,t,n){var r=i(o(t),!0);return!0===r?m(e).set(t,n):r[e._i]=n,e},ufstore:m}},{115:115,147:147,35:35,36:36,40:40,66:66,69:69,79:79,92:92}],49:[function(e,t,n){"use strict";var r=e(68),i=e(60),o=e(116),a=e(115),s=e(92),u=e(66),c=e(35),l=e(79),d=e(62),f=e(84),h=e(122),p=e(73);t.exports=function(e,t,n,m,v,g){var y=r[e],b=y,_=v?"set":"add",O=b&&b.prototype,w={},E=function(e){var t=O[e];o(O,e,"delete"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(g||O.forEach&&!d((function(){(new b).entries().next()})))){var S=new b,C=S[_](g?{}:-0,1)!=S,x=d((function(){S.has(1)})),k=f((function(e){new b(e)})),T=!g&&d((function(){for(var e=new b,t=5;t--;)e[_](t,t);return!e.has(-0)}));k||((b=t((function(t,n){c(t,b,e);var r=p(new y,t,b);return void 0!=n&&u(n,v,r[_],r),r}))).prototype=O,O.constructor=b),(x||T)&&(E("delete"),E("has"),v&&E("get")),(T||C)&&E(_),g&&O.clear&&delete O.clear}else b=m.getConstructor(t,e,v,_),a(b.prototype,n),s.NEED=!0;return h(b,e),w[e]=b,i(i.G+i.W+i.F*(b!=y),w),g||m.setStrong(b,e,v),b}},{115:115,116:116,122:122,35:35,60:60,62:62,66:66,68:68,73:73,79:79,84:84,92:92}],50:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{16:16}],51:[function(e,t,n){"use strict";var r=e(97),i=e(114);t.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},{114:114,97:97}],52:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{17:17,31:31}],53:[function(e,t,n){"use strict";var r=e(62),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};t.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},{62:62}],54:[function(e,t,n){"use strict";var r=e(36),i=e(141);t.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!=e)}},{141:141,36:36}],55:[function(e,t,n){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],56:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{18:18,62:62}],57:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{19:19,68:68,79:79}],58:[function(e,t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],59:[function(e,t,n){var r=e(105),i=e(102),o=e(106);t.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},{102:102,105:105,106:106}],60:[function(e,t,n){var r=e(68),i=e(50),o=e(70),a=e(116),s=e(52),u=function(e,t,n){var c,l,d,f,h=e&u.F,p=e&u.G,m=e&u.S,v=e&u.P,g=e&u.B,y=p?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,b=p?i:i[t]||(i[t]={}),_=b.prototype||(b.prototype={});for(c in p&&(n=t),n)d=((l=!h&&y&&void 0!==y[c])?y:n)[c],f=g&&l?s(d,r):v&&"function"==typeof d?s(Function.call,d):d,y&&a(y,c,d,e&u.U),b[c]!=d&&o(b,c,f),v&&_[c]!=d&&(_[c]=d)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},{116:116,50:50,52:52,68:68,70:70}],61:[function(e,t,n){var r=e(150)("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},{150:150}],62:[function(e,t,n){arguments[4][21][0].apply(n,arguments)},{21:21}],63:[function(e,t,n){"use strict";e(246);var r=e(116),i=e(70),o=e(62),a=e(55),s=e(150),u=e(118),c=s("species"),l=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]})();t.exports=function(e,t,n){var f=s(e),h=!o((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),p=h?!o((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[f](""),!t})):void 0;if(!h||!p||"replace"===e&&!l||"split"===e&&!d){var m=/./[f],v=n(a,f,""[e],(function(e,t,n,r,i){return t.exec===u?h&&!i?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),g=v[0],y=v[1];r(String.prototype,e,g),i(RegExp.prototype,f,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},{116:116,118:118,150:150,246:246,55:55,62:62,70:70}],64:[function(e,t,n){"use strict";var r=e(36);t.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{36:36}],65:[function(e,t,n){"use strict";var r=e(77),i=e(79),o=e(139),a=e(52),s=e(150)("isConcatSpreadable");t.exports=function e(t,n,u,c,l,d,f,h){for(var p,m,v=l,g=0,y=!!f&&a(f,h,3);g<c;){if(g in u){if(p=y?y(u[g],g,n):u[g],m=!1,i(p)&&(m=void 0!==(m=p[s])?!!m:r(p)),m&&d>0)v=e(t,n,p,o(p.length),v,d-1)-1;else{if(v>=9007199254740991)throw TypeError();t[v]=p}v++}g++}return v}},{139:139,150:150,52:52,77:77,79:79}],66:[function(e,t,n){var r=e(52),i=e(81),o=e(76),a=e(36),s=e(139),u=e(151),c={},l={};(n=t.exports=function(e,t,n,d,f){var h,p,m,v,g=f?function(){return e}:u(e),y=r(n,d,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(h=s(e.length);h>b;b++)if((v=t?y(a(p=e[b])[0],p[1]):y(e[b]))===c||v===l)return v}else for(m=g.call(e);!(p=m.next()).done;)if((v=i(m,y,p.value,t))===c||v===l)return v}).BREAK=c,n.RETURN=l},{139:139,151:151,36:36,52:52,76:76,81:81}],67:[function(e,t,n){t.exports=e(124)("native-function-to-string",Function.toString)},{124:124}],68:[function(e,t,n){arguments[4][22][0].apply(n,arguments)},{22:22}],69:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{23:23}],70:[function(e,t,n){arguments[4][24][0].apply(n,arguments)},{114:114,24:24,56:56,97:97}],71:[function(e,t,n){var r=e(68).document;t.exports=r&&r.documentElement},{68:68}],72:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{25:25,56:56,57:57,62:62}],73:[function(e,t,n){var r=e(79),i=e(120).set;t.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},{120:120,79:79}],74:[function(e,t,n){t.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],75:[function(e,t,n){var r=e(46);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{46:46}],76:[function(e,t,n){var r=e(86),i=e(150)("iterator"),o=Array.prototype;t.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},{150:150,86:86}],77:[function(e,t,n){var r=e(46);t.exports=Array.isArray||function(e){return"Array"==r(e)}},{46:46}],78:[function(e,t,n){var r=e(79),i=Math.floor;t.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},{79:79}],79:[function(e,t,n){arguments[4][26][0].apply(n,arguments)},{26:26}],80:[function(e,t,n){var r=e(79),i=e(46),o=e(150)("match");t.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},{150:150,46:46,79:79}],81:[function(e,t,n){var r=e(36);t.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},{36:36}],82:[function(e,t,n){"use strict";var r=e(96),i=e(114),o=e(122),a={};e(70)(a,e(150)("iterator"),(function(){return this})),t.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},{114:114,122:122,150:150,70:70,96:96}],83:[function(e,t,n){"use strict";var r=e(87),i=e(60),o=e(116),a=e(70),s=e(86),u=e(82),c=e(122),l=e(103),d=e(150)("iterator"),f=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(e,t,n,p,m,v,g){u(n,t,p);var y,b,_,O=function(e){if(!f&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",E="values"==m,S=!1,C=e.prototype,x=C[d]||C["@@iterator"]||m&&C[m],k=x||O(m),T=m?E?O("entries"):k:void 0,j="Array"==t&&C.entries||x;if(j&&(_=l(j.call(new e)))!==Object.prototype&&_.next&&(c(_,w,!0),r||"function"==typeof _[d]||a(_,d,h)),E&&x&&"values"!==x.name&&(S=!0,k=function(){return x.call(this)}),r&&!g||!f&&!S&&C[d]||a(C,d,k),s[t]=k,s[w]=h,m)if(y={values:E?k:O("values"),keys:v?k:O("keys"),entries:T},g)for(b in y)b in C||o(C,b,y[b]);else i(i.P+i.F*(f||S),t,y);return y}},{103:103,116:116,122:122,150:150,60:60,70:70,82:82,86:86,87:87}],84:[function(e,t,n){var r=e(150)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}t.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},{150:150}],85:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],86:[function(e,t,n){t.exports={}},{}],87:[function(e,t,n){t.exports=!1},{}],88:[function(e,t,n){var r=Math.expm1;t.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:r},{}],89:[function(e,t,n){var r=e(91),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126);t.exports=Math.fround||function(e){var t,n,i=Math.abs(e),c=r(e);return i<u?c*(function(e){return e+1/o-1/o})(i/u/a)*u*a:(n=(t=(1+a/o)*i)-(t-i))>s||n!=n?c*(1/0):c*n}},{91:91}],90:[function(e,t,n){t.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},{}],91:[function(e,t,n){t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},{}],92:[function(e,t,n){var r=e(145)("meta"),i=e(79),o=e(69),a=e(97).f,s=0,u=Object.isExtensible||function(){return!0},c=!e(62)((function(){return u(Object.preventExtensions({}))})),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=t.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return c&&d.NEED&&u(e)&&!o(e,r)&&l(e),e}}},{145:145,62:62,69:69,79:79,97:97}],93:[function(e,t,n){var r=e(68),i=e(134).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==e(46)(a);t.exports=function(){var e,t,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(c)}}else n=function(){i.call(r,c)};else{var d=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},{134:134,46:46,68:68}],94:[function(e,t,n){"use strict";var r=e(31);t.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},{31:31}],95:[function(e,t,n){"use strict";var r=e(56),i=e(105),o=e(102),a=e(106),s=e(140),u=e(75),c=Object.assign;t.exports=!c||e(62)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r}))?function(e,t){for(var n=s(e),c=arguments.length,l=1,d=o.f,f=a.f;c>l;)for(var h,p=u(arguments[l++]),m=d?i(p).concat(d(p)):i(p),v=m.length,g=0;v>g;)h=m[g++],r&&!f.call(p,h)||(n[h]=p[h]);return n}:c},{102:102,105:105,106:106,140:140,56:56,62:62,75:75}],96:[function(e,t,n){var r=e(36),i=e(98),o=e(58),a=e(123)("IE_PROTO"),s=function(){},u=function(){var t,n=e(57)("iframe"),r=o.length;for(n.style.display="none",e(71).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},{123:123,36:36,57:57,58:58,71:71,98:98}],97:[function(e,t,n){arguments[4][27][0].apply(n,arguments)},{141:141,27:27,36:36,56:56,72:72}],98:[function(e,t,n){var r=e(97),i=e(36),o=e(105);t.exports=e(56)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},{105:105,36:36,56:56,97:97}],99:[function(e,t,n){var r=e(106),i=e(114),o=e(138),a=e(141),s=e(69),u=e(72),c=Object.getOwnPropertyDescriptor;n.f=e(56)?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},{106:106,114:114,138:138,141:141,56:56,69:69,72:72}],100:[function(e,t,n){var r=e(138),i=e(101).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return a&&"[object Window]"==o.call(e)?(function(e){try{return i(e)}catch(e){return a.slice()}})(e):i(r(e))}},{101:101,138:138}],101:[function(e,t,n){var r=e(104),i=e(58).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},{104:104,58:58}],102:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],103:[function(e,t,n){var r=e(69),i=e(140),o=e(123)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},{123:123,140:140,69:69}],104:[function(e,t,n){var r=e(69),i=e(138),o=e(39)(!1),a=e(123)("IE_PROTO");t.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},{123:123,138:138,39:39,69:69}],105:[function(e,t,n){var r=e(104),i=e(58);t.exports=Object.keys||function(e){return r(e,i)}},{104:104,58:58}],106:[function(e,t,n){n.f={}.propertyIsEnumerable},{}],107:[function(e,t,n){var r=e(60),i=e(50),o=e(62);t.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},{50:50,60:60,62:62}],108:[function(e,t,n){var r=e(56),i=e(105),o=e(138),a=e(106).f;t.exports=function(e){return function(t){for(var n,s=o(t),u=i(s),c=u.length,l=0,d=[];c>l;)n=u[l++],r&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},{105:105,106:106,138:138,56:56}],109:[function(e,t,n){var r=e(101),i=e(102),o=e(36),a=e(68).Reflect;t.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},{101:101,102:102,36:36,68:68}],110:[function(e,t,n){var r=e(68).parseFloat,i=e(132).trim;t.exports=1/r(e(133)+"-0")!=-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},{132:132,133:133,68:68}],111:[function(e,t,n){var r=e(68).parseInt,i=e(132).trim,o=e(133),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},{132:132,133:133,68:68}],112:[function(e,t,n){t.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},{}],113:[function(e,t,n){var r=e(36),i=e(79),o=e(94);t.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},{36:36,79:79,94:94}],114:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{28:28}],115:[function(e,t,n){var r=e(116);t.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},{116:116}],116:[function(e,t,n){var r=e(68),i=e(70),o=e(69),a=e(145)("src"),s=e(67),u=(""+s).split("toString");e(50).inspectSource=function(e){return s.call(e)},(t.exports=function(e,t,n,s){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(c&&(o(n,a)||i(n,a,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},{145:145,50:50,67:67,68:68,69:69,70:70}],117:[function(e,t,n){"use strict";var r=e(45),i=RegExp.prototype.exec;t.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},{45:45}],118:[function(e,t,n){"use strict";var r=e(64),i=RegExp.prototype.exec,o=String.prototype.replace,a=i,s=(function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex})(),u=void 0!==/()??/.exec("")[1];(s||u)&&(a=function(e){var t,n,a,c,l=this;return u&&(n=new RegExp("^"+l.source+"$(?!\\s)",r.call(l))),s&&(t=l.lastIndex),a=i.call(l,e),s&&a&&(l.lastIndex=l.global?a.index+a[0].length:t),u&&a&&a.length>1&&o.call(a[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(a[c]=void 0)})),a}),t.exports=a},{64:64}],119:[function(e,t,n){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],120:[function(e,t,n){var r=e(79),i=e(36),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?(function(t,n,r){try{(r=e(52)(Function.call,e(99).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(e){n=!0}return function(e,t){return o(e,t),n?e.__proto__=t:r(e,t),e}})({},!1):void 0),check:o}},{36:36,52:52,79:79,99:99}],121:[function(e,t,n){"use strict";var r=e(68),i=e(97),o=e(56),a=e(150)("species");t.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},{150:150,56:56,68:68,97:97}],122:[function(e,t,n){var r=e(97).f,i=e(69),o=e(150)("toStringTag");t.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},{150:150,69:69,97:97}],123:[function(e,t,n){var r=e(124)("keys"),i=e(145);t.exports=function(e){return r[e]||(r[e]=i(e))}},{124:124,145:145}],124:[function(e,t,n){var r=e(50),i=e(68),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:e(87)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},{50:50,68:68,87:87}],125:[function(e,t,n){var r=e(36),i=e(31),o=e(150)("species");t.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},{150:150,31:31,36:36}],126:[function(e,t,n){"use strict";var r=e(62);t.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},{62:62}],127:[function(e,t,n){var r=e(137),i=e(55);t.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},{137:137,55:55}],128:[function(e,t,n){var r=e(80),i=e(55);t.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},{55:55,80:80}],129:[function(e,t,n){var r=e(60),i=e(62),o=e(55),a=/"/g,s=function(e,t,n,r){var i=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};t.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},{55:55,60:60,62:62}],130:[function(e,t,n){var r=e(139),i=e(131),o=e(55);t.exports=function(e,t,n,a){var s=String(o(e)),u=s.length,c=void 0===n?" ":String(n),l=r(t);if(l<=u||""==c)return s;var d=l-u,f=i.call(c,Math.ceil(d/c.length));return f.length>d&&(f=f.slice(0,d)),a?f+s:s+f}},{131:131,139:139,55:55}],131:[function(e,t,n){"use strict";var r=e(137),i=e(55);t.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},{137:137,55:55}],132:[function(e,t,n){var r=e(60),i=e(55),o=e(62),a=e(133),s="["+a+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(e,t,n){var i={},s=o((function(){return!!a[e]()||"​"!="​"[e]()})),u=i[e]=s?t(d):a[e];n&&(i[n]=u),r(r.P+r.F*s,"String",i)},d=l.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(c,"")),e};t.exports=l},{133:133,55:55,60:60,62:62}],133:[function(e,t,n){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],134:[function(e,t,n){var r,i,o,a=e(52),s=e(74),u=e(71),c=e(57),l=e(68),d=l.process,f=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,m=l.Dispatch,v=0,g={},y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){y.call(e.data)};f&&h||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},h=function(e){delete g[e]},"process"==e(46)(d)?r=function(e){d.nextTick(a(y,e,1))}:m&&m.now?r=function(e){m.now(a(y,e,1))}:p?(o=(i=new p).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),t.exports={set:f,clear:h}},{46:46,52:52,57:57,68:68,71:71,74:74}],135:[function(e,t,n){var r=e(137),i=Math.max,o=Math.min;t.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},{137:137}],136:[function(e,t,n){var r=e(137),i=e(139);t.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},{137:137,139:139}],137:[function(e,t,n){var r=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},{}],138:[function(e,t,n){var r=e(75),i=e(55);t.exports=function(e){return r(i(e))}},{55:55,75:75}],139:[function(e,t,n){var r=e(137),i=Math.min;t.exports=function(e){return e>0?i(r(e),9007199254740991):0}},{137:137}],140:[function(e,t,n){var r=e(55);t.exports=function(e){return Object(r(e))}},{55:55}],141:[function(e,t,n){arguments[4][29][0].apply(n,arguments)},{29:29,79:79}],142:[function(e,t,n){"use strict";if(e(56)){var r=e(87),i=e(68),o=e(62),a=e(60),s=e(144),u=e(143),c=e(52),l=e(35),d=e(114),f=e(70),h=e(115),p=e(137),m=e(139),v=e(136),g=e(135),y=e(141),b=e(69),_=e(45),O=e(79),w=e(140),E=e(76),S=e(96),C=e(103),x=e(101).f,k=e(151),T=e(145),j=e(150),R=e(40),P=e(39),D=e(125),I=e(162),A=e(86),M=e(84),N=e(121),L=e(38),F=e(37),B=e(97),U=e(99),z=B.f,V=U.f,H=i.RangeError,W=i.TypeError,G=i.Uint8Array,q=Array.prototype,$=u.ArrayBuffer,Y=u.DataView,K=R(0),X=R(2),Z=R(3),J=R(4),Q=R(5),ee=R(6),te=P(!0),ne=P(!1),re=I.values,ie=I.keys,oe=I.entries,ae=q.lastIndexOf,se=q.reduce,ue=q.reduceRight,ce=q.join,le=q.sort,de=q.slice,fe=q.toString,he=q.toLocaleString,pe=j("iterator"),me=j("toStringTag"),ve=T("typed_constructor"),ge=T("def_constructor"),ye=s.CONSTR,be=s.TYPED,_e=s.VIEW,Oe=R(1,(function(e,t){return xe(D(e,e[ge]),t)})),we=o((function(){return 1===new G(new Uint16Array([1]).buffer)[0]})),Ee=!!G&&!!G.prototype.set&&o((function(){new G(1).set({})})),Se=function(e,t){var n=p(e);if(n<0||n%t)throw H("Wrong offset!");return n},Ce=function(e){if(O(e)&&be in e)return e;throw W(e+" is not a typed array!")},xe=function(e,t){if(!(O(e)&&ve in e))throw W("It is not a typed array constructor!");return new e(t)},ke=function(e,t){return Te(D(e,e[ge]),t)},Te=function(e,t){for(var n=0,r=t.length,i=xe(e,r);r>n;)i[n]=t[n++];return i},je=function(e,t,n){z(e,t,{get:function(){return this._d[n]}})},Re=function(e){var t,n,r,i,o,a,s=w(e),u=arguments.length,l=u>1?arguments[1]:void 0,d=void 0!==l,f=k(s);if(void 0!=f&&!E(f)){for(a=f.call(s),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);s=r}for(d&&u>2&&(l=c(l,arguments[2],2)),t=0,n=m(s.length),i=xe(this,n);n>t;t++)i[t]=d?l(s[t],t):s[t];return i},Pe=function(){for(var e=0,t=arguments.length,n=xe(this,t);t>e;)n[e]=arguments[e++];return n},De=!!G&&o((function(){he.call(new G(1))})),Ie=function(){return he.apply(De?de.call(Ce(this)):Ce(this),arguments)},Ae={copyWithin:function(e,t){return F.call(Ce(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return J(Ce(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return L.apply(Ce(this),arguments)},filter:function(e){return ke(this,X(Ce(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Q(Ce(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Ce(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){K(Ce(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Ce(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Ce(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ce.apply(Ce(this),arguments)},lastIndexOf:function(e){return ae.apply(Ce(this),arguments)},map:function(e){return Oe(Ce(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Ce(this),arguments)},reduceRight:function(e){return ue.apply(Ce(this),arguments)},reverse:function(){for(var e,t=Ce(this).length,n=Math.floor(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this},some:function(e){return Z(Ce(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return le.call(Ce(this),e)},subarray:function(e,t){var n=Ce(this),r=n.length,i=g(e,r);return new(D(n,n[ge]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,m((void 0===t?r:g(t,r))-i))}},Me=function(e,t){return ke(this,de.call(Ce(this),e,t))},Ne=function(e){Ce(this);var t=Se(arguments[1],1),n=this.length,r=w(e),i=m(r.length),o=0;if(i+t>n)throw H("Wrong length!");for(;o<i;)this[t+o]=r[o++]},Le={entries:function(){return oe.call(Ce(this))},keys:function(){return ie.call(Ce(this))},values:function(){return re.call(Ce(this))}},Fe=function(e,t){return O(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Be=function(e,t){return Fe(e,t=y(t,!0))?d(2,e[t]):V(e,t)},Ue=function(e,t,n){return!(Fe(e,t=y(t,!0))&&O(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?z(e,t,n):(e[t]=n.value,e)};ye||(U.f=Be,B.f=Ue),a(a.S+a.F*!ye,"Object",{getOwnPropertyDescriptor:Be,defineProperty:Ue}),o((function(){fe.call({})}))&&(fe=he=function(){return ce.call(this)});var ze=h({},Ae);h(ze,Le),f(ze,pe,Le.values),h(ze,{slice:Me,set:Ne,constructor:function(){},toString:fe,toLocaleString:Ie}),je(ze,"buffer","b"),je(ze,"byteOffset","o"),je(ze,"byteLength","l"),je(ze,"length","e"),z(ze,me,{get:function(){return this[be]}}),t.exports=function(e,t,n,u){var c=e+((u=!!u)?"Clamped":"")+"Array",d="get"+e,h="set"+e,p=i[c],g=p||{},y=p&&C(p),b=!p||!s.ABV,w={},E=p&&p.prototype,k=function(e,n){z(e,n,{get:function(){return (function(e,n){var r=e._d;return r.v[d](n*t+r.o,we)})(this,n)},set:function(e){return (function(e,n,r){var i=e._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[h](n*t+i.o,r,we)})(this,n,e)},enumerable:!0})};b?(p=n((function(e,n,r,i){l(e,p,c,"_d");var o,a,s,u,d=0,h=0;if(O(n)){if(!(n instanceof $||"ArrayBuffer"==(u=_(n))||"SharedArrayBuffer"==u))return be in n?Te(p,n):Re.call(p,n);o=n,h=Se(r,t);var g=n.byteLength;if(void 0===i){if(g%t)throw H("Wrong length!");if((a=g-h)<0)throw H("Wrong length!")}else if((a=m(i)*t)+h>g)throw H("Wrong length!");s=a/t}else s=v(n),o=new $(a=s*t);for(f(e,"_d",{b:o,o:h,l:a,e:s,v:new Y(o)});d<s;)k(e,d++)})),E=p.prototype=S(ze),f(E,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&M((function(e){new p,new p(null),new p(1.5),new p(e)}),!0)||(p=n((function(e,n,r,i){var o;return l(e,p,c),O(n)?n instanceof $||"ArrayBuffer"==(o=_(n))||"SharedArrayBuffer"==o?void 0!==i?new g(n,Se(r,t),i):void 0!==r?new g(n,Se(r,t)):new g(n):be in n?Te(p,n):Re.call(p,n):new g(v(n))})),K(y!==Function.prototype?x(g).concat(x(y)):x(g),(function(e){e in p||f(p,e,g[e])})),p.prototype=E,r||(E.constructor=p));var T=E[pe],j=!!T&&("values"==T.name||void 0==T.name),R=Le.values;f(p,ve,!0),f(E,be,c),f(E,_e,!0),f(E,ge,p),(u?new p(1)[me]==c:me in E)||z(E,me,{get:function(){return c}}),w[c]=p,a(a.G+a.W+a.F*(p!=g),w),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o((function(){g.of.call(p,1)})),c,{from:Re,of:Pe}),"BYTES_PER_ELEMENT"in E||f(E,"BYTES_PER_ELEMENT",t),a(a.P,c,Ae),N(c),a(a.P+a.F*Ee,c,{set:Ne}),a(a.P+a.F*!j,c,Le),r||E.toString==fe||(E.toString=fe),a(a.P+a.F*o((function(){new p(1).slice()})),c,{slice:Me}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){E.toLocaleString.call([1,2])}))),c,{toLocaleString:Ie}),A[c]=j?T:R,r||j||f(E,pe,R)}}else t.exports=function(){}},{101:101,103:103,114:114,115:115,121:121,125:125,135:135,136:136,137:137,139:139,140:140,141:141,143:143,144:144,145:145,150:150,151:151,162:162,35:35,37:37,38:38,39:39,40:40,45:45,52:52,56:56,60:60,62:62,68:68,69:69,70:70,76:76,79:79,84:84,86:86,87:87,96:96,97:97,99:99}],143:[function(e,t,n){"use strict";var r=e(68),i=e(56),o=e(87),a=e(144),s=e(70),u=e(115),c=e(62),l=e(35),d=e(137),f=e(139),h=e(136),p=e(101).f,m=e(97).f,v=e(38),g=e(122),y="prototype",b="Wrong index!",_=r.ArrayBuffer,O=r.DataView,w=r.Math,E=r.RangeError,S=r.Infinity,C=_,x=w.abs,k=w.pow,T=w.floor,j=w.log,R=w.LN2,P=i?"_b":"buffer",D=i?"_l":"byteLength",I=i?"_o":"byteOffset";function A(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,u=(1<<s)-1,c=u>>1,l=23===t?k(2,-24)-k(2,-77):0,d=0,f=e<0||0===e&&1/e<0?1:0;for((e=x(e))!=e||e===S?(i=e!=e?1:0,r=u):(r=T(j(e)/R),e*(o=k(2,-r))<1&&(r--,o*=2),(e+=r+c>=1?l/o:l*k(2,1-c))*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(e*o-1)*k(2,t),r+=c):(i=e*k(2,c-1)*k(2,t),r=0));t>=8;a[d++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[d++]=255&r,r/=256,s-=8);return a[--d]|=128*f,a}function M(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,c=e[u--],l=127&c;for(c>>=7;s>0;l=256*l+e[u],u--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=t;s>0;r=256*r+e[u],u--,s-=8);if(0===l)l=1-a;else{if(l===o)return r?NaN:c?-S:S;r+=k(2,t),l-=a}return(c?-1:1)*r*k(2,l-t)}function N(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function L(e){return[255&e]}function F(e){return[255&e,e>>8&255]}function B(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function U(e){return A(e,52,8)}function z(e){return A(e,23,4)}function V(e,t,n){m(e[y],t,{get:function(){return this[n]}})}function H(e,t,n,r){var i=h(+n);if(i+t>e[D])throw E(b);var o=e[P]._b,a=i+e[I],s=o.slice(a,a+t);return r?s:s.reverse()}function W(e,t,n,r,i,o){var a=h(+n);if(a+t>e[D])throw E(b);for(var s=e[P]._b,u=a+e[I],c=r(+i),l=0;l<t;l++)s[u+l]=c[o?l:t-l-1]}if(a.ABV){if(!c((function(){_(1)}))||!c((function(){new _(-1)}))||c((function(){return new _,new _(1.5),new _(NaN),"ArrayBuffer"!=_.name}))){for(var G,q=(_=function(e){return l(this,_),new C(h(e))})[y]=C[y],$=p(C),Y=0;$.length>Y;)(G=$[Y++])in _||s(_,G,C[G]);o||(q.constructor=_)}var K=new O(new _(2)),X=O[y].setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||u(O[y],{setInt8:function(e,t){X.call(this,e,t<<24>>24)},setUint8:function(e,t){X.call(this,e,t<<24>>24)}},!0)}else _=function(e){l(this,_,"ArrayBuffer");var t=h(e);this._b=v.call(new Array(t),0),this[D]=t},O=function(e,t,n){l(this,O,"DataView"),l(e,_,"DataView");var r=e[D],i=d(t);if(i<0||i>r)throw E("Wrong offset!");if(i+(n=void 0===n?r-i:f(n))>r)throw E("Wrong length!");this[P]=e,this[I]=i,this[D]=n},i&&(V(_,"byteLength","_l"),V(O,"buffer","_b"),V(O,"byteLength","_l"),V(O,"byteOffset","_o")),u(O[y],{getInt8:function(e){return H(this,1,e)[0]<<24>>24},getUint8:function(e){return H(this,1,e)[0]},getInt16:function(e){var t=H(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=H(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return N(H(this,4,e,arguments[1]))},getUint32:function(e){return N(H(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return M(H(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return M(H(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){W(this,1,e,L,t)},setUint8:function(e,t){W(this,1,e,L,t)},setInt16:function(e,t){W(this,2,e,F,t,arguments[2])},setUint16:function(e,t){W(this,2,e,F,t,arguments[2])},setInt32:function(e,t){W(this,4,e,B,t,arguments[2])},setUint32:function(e,t){W(this,4,e,B,t,arguments[2])},setFloat32:function(e,t){W(this,4,e,z,t,arguments[2])},setFloat64:function(e,t){W(this,8,e,U,t,arguments[2])}});g(_,"ArrayBuffer"),g(O,"DataView"),s(O[y],a.VIEW,!0),n.ArrayBuffer=_,n.DataView=O},{101:101,115:115,122:122,136:136,137:137,139:139,144:144,35:35,38:38,56:56,62:62,68:68,70:70,87:87,97:97}],144:[function(e,t,n){for(var r,i=e(68),o=e(70),a=e(145),s=a("typed_array"),u=a("view"),c=!(!i.ArrayBuffer||!i.DataView),l=c,d=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(r=i[f[d++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},{145:145,68:68,70:70}],145:[function(e,t,n){var r=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}},{}],146:[function(e,t,n){var r=e(68).navigator;t.exports=r&&r.userAgent||""},{68:68}],147:[function(e,t,n){var r=e(79);t.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},{79:79}],148:[function(e,t,n){var r=e(68),i=e(50),o=e(87),a=e(149),s=e(97).f;t.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},{149:149,50:50,68:68,87:87,97:97}],149:[function(e,t,n){n.f=e(150)},{150:150}],150:[function(e,t,n){var r=e(124)("wks"),i=e(145),o=e(68).Symbol,a="function"==typeof o;(t.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},{124:124,145:145,68:68}],151:[function(e,t,n){var r=e(45),i=e(150)("iterator"),o=e(86);t.exports=e(50).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},{150:150,45:45,50:50,86:86}],152:[function(e,t,n){var r=e(60);r(r.P,"Array",{copyWithin:e(37)}),e(33)("copyWithin")},{33:33,37:37,60:60}],153:[function(e,t,n){"use strict";var r=e(60),i=e(40)(4);r(r.P+r.F*!e(126)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},{126:126,40:40,60:60}],154:[function(e,t,n){var r=e(60);r(r.P,"Array",{fill:e(38)}),e(33)("fill")},{33:33,38:38,60:60}],155:[function(e,t,n){"use strict";var r=e(60),i=e(40)(2);r(r.P+r.F*!e(126)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},{126:126,40:40,60:60}],156:[function(e,t,n){"use strict";var r=e(60),i=e(40)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),e(33)(o)},{33:33,40:40,60:60}],157:[function(e,t,n){"use strict";var r=e(60),i=e(40)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),e(33)("find")},{33:33,40:40,60:60}],158:[function(e,t,n){"use strict";var r=e(60),i=e(40)(0),o=e(126)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},{126:126,40:40,60:60}],159:[function(e,t,n){"use strict";var r=e(52),i=e(60),o=e(140),a=e(81),s=e(76),u=e(139),c=e(51),l=e(151);i(i.S+i.F*!e(84)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,d,f=o(e),h="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,v=void 0!==m,g=0,y=l(f);if(v&&(m=r(m,p>2?arguments[2]:void 0,2)),void 0==y||h==Array&&s(y))for(n=new h(t=u(f.length));t>g;g++)c(n,g,v?m(f[g],g):f[g]);else for(d=y.call(f),n=new h;!(i=d.next()).done;g++)c(n,g,v?a(d,m,[i.value,g],!0):i.value);return n.length=g,n}})},{139:139,140:140,151:151,51:51,52:52,60:60,76:76,81:81,84:84}],160:[function(e,t,n){"use strict";var r=e(60),i=e(39)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!e(126)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},{126:126,39:39,60:60}],161:[function(e,t,n){var r=e(60);r(r.S,"Array",{isArray:e(77)})},{60:60,77:77}],162:[function(e,t,n){"use strict";var r=e(33),i=e(85),o=e(86),a=e(138);t.exports=e(83)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},{138:138,33:33,83:83,85:85,86:86}],163:[function(e,t,n){"use strict";var r=e(60),i=e(138),o=[].join;r(r.P+r.F*(e(75)!=Object||!e(126)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},{126:126,138:138,60:60,75:75}],164:[function(e,t,n){"use strict";var r=e(60),i=e(138),o=e(137),a=e(139),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!e(126)(s)),"Array",{lastIndexOf:function(e){if(u)return s.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},{126:126,137:137,138:138,139:139,60:60}],165:[function(e,t,n){"use strict";var r=e(60),i=e(40)(1);r(r.P+r.F*!e(126)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},{126:126,40:40,60:60}],166:[function(e,t,n){"use strict";var r=e(60),i=e(51);r(r.S+r.F*e(62)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},{51:51,60:60,62:62}],167:[function(e,t,n){"use strict";var r=e(60),i=e(41);r(r.P+r.F*!e(126)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},{126:126,41:41,60:60}],168:[function(e,t,n){"use strict";var r=e(60),i=e(41);r(r.P+r.F*!e(126)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},{126:126,41:41,60:60}],169:[function(e,t,n){"use strict";var r=e(60),i=e(71),o=e(46),a=e(135),s=e(139),u=[].slice;r(r.P+r.F*e(62)((function(){i&&u.call(i)})),"Array",{slice:function(e,t){var n=s(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return u.call(this,e,t);for(var i=a(e,n),c=a(t,n),l=s(c-i),d=new Array(l),f=0;f<l;f++)d[f]="String"==r?this.charAt(i+f):this[i+f];return d}})},{135:135,139:139,46:46,60:60,62:62,71:71}],170:[function(e,t,n){"use strict";var r=e(60),i=e(40)(3);r(r.P+r.F*!e(126)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},{126:126,40:40,60:60}],171:[function(e,t,n){"use strict";var r=e(60),i=e(31),o=e(140),a=e(62),s=[].sort,u=[1,2,3];r(r.P+r.F*(a((function(){u.sort(void 0)}))||!a((function(){u.sort(null)}))||!e(126)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},{126:126,140:140,31:31,60:60,62:62}],172:[function(e,t,n){e(121)("Array")},{121:121}],173:[function(e,t,n){var r=e(60);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},{60:60}],174:[function(e,t,n){var r=e(60),i=e(53);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},{53:53,60:60}],175:[function(e,t,n){"use strict";var r=e(60),i=e(140),o=e(141);r(r.P+r.F*e(62)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=i(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},{140:140,141:141,60:60,62:62}],176:[function(e,t,n){var r=e(150)("toPrimitive"),i=Date.prototype;r in i||e(70)(i,r,e(54))},{150:150,54:54,70:70}],177:[function(e,t,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&e(116)(r,"toString",(function(){var e=o.call(this);return e==e?i.call(this):"Invalid Date"}))},{116:116}],178:[function(e,t,n){var r=e(60);r(r.P,"Function",{bind:e(44)})},{44:44,60:60}],179:[function(e,t,n){"use strict";var r=e(79),i=e(103),o=e(150)("hasInstance"),a=Function.prototype;o in a||e(97).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},{103:103,150:150,79:79,97:97}],180:[function(e,t,n){var r=e(97).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||e(56)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},{56:56,97:97}],181:[function(e,t,n){"use strict";var r=e(47),i=e(147);t.exports=e(49)("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},{147:147,47:47,49:49}],182:[function(e,t,n){var r=e(60),i=e(90),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},{60:60,90:90}],183:[function(e,t,n){var r=e(60),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},{60:60}],184:[function(e,t,n){var r=e(60),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},{60:60}],185:[function(e,t,n){var r=e(60),i=e(91);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},{60:60,91:91}],186:[function(e,t,n){var r=e(60);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},{60:60}],187:[function(e,t,n){var r=e(60),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},{60:60}],188:[function(e,t,n){var r=e(60),i=e(88);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},{60:60,88:88}],189:[function(e,t,n){var r=e(60);r(r.S,"Math",{fround:e(89)})},{60:60,89:89}],190:[function(e,t,n){var r=e(60),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)u<(n=i(arguments[a++]))?(o=o*(r=u/n)*r+1,u=n):o+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(o)}})},{60:60}],191:[function(e,t,n){var r=e(60),i=Math.imul;r(r.S+r.F*e(62)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},{60:60,62:62}],192:[function(e,t,n){var r=e(60);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},{60:60}],193:[function(e,t,n){var r=e(60);r(r.S,"Math",{log1p:e(90)})},{60:60,90:90}],194:[function(e,t,n){var r=e(60);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},{60:60}],195:[function(e,t,n){var r=e(60);r(r.S,"Math",{sign:e(91)})},{60:60,91:91}],196:[function(e,t,n){var r=e(60),i=e(88),o=Math.exp;r(r.S+r.F*e(62)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},{60:60,62:62,88:88}],197:[function(e,t,n){var r=e(60),i=e(88),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},{60:60,88:88}],198:[function(e,t,n){var r=e(60);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},{60:60}],199:[function(e,t,n){"use strict";var r=e(68),i=e(69),o=e(46),a=e(73),s=e(141),u=e(62),c=e(101).f,l=e(99).f,d=e(97).f,f=e(132).trim,h=r.Number,p=h,m=h.prototype,v="Number"==o(e(96)(m)),g="trim"in String.prototype,y=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,i,o=(t=g?t.trim():f(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,u=t.slice(2),c=0,l=u.length;c<l;c++)if((a=u.charCodeAt(c))<48||a>i)return NaN;return parseInt(u,r)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(v?u((function(){m.valueOf.call(n)})):"Number"!=o(n))?a(new p(y(t)),n,h):y(t)};for(var b,_=e(56)?c(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;_.length>O;O++)i(p,b=_[O])&&!i(h,b)&&d(h,b,l(p,b));h.prototype=m,m.constructor=h,e(116)(r,"Number",h)}},{101:101,116:116,132:132,141:141,46:46,56:56,62:62,68:68,69:69,73:73,96:96,97:97,99:99}],200:[function(e,t,n){var r=e(60);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},{60:60}],201:[function(e,t,n){var r=e(60),i=e(68).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},{60:60,68:68}],202:[function(e,t,n){var r=e(60);r(r.S,"Number",{isInteger:e(78)})},{60:60,78:78}],203:[function(e,t,n){var r=e(60);r(r.S,"Number",{isNaN:function(e){return e!=e}})},{60:60}],204:[function(e,t,n){var r=e(60),i=e(78),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},{60:60,78:78}],205:[function(e,t,n){var r=e(60);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{60:60}],206:[function(e,t,n){var r=e(60);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{60:60}],207:[function(e,t,n){var r=e(60),i=e(110);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},{110:110,60:60}],208:[function(e,t,n){var r=e(60),i=e(111);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},{111:111,60:60}],209:[function(e,t,n){"use strict";var r=e(60),i=e(137),o=e(32),a=e(131),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",d=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*c[n],c[n]=r%1e7,r=u(r/1e7)},f=function(e){for(var t=6,n=0;--t>=0;)n+=c[t],c[t]=u(n/e),n=n%e*1e7},h=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var n=String(c[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},p=function(e,t,n){return 0===t?n:t%2==1?p(e,t-1,n*e):p(e*e,t/2,n)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!e(62)((function(){s.call({})}))),"Number",{toFixed:function(e){var t,n,r,s,u=o(this,l),c=i(e),m="",v="0";if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(m="-",u=-u),u>1e-21)if(n=(t=(function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t})(u*p(2,69,1))-69)<0?u*p(2,-t,1):u/p(2,t,1),n*=4503599627370496,(t=52-t)>0){for(d(0,n),r=c;r>=7;)d(1e7,0),r-=7;for(d(p(10,r,1),0),r=t-1;r>=23;)f(1<<23),r-=23;f(1<<r),d(1,1),f(2),v=h()}else d(0,n),d(1<<-t,0),v=h()+a.call("0",c);return v=c>0?m+((s=v.length)<=c?"0."+a.call("0",c-s)+v:v.slice(0,s-c)+"."+v.slice(s-c)):m+v}})},{131:131,137:137,32:32,60:60,62:62}],210:[function(e,t,n){"use strict";var r=e(60),i=e(62),o=e(32),a=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==a.call(1,void 0)}))||!i((function(){a.call({})}))),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},{32:32,60:60,62:62}],211:[function(e,t,n){var r=e(60);r(r.S+r.F,"Object",{assign:e(95)})},{60:60,95:95}],212:[function(e,t,n){var r=e(60);r(r.S,"Object",{create:e(96)})},{60:60,96:96}],213:[function(e,t,n){var r=e(60);r(r.S+r.F*!e(56),"Object",{defineProperties:e(98)})},{56:56,60:60,98:98}],214:[function(e,t,n){var r=e(60);r(r.S+r.F*!e(56),"Object",{defineProperty:e(97).f})},{56:56,60:60,97:97}],215:[function(e,t,n){var r=e(79),i=e(92).onFreeze;e(107)("freeze",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},{107:107,79:79,92:92}],216:[function(e,t,n){var r=e(138),i=e(99).f;e(107)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},{107:107,138:138,99:99}],217:[function(e,t,n){e(107)("getOwnPropertyNames",(function(){return e(100).f}))},{100:100,107:107}],218:[function(e,t,n){var r=e(140),i=e(103);e(107)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},{103:103,107:107,140:140}],219:[function(e,t,n){var r=e(79);e(107)("isExtensible",(function(e){return function(t){return!!r(t)&&(!e||e(t))}}))},{107:107,79:79}],220:[function(e,t,n){var r=e(79);e(107)("isFrozen",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},{107:107,79:79}],221:[function(e,t,n){var r=e(79);e(107)("isSealed",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},{107:107,79:79}],222:[function(e,t,n){var r=e(60);r(r.S,"Object",{is:e(119)})},{119:119,60:60}],223:[function(e,t,n){var r=e(140),i=e(105);e(107)("keys",(function(){return function(e){return i(r(e))}}))},{105:105,107:107,140:140}],224:[function(e,t,n){var r=e(79),i=e(92).onFreeze;e(107)("preventExtensions",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},{107:107,79:79,92:92}],225:[function(e,t,n){var r=e(79),i=e(92).onFreeze;e(107)("seal",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},{107:107,79:79,92:92}],226:[function(e,t,n){var r=e(60);r(r.S,"Object",{setPrototypeOf:e(120).set})},{120:120,60:60}],227:[function(e,t,n){"use strict";var r=e(45),i={};i[e(150)("toStringTag")]="z",i+""!="[object z]"&&e(116)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},{116:116,150:150,45:45}],228:[function(e,t,n){var r=e(60),i=e(110);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},{110:110,60:60}],229:[function(e,t,n){var r=e(60),i=e(111);r(r.G+r.F*(parseInt!=i),{parseInt:i})},{111:111,60:60}],230:[function(e,t,n){"use strict";var r,i,o,a,s=e(87),u=e(68),c=e(52),l=e(45),d=e(60),f=e(79),h=e(31),p=e(35),m=e(66),v=e(125),g=e(134).set,y=e(93)(),b=e(94),_=e(112),O=e(146),w=e(113),E=u.TypeError,S=u.process,C=S&&S.versions,x=C&&C.v8||"",k=u.Promise,T="process"==l(S),j=function(){},R=i=b.f,P=!!(function(){try{var t=k.resolve(1),n=(t.constructor={})[e(150)("species")]=function(e){e(j,j)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(j)instanceof n&&0!==x.indexOf("6.6")&&-1===O.indexOf("Chrome/66")}catch(e){}})(),D=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},I=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{s?(i||(2==e._h&&N(e),e._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===t.promise?c(E("Promise-chain cycle")):(o=D(n))?o.call(n,u,c):u(n)):c(r)}catch(e){l&&!a&&l.exit(),c(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&A(e)}))}},A=function(e){g.call(u,(function(){var t,n,r,i=e._v,o=M(e);if(o&&(t=_((function(){T?S.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=T||M(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},N=function(e){g.call(u,(function(){var t;T?S.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})}))},L=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),I(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw E("Promise can't be resolved itself");(t=D(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,c(F,r,1),c(L,r,1))}catch(e){L.call(r,e)}})):(n._v=e,n._s=1,I(n,!1))}catch(e){L.call({_w:n,_d:!1},e)}}};P||(k=function(e){p(this,k,"Promise","_h"),h(e),r.call(this);try{e(c(F,this,1),c(L,this,1))}catch(e){L.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e(115)(k.prototype,{then:function(e,t){var n=R(v(this,k));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=T?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(F,e,1),this.reject=c(L,e,1)},b.f=R=function(e){return e===k||e===a?new o(e):i(e)}),d(d.G+d.W+d.F*!P,{Promise:k}),e(122)(k,"Promise"),e(121)("Promise"),a=e(50).Promise,d(d.S+d.F*!P,"Promise",{reject:function(e){var t=R(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!P),"Promise",{resolve:function(e){return w(s&&this===a?k:this,e)}}),d(d.S+d.F*!(P&&e(84)((function(e){k.all(e).catch(j)}))),"Promise",{all:function(e){var t=this,n=R(t),r=n.resolve,i=n.reject,o=_((function(){var n=[],o=0,a=1;m(e,!1,(function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then((function(e){u||(u=!0,n[s]=e,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=R(t),r=n.reject,i=_((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},{112:112,113:113,115:115,121:121,122:122,125:125,134:134,146:146,150:150,31:31,35:35,45:45,50:50,52:52,60:60,66:66,68:68,79:79,84:84,87:87,93:93,94:94}],231:[function(e,t,n){var r=e(60),i=e(31),o=e(36),a=(e(68).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!e(62)((function(){a((function(){}))})),"Reflect",{apply:function(e,t,n){var r=i(e),u=o(n);return a?a(r,t,u):s.call(r,t,u)}})},{31:31,36:36,60:60,62:62,68:68}],232:[function(e,t,n){var r=e(60),i=e(96),o=e(31),a=e(36),s=e(79),u=e(62),c=e(44),l=(e(68).Reflect||{}).construct,d=u((function(){function e(){}return!(l((function(){}),[],e)instanceof e)})),f=!u((function(){l((function(){}))}));r(r.S+r.F*(d||f),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(f&&!d)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var u=n.prototype,h=i(s(u)?u:Object.prototype),p=Function.apply.call(e,h,t);return s(p)?p:h}})},{31:31,36:36,44:44,60:60,62:62,68:68,79:79,96:96}],233:[function(e,t,n){var r=e(97),i=e(60),o=e(36),a=e(141);i(i.S+i.F*e(62)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},{141:141,36:36,60:60,62:62,97:97}],234:[function(e,t,n){var r=e(60),i=e(99).f,o=e(36);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},{36:36,60:60,99:99}],235:[function(e,t,n){"use strict";var r=e(60),i=e(36),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};e(82)(o,"Object",(function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}})),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},{36:36,60:60,82:82}],236:[function(e,t,n){var r=e(99),i=e(60),o=e(36);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},{36:36,60:60,99:99}],237:[function(e,t,n){var r=e(60),i=e(103),o=e(36);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},{103:103,36:36,60:60}],238:[function(e,t,n){var r=e(99),i=e(103),o=e(69),a=e(60),s=e(79),u=e(36);a(a.S,"Reflect",{get:function e(t,n){var a,c,l=arguments.length<3?t:arguments[2];return u(t)===l?t[n]:(a=r.f(t,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(l):void 0:s(c=i(t))?e(c,n,l):void 0}})},{103:103,36:36,60:60,69:69,79:79,99:99}],239:[function(e,t,n){var r=e(60);r(r.S,"Reflect",{has:function(e,t){return t in e}})},{60:60}],240:[function(e,t,n){var r=e(60),i=e(36),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},{36:36,60:60}],241:[function(e,t,n){var r=e(60);r(r.S,"Reflect",{ownKeys:e(109)})},{109:109,60:60}],242:[function(e,t,n){var r=e(60),i=e(36),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},{36:36,60:60}],243:[function(e,t,n){var r=e(60),i=e(120);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},{120:120,60:60}],244:[function(e,t,n){var r=e(97),i=e(99),o=e(103),a=e(69),s=e(60),u=e(114),c=e(36),l=e(79);s(s.S,"Reflect",{set:function e(t,n,s){var d,f,h=arguments.length<4?t:arguments[3],p=i.f(c(t),n);if(!p){if(l(f=o(t)))return e(f,n,s,h);p=u(0)}if(a(p,"value")){if(!1===p.writable||!l(h))return!1;if(d=i.f(h,n)){if(d.get||d.set||!1===d.writable)return!1;d.value=s,r.f(h,n,d)}else r.f(h,n,u(0,s));return!0}return void 0!==p.set&&(p.set.call(h,s),!0)}})},{103:103,114:114,36:36,60:60,69:69,79:79,97:97,99:99}],245:[function(e,t,n){var r=e(68),i=e(73),o=e(97).f,a=e(101).f,s=e(80),u=e(64),c=r.RegExp,l=c,d=c.prototype,f=/a/g,h=/a/g,p=new c(f)!==f;if(e(56)&&(!p||e(62)((function(){return h[e(150)("match")]=!1,c(f)!=f||c(h)==h||"/a/i"!=c(f,"i")})))){c=function(e,t){var n=this instanceof c,r=s(e),o=void 0===t;return!n&&r&&e.constructor===c&&o?e:i(p?new l(r&&!o?e.source:e,t):l((r=e instanceof c)?e.source:e,r&&o?u.call(e):t),n?this:d,c)};for(var m=function(e){e in c||o(c,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},v=a(l),g=0;v.length>g;)m(v[g++]);d.constructor=c,c.prototype=d,e(116)(r,"RegExp",c)}e(121)("RegExp")},{101:101,116:116,121:121,150:150,56:56,62:62,64:64,68:68,73:73,80:80,97:97}],246:[function(e,t,n){"use strict";var r=e(118);e(60)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},{118:118,60:60}],247:[function(e,t,n){e(56)&&"g"!=/./g.flags&&e(97).f(RegExp.prototype,"flags",{configurable:!0,get:e(64)})},{56:56,64:64,97:97}],248:[function(e,t,n){"use strict";var r=e(36),i=e(139),o=e(34),a=e(117);e(63)("match",1,(function(e,t,n,s){return[function(n){var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var u=r(e),c=String(this);if(!u.global)return a(u,c);var l=u.unicode;u.lastIndex=0;for(var d,f=[],h=0;null!==(d=a(u,c));){var p=String(d[0]);f[h]=p,""===p&&(u.lastIndex=o(c,i(u.lastIndex),l)),h++}return 0===h?null:f}]}))},{117:117,139:139,34:34,36:36,63:63}],249:[function(e,t,n){"use strict";var r=e(36),i=e(140),o=e(139),a=e(137),s=e(34),u=e(117),c=Math.max,l=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g,p=function(e){return void 0===e?e:String(e)};e(63)("replace",2,(function(e,t,n,m){return[function(r,i){var o=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(e,t){var i=m(n,e,this,t);if(i.done)return i.value;var d=r(e),f=String(this),h="function"==typeof t;h||(t=String(t));var g=d.global;if(g){var y=d.unicode;d.lastIndex=0}for(var b=[];;){var _=u(d,f);if(null===_)break;if(b.push(_),!g)break;""===String(_[0])&&(d.lastIndex=s(f,o(d.lastIndex),y))}for(var O="",w=0,E=0;E<b.length;E++){_=b[E];for(var S=String(_[0]),C=c(l(a(_.index),f.length),0),x=[],k=1;k<_.length;k++)x.push(p(_[k]));var T=_.groups;if(h){var j=[S].concat(x,C,f);void 0!==T&&j.push(T);var R=String(t.apply(void 0,j))}else R=v(S,f,C,x,T,t);C>=w&&(O+=f.slice(w,C)+R,w=C+S.length)}return O+f.slice(w)}];function v(e,t,r,o,a,s){var u=r+e.length,c=o.length,l=h;return void 0!==a&&(a=i(a),l=f),n.call(s,l,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(u);case"<":s=a[i.slice(1,-1)];break;default:var l=+i;if(0===l)return n;if(l>c){var f=d(l/10);return 0===f?n:f<=c?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):n}s=o[l-1]}return void 0===s?"":s}))}}))},{117:117,137:137,139:139,140:140,34:34,36:36,63:63}],250:[function(e,t,n){"use strict";var r=e(36),i=e(119),o=e(117);e(63)("search",1,(function(e,t,n,a){return[function(n){var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=a(n,e,this);if(t.done)return t.value;var s=r(e),u=String(this),c=s.lastIndex;i(c,0)||(s.lastIndex=0);var l=o(s,u);return i(s.lastIndex,c)||(s.lastIndex=c),null===l?-1:l.index}]}))},{117:117,119:119,36:36,63:63}],251:[function(e,t,n){"use strict";var r=e(80),i=e(36),o=e(125),a=e(34),s=e(139),u=e(117),c=e(118),l=e(62),d=Math.min,f=[].push,h=!l((function(){RegExp(4294967295,"y")}));e(63)("split",2,(function(e,t,n,l){var p;return p="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(i,e,t);for(var o,a,s,u=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,h=void 0===t?4294967295:t>>>0,p=new RegExp(e.source,l+"g");(o=c.call(p,i))&&!((a=p.lastIndex)>d&&(u.push(i.slice(d,o.index)),o.length>1&&o.index<i.length&&f.apply(u,o.slice(1)),s=o[0].length,d=a,u.length>=h));)p.lastIndex===o.index&&p.lastIndex++;return d===i.length?!s&&p.test("")||u.push(""):u.push(i.slice(d)),u.length>h?u.slice(0,h):u}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var i=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,i,r):p.call(String(i),n,r)},function(e,t){var r=l(p,e,this,t,p!==n);if(r.done)return r.value;var c=i(e),f=String(this),m=o(c,RegExp),v=c.unicode,g=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(h?"y":"g"),y=new m(h?c:"^(?:"+c.source+")",g),b=void 0===t?4294967295:t>>>0;if(0===b)return[];if(0===f.length)return null===u(y,f)?[f]:[];for(var _=0,O=0,w=[];O<f.length;){y.lastIndex=h?O:0;var E,S=u(y,h?f:f.slice(O));if(null===S||(E=d(s(y.lastIndex+(h?0:O)),f.length))===_)O=a(f,O,v);else{if(w.push(f.slice(_,O)),w.length===b)return w;for(var C=1;C<=S.length-1;C++)if(w.push(S[C]),w.length===b)return w;O=_=E}}return w.push(f.slice(_)),w}]}))},{117:117,118:118,125:125,139:139,34:34,36:36,62:62,63:63,80:80}],252:[function(e,t,n){"use strict";e(247);var r=e(36),i=e(64),o=e(56),a=/./.toString,s=function(t){e(116)(RegExp.prototype,"toString",t,!0)};e(62)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?s((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)})):"toString"!=a.name&&s((function(){return a.call(this)}))},{116:116,247:247,36:36,56:56,62:62,64:64}],253:[function(e,t,n){"use strict";var r=e(47),i=e(147);t.exports=e(49)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},{147:147,47:47,49:49}],254:[function(e,t,n){"use strict";e(129)("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},{129:129}],255:[function(e,t,n){"use strict";e(129)("big",(function(e){return function(){return e(this,"big","","")}}))},{129:129}],256:[function(e,t,n){"use strict";e(129)("blink",(function(e){return function(){return e(this,"blink","","")}}))},{129:129}],257:[function(e,t,n){"use strict";e(129)("bold",(function(e){return function(){return e(this,"b","","")}}))},{129:129}],258:[function(e,t,n){"use strict";var r=e(60),i=e(127)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},{127:127,60:60}],259:[function(e,t,n){"use strict";var r=e(60),i=e(139),o=e(128),a="".endsWith;r(r.P+r.F*e(61)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),s=void 0===n?r:Math.min(i(n),r),u=String(e);return a?a.call(t,u,s):t.slice(s-u.length,s)===u}})},{128:128,139:139,60:60,61:61}],260:[function(e,t,n){"use strict";e(129)("fixed",(function(e){return function(){return e(this,"tt","","")}}))},{129:129}],261:[function(e,t,n){"use strict";e(129)("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},{129:129}],262:[function(e,t,n){"use strict";e(129)("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},{129:129}],263:[function(e,t,n){var r=e(60),i=e(135),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},{135:135,60:60}],264:[function(e,t,n){"use strict";var r=e(60),i=e(128);r(r.P+r.F*e(61)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},{128:128,60:60,61:61}],265:[function(e,t,n){"use strict";e(129)("italics",(function(e){return function(){return e(this,"i","","")}}))},{129:129}],266:[function(e,t,n){"use strict";var r=e(127)(!0);e(83)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},{127:127,83:83}],267:[function(e,t,n){"use strict";e(129)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},{129:129}],268:[function(e,t,n){var r=e(60),i=e(138),o=e(139);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},{138:138,139:139,60:60}],269:[function(e,t,n){var r=e(60);r(r.P,"String",{repeat:e(131)})},{131:131,60:60}],270:[function(e,t,n){"use strict";e(129)("small",(function(e){return function(){return e(this,"small","","")}}))},{129:129}],271:[function(e,t,n){"use strict";var r=e(60),i=e(139),o=e(128),a="".startsWith;r(r.P+r.F*e(61)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},{128:128,139:139,60:60,61:61}],272:[function(e,t,n){"use strict";e(129)("strike",(function(e){return function(){return e(this,"strike","","")}}))},{129:129}],273:[function(e,t,n){"use strict";e(129)("sub",(function(e){return function(){return e(this,"sub","","")}}))},{129:129}],274:[function(e,t,n){"use strict";e(129)("sup",(function(e){return function(){return e(this,"sup","","")}}))},{129:129}],275:[function(e,t,n){"use strict";e(132)("trim",(function(e){return function(){return e(this,3)}}))},{132:132}],276:[function(e,t,n){"use strict";var r=e(68),i=e(69),o=e(56),a=e(60),s=e(116),u=e(92).KEY,c=e(62),l=e(124),d=e(122),f=e(145),h=e(150),p=e(149),m=e(148),v=e(59),g=e(77),y=e(36),b=e(79),_=e(140),O=e(138),w=e(141),E=e(114),S=e(96),C=e(100),x=e(99),k=e(102),T=e(97),j=e(105),R=x.f,P=T.f,D=C.f,I=r.Symbol,A=r.JSON,M=A&&A.stringify,N=h("_hidden"),L=h("toPrimitive"),F={}.propertyIsEnumerable,B=l("symbol-registry"),U=l("symbols"),z=l("op-symbols"),V=Object.prototype,H="function"==typeof I&&!!k.f,W=r.QObject,G=!W||!W.prototype||!W.prototype.findChild,q=o&&c((function(){return 7!=S(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=R(V,t);r&&delete V[t],P(e,t,n),r&&e!==V&&P(V,t,r)}:P,$=function(e){var t=U[e]=S(I.prototype);return t._k=e,t},Y=H&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},K=function(e,t,n){return e===V&&K(z,t,n),y(e),t=w(t,!0),y(n),i(U,t)?(n.enumerable?(i(e,N)&&e[N][t]&&(e[N][t]=!1),n=S(n,{enumerable:E(0,!1)})):(i(e,N)||P(e,N,E(1,{})),e[N][t]=!0),q(e,t,n)):P(e,t,n)},X=function(e,t){y(e);for(var n,r=v(t=O(t)),i=0,o=r.length;o>i;)K(e,n=r[i++],t[n]);return e},Z=function(e){var t=F.call(this,e=w(e,!0));return!(this===V&&i(U,e)&&!i(z,e))&&(!(t||!i(this,e)||!i(U,e)||i(this,N)&&this[N][e])||t)},J=function(e,t){if(e=O(e),t=w(t,!0),e!==V||!i(U,t)||i(z,t)){var n=R(e,t);return!n||!i(U,t)||i(e,N)&&e[N][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=D(O(e)),r=[],o=0;n.length>o;)i(U,t=n[o++])||t==N||t==u||r.push(t);return r},ee=function(e){for(var t,n=e===V,r=D(n?z:O(e)),o=[],a=0;r.length>a;)!i(U,t=r[a++])||n&&!i(V,t)||o.push(U[t]);return o};H||(s((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===V&&t.call(z,n),i(this,N)&&i(this[N],e)&&(this[N][e]=!1),q(this,e,E(1,n))};return o&&G&&q(V,e,{configurable:!0,set:t}),$(e)}).prototype,"toString",(function(){return this._k})),x.f=J,T.f=K,e(101).f=C.f=Q,e(106).f=Z,k.f=ee,o&&!e(87)&&s(V,"propertyIsEnumerable",Z,!0),p.f=function(e){return $(h(e))}),a(a.G+a.W+a.F*!H,{Symbol:I});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)h(te[ne++]);for(var re=j(h.store),ie=0;re.length>ie;)m(re[ie++]);a(a.S+a.F*!H,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=I(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!H,"Object",{create:function(e,t){return void 0===t?S(e):X(S(e),t)},defineProperty:K,defineProperties:X,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:ee});var oe=c((function(){k.f(1)}));a(a.S+a.F*oe,"Object",{getOwnPropertySymbols:function(e){return k.f(_(e))}}),A&&a(a.S+a.F*(!H||c((function(){var e=I();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Y(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,M.apply(A,r)}}),I.prototype[L]||e(70)(I.prototype,L,I.prototype.valueOf),d(I,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},{100:100,101:101,102:102,105:105,106:106,114:114,116:116,122:122,124:124,138:138,140:140,141:141,145:145,148:148,149:149,150:150,36:36,56:56,59:59,60:60,62:62,68:68,69:69,70:70,77:77,79:79,87:87,92:92,96:96,97:97,99:99}],277:[function(e,t,n){"use strict";var r=e(60),i=e(144),o=e(143),a=e(36),s=e(135),u=e(139),c=e(79),l=e(68).ArrayBuffer,d=e(125),f=o.ArrayBuffer,h=o.DataView,p=i.ABV&&l.isView,m=f.prototype.slice,v=i.VIEW;r(r.G+r.W+r.F*(l!==f),{ArrayBuffer:f}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(e){return p&&p(e)||c(e)&&v in e}}),r(r.P+r.U+r.F*e(62)((function(){return!new f(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(d(this,f))(u(i-r)),c=new h(this),l=new h(o),p=0;r<i;)l.setUint8(p++,c.getUint8(r++));return o}}),e(121)("ArrayBuffer")},{121:121,125:125,135:135,139:139,143:143,144:144,36:36,60:60,62:62,68:68,79:79}],278:[function(e,t,n){var r=e(60);r(r.G+r.W+r.F*!e(144).ABV,{DataView:e(143).DataView})},{143:143,144:144,60:60}],279:[function(e,t,n){e(142)("Float32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],280:[function(e,t,n){e(142)("Float64",8,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],281:[function(e,t,n){e(142)("Int16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],282:[function(e,t,n){e(142)("Int32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],283:[function(e,t,n){e(142)("Int8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],284:[function(e,t,n){e(142)("Uint16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],285:[function(e,t,n){e(142)("Uint32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],286:[function(e,t,n){e(142)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],287:[function(e,t,n){e(142)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},{142:142}],288:[function(e,t,n){"use strict";var r,i=e(68),o=e(40)(0),a=e(116),s=e(92),u=e(95),c=e(48),l=e(79),d=e(147),f=e(147),h=!i.ActiveXObject&&"ActiveXObject"in i,p=s.getWeak,m=Object.isExtensible,v=c.ufstore,g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(e){if(l(e)){var t=p(e);return!0===t?v(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(d(this,"WeakMap"),e,t)}},b=t.exports=e(49)("WeakMap",g,y,c,!0,!0);f&&h&&(u((r=c.getConstructor(g,"WeakMap")).prototype,y),s.NEED=!0,o(["delete","has","get","set"],(function(e){var t=b.prototype,n=t[e];a(t,e,(function(t,i){if(l(t)&&!m(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)}))})))},{116:116,147:147,40:40,48:48,49:49,68:68,79:79,92:92,95:95}],289:[function(e,t,n){"use strict";var r=e(48),i=e(147);e(49)("WeakSet",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"WeakSet"),e,!0)}},r,!1,!0)},{147:147,48:48,49:49}],290:[function(e,t,n){"use strict";var r=e(60),i=e(65),o=e(140),a=e(139),s=e(31),u=e(43);r(r.P,"Array",{flatMap:function(e){var t,n,r=o(this);return s(e),t=a(r.length),n=u(r,0),i(n,r,r,t,0,1,e,arguments[1]),n}}),e(33)("flatMap")},{139:139,140:140,31:31,33:33,43:43,60:60,65:65}],291:[function(e,t,n){"use strict";var r=e(60),i=e(39)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),e(33)("includes")},{33:33,39:39,60:60}],292:[function(e,t,n){var r=e(60),i=e(108)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},{108:108,60:60}],293:[function(e,t,n){var r=e(60),i=e(109),o=e(138),a=e(99),s=e(51);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),u=a.f,c=i(r),l={},d=0;c.length>d;)void 0!==(n=u(r,t=c[d++]))&&s(l,t,n);return l}})},{109:109,138:138,51:51,60:60,99:99}],294:[function(e,t,n){var r=e(60),i=e(108)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},{108:108,60:60}],295:[function(e,t,n){"use strict";var r=e(60),i=e(50),o=e(68),a=e(125),s=e(113);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},{113:113,125:125,50:50,60:60,68:68}],296:[function(e,t,n){"use strict";var r=e(60),i=e(130),o=e(146),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},{130:130,146:146,60:60}],297:[function(e,t,n){"use strict";var r=e(60),i=e(130),o=e(146),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},{130:130,146:146,60:60}],298:[function(e,t,n){"use strict";e(132)("trimLeft",(function(e){return function(){return e(this,1)}}),"trimStart")},{132:132}],299:[function(e,t,n){"use strict";e(132)("trimRight",(function(e){return function(){return e(this,2)}}),"trimEnd")},{132:132}],300:[function(e,t,n){e(148)("asyncIterator")},{148:148}],301:[function(e,t,n){for(var r=e(162),i=e(105),o=e(116),a=e(68),s=e(70),u=e(86),c=e(150),l=c("iterator"),d=c("toStringTag"),f=u.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(h),m=0;m<p.length;m++){var v,g=p[m],y=h[g],b=a[g],_=b&&b.prototype;if(_&&(_[l]||s(_,l,f),_[d]||s(_,d,g),u[g]=f,y))for(v in r)_[v]||o(_,v,r[v],!0)}},{105:105,116:116,150:150,162:162,68:68,70:70,86:86}],302:[function(e,t,n){var r=e(60),i=e(134);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},{134:134,60:60}],303:[function(e,t,n){var r=e(68),i=e(60),o=e(146),a=[].slice,s=/MSIE .\./.test(o),u=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},{146:146,60:60,68:68}],304:[function(e,t,n){e(303),e(302),e(301),t.exports=e(50)},{301:301,302:302,303:303,50:50}],305:[function(e,t,n){var r=(function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),a=new k(r||[]);return o._invoke=(function(e,t,n){var r=l;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return j()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?h:d,u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}})(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l="suspendedStart",d="suspendedYield",f="executing",h="completed",p={};function m(){}function v(){}function g(){}var y={};y[o]=function(){return this};var b=Object.getPrototypeOf,_=b&&b(b(T([])));_&&_!==n&&r.call(_,o)&&(y=_);var O=g.prototype=m.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function E(e,t){var n;this._invoke=function(i,o){function a(){return new t(function(n,a){!(function n(i,o,a,s){var u=c(e[i],e,o);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)})(i,o,n,a)})}return n=n?n.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:j}}function j(){return{value:t,done:!0}}return v.prototype=O.constructor=g,g.constructor=v,g[s]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(O),e},e.awrap=function(e){return{__await:e}},w(E.prototype),E.prototype[a]=function(){return this},e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new E(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(O),O[s]="Generator",O[o]=function(){return this},O.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e})("object"==typeof t?t.exports:{});try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},{}],306:[function(e,t,n){"use strict";e(307);var r=(function(e){return e&&e.__esModule?e:{default:e}})(e(13));r.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),r.default._babelPolyfill=!0},{13:13,307:307}],307:[function(e,t,n){"use strict";e(1),e(3),e(2),e(9),e(8),e(11),e(10),e(12),e(5),e(6),e(4),e(7),e(304),e(305)},{1:1,10:10,11:11,12:12,2:2,3:3,304:304,305:305,4:4,5:5,6:6,7:7,8:8,9:9}]},{},[306])}),(function(e,t){
/*! jQuery UI - v1.11.4 - 2015-06-04
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, droppable.js, resizable.js, selectable.js, sortable.js, autocomplete.js, button.js, datepicker.js, dialog.js, menu.js, progressbar.js, slider.js, spinner.js, tabs.js, tooltip.js, effect.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */
!(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})((function(e){function t(t,r){var i,o,a,s=t.nodeName.toLowerCase();return"area"===s?(o=(i=t.parentNode).name,!(!t.href||!o||"map"!==i.nodeName.toLowerCase())&&(!!(a=e("img[usemap='#"+o+"']")[0])&&n(a))):(/^(input|select|textarea|button|object)$/.test(s)?!t.disabled:"a"===s&&t.href||r)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter((function(){return"hidden"===e.css(this,"visibility")})).length}
/*!
 * jQuery UI Core 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),r="absolute"===n,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter((function(){var t=e(this);return(!r||"static"!==t.css("position"))&&i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))})).eq(0);return"fixed"!==n&&o.length?o:e(this[0].ownerDocument||document)},uniqueId:(function(){var e=0;return function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++e)}))}})(),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")}))}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo((function(t){return function(n){return!!e.data(n,t)}})):function(t,n,r){return!!e.data(t,r[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var r=e.attr(n,"tabindex"),i=isNaN(r);return(i||r>=0)&&t(n,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],(function(t,n){var r="Width"===n?["Left","Right"]:["Top","Bottom"],i=n.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};function a(t,n,i,o){return e.each(r,(function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)})),n}e.fn["inner"+n]=function(t){return void 0===t?o["inner"+n].call(this):this.each((function(){e(this).css(i,a(this,t)+"px")}))},e.fn["outer"+n]=function(t,r){return"number"!=typeof t?o["outer"+n].call(this,t):this.each((function(){e(this).css(i,a(this,t,!0,r)+"px")}))}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=(function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}})(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:(function(t){return function(n,r){return"number"==typeof n?this.each((function(){var t=this;setTimeout((function(){e(t).focus(),r&&r.call(t)}),n)})):t.apply(this,arguments)}})(e.fn.focus),disableSelection:(function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",(function(e){e.preventDefault()}))}})(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,r,i=e(this[0]);i.length&&i[0]!==document;){if(("absolute"===(n=i.css("position"))||"relative"===n||"fixed"===n)&&(r=parseInt(i.css("zIndex"),10),!isNaN(r)&&0!==r))return r;i=i.parent()}return 0}}),e.ui.plugin={add:function(t,n,r){var i,o=e.ui[t].prototype;for(i in r)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([n,r[i]])},call:function(e,t,n,r){var i,o=e.plugins[t];if(o&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;i<o.length;i++)e.options[o[i][0]]&&o[i][1].apply(e.element,n)}};
/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
var r=0,i=Array.prototype.slice;e.cleanData=(function(t){return function(n){var r,i,o;for(o=0;null!=(i=n[o]);o++)try{(r=e._data(i,"events"))&&r.remove&&e(i).triggerHandler("remove")}catch(e){}t(n)}})(e.cleanData),e.widget=function(t,n,r){var i,o,a,s,u={},c=t.split(".")[0];return t=t.split(".")[1],i=c+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[c]=e[c]||{},o=e[c][t],a=e[c][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,o,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),(s=new n).options=e.widget.extend({},s.options),e.each(r,(function(t,r){e.isFunction(r)?u[t]=(function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=o,t}})():u[t]=r})),a.prototype=e.widget.extend(s,{widgetEventPrefix:o&&s.widgetEventPrefix||t},u,{constructor:a,namespace:c,widgetName:t,widgetFullName:i}),o?(e.each(o._childConstructors,(function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,a,n._proto)})),delete o._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var n,r,o=i.call(arguments,1),a=0,s=o.length;a<s;a++)for(n in o[a])r=o[a][n],o[a].hasOwnProperty(n)&&void 0!==r&&(e.isPlainObject(r)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],r):e.widget.extend({},r):t[n]=r);return t},e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(o){var a="string"==typeof o,s=i.call(arguments,1),u=this;return a?this.each((function(){var n,i=e.data(this,r);return"instance"===o?(u=i,!1):i?e.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,s))!==i&&void 0!==n?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")})):(s.length&&(o=e.widget.extend.apply(null,[o].concat(s))),this.each((function(){var t=e.data(this,r);t?(t.option(o||{}),t._init&&t._init()):e.data(this,r,new n(o,this))}))),u}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=r++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,i,o,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},t=(r=t.split(".")).shift(),r.length){for(i=a[t]=e.widget.extend({},this.options[t]),o=0;o<r.length-1;o++)i[r[o]]=i[r[o]]||{},i=i[r[o]];if(t=r.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var i,o=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,(function(r,a){function s(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var u=r.match(/^([\w:-]*)\s*(.*)$/),c=u[1]+o.eventNamespace,l=u[2];l?i.delegate(l,c,s):n.bind(c,s)}))},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var n=this;return setTimeout((function(){return("string"==typeof e?n[e]:e).apply(n,arguments)}),t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,o,a=this.options[t];if(r=r||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!(e.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(r))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,n){e.Widget.prototype["_"+t]=function(r,i,o){"string"==typeof i&&(i={effect:i});var a,s=i?!0===i||"number"==typeof i?n:i.effect||n:t;"number"==typeof(i=i||{})&&(i={duration:i}),a=!e.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),a&&e.effects&&e.effects.effect[s]?r[t](i):s!==t&&r[s]?r[s](i.duration,i.easing,o):r.queue((function(n){e(this)[t](),o&&o.call(r[0]),n()}))}}));e.widget;
/*!
 * jQuery UI Mouse 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 */var o=!1;e(document).mouseup((function(){o=!1}));e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,(function(e){return t._mouseDown(e)})).bind("click."+this.widgetName,(function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,r=1===t.which,i=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(r&&!i&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){n.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),o=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),o=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});
/*!
 * jQuery UI Position 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
/*!
 * jQuery UI Position 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
!(function(){e.ui=e.ui||{};var t,n,r=Math.max,i=Math.abs,o=Math.round,a=/left|center|right/,s=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,l=/%$/,d=e.fn.position;function f(e,t,n){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?n/100:1)]}function h(t,n){return parseInt(e.css(t,n),10)||0}e.position={scrollbarWidth:function(){if(void 0!==t)return t;var n,r,i=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return e("body").append(i),n=o.offsetWidth,i.css("overflow","scroll"),n===(r=o.offsetWidth)&&(r=i[0].clientWidth),i.remove(),t=n-r},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth;return{width:"scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:i?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]),i=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:r,isDocument:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:r||i?n.width():n.outerWidth(),height:r||i?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return d.apply(this,arguments);t=e.extend({},t);var l,p,m,v,g,y,b=e(t.of),_=e.position.getWithinInfo(t.within),O=e.position.getScrollInfo(_),w=(t.collision||"flip").split(" "),E={};return y=(function(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}})(b),b[0].preventDefault&&(t.at="left top"),p=y.width,m=y.height,v=y.offset,g=e.extend({},v),e.each(["my","at"],(function(){var e,n,r=(t[this]||"").split(" ");1===r.length&&(r=a.test(r[0])?r.concat(["center"]):s.test(r[0])?["center"].concat(r):["center","center"]),r[0]=a.test(r[0])?r[0]:"center",r[1]=s.test(r[1])?r[1]:"center",e=u.exec(r[0]),n=u.exec(r[1]),E[this]=[e?e[0]:0,n?n[0]:0],t[this]=[c.exec(r[0])[0],c.exec(r[1])[0]]})),1===w.length&&(w[1]=w[0]),"right"===t.at[0]?g.left+=p:"center"===t.at[0]&&(g.left+=p/2),"bottom"===t.at[1]?g.top+=m:"center"===t.at[1]&&(g.top+=m/2),l=f(E.at,p,m),g.left+=l[0],g.top+=l[1],this.each((function(){var a,s,u=e(this),c=u.outerWidth(),d=u.outerHeight(),y=h(this,"marginLeft"),S=h(this,"marginTop"),C=c+y+h(this,"marginRight")+O.width,x=d+S+h(this,"marginBottom")+O.height,k=e.extend({},g),T=f(E.my,u.outerWidth(),u.outerHeight());"right"===t.my[0]?k.left-=c:"center"===t.my[0]&&(k.left-=c/2),"bottom"===t.my[1]?k.top-=d:"center"===t.my[1]&&(k.top-=d/2),k.left+=T[0],k.top+=T[1],n||(k.left=o(k.left),k.top=o(k.top)),a={marginLeft:y,marginTop:S},e.each(["left","top"],(function(n,r){e.ui.position[w[n]]&&e.ui.position[w[n]][r](k,{targetWidth:p,targetHeight:m,elemWidth:c,elemHeight:d,collisionPosition:a,collisionWidth:C,collisionHeight:x,offset:[l[0]+T[0],l[1]+T[1]],my:t.my,at:t.at,within:_,elem:u})})),t.using&&(s=function(e){var n=v.left-k.left,o=n+p-c,a=v.top-k.top,s=a+m-d,l={target:{element:b,left:v.left,top:v.top,width:p,height:m},element:{element:u,left:k.left,top:k.top,width:c,height:d},horizontal:o<0?"left":n>0?"right":"center",vertical:s<0?"top":a>0?"bottom":"middle"};p<c&&i(n+o)<p&&(l.horizontal="center"),m<d&&i(a+s)<m&&(l.vertical="middle"),r(i(n),i(o))>r(i(a),i(s))?l.important="horizontal":l.important="vertical",t.using.call(this,e,l)}),u.offset(e.extend(k,{using:s}))}))},e.ui.position={fit:{left:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollLeft:i.offset.left,a=i.width,s=e.left-t.collisionPosition.marginLeft,u=o-s,c=s+t.collisionWidth-a-o;t.collisionWidth>a?u>0&&c<=0?(n=e.left+u+t.collisionWidth-a-o,e.left+=u-n):e.left=c>0&&u<=0?o:u>c?o+a-t.collisionWidth:o:u>0?e.left+=u:c>0?e.left-=c:e.left=r(e.left-s,e.left)},top:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollTop:i.offset.top,a=t.within.height,s=e.top-t.collisionPosition.marginTop,u=o-s,c=s+t.collisionHeight-a-o;t.collisionHeight>a?u>0&&c<=0?(n=e.top+u+t.collisionHeight-a-o,e.top+=u-n):e.top=c>0&&u<=0?o:u>c?o+a-t.collisionHeight:o:u>0?e.top+=u:c>0?e.top-=c:e.top=r(e.top-s,e.top)}},flip:{left:function(e,t){var n,r,o=t.within,a=o.offset.left+o.scrollLeft,s=o.width,u=o.isWindow?o.scrollLeft:o.offset.left,c=e.left-t.collisionPosition.marginLeft,l=c-u,d=c+t.collisionWidth-s-u,f="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,h="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];l<0?((n=e.left+f+h+p+t.collisionWidth-s-a)<0||n<i(l))&&(e.left+=f+h+p):d>0&&((r=e.left-t.collisionPosition.marginLeft+f+h+p-u)>0||i(r)<d)&&(e.left+=f+h+p)},top:function(e,t){var n,r,o=t.within,a=o.offset.top+o.scrollTop,s=o.height,u=o.isWindow?o.scrollTop:o.offset.top,c=e.top-t.collisionPosition.marginTop,l=c-u,d=c+t.collisionHeight-s-u,f="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,h="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1];l<0?((r=e.top+f+h+p+t.collisionHeight-s-a)<0||r<i(l))&&(e.top+=f+h+p):d>0&&((n=e.top-t.collisionPosition.marginTop+f+h+p-u)>0||i(n)<d)&&(e.top+=f+h+p)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},(function(){var t,r,i,o,a,s=document.getElementsByTagName("body")[0],u=document.createElement("div");for(a in t=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"}),i)t.style[a]=i[a];t.appendChild(u),(r=s||document.documentElement).insertBefore(t,r.firstChild),u.style.cssText="position: absolute; left: 10.7432222px;",o=e(u).offset().left,n=o>10&&o<11,t.innerHTML="",r.removeChild(t)})()})();e.ui.position;
/*!
 * jQuery UI Draggable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return this._blurActiveElement(t),!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map((function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=this.document[0];if(this.handleElement.is(t.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&e(n.activeElement).blur()}catch(e){}},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===e(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(!1===this._trigger("drag",t,r))return this._mouseUp({}),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==n._trigger("stop",t)&&n._clear()})):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper),i=r?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),r&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options,o=this.document[0];this.relativeContainer=null,i.containment?"window"!==i.containment?"document"!==i.containment?i.containment.constructor!==Array?("parent"===i.containment&&(i.containment=this.helper[0].parentNode),(r=(n=e(i.containment))[0])&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=i.containment:this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,r,i,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),u=e.pageX,c=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(u=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(u=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),a.grid&&(i=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-a.grid[1]:i+a.grid[1]:i,o=a.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,u=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(u=this.originalPageX),"x"===a.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,r){var i=e.extend({},n,{item:r.element});r.sortables=[],e(r.options.connectToSortable).each((function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(r.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,i))}))},stop:function(t,n,r){var i=e.extend({},n,{item:r.element});r.cancelHelperRemoval=!1,e.each(r.sortables,(function(){this.isOver?(this.isOver=0,r.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(t),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",t,i))}))},drag:function(t,n,r){e.each(r.sortables,(function(){var i=!1,o=this;o.positionAbs=r.positionAbs,o.helperProportions=r.helperProportions,o.offset.click=r.offset.click,o._intersectsWith(o.containerCache)&&(i=!0,e.each(r.sortables,(function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(i=!1),i}))),i?(o.isOver||(o.isOver=1,r._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=r.offset.click.top,o.offset.click.left=r.offset.click.left,o.offset.parent.left-=r.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=r.offset.parent.top-o.offset.parent.top,r._trigger("toSortable",t),r.dropped=o.element,e.each(r.sortables,(function(){this.refreshPositions()})),r.currentItem=r.element,o.fromOutside=r),o.currentItem&&(o._mouseDrag(t),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(r._parent),r._refreshOffsets(t),n.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,e.each(r.sortables,(function(){this.refreshPositions()})))}))}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,r){var i=e("body"),o=r.options;i.css("cursor")&&(o._cursor=i.css("cursor")),i.css("cursor",o.cursor)},stop:function(t,n,r){var i=r.options;i._cursor&&e("body").css("cursor",i._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,r){var i=e(n.helper),o=r.options;i.css("opacity")&&(o._opacity=i.css("opacity")),i.css("opacity",o.opacity)},stop:function(t,n,r){var i=r.options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,r){var i=r.options,o=!1,a=r.scrollParentNotHidden[0],s=r.document[0];a!==s&&"HTML"!==a.tagName?(i.axis&&"x"===i.axis||(r.overflowOffset.top+a.offsetHeight-t.pageY<i.scrollSensitivity?a.scrollTop=o=a.scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(r.overflowOffset.left+a.offsetWidth-t.pageX<i.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(s).scrollTop()<i.scrollSensitivity?o=e(s).scrollTop(e(s).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(s).scrollTop())<i.scrollSensitivity&&(o=e(s).scrollTop(e(s).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(s).scrollLeft()<i.scrollSensitivity?o=e(s).scrollLeft(e(s).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(s).scrollLeft())<i.scrollSensitivity&&(o=e(s).scrollLeft(e(s).scrollLeft()+i.scrollSpeed)))),!1!==o&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,r){var i=r.options;r.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each((function(){var t=e(this),n=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})}))},drag:function(t,n,r){var i,o,a,s,u,c,l,d,f,h,p=r.options,m=p.snapTolerance,v=n.offset.left,g=v+r.helperProportions.width,y=n.offset.top,b=y+r.helperProportions.height;for(f=r.snapElements.length-1;f>=0;f--)c=(u=r.snapElements[f].left-r.margins.left)+r.snapElements[f].width,d=(l=r.snapElements[f].top-r.margins.top)+r.snapElements[f].height,g<u-m||v>c+m||b<l-m||y>d+m||!e.contains(r.snapElements[f].item.ownerDocument,r.snapElements[f].item)?(r.snapElements[f].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[f].item})),r.snapElements[f].snapping=!1):("inner"!==p.snapMode&&(i=Math.abs(l-b)<=m,o=Math.abs(d-y)<=m,a=Math.abs(u-g)<=m,s=Math.abs(c-v)<=m,i&&(n.position.top=r._convertPositionTo("relative",{top:l-r.helperProportions.height,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:d,left:0}).top),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:u-r.helperProportions.width}).left),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c}).left)),h=i||o||a||s,"outer"!==p.snapMode&&(i=Math.abs(l-y)<=m,o=Math.abs(d-b)<=m,a=Math.abs(u-v)<=m,s=Math.abs(c-g)<=m,i&&(n.position.top=r._convertPositionTo("relative",{top:l,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:d-r.helperProportions.height,left:0}).top),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:u}).left),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left)),!r.snapElements[f].snapping&&(i||o||a||s||h)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[f].item})),r.snapElements[f].snapping=i||o||a||s||h)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,r){var i,o=r.options,a=e.makeArray(e(o.stack)).sort((function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)}));a.length&&(i=parseInt(e(a[0]).css("zIndex"),10)||0,e(a).each((function(t){e(this).css("zIndex",i+t)})),this.css("zIndex",i+a.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,r){var i=e(n.helper),o=r.options;i.css("zIndex")&&(o._zIndex=i.css("zIndex")),i.css("zIndex",o.zIndex)},stop:function(t,n,r){var i=r.options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}});e.ui.draggable;
/*!
 * jQuery UI Droppable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/droppable/
 */e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,r=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(r)?r:function(e){return e.is(r)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var r=e.ui.ddmanager.droppables[this.options.scope];this._splice(r),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var r=n||e.ui.ddmanager.current,i=!1;return!(!r||(r.currentItem||r.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var n=e(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===r.options.scope&&n.accept.call(n.element[0],r.currentItem||r.element)&&e.ui.intersect(r,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,t))return i=!0,!1})),!i&&(!!this.accept.call(this.element[0],r.currentItem||r.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=(function(){function e(e,t,n){return e>=t&&e<t+n}return function(t,n,r,i){if(!n.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,a=(t.positionAbs||t.position.absolute).top+t.margins.top,s=o+t.helperProportions.width,u=a+t.helperProportions.height,c=n.offset.left,l=n.offset.top,d=c+n.proportions().width,f=l+n.proportions().height;switch(r){case"fit":return c<=o&&s<=d&&l<=a&&u<=f;case"intersect":return c<o+t.helperProportions.width/2&&s-t.helperProportions.width/2<d&&l<a+t.helperProportions.height/2&&u-t.helperProportions.height/2<f;case"pointer":return e(i.pageY,l,n.proportions().height)&&e(i.pageX,c,n.proportions().width);case"touch":return(a>=l&&a<=f||u>=l&&u<=f||a<l&&u>f)&&(o>=c&&o<=d||s>=c&&s<=d||o<c&&s>d);default:return!1}}})(),e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,n){var r,i,o=e.ui.ddmanager.droppables[t.options.scope]||[],a=n?n.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(r=0;r<o.length;r++)if(!(o[r].options.disabled||t&&!o[r].accept.call(o[r].element[0],t.currentItem||t.element))){for(i=0;i<s.length;i++)if(s[i]===o[r].element[0]){o[r].proportions().height=0;continue e}o[r].visible="none"!==o[r].element.css("display"),o[r].visible&&("mousedown"===a&&o[r]._activate.call(o[r],n),o[r].offset=o[r].element.offset(),o[r].proportions({width:o[r].element[0].offsetWidth,height:o[r].element[0].offsetHeight}))}},drop:function(t,n){var r=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,n)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))})),r},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",(function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}))},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,i,o,a=e.ui.intersect(t,this,this.options.tolerance,n),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;s&&(this.options.greedy&&(i=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter((function(){return e(this).droppable("instance").options.scope===i}))).length&&((r=e(o[0]).droppable("instance")).greedyChild="isover"===s)),r&&"isover"===s&&(r.isover=!1,r.isout=!0,r._out.call(r,n)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,n),r&&"isout"===s&&(r.isout=!1,r.isover=!0,r._over.call(r,n)))}}))},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}};e.ui.droppable;
/*!
 * jQuery UI Resizable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var r,i=n&&"left"===n?"scrollLeft":"scrollTop";return t[i]>0||(t[i]=1,r=t[i]>0,t[i]=0,r)},_create:function(){var t,n,r,i,o=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;n<t.length;n++)r=e.trim(t[n]),(i=e("<div class='ui-resizable-handle "+("ui-resizable-"+r)+"'></div>")).css({zIndex:a.zIndex}),"se"===r&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(i);this._renderAxis=function(t){var n,r,i,a;for(n in t=t||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(r=e(this.handles[n],this.element),a=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth(),i=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(i,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover((function(){o.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=i&&i[1]?i[1]:"se")})),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter((function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())})).mouseleave((function(){a.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())}))),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,r,i=!1;for(n in this.handles)((r=e(this.handles[n])[0])===t.target||e.contains(r,t.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var n,r,i,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),r=this._num(this.helper.css("top")),o.containment&&(n+=e(o.containment).scrollLeft()||0,r+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:n,top:r},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===i?this.axis+"-resize":i),a.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,r,i=this.originalMousePosition,o=this.axis,a=t.pageX-i.left||0,s=t.pageY-i.top||0,u=this._change[o];return this._updatePrevProperties(),!!u&&(n=u.apply(this,[t,a,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var n,r,i,o,a,s,u,c=this.options;return this._helper&&(i=(r=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:this.sizeDiff.height,o=r?0:this.sizeDiff.width,a={width:this.helper.width()-o,height:this.helper.height()-i},s=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null,u=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,c.animate||this.element.css(e.extend(a,{top:u,left:s})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,r,i,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,r=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,i=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),r>o.minHeight&&(o.minHeight=r),n<o.maxWidth&&(o.maxWidth=n),i<o.maxHeight&&(o.maxHeight=i)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,r=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,i=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,a=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,s=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,c=/sw|nw|w/.test(n),l=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),a&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),i&&(e.height=t.maxHeight),o&&c&&(e.left=s-t.minWidth),r&&c&&(e.left=s-t.maxWidth),a&&l&&(e.top=u-t.minHeight),i&&l&&(e.top=u-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],r=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],i=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)n[t]=parseInt(r[t],10)||0,n[t]+=parseInt(i[t],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var r=this.originalSize;return{top:this.originalPosition.top+n,height:r.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),r=n.options,i=n._proportionallyResizeElements,o=i.length&&/textarea/i.test(i[0].nodeName),a=o&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,s=o?0:n.sizeDiff.width,u={width:n.size.width-s,height:n.size.height-a},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,l=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(u,l&&c?{top:l,left:c}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};i&&i.length&&e(i[0]).css({width:r.width,height:r.height}),n._updateCache(r),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,r,i,o,a,s,u=e(this).resizable("instance"),c=u.options,l=u.element,d=c.containment,f=d instanceof e?d.get(0):/parent/.test(d)?l.parent().get(0):d;f&&(u.containerElement=e(f),/document/.test(d)||d===document?(u.containerOffset={left:0,top:0},u.containerPosition={left:0,top:0},u.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(f),n=[],e(["Top","Right","Left","Bottom"]).each((function(e,r){n[e]=u._num(t.css("padding"+r))})),u.containerOffset=t.offset(),u.containerPosition=t.position(),u.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},r=u.containerOffset,i=u.containerSize.height,o=u.containerSize.width,a=u._hasScroll(f,"left")?f.scrollWidth:o,s=u._hasScroll(f)?f.scrollHeight:i,u.parentData={element:f,left:r.left,top:r.top,width:a,height:s}))},resize:function(t){var n,r,i,o,a=e(this).resizable("instance"),s=a.options,u=a.containerOffset,c=a.position,l=a._aspectRatio||t.shiftKey,d={top:0,left:0},f=a.containerElement,h=!0;f[0]!==document&&/static/.test(f.css("position"))&&(d=u),c.left<(a._helper?u.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-u.left:a.position.left-d.left),l&&(a.size.height=a.size.width/a.aspectRatio,h=!1),a.position.left=s.helper?u.left:0),c.top<(a._helper?u.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-u.top:a.position.top),l&&(a.size.width=a.size.height*a.aspectRatio,h=!1),a.position.top=a._helper?u.top:0),i=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),i&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),n=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-d.left:a.offset.left-u.left)),r=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-d.top:a.offset.top-u.top)),n+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-n,l&&(a.size.height=a.size.width/a.aspectRatio,h=!1)),r+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-r,l&&(a.size.width=a.size.height*a.aspectRatio,h=!1)),h||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,r=t.containerOffset,i=t.containerPosition,o=t.containerElement,a=e(t.helper),s=a.offset(),u=a.outerWidth()-t.sizeDiff.width,c=a.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:s.left-i.left-r.left,width:u,height:c}),t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:s.left-i.left-r.left,width:u,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance").options;e(t.alsoResize).each((function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})}))},resize:function(t,n){var r=e(this).resizable("instance"),i=r.options,o=r.originalSize,a=r.originalPosition,s={height:r.size.height-o.height||0,width:r.size.width-o.width||0,top:r.position.top-a.top||0,left:r.position.left-a.left||0};e(i.alsoResize).each((function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),i={},o=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,(function(e,t){var n=(r[t]||0)+(s[t]||0);n&&n>=0&&(i[t]=n||null)})),t.css(i)}))},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.options,r=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),r=n.options,i=n.size,o=n.originalSize,a=n.originalPosition,s=n.axis,u="number"==typeof r.grid?[r.grid,r.grid]:r.grid,c=u[0]||1,l=u[1]||1,d=Math.round((i.width-o.width)/c)*c,f=Math.round((i.height-o.height)/l)*l,h=o.width+d,p=o.height+f,m=r.maxWidth&&r.maxWidth<h,v=r.maxHeight&&r.maxHeight<p,g=r.minWidth&&r.minWidth>h,y=r.minHeight&&r.minHeight>p;r.grid=u,g&&(h+=c),y&&(p+=l),m&&(h-=c),v&&(p-=l),/^(se|s|e)$/.test(s)?(n.size.width=h,n.size.height=p):/^(ne)$/.test(s)?(n.size.width=h,n.size.height=p,n.position.top=a.top-f):/^(sw)$/.test(s)?(n.size.width=h,n.size.height=p,n.position.left=a.left-d):((p-l<=0||h-c<=0)&&(t=n._getPaddingPlusBorderDimensions(this)),p-l>0?(n.size.height=p,n.position.top=a.top-f):(p=l-t.height,n.size.height=p,n.position.top=a.top+o.height-p),h-c>0?(n.size.width=h,n.position.left=a.left-d):(h=c-t.width,n.size.width=h,n.position.left=a.left+o.width-h))}});e.ui.resizable,e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=e(n.options.filter,n.element[0])).addClass("ui-selectee"),t.each((function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})}))},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this,r=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(r.filter,this.element[0]),this._trigger("start",t),e(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var r=e.data(this,"selectable-item");r.startselected=!0,t.metaKey||t.ctrlKey||(r.$element.removeClass("ui-selected"),r.selected=!1,r.$element.addClass("ui-unselecting"),r.unselecting=!0,n._trigger("unselecting",t,{unselecting:r.element}))})),e(t.target).parents().addBack().each((function(){var r,i=e.data(this,"selectable-item");if(i)return r=!t.metaKey&&!t.ctrlKey||!i.$element.hasClass("ui-selected"),i.$element.removeClass(r?"ui-unselecting":"ui-selected").addClass(r?"ui-selecting":"ui-unselecting"),i.unselecting=!r,i.selecting=r,i.selected=r,r?n._trigger("selecting",t,{selecting:i.element}):n._trigger("unselecting",t,{unselecting:i.element}),!1})))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,r=this,i=this.options,o=this.opos[0],a=this.opos[1],s=t.pageX,u=t.pageY;return o>s&&(n=s,s=o,o=n),a>u&&(n=u,u=a,a=n),this.helper.css({left:o,top:a,width:s-o,height:u-a}),this.selectees.each((function(){var n=e.data(this,"selectable-item"),c=!1;n&&n.element!==r.element[0]&&("touch"===i.tolerance?c=!(n.left>s||n.right<o||n.top>u||n.bottom<a):"fit"===i.tolerance&&(c=n.left>o&&n.right<s&&n.top>a&&n.bottom<u),c?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,r._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),r._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,r._trigger("unselecting",t,{unselecting:n.element})))))})),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each((function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-unselecting"),r.unselecting=!1,r.startselected=!1,n._trigger("unselected",t,{unselected:r.element})})),e(".ui-selecting",this.element[0]).each((function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,n._trigger("selected",t,{selected:r.element})})),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&e<t+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,(function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")}))},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var r=null,i=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each((function(){if(e.data(this,o.widgetName+"-item")===o)return r=e(this),!1})),e.data(t.target,o.widgetName+"-item")===o&&(r=e(t.target)),!!r&&(!(this.options.handle&&!n&&(e(this.options.handle,r).find("*").addBack().each((function(){this===t.target&&(i=!0)})),!i))&&(this.currentItem=r,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,n,r){var i,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,r,i,o,a=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),t.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),!1!==s&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=(r=this.items[n]).item[0],(o=this._intersectsWithPointer(r))&&r.instance===this.currentContainer&&!(i===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===i||e.contains(this.placeholder[0],i)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],i))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,i=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,(function(){r._clear(t)}))}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each((function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))})),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each((function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")})),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,o=e.left,a=o+e.width,s=e.top,u=s+e.height,c=this.offset.click.top,l=this.offset.click.left,d="x"===this.options.axis||r+c>s&&r+c<u,f="y"===this.options.axis||t+l>o&&t+l<a,h=d&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?h:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<u},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=t&&n,i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!r&&(this.floating?o&&"right"===o||"down"===i?2:1:i&&("down"===i?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return this.floating&&i?"right"===i&&n||"left"===i&&!n:r&&("down"===r&&t||"up"===r&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,r,i,o,a=[],s=[],u=this._connectWith();if(u&&t)for(n=u.length-1;n>=0;n--)for(r=(i=e(u[n],this.document[0])).length-1;r>=0;r--)(o=e.data(i[r],this.widgetFullName))&&o!==this&&!o.options.disabled&&s.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function c(){a.push(this)}for(s.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=s.length-1;n>=0;n--)s[n][0].each(c);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,(function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0}))},_refreshItems:function(t){this.items=[],this.containers=[this];var n,r,i,o,a,s,u,c,l=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(n=f.length-1;n>=0;n--)for(r=(i=e(f[n],this.document[0])).length-1;r>=0;r--)(o=e.data(i[r],this.widgetFullName))&&o!==this&&!o.options.disabled&&(d.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(n=d.length-1;n>=0;n--)for(a=d[n][1],r=0,c=(s=d[n][0]).length;r<c;r++)(u=e(s[r])).data(this.widgetName+"-item",a),l.push({item:u,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var n,r,i,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(r=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=i.outerWidth(),r.height=i.outerHeight()),o=i.offset(),r.left=o.left,r.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){var n,r=(t=t||this).options;r.placeholder&&r.placeholder.constructor!==String||(n=r.placeholder,r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),i=e("<"+r+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===r?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(i)):"tr"===r?t._createTrPlaceholder(t.currentItem,i):"img"===r&&i.attr("src",t.currentItem.attr("src")),n||i.css("visibility","hidden"),i},update:function(e,i){n&&!r.forcePlaceholderSize||(i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var r=this;t.children().each((function(){e("<td>&#160;</td>",r.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)}))},_contactContainers:function(t){var n,r,i,o,a,s,u,c,l,d,f=null,h=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&e.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],h=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[h].containerCache.over||(this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1);else{for(i=1e4,o=null,a=(l=f.floating||this._isFloating(this.currentItem))?"left":"top",s=l?"width":"height",d=l?"clientX":"clientY",r=this.items.length-1;r>=0;r--)e.contains(this.containers[h].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(u=this.items[r].item.offset()[a],c=!1,t[d]-u>this.items[r][s]/2&&(c=!0),Math.abs(t[d]-u)<i&&(i=Math.abs(t[d]-u),o=this.items[r],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[h])return void(this.currentContainer.containerCache.over||(this.containers[h]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[h].element,!0),this._trigger("change",t,this._uiHash()),this.containers[h]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[h],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),r[0].style.width&&!n.forceHelperSize||r.width(this.currentItem.width()),r[0].style.height&&!n.forceHelperSize||r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=e(i.containment)[0],n=e(i.containment).offset(),r="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i=this.options,o=t.pageX,a=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,u=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),i.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/i.grid[1])*i.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n,r=this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0],o=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():u?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():u?0:s.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay((function(){i===this.counter&&this.refreshPositions(!r)}))},_clear:function(e,t){this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();function i(e,t,n){return function(r){n._trigger(e,r,t._uiHash(t))}}for(this.fromOutside&&!t&&r.push((function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push((function(e){this._trigger("update",e,this._uiHash())})),this!==this.currentContainer&&(t||(r.push((function(e){this._trigger("remove",e,this._uiHash())})),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target);!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var n=e(t.currentTarget);n.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay((function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each((function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()})),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var n,r,i,o,a=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:a=!1,r=this.previousFilter||"",i=String.fromCharCode(t.keyCode),o=!1,clearTimeout(this.filterTimer),i===r?o=!0:i=r+i,n=this._filterMenuItems(i),(n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(i=String.fromCharCode(t.keyCode),n=this._filterMenuItems(i)),n.length?(this.focus(t,n),this.previousFilter=i,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter}a&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,n=this,r=this.options.icons.submenu,i=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var t=e(this),n=t.parent(),i=e("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",n.attr("id"))})),(t=i.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var t=e(this);n._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")})),t.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var n,r;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),r=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(n=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,r,i,o,a,s;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,r=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-n-r,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=t.outerHeight(),i<0?this.activeMenu.scrollTop(o+i):i+s>a&&this.activeMenu.scrollTop(o+i-a+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(e)}),this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay((function(){var r=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element),this._close(r),this.blur(t),this.activeMenu=r}),this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay((function(){this.focus(e,t)})))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var r;this.active&&(r="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),r&&r.length&&this.active||(r=this.activeMenu.find(this.options.items)[t]()),this.focus(n,r)},nextPage:function(t){var n,r,i;this.active?this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return(n=e(this)).offset().top-r-i<0})),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var n,r,i;this.active?this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(n=e(this)).offset().top-r+i>0})),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)},_filterMenuItems:function(t){var n=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),r=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter((function(){return r.test(e.trim(e(this).text()))}))}})
/*!
 * jQuery UI Selectable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/selectable/
 */;
/*!
 * jQuery UI Autocomplete 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 */
e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,r,i=this.element[0].nodeName.toLowerCase(),o="textarea"===i,a="input"===i;this.isMultiLine=!!o||!a&&this.element.prop("isContentEditable"),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly"))return t=!0,r=!0,void(n=!0);t=!1,r=!1,n=!1;var o=e.ui.keyCode;switch(i.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",i);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",i);break;case o.UP:t=!0,this._keyEvent("previous",i);break;case o.DOWN:t=!0,this._keyEvent("next",i);break;case o.ENTER:this.menu.active&&(t=!0,i.preventDefault(),this.menu.select(i));break;case o.TAB:this.menu.active&&this.menu.select(i);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(i),i.preventDefault());break;default:n=!0,this._searchTimeout(i)}},keypress:function(r){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||r.preventDefault());if(!n){var i=e.ui.keyCode;switch(r.keyCode){case i.PAGE_UP:this._move("previousPage",r);break;case i.PAGE_DOWN:this._move("nextPage",r);break;case i.UP:this._keyEvent("previous",r);break;case i.DOWN:this._keyEvent("next",r)}}},input:function(e){if(r)return r=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur}));var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay((function(){var t=this;this.document.one("mousedown",(function(r){r.target===t.element[0]||r.target===n||e.contains(n,r.target)||t.close()}))}))},menufocus:function(t,n){var r,i;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){e(t.target).trigger(t.originalEvent)}));i=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:i})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value),(r=n.item.attr("aria-label")||i.value)&&e.trim(r).length&&(this.liveRegion.children().hide(),e("<div>").text(r).appendTo(this.liveRegion))},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay((function(){this.previous=r,this.selectedItem=n}))),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,r=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,r){r(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,i){r.xhr&&r.xhr.abort(),r.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){i(e)},error:function(){i([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay((function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),r=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||n||r)||(this.selectedItem=null,this.search(null,e))}),this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy((function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")}),this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,(function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})}))},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var r=this;e.each(n,(function(e,n){r._renderItemData(t,n)}))},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").text(n.label).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var r=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,(function(e){return r.test(e.label||e.value||e)}))}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))}});e.ui.autocomplete;
/*!
 * jQuery UI Button 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/button/
 */var a,s="ui-button ui-widget ui-state-default ui-corner-all",u="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",c=function(){var t=e(this);setTimeout((function(){t.find(":ui-button").button("refresh")}),1)},l=function(t){var n=t.name,r=t.form,i=e([]);return n&&(n=n.replace(/'/g,"\\'"),i=r?e(r).find("[name='"+n+"'][type=radio]"):e("[name='"+n+"'][type=radio]",t.ownerDocument).filter((function(){return!this.form}))),i};e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,c),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,n=this.options,r="checkbox"===this.type||"radio"===this.type,i=r?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(s).attr("role","button").bind("mouseenter"+this.eventNamespace,(function(){n.disabled||this===a&&e(this).addClass("ui-state-active")})).bind("mouseleave"+this.eventNamespace,(function(){n.disabled||e(this).removeClass(i)})).bind("click"+this.eventNamespace,(function(e){n.disabled&&(e.preventDefault(),e.stopImmediatePropagation())})),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),r&&this.element.bind("change"+this.eventNamespace,(function(){t.refresh()})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){if(n.disabled)return!1})):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){if(n.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var r=t.element[0];l(r).not(r).map((function(){return e(this).button("widget")[0]})).removeClass("ui-state-active").attr("aria-pressed","false")})):(this.buttonElement.bind("mousedown"+this.eventNamespace,(function(){if(n.disabled)return!1;e(this).addClass("ui-state-active"),a=this,t.document.one("mouseup",(function(){a=null}))})).bind("mouseup"+this.eventNamespace,(function(){if(n.disabled)return!1;e(this).removeClass("ui-state-active")})).bind("keydown"+this.eventNamespace,(function(t){if(n.disabled)return!1;t.keyCode!==e.ui.keyCode.SPACE&&t.keyCode!==e.ui.keyCode.ENTER||e(this).addClass("ui-state-active")})).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,(function(){e(this).removeClass("ui-state-active")})),this.buttonElement.is("a")&&this.buttonElement.keyup((function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()}))),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(n=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(s+" ui-state-active "+u).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){if(this._super(e,t),"disabled"===e)return this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")));this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?l(this.element[0]).each((function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")})):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var t=this.buttonElement.removeClass(u),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),r=this.options.icons,i=r.primary&&r.secondary,o=[];r.primary||r.secondary?(this.options.text&&o.push("ui-button-text-icon"+(i?"s":r.primary?"-primary":"-secondary")),r.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+r.primary+"'></span>"),r.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+r.secondary+"'></span>"),this.options.text||(o.push(i?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),n=this.element.find(this.options.items),r=n.filter(":ui-button");n.not(":ui-button").button(),r.button("refresh"),this.buttons=n.map((function(){return e(this).button("widget")[0]})).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map((function(){return e(this).button("widget")[0]})).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});var d;
/*!
 * jQuery UI Datepicker 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/datepicker/
 */e.ui.button;function f(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=h(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function h(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",(function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")})).delegate(n,"mouseover",p)}function p(){e.datepicker._isDisabledDatepicker(d.inline?d.dpDiv.parent()[0]:d.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function m(t,n){for(var r in e.extend(t,n),n)null==n[r]&&(t[r]=n[r]);return t}e.extend(e.ui,{datepicker:{version:"1.11.4"}}),e.extend(f.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return m(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var r,i,o;i="div"===(r=t.nodeName.toLowerCase())||"span"===r,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(o=this._newInst(e(t),i)).settings=e.extend({},n||{}),"input"===r?this._connectDatepicker(t,o):i&&this._inlineDatepicker(t,o)},_newInst:function(t,n){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?h(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var r=e(t);n.append=e([]),n.trigger=e([]),r.hasClass(this.markerClassName)||(this._attachments(r,n),r.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var r,i,o,a=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),a&&(n.append=e("<span class='"+this._appendClass+"'>"+a+"</span>"),t[s?"before":"after"](n.append)),t.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),"focus"!==(r=this._get(n,"showOn"))&&"both"!==r||t.focus(this._showDatepicker),"button"!==r&&"both"!==r||(i=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:i,title:i}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:i,title:i}):i)),t[s?"before":"after"](n.trigger),n.trigger.click((function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1})))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,r,i,o=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(n=0,r=0,i=0;i<e.length;i++)e[i].length>n&&(n=e[i].length,r=i);return r},o.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,n){var r=e(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,r,i,o){var a,s,u,c,l,d=this._dialogInst;return d||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),(d=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},e.data(this._dialogInput[0],"datepicker",d)),m(d.settings,i||{}),n=n&&n.constructor===Date?this._formatDate(d,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(s=document.documentElement.clientWidth,u=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[s/2-100+c,u/2-150+l]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(t){var n,r=e(t),i=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(i.append.remove(),i.trigger.remove(),r.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||r.removeClass(this.markerClassName).empty(),d===i&&(d=null))},_enableDatepicker:function(t){var n,r,i=e(t),o=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!1,o.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||((r=i.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})))},_disableDatepicker:function(t){var n,r,i=e(t),o=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!0,o.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||((r=i.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,r){var i,o,a,s,u=this._getInst(t);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?e.extend({},e.datepicker._defaults):u?"all"===n?e.extend({},u.settings):this._get(u,n):null;i=n||{},"string"==typeof n&&((i={})[n]=r),u&&(this._curInst===u&&this._hideDatepicker(),o=this._getDateDatepicker(t,!0),a=this._getMinMaxDate(u,"min"),s=this._getMinMaxDate(u,"max"),m(u.settings,i),null!==a&&void 0!==i.dateFormat&&void 0===i.minDate&&(u.settings.minDate=this._formatDate(u,a)),null!==s&&void 0!==i.dateFormat&&void 0===i.maxDate&&(u.settings.maxDate=this._formatDate(u,s)),"disabled"in i&&(i.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),u),this._autoSize(u),this._setDate(u,o),this._updateAlternate(u),this._updateDatepicker(u))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,r,i,o=e.datepicker._getInst(t.target),a=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),a=!1;break;case 13:return(i=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv))[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,i[0]),(n=e.datepicker._get(o,"onSelect"))?(r=e.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[r,o])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),a=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),a=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?1:-1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),a=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?-1:1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),a=t.ctrlKey||t.metaKey;break;default:a=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):a=!1;a&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,r,i=e.datepicker._getInst(t.target);if(e.datepicker._get(i,"constrainInput"))return n=e.datepicker._possibleChars(e.datepicker._get(i,"dateFormat")),r=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||r<" "||!n||n.indexOf(r)>-1},_doKeyUp:function(t){var n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n))&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(e){}return!0},_showDatepicker:function(t){var n,r,i,o,a,s,u;("input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t)||(n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(i=(r=e.datepicker._get(n,"beforeShow"))?r.apply(t,[t,n]):{})&&(m(n.settings,i),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each((function(){return!(o|="fixed"===e(this).css("position"))})),a={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),a=e.datepicker._checkOffset(n,a,o),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),n.inline||(s=e.datepicker._get(n,"showAnim"),u=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",(function(e){for(var t,n;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0})(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[s]?n.dpDiv.show(s,e.datepicker._get(n,"showOptions"),u):n.dpDiv[s||"show"](s?u:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n)))},_updateDatepicker:function(t){this.maxRows=4,d=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n,r=this._getNumberOfMonths(t),i=r[1],o=t.dpDiv.find("."+this._dayOverClass+" a");o.length>0&&p.apply(o.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),i>1&&t.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",17*i+"em"),t.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(n=t.yearshtml,setTimeout((function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null}),0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,r){var i=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,u=document.documentElement.clientWidth+(r?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(r?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?i-a:0,n.left-=r&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=r&&n.top===t.input.offset().top+s?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+i>u&&u>i?Math.abs(n.left+i-u):0),n.top-=Math.min(n.top,n.top+o>c&&c>o?Math.abs(o+s):0),n},_findPos:function(t){for(var n,r=this._getInst(t),i=this._get(r,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return[(n=e(t).offset()).left,n.top]},_hideDatepicker:function(t){var n,r,i,o,a=this._curInst;!a||t&&a!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(a,"showAnim"),r=this._get(a,"duration"),i=function(){e.datepicker._tidyDialog(a)},e.effects&&(e.effects.effect[n]||e.effects[n])?a.dpDiv.hide(n,e.datepicker._get(a,"showOptions"),r,i):a.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?r:null,i),n||i(),this._datepickerShowing=!1,(o=this._get(a,"onClose"))&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),r=e.datepicker._getInst(n[0]);(n[0].id===e.datepicker._mainDivId||0!==n.parents("#"+e.datepicker._mainDivId).length||n.hasClass(e.datepicker.markerClassName)||n.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!n.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===r)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,r){var i=e(t),o=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(o,n+("M"===r?this._get(o,"showCurrentAtPos"):0),r),this._updateDatepicker(o))},_gotoToday:function(t){var n,r=e(t),i=this._getInst(r[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(n=new Date,i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()),this._notifyChange(i),this._adjustDate(r)},_selectMonthYear:function(t,n,r){var i=e(t),o=this._getInst(i[0]);o["selected"+("M"===r?"Month":"Year")]=o["draw"+("M"===r?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(i)},_selectDay:function(t,n,r,i){var o,a=e(t);e(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||((o=this._getInst(a[0])).selectedDay=o.currentDay=e("a",i).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=r,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var r,i=e(t),o=this._getInst(i[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),(r=this._get(o,"onSelect"))?r.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var n,r,i,o=this._get(t,"altField");o&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),i=this.formatDate(n,r,this._getFormatConfig(t)),e(o).each((function(){e(this).val(i)})))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,r){if(null==t||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var i,o,a,s,u=0,c=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,f=(r?r.dayNames:null)||this._defaults.dayNames,h=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,p=(r?r.monthNames:null)||this._defaults.monthNames,m=-1,v=-1,g=-1,y=-1,b=!1,_=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},O=function(e){var t=_(e),r="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,i=new RegExp("^\\d{"+("y"===e?r:1)+","+r+"}"),o=n.substring(u).match(i);if(!o)throw"Missing number at position "+u;return u+=o[0].length,parseInt(o[0],10)},w=function(t,r,i){var o=-1,a=e.map(_(t)?i:r,(function(e,t){return[[t,e]]})).sort((function(e,t){return-(e[1].length-t[1].length)}));if(e.each(a,(function(e,t){var r=t[1];if(n.substr(u,r.length).toLowerCase()===r.toLowerCase())return o=t[0],u+=r.length,!1})),-1!==o)return o+1;throw"Unknown name at position "+u},E=function(){if(n.charAt(u)!==t.charAt(i))throw"Unexpected literal at position "+u;u++};for(i=0;i<t.length;i++)if(b)"'"!==t.charAt(i)||_("'")?E():b=!1;else switch(t.charAt(i)){case"d":g=O("d");break;case"D":w("D",d,f);break;case"o":y=O("o");break;case"m":v=O("m");break;case"M":v=w("M",h,p);break;case"y":m=O("y");break;case"@":m=(s=new Date(O("@"))).getFullYear(),v=s.getMonth()+1,g=s.getDate();break;case"!":m=(s=new Date((O("!")-this._ticksTo1970)/1e4)).getFullYear(),v=s.getMonth()+1,g=s.getDate();break;case"'":_("'")?E():b=!0;break;default:E()}if(u<n.length&&(a=n.substr(u),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===m?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=l?0:-100)),y>-1)for(v=1,g=y;;){if(g<=(o=this._getDaysInMonth(m,v-1)))break;v++,g-=o}if((s=this._daylightSavingAdjust(new Date(m,v-1,g))).getFullYear()!==m||s.getMonth()+1!==v||s.getDate()!==g)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var r,i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,u=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},c=function(e,t,n){var r=""+t;if(u(e))for(;r.length<n;)r="0"+r;return r},l=function(e,t,n,r){return u(e)?r[t]:n[t]},d="",f=!1;if(t)for(r=0;r<e.length;r++)if(f)"'"!==e.charAt(r)||u("'")?d+=e.charAt(r):f=!1;else switch(e.charAt(r)){case"d":d+=c("d",t.getDate(),2);break;case"D":d+=l("D",t.getDay(),i,o);break;case"o":d+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",t.getMonth()+1,2);break;case"M":d+=l("M",t.getMonth(),a,s);break;case"y":d+=u("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":u("'")?d+="'":f=!0;break;default:d+=e.charAt(r)}return d},_possibleChars:function(e){var t,n="",r=!1,i=function(n){var r=t+1<e.length&&e.charAt(t+1)===n;return r&&t++,r};for(t=0;t<e.length;t++)if(r)"'"!==e.charAt(t)||i("'")?n+=e.charAt(t):r=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":i("'")?n+="'":r=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,i=this._getDefaultDate(e),o=i,a=this._getFormatConfig(e);try{o=this.parseDate(n,r,a)||i}catch(e){r=t?"":r}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=r?o.getDate():0,e.currentMonth=r?o.getMonth():0,e.currentYear=r?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,r){var i=null==n||""===n?r:"string"==typeof n?(function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(e){}for(var r=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,i=r.getFullYear(),o=r.getMonth(),a=r.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=s.exec(n);u;){switch(u[2]||"d"){case"d":case"D":a+=parseInt(u[1],10);break;case"w":case"W":a+=7*parseInt(u[1],10);break;case"m":case"M":o+=parseInt(u[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(i,o));break;case"y":case"Y":i+=parseInt(u[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(i,o))}u=s.exec(n)}return new Date(i,o,a)})(n):"number"==typeof n?isNaN(n)?r:(function(e){var t=new Date;return t.setDate(t.getDate()+e),t})(n):new Date(n.getTime());return(i=i&&"Invalid Date"===i.toString()?r:i)&&(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),this._daylightSavingAdjust(i)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var r=!t,i=e.selectedMonth,o=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),i===e.selectedMonth&&o===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),r="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map((function(){var t={prev:function(){e.datepicker._adjustDate(r,-n,"M")},next:function(){e.datepicker._adjustDate(r,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(r)},selectDay:function(){return e.datepicker._selectDay(r,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(r,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(r,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])}))},_generateHTML:function(e){var t,n,r,i,o,a,s,u,c,l,d,f,h,p,m,v,g,y,b,_,O,w,E,S,C,x,k,T,j,R,P,D,I,A,M,N,L,F,B,U=new Date,z=this._daylightSavingAdjust(new Date(U.getFullYear(),U.getMonth(),U.getDate())),V=this._get(e,"isRTL"),H=this._get(e,"showButtonPanel"),W=this._get(e,"hideIfNoPrevNext"),G=this._get(e,"navigationAsDateFormat"),q=this._getNumberOfMonths(e),$=this._get(e,"showCurrentAtPos"),Y=this._get(e,"stepMonths"),K=1!==q[0]||1!==q[1],X=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(e,"min"),J=this._getMinMaxDate(e,"max"),Q=e.drawMonth-$,ee=e.drawYear;if(Q<0&&(Q+=12,ee--),J)for(t=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-q[0]*q[1]+1,J.getDate())),t=Z&&t<Z?Z:t;this._daylightSavingAdjust(new Date(ee,Q,1))>t;)--Q<0&&(Q=11,ee--);for(e.drawMonth=Q,e.drawYear=ee,n=this._get(e,"prevText"),n=G?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Q-Y,1)),this._getFormatConfig(e)):n,r=this._canAdjustMonth(e,-1,ee,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+n+"</span></a>":W?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+n+"</span></a>",i=this._get(e,"nextText"),i=G?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,Q+Y,1)),this._getFormatConfig(e)):i,o=this._canAdjustMonth(e,1,ee,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+i+"</span></a>":W?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+i+"</span></a>",a=this._get(e,"currentText"),s=this._get(e,"gotoCurrent")&&e.currentDay?X:z,a=G?this.formatDate(a,s,this._getFormatConfig(e)):a,u=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=H?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(V?u:"")+(this._isInRange(e,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(V?"":u)+"</div>":"",l=parseInt(this._get(e,"firstDay"),10),l=isNaN(l)?0:l,d=this._get(e,"showWeek"),f=this._get(e,"dayNames"),h=this._get(e,"dayNamesMin"),p=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),v=this._get(e,"beforeShowDay"),g=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),_="",w=0;w<q[0];w++){for(E="",this.maxRows=4,S=0;S<q[1];S++){if(C=this._daylightSavingAdjust(new Date(ee,Q,e.selectedDay)),x=" ui-corner-all",k="",K){if(k+="<div class='ui-datepicker-group",q[1]>1)switch(S){case 0:k+=" ui-datepicker-group-first",x=" ui-corner-"+(V?"right":"left");break;case q[1]-1:k+=" ui-datepicker-group-last",x=" ui-corner-"+(V?"left":"right");break;default:k+=" ui-datepicker-group-middle",x=""}k+="'>"}for(k+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+x+"'>"+(/all|left/.test(x)&&0===w?V?o:r:"")+(/all|right/.test(x)&&0===w?V?r:o:"")+this._generateMonthYearHeader(e,Q,ee,Z,J,w>0||S>0,p,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",O=0;O<7;O++)j=(O+l)%7,T+="<th scope='col'"+((O+l+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+f[j]+"'>"+h[j]+"</span></th>";for(k+=T+"</tr></thead><tbody>",R=this._getDaysInMonth(ee,Q),ee===e.selectedYear&&Q===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,R)),P=(this._getFirstDayOfMonth(ee,Q)-l+7)%7,D=Math.ceil((P+R)/7),I=K&&this.maxRows>D?this.maxRows:D,this.maxRows=I,A=this._daylightSavingAdjust(new Date(ee,Q,1-P)),M=0;M<I;M++){for(k+="<tr>",N=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(A)+"</td>":"",O=0;O<7;O++)L=v?v.apply(e.input?e.input[0]:null,[A]):[!0,""],B=(F=A.getMonth()!==Q)&&!y||!L[0]||Z&&A<Z||J&&A>J,N+="<td class='"+((O+l+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(A.getTime()===C.getTime()&&Q===e.selectedMonth&&e._keyEvent||b.getTime()===A.getTime()&&b.getTime()===C.getTime()?" "+this._dayOverClass:"")+(B?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!g?"":" "+L[1]+(A.getTime()===X.getTime()?" "+this._currentClass:"")+(A.getTime()===z.getTime()?" ui-datepicker-today":""))+"'"+(F&&!g||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(B?"":" data-handler='selectDay' data-event='click' data-month='"+A.getMonth()+"' data-year='"+A.getFullYear()+"'")+">"+(F&&!g?"&#xa0;":B?"<span class='ui-state-default'>"+A.getDate()+"</span>":"<a class='ui-state-default"+(A.getTime()===z.getTime()?" ui-state-highlight":"")+(A.getTime()===X.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+A.getDate()+"</a>")+"</td>",A.setDate(A.getDate()+1),A=this._daylightSavingAdjust(A);k+=N+"</tr>"}++Q>11&&(Q=0,ee++),E+=k+="</tbody></table>"+(K?"</div>"+(q[0]>0&&S===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}_+=E}return _+=c,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,n,r,i,o,a,s){var u,c,l,d,f,h,p,m,v=this._get(e,"changeMonth"),g=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(o||!v)_+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(u=r&&r.getFullYear()===n,c=i&&i.getFullYear()===n,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",l=0;l<12;l++)(!u||l>=r.getMonth())&&(!c||l<=i.getMonth())&&(_+="<option value='"+l+"'"+(l===t?" selected='selected'":"")+">"+s[l]+"</option>");_+="</select>"}if(y||(b+=_+(!o&&v&&g?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!g)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(e,"yearRange").split(":"),f=(new Date).getFullYear(),p=(h=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?f+parseInt(e,10):parseInt(e,10);return isNaN(t)?f:t})(d[0]),m=Math.max(p,h(d[1]||"")),p=r?Math.max(p,r.getFullYear()):p,m=i?Math.min(m,i.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=m;p++)e.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!o&&v&&g?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(e,t,n){var r=e.drawYear+("Y"===n?t:0),i=e.drawMonth+("M"===n?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(r,i))+("D"===n?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,i,o)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),i=n&&t<n?n:t;return r&&i>r?r:i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,r){var i=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(n,r+(t<0?t:i[0]*i[1]),1));return t<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var n,r,i=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),a=null,s=null,u=this._get(e,"yearRange");return u&&(n=u.split(":"),r=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=r),n[1].match(/[+\-].*/)&&(s+=r)),(!i||t.getTime()>=i.getTime())&&(!o||t.getTime()<=o.getTime())&&(!a||t.getFullYear()>=a)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each((function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)})):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new f,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4";e.datepicker,e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;n<0&&e(this).css("top",t.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n,r=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(n=this.document[0].activeElement)&&"body"!==n.nodeName.toLowerCase()&&e(n).blur()}catch(e){}this._hide(this.uiDialog,this.options.hide,(function(){r._trigger("close",t)}))}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,n){var r=!1,i=this.uiDialog.siblings(".ui-front:visible").map((function(){return+e(this).css("z-index")})).get(),o=Math.max.apply(null,i);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),r=!0),r&&!n&&this._trigger("focus",t),r},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,(function(){t._focusTabbable(),t._trigger("focus")})),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function n(){var t=this.document[0].activeElement;this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),r=n.filter(":first"),i=n.filter(":last");t.target!==i[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==r[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay((function(){i.focus()})),t.preventDefault()):(this._delay((function(){r.focus()})),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(n)||e.isArray(n)&&!n.length?this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(n,(function(n,r){var i,o;r=e.isFunction(r)?{click:r,text:n}:r,r=e.extend({type:"button"},r),i=r.click,r.click=function(){i.apply(t.element[0],arguments)},o={icons:r.icons,text:r.showText},delete r.icons,delete r.showText,e("<button></button>",r).button(o).appendTo(t.uiButtonSet)})),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var t=this,n=this.options;function r(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,i){e(this).addClass("ui-dialog-dragging"),t._blockFrames(),t._trigger("dragStart",n,r(i))},drag:function(e,n){t._trigger("drag",e,r(n))},stop:function(i,o){var a=o.offset.left-t.document.scrollLeft(),s=o.offset.top-t.document.scrollTop();n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(s>=0?"+":"")+s,of:t.window},e(this).removeClass("ui-dialog-dragging"),t._unblockFrames(),t._trigger("dragStop",i,r(o))}})},_makeResizable:function(){var t=this,n=this.options,r=n.resizable,i=this.uiDialog.css("position"),o="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";function a(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,r){e(this).addClass("ui-dialog-resizing"),t._blockFrames(),t._trigger("resizeStart",n,a(r))},resize:function(e,n){t._trigger("resize",e,a(n))},stop:function(r,i){var o=t.uiDialog.offset(),s=o.left-t.document.scrollLeft(),u=o.top-t.document.scrollTop();n.height=t.uiDialog.height(),n.width=t.uiDialog.width(),n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(u>=0?"+":"")+u,of:t.window},e(this).removeClass("ui-dialog-resizing"),t._unblockFrames(),t._trigger("resizeStop",r,a(i))}}).css("position",i)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),n=e.inArray(this,t);-1!==n&&t.splice(n,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var n=this,r=!1,i={};e.each(t,(function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(r=!0),e in n.resizableRelatedOptions&&(i[e]=t)})),r&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",i)},_setOption:function(e,t){var n,r,i=this.uiDialog;"dialogClass"===e&&i.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&((n=i.is(":data(ui-draggable)"))&&!t&&i.draggable("destroy"),!n&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((r=i.is(":data(ui-resizable)"))&&!t&&i.resizable("destroy"),r&&"string"==typeof t&&i.resizable("option","handles",t),r||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,r=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),r.minWidth>r.width&&(r.width=r.minWidth),e=this.uiDialog.css({height:"auto",width:r.width}).outerHeight(),t=Math.max(0,r.minHeight-e),n="number"==typeof r.maxHeight?Math.max(0,r.maxHeight-e):"none","auto"===r.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,r.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay((function(){t=!1})),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){if(void 0===e)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,r=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o=[];for(n=r.values&&r.values.length||1,i.length>n&&(i.slice(n).remove(),i=i.slice(0,n)),t=i.length;t<n;t++)o.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=i.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each((function(t){e(this).data("ui-slider-handle-index",t)}))},_createRange:function(){var t=this.options,n="";t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,r,i,o,a,s,u,c=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},r=this._normValueFromMouse(n),i=this._valueMax()-this._valueMin()+1,this.handles.each((function(t){var n=Math.abs(r-c.values(t));(i>n||i===n&&(t===c._lastChangedValue||c.values(t)===l.min))&&(i=n,o=e(this),a=t)})),!1!==this._start(t,a)&&(this._mouseSliding=!0,this._handleIndex=a,o.addClass("ui-state-active").focus(),s=o.offset(),u=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:t.pageX-s.left-o.width()/2,top:t.pageY-s.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,r),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,r,i,o;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(r=n/t)>1&&(r=1),r<0&&(r=0),"vertical"===this.orientation&&(r=1-r),i=this._valueMax()-this._valueMin(),o=this._valueMin()+r*i,this._trimAlignValue(o)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var r,i,o;this.options.values&&this.options.values.length?(r=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&n>r||1===t&&n<r)&&(n=r),n!==this.values(t)&&((i=this.values())[t]=n,o=this._trigger("slide",e,{handle:this.handles[t],value:n,values:i}),r=this.values(t?0:1),!1!==o&&this.values(t,n))):n!==this.value()&&!1!==(o=this._trigger("slide",e,{handle:this.handles[t],value:n}))&&this.value(n)},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var r,i,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(r=this.options.values,i=arguments[0],o=0;o<r.length;o+=1)r[o]=this._trimAlignValue(i[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,n){var r,i=0;switch("range"===t&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(i=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!n),this._super(t,n),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;r<i;r+=1)this._change(null,r);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,r;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(n[r]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,r=e-n;return 2*Math.abs(n)>=t&&(r+=n>0?t:-t),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step;e=Math.floor(+(e-t).toFixed(this._precision())/n)*n+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,n,r,i,o,a=this.options.range,s=this.options,u=this,c=!this._animateOff&&s.animate,l={};this.options.values&&this.options.values.length?this.handles.each((function(r){n=(u.values(r)-u._valueMin())/(u._valueMax()-u._valueMin())*100,l["horizontal"===u.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[c?"animate":"css"](l,s.animate),!0===u.options.range&&("horizontal"===u.orientation?(0===r&&u.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},s.animate),1===r&&u.range[c?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:s.animate})):(0===r&&u.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},s.animate),1===r&&u.range[c?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:s.animate}))),t=n})):(r=this.value(),i=this._valueMin(),o=this._valueMax(),n=o!==i?(r-i)/(o-i)*100:0,l["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](l,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:s.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:s.animate}))},_handleEvents:{keydown:function(t){var n,r,i,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),!1===this._start(t,o)))return}switch(i=this.options.step,n=r=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:r=this._valueMin();break;case e.ui.keyCode.END:r=this._valueMax();break;case e.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+i);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-i)}this._slide(t,o,r)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}})
/*!
 * jQuery UI Dialog 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/dialog/
 */;
/*!
 * jQuery UI Spinner 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/spinner/
 */
function v(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},n=this.element;return e.each(["min","max","step"],(function(e,r){var i=n.attr(r);void 0!==i&&i.length&&(t[r]=i)})),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(e)}),100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){var n;function r(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=n,this._delay((function(){this.previous=n})))}n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),r.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,r.call(this)})),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(e(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var n=this.options,r=e.ui.keyCode;switch(t.keyCode){case r.UP:return this._repeat(null,1,t),!0;case r.DOWN:return this._repeat(null,-1,t),!0;case r.PAGE_UP:return this._repeat(null,n.page,t),!0;case r.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,t,n)}),e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:n})||(this._value(n),this.counter++)},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,r=this.options;return n=e-(t=null!==r.min?r.min:0),e=t+(n=Math.round(n/r.step)*r.step),e=parseFloat(e.toFixed(this._precision())),null!==r.max&&e>r.max?r.max:null!==r.min&&e<r.min?r.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var n=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(n))}"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:v((function(e){this._super(e)})),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var n;""!==e&&null!==(n=this._parse(e))&&(t||(n=this._adjustValue(n)),e=this._format(n)),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:v((function(e){this._stepUp(e)})),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:v((function(e){this._stepDown(e)})),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:v((function(e){this._stepUp((e||1)*this.options.page)})),pageDown:v((function(e){this._stepDown((e||1)*this.options.page)})),value:function(e){if(!arguments.length)return this._parse(this.element.val());v(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(function(){var e=/#.*$/;return function(t){var n,r;n=(t=t.cloneNode(!1)).href.replace(e,""),r=location.href.replace(e,"");try{n=decodeURIComponent(n)}catch(e){}try{r=decodeURIComponent(r)}catch(e){}return t.hash.length>1&&n===r}})(),_create:function(){var t=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible),this._processTabs(),n.active=this._initialActive(),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),(function(e){return t.tabs.index(e)})))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(n.active):this.active=e(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,r=location.hash.substring(1);return null===t&&(r&&this.tabs.each((function(n,i){if(e(i).attr("aria-controls")===r)return t=n,!1})),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==t&&-1!==t||(t=!!this.tabs.length&&0)),!1!==t&&-1===(t=this.tabs.index(this.tabs.eq(t)))&&(t=!n&&0),!n&&!1===t&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(this.document[0].activeElement).closest("li"),r=this.tabs.index(n),i=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:r++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:i=!1,r--;break;case e.ui.keyCode.END:r=this.anchors.length-1;break;case e.ui.keyCode.HOME:r=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(r);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(r!==this.options.active&&r);default:return}t.preventDefault(),clearTimeout(this.activating),r=this._focusNextTab(r,i),t.ctrlKey||t.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(r).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",r)}),this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,n){var r=this.tabs.length-1;for(;-1!==e.inArray((t>r&&(t=0),t<0&&(t=r),t),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){"active"!==e?"disabled"!==e?(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)):this._setupDisabled(t):this._activate(t)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),(function(e){return n.index(e)})),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,n=this.tabs,r=this.anchors,i=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,(function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()})).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,(function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()})),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map((function(){return e("a",this)[0]})).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each((function(n,r){var i,o,a,s=e(r).uniqueId().attr("id"),u=e(r).closest("li"),c=u.attr("aria-controls");t._isLocal(r)?(a=(i=r.hash).substring(1),o=t.element.find(t._sanitizeSelector(i))):(i="#"+(a=u.attr("aria-controls")||e({}).uniqueId()[0].id),(o=t.element.find(i)).length||(o=t._createPanel(a)).insertAfter(t.panels[n-1]||t.tablist),o.attr("aria-live","polite")),o.length&&(t.panels=t.panels.add(o)),c&&u.data("ui-tabs-aria-controls",c),u.attr({"aria-controls":a,"aria-labelledby":s}),o.attr("aria-labelledby",s)})),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),n&&(this._off(n.not(this.tabs)),this._off(r.not(this.anchors)),this._off(i.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var n,r=0;n=this.tabs[r];r++)!0===t||-1!==e.inArray(r,t)?e(n).addClass("ui-state-disabled").attr("aria-disabled","true"):e(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={};t&&e.each(t.split(" "),(function(e,t){n[t]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,r=this.element.parent();"fill"===t?(n=r.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each((function(){var t=e(this),r=t.css("position");"absolute"!==r&&"fixed"!==r&&(n-=t.outerHeight(!0))})),this.element.children().not(this.panels).each((function(){n-=e(this).outerHeight(!0)})),this.panels.each((function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))})).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each((function(){n=Math.max(n,e(this).height("").height())})).height(n))},_eventHandler:function(t){var n=this.options,r=this.active,i=e(t.currentTarget).closest("li"),o=i[0]===r[0],a=o&&n.collapsible,s=a?e():this._getPanelForTab(i),u=r.length?this._getPanelForTab(r):e(),c={oldTab:r,oldPanel:u,newTab:a?e():i,newPanel:s};t.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||!1===this._trigger("beforeActivate",t,c)||(n.active=!a&&this.tabs.index(i),this.active=o?e():i,this.xhr&&this.xhr.abort(),u.length||s.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(i),t),this._toggle(t,c))},_toggle:function(t,n){var r=this,i=n.newPanel,o=n.oldPanel;function a(){r.running=!1,r._trigger("activate",t,n)}function s(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),i.length&&r.options.show?r._show(i,r.options.show,a):(i.show(),a())}this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,(function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s()})):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o.hide(),s()),o.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&o.length?n.oldTab.attr("tabIndex",-1):i.length&&this.tabs.filter((function(){return 0===e(this).attr("tabIndex")})).attr("tabIndex",-1),i.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var n,r=this._findActive(t);r[0]!==this.active[0]&&(r.length||(r=this.active),n=r.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each((function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")})),this.tabs.each((function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var n=this.options.disabled;!1!==n&&(void 0===t?n=!1:(t=this._getIndex(t),n=e.isArray(n)?e.map(n,(function(e){return e!==t?e:null})):e.map(this.tabs,(function(e,n){return n!==t?n:null}))),this._setupDisabled(n))},disable:function(t){var n=this.options.disabled;if(!0!==n){if(void 0===t)n=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,n))return;n=e.isArray(n)?e.merge([t],n).sort():[t]}this._setupDisabled(n)}},load:function(t,n){t=this._getIndex(t);var r=this,i=this.tabs.eq(t),o=i.find(".ui-tabs-anchor"),a=this._getPanelForTab(i),s={tab:i,panel:a},u=function(e,t){"abort"===t&&r.panels.stop(!1,!0),i.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr};this._isLocal(o[0])||(this.xhr=e.ajax(this._ajaxSettings(o,n,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(i.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done((function(e,t,i){setTimeout((function(){a.html(e),r._trigger("load",n,s),u(i,t)}),1)})).fail((function(e,t){setTimeout((function(){u(e,t)}),1)}))))},_ajaxSettings:function(t,n,r){var i=this;return{url:t.attr("href"),beforeSend:function(t,o){return i._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:o},r))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,n){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(r.join(" ")))},_removeDescribedBy:function(t){var n=t.data("ui-tooltip-id"),r=(t.attr("aria-describedby")||"").split(/\s+/),i=e.inArray(n,r);-1!==i&&r.splice(i,1),t.removeData("ui-tooltip-id"),(r=e.trim(r.join(" ")))?t.attr("aria-describedby",r):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,n){var r=this;if("disabled"===t)return this[n?"_disable":"_enable"](),void(this.options[t]=n);this._super(t,n),"content"===t&&e.each(this.tooltips,(function(e,t){r._updateContent(t.element)}))},_disable:function(){var t=this;e.each(this.tooltips,(function(n,r){var i=e.Event("blur");i.target=i.currentTarget=r.element[0],t.close(i,!0)})),this.element.find(this.options.items).addBack().each((function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.element.find(this.options.items).addBack().each((function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}))},open:function(t){var n=this,r=e(t?t.target:this.element).closest(this.options.items);r.length&&!r.data("ui-tooltip-id")&&(r.attr("title")&&r.data("ui-tooltip-title",r.attr("title")),r.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&r.parents().each((function(){var t,r=e(this);r.data("ui-tooltip-open")&&((t=e.Event("blur")).target=t.currentTarget=this,n.close(t,!0)),r.attr("title")&&(r.uniqueId(),n.parents[this.id]={element:this,title:r.attr("title")},r.attr("title",""))})),this._registerCloseHandlers(t,r),this._updateContent(r,t))},_updateContent:function(e,t){var n,r=this.options.content,i=this,o=t?t.type:null;if("string"==typeof r)return this._open(t,e,r);(n=r.call(e[0],(function(n){i._delay((function(){e.data("ui-tooltip-open")&&(t&&(t.type=o),this._open(t,e,n))}))})))&&this._open(t,e,n)},_open:function(t,n,r){var i,o,a,s,u=e.extend({},this.options.position);function c(e){u.of=e,o.is(":hidden")||o.position(u)}r&&((i=this._find(n))?i.tooltip.find(".ui-tooltip-content").html(r):(n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title")),i=this._tooltip(n),o=i.tooltip,this._addDescribedBy(n,o.attr("id")),o.find(".ui-tooltip-content").html(r),this.liveRegion.children().hide(),r.clone?(s=r.clone()).removeAttr("id").find("[id]").removeAttr("id"):s=r,e("<div>").html(s).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:c}),c(t)):o.position(e.extend({of:n},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval((function(){o.is(":visible")&&(c(u.of),clearInterval(a))}),e.fx.interval)),this._trigger("open",t,{tooltip:o})))},_registerCloseHandlers:function(t,n){var r={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var r=e.Event(t);r.currentTarget=n[0],this.close(r,!0)}}};n[0]!==this.element[0]&&(r.remove=function(){this._removeTooltip(this._find(n).tooltip)}),t&&"mouseover"!==t.type||(r.mouseleave="close"),t&&"focusin"!==t.type||(r.focusout="close"),this._on(!0,n,r)},close:function(t){var n,r=this,i=e(t?t.currentTarget:this.element),o=this._find(i);o?(n=o.tooltip,o.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),o.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,(function(){r._removeTooltip(e(this))})),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,(function(t,n){e(n.element).attr("title",n.title),delete r.parents[t]})),o.closing=!0,this._trigger("close",t,{tooltip:n}),o.hiding||(o.closing=!1))):i.removeData("ui-tooltip-open")},_tooltip:function(t){var n=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),r=n.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[r]={element:t,tooltip:n}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,(function(n,r){var i=e.Event("blur"),o=r.element;i.target=i.currentTarget=o[0],t.close(i,!0),e("#"+n).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))})),this.liveRegion.remove()}})
/*!
 * jQuery UI Tabs 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tabs/
 */;var g=e;e.effects={effect:{}},
/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
(function(e,t){var n,r=/^([\-+])=\s*(\d+\.?\d*)/,i=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],o=e.Color=function(t,n,r,i){return new e.Color.fn.parse(t,n,r,i)},a={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},s={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},u=o.support={},c=e("<p>")[0],l=e.each;function d(e,t,n){var r=s[t.type]||{};return null==e?n||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:r.max<e?r.max:e)}function f(t){var r=o(),s=r._rgba=[];return t=t.toLowerCase(),l(i,(function(e,n){var i,o=n.re.exec(t),u=o&&n.parse(o),c=n.space||"rgba";if(u)return i=r[c](u),r[a[c].cache]=i[a[c].cache],s=r._rgba=i._rgba,!1})),s.length?("0,0,0,0"===s.join()&&e.extend(s,n.transparent),r):n[t]}function h(e,t,n){return 6*(n=(n+1)%1)<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}c.style.cssText="background-color:rgba(1,1,1,.5)",u.rgba=c.style.backgroundColor.indexOf("rgba")>-1,l(a,(function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}})),o.fn=e.extend(o.prototype,{parse:function(t,r,i,s){if(void 0===t)return this._rgba=[null,null,null,null],this;(t.jquery||t.nodeType)&&(t=e(t).css(r),r=void 0);var u=this,c=e.type(t),h=this._rgba=[];return void 0!==r&&(t=[t,r,i,s],c="array"),"string"===c?this.parse(f(t)||n._default):"array"===c?(l(a.rgba.props,(function(e,n){h[n.idx]=d(t[n.idx],n)})),this):"object"===c?(l(a,t instanceof o?function(e,n){t[n.cache]&&(u[n.cache]=t[n.cache].slice())}:function(n,r){var i=r.cache;l(r.props,(function(e,n){if(!u[i]&&r.to){if("alpha"===e||null==t[e])return;u[i]=r.to(u._rgba)}u[i][n.idx]=d(t[e],n,!0)})),u[i]&&e.inArray(null,u[i].slice(0,3))<0&&(u[i][3]=1,r.from&&(u._rgba=r.from(u[i])))}),this):void 0},is:function(e){var t=o(e),n=!0,r=this;return l(a,(function(e,i){var o,a=t[i.cache];return a&&(o=r[i.cache]||i.to&&i.to(r._rgba)||[],l(i.props,(function(e,t){if(null!=a[t.idx])return n=a[t.idx]===o[t.idx]}))),n})),n},_space:function(){var e=[],t=this;return l(a,(function(n,r){t[r.cache]&&e.push(n)})),e.pop()},transition:function(e,t){var n=o(e),r=n._space(),i=a[r],u=0===this.alpha()?o("transparent"):this,c=u[i.cache]||i.to(u._rgba),f=c.slice();return n=n[i.cache],l(i.props,(function(e,r){var i=r.idx,o=c[i],a=n[i],u=s[r.type]||{};null!==a&&(null===o?f[i]=a:(u.mod&&(a-o>u.mod/2?o+=u.mod:o-a>u.mod/2&&(o-=u.mod)),f[i]=d((a-o)*t+o,r)))})),this[r](f)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),r=n.pop(),i=o(t)._rgba;return o(e.map(n,(function(e,t){return(1-r)*i[t]+r*e})))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,(function(e,t){return null==e?t>2?1:0:e}));return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),(function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e}));return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),r=n.pop();return t&&n.push(~~(255*r)),"#"+e.map(n,(function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),o.fn.parse.prototype=o.fn,a.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,a=e[3],s=Math.max(r,i,o),u=Math.min(r,i,o),c=s-u,l=s+u,d=.5*l;return t=u===s?0:r===s?60*(i-o)/c+360:i===s?60*(o-r)/c+120:60*(r-i)/c+240,n=0===c?0:d<=.5?c/l:c/(2-l),[Math.round(t)%360,n,d,null==a?1:a]},a.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],r=e[2],i=e[3],o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;return[Math.round(255*h(a,o,t+1/3)),Math.round(255*h(a,o,t)),Math.round(255*h(a,o,t-1/3)),i]},l(a,(function(t,n){var i=n.props,a=n.cache,s=n.to,u=n.from;o.fn[t]=function(t){if(s&&!this[a]&&(this[a]=s(this._rgba)),void 0===t)return this[a].slice();var n,r=e.type(t),c="array"===r||"object"===r?t:arguments,f=this[a].slice();return l(i,(function(e,t){var n=c["object"===r?e:t.idx];null==n&&(n=f[t.idx]),f[t.idx]=d(n,t)})),u?((n=o(u(f)))[a]=f,n):o(f)},l(i,(function(n,i){o.fn[n]||(o.fn[n]=function(o){var a,s=e.type(o),u="alpha"===n?this._hsla?"hsla":"rgba":t,c=this[u](),l=c[i.idx];return"undefined"===s?l:("function"===s&&(o=o.call(this,l),s=e.type(o)),null==o&&i.empty?this:("string"===s&&(a=r.exec(o))&&(o=l+parseFloat(a[2])*("+"===a[1]?1:-1)),c[i.idx]=o,this[u](c)))})}))})),o.hook=function(t){var n=t.split(" ");l(n,(function(t,n){e.cssHooks[n]={set:function(t,r){var i,a,s="";if("transparent"!==r&&("string"!==e.type(r)||(i=f(r)))){if(r=o(i||r),!u.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===n?t.parentNode:t;(""===s||"transparent"===s)&&a&&a.style;)try{s=e.css(a,"backgroundColor"),a=a.parentNode}catch(e){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{t.style[n]=r}catch(e){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=o(t.elem,n),t.end=o(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}}))},o.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return l(["Top","Right","Bottom","Left"],(function(n,r){t["border"+r+"Color"]=e})),t}},n=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(g),(function(){var t=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function r(t){var n,r,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(i&&i.length&&i[0]&&i[i[0]])for(r=i.length;r--;)"string"==typeof i[n=i[r]]&&(o[e.camelCase(n)]=i[n]);else for(n in i)"string"==typeof i[n]&&(o[n]=i[n]);return o}e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(g.style(e.elem,n,e.end),e.setAttr=!0)}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(i,o,a,s){var u=e.speed(o,a,s);return this.queue((function(){var o,a=e(this),s=a.attr("class")||"",c=u.children?a.find("*").addBack():a;c=c.map((function(){return{el:e(this),start:r(this)}})),(o=function(){e.each(t,(function(e,t){i[t]&&a[t+"Class"](i[t])}))})(),c=c.map((function(){return this.end=r(this.el[0]),this.diff=(function(t,r){var i,o,a={};for(i in r)o=r[i],t[i]!==o&&(n[i]||!e.fx.step[i]&&isNaN(parseFloat(o))||(a[i]=o));return a})(this.start,this.end),this})),a.attr("class",s),c=c.map((function(){var t=this,n=e.Deferred(),r=e.extend({},u,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,r),n.promise()})),e.when.apply(e,c.get()).done((function(){o(),e.each(arguments,(function(){var t=this.el;e.each(this.diff,(function(e){t.css(e,"")}))})),u.complete.call(a[0])}))}))},e.fn.extend({addClass:(function(t){return function(n,r,i,o){return r?e.effects.animateClass.call(this,{add:n},r,i,o):t.apply(this,arguments)}})(e.fn.addClass),removeClass:(function(t){return function(n,r,i,o){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},r,i,o):t.apply(this,arguments)}})(e.fn.removeClass),toggleClass:(function(t){return function(n,r,i,o,a){return"boolean"==typeof r||void 0===r?i?e.effects.animateClass.call(this,r?{add:n}:{remove:n},i,o,a):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},r,i,o)}})(e.fn.toggleClass),switchClass:function(t,n,r,i,o){return e.effects.animateClass.call(this,{add:n,remove:t},r,i,o)}})})(),(function(){function t(t,n,r,i){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(i=n,r=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(i=r,r=n,n={}),e.isFunction(r)&&(i=r,r=null),n&&e.extend(t,n),r=r||n.duration,t.duration=e.fx.off?0:"number"==typeof r?r:r in e.fx.speeds?e.fx.speeds[r]:e.fx.speeds._default,t.complete=i||n.complete,t}function n(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data("ui-effects-"+t[n],e[0].style[t[n]])},restore:function(e,t){var n,r;for(r=0;r<t.length;r++)null!==t[r]&&(void 0===(n=e.data("ui-effects-"+t[r]))&&(n=""),e.css(t[r],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,r;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=e[1]/t.width}return{x:r,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(e){o=document.body}return t.wrap(r),(t[0]===o||e.contains(t[0],o))&&e(o).focus(),r=t.parent(),"static"===t.css("position")?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],(function(e,r){n[r]=t.css(r),isNaN(parseInt(n[r],10))&&(n[r]="auto")})),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),r.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,r,i){return i=i||{},e.each(n,(function(e,n){var o=t.cssUnit(n);o[0]>0&&(i[n]=o[0]*r+o[1])})),i}}),e.fn.extend({effect:function(){var n=t.apply(this,arguments),r=n.mode,i=n.queue,o=e.effects.effect[n.effect];if(e.fx.off||!o)return r?this[r](n.duration,n.complete):this.each((function(){n.complete&&n.complete.call(this)}));function a(t){var r=e(this),i=n.complete,a=n.mode;function s(){e.isFunction(i)&&i.call(r[0]),e.isFunction(t)&&t()}(r.is(":hidden")?"hide"===a:"show"===a)?(r[a](),s()):o.call(r[0],n,s)}return!1===i?this.each(a):this.queue(i||"fx",a)},show:(function(e){return function(r){if(n(r))return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}})(e.fn.show),hide:(function(e){return function(r){if(n(r))return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}})(e.fn.hide),toggle:(function(e){return function(r){if(n(r)||"boolean"==typeof r)return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}})(e.fn.toggle),cssUnit:function(t){var n=this.css(t),r=[];return e.each(["em","px","%","pt"],(function(e,t){n.indexOf(t)>0&&(r=[parseFloat(n),t])})),r}})})(),(function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],(function(e,n){t[n]=function(t){return Math.pow(t,e+2)}})),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,(function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?n(2*e)/2:1-n(-2*e+2)/2}}))})();e.effects}))}),(function(e,t,n){!(function(e){function t(e){for(var t=Array.prototype.slice.call(arguments,1),r={},i=0,o=t.length;i<o;i++){n(e,r,t[i])}return r}function n(e,t,r){for(var i in r){var o=r[i],a=t[i];e&&t==o||(e&&"object"==typeof o&&a?n(e,a,o):void 0!=o&&(t[i]=r[i]))}return t}e.externals["_nb-extend"]=function(e,n){if(n&&n[0])if("string"==typeof n)e[0].data.content=n;else{var r=t(!1,e[0].data,n[0].data);e[0].data=r}return e},e.externals["_nb-deep-extend"]=function(e,n){if(n&&n[0])if("string"==typeof n)e[0].data.content=n;else{var r=t(!0,e[0].data,n[0].data);e[0].data=r}return e},e.externals["_nb-wrap"]=function(e,t){var n={};return t&&t.length&&(n[e]=1==t.length?t[0].data:(function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r],a=o&&o[t];a&&n.push(a)}return n})(t,"data")),[{data:n,name:"",parent:null,doc:t[0].doc}]},e.externals["_nb-uniq"]=(function(){var e=0;return function(){return e++}})(),e.externals["_nb-warn"]=function(e){console.log("%c"+e,"color:#ffcc00")}})("undefined"==typeof yr?n(499):yr)}),(function(e,t,n){(function(e,t){!(function(e,n){"use strict";if(!e.setImmediate){var r,i=1,o={},a=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){l(e)}))}:(function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}})()?(function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}})():e.MessageChannel?(function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}})():s&&"onreadystatechange"in s.createElement("script")?(function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}})():r=function(e){setTimeout(l,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++},u.clearImmediate=c}function c(e){delete o[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=o[e];if(t){a=!0;try{!(function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}})(t)}finally{c(e),a=!1}}}}})("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(133),n(264))}),(function(e,t){Vow.Promise.prototype.__reject=Vow.Promise.prototype.reject,Vow.Promise.prototype.reject=function(e){e instanceof Error&&ns.log.exception("promise.exception",e),this.__reject(e)}}),(function(e,t,n){var r=r||n(397);r.de&&(n(533),e.exports=r),(function(){function e(e){this.data=e}function t(t,r){if(r instanceof e)return n(r,t.scalar());for(var i=r.nodes,o=t.scalar(),a=0;a<i.length;a++)if(o==i[a].scalar())return!0;return!1}function n(t,n){var r=t.data;if(Array.isArray(r)){for(var i=0;i<r.length;i++)if(new e(r[i]).scalar()==n)return!0;return!1}return t.scalar()==n}function i(){this.nodes=[]}e.prototype.empty=new i,e.prototype.isEmpty=function(){return!1},e.prototype.nametest=function(t,n){var r=this.data;if(!r)return this.empty;if(Array.isArray(r)){n||(n=new i);for(var o=0;o<r.length;o++)new e(r[o]).nametest(t,n);return n}var a=r[t];if(void 0===a)return this.empty;var s=new e(a);return n?n.push(s):s},e.prototype.startest=function(t){t||(t=new i);var n=this.data;if(Array.isArray(n))for(var r=0;r<n.length;r++)new e(n[r]).startest(t);else for(var o in n)this.nametest(o,t);return t},e.prototype.pred=function(t,n,r,o){var a=this.data;if(Array.isArray(a)){for(var s=new i,u=0;u<a.length;u++){var c=new e(a[u]);t(c,n,r,o)&&s.push(c)}return s}return t(this,n,r,o)?this:this.empty},e.prototype.index=function(t,n,r,i){var o=this.data;if(Array.isArray(o)){var a=o[t(this,n,r,i)];return void 0!==a?new e(a).toNodeset():this.empty}return 0===t?this:this.empty},e.prototype.toArray=function(){return[this.data]},e.prototype.toNodeset=function(){return(new i).push(this)},e.prototype.scalar=function(){var e=this.data;return"object"==typeof e?"":e},e.prototype.boolean=function(){var e=this.data;return Array.isArray(e)?e.length>0:!!e},e.prototype.cmpN=function(n){var r=this.data;if(Array.isArray(r)){for(var i=0;i<r.length;i++)if(t(new e(r[i]),n))return!0;return!1}return t(this,n)},e.prototype.cmpS=function(e){return n(this,e)},i.prototype.empty=e.prototype.empty,i.prototype.isEmpty=function(){return!this.nodes.length},i.prototype.push=function(e){return this.nodes.push(e),this},i.prototype.nametest=function(e,t){var n=this.nodes;t||(t=new i);for(var r=0;r<n.length;r++)n[r].nametest(e,t);return t},i.prototype.startest=function(e){var t=this.nodes;e||(e=new i);for(var n=0;n<t.length;n++)t[n].startest(e);return e},i.prototype.pred=function(e,t,n,r){for(var o=this.nodes,a=new i,s=0;s<o.length;s++){var u=o[s];e(u,t,n,r)&&a.push(u)}return a},i.prototype.index=function(e){var t=this.nodes[e];return void 0!==t?(new i).push(t):this.empty},i.prototype.toArray=function(){for(var e=[],t=this.nodes,n=0;n<t.length;n++)e.push(t[n].data);return e},i.prototype.scalar=function(){var e=this.nodes;return e.length?e[0].scalar():""},i.prototype.boolean=function(){var e=this.nodes;return!!e.length&&e[0].boolean()},i.prototype.cmpN=function(e){for(var t=this.nodes,n=0,r=t.length;n<r;n++)if(t[n].cmpN(e))return!0;return!1},i.prototype.cmpS=function(e){for(var t=this.nodes,n=0,r=t.length;n<r;n++)if(t[n].cmpS(e))return!0;return!1},r.JNode=e,r.JNodeset=i;var o="scalar",a="nodeset",s="boolean",u={"*":6,"/":6,"%":6,"+":5,"-":5,"<=":4,">=":4,"<":4,">":4,"==":3,"!=":3,"&&":2,"||":1},c={SELF:/^\.(?![a-zA-Z_*.[])/,ROOT:/^\/(?![.[])/,BINOP:/^(?:\+|-|\*|\/|%|==|!=|<=|>=|<|>|&&|\|\|)/,UNOP:/^(?:\+|-|!)/,DIGIT:/^[0-9]/,ID:/^[a-zA-Z_][a-zA-Z0-9-_]*/,NUMBER:/^[0-9]+(?:\.[0-9]+)?/,CHARS:/^[^"{}\\]+/},l={expr:function(){var e,t=[],n=[this.parse("unary")];this.skip();for(var r=0;e=this.test("BINOP");){this.move(e.length),this.skip();var i=u[e];i<=r&&a(i),t.unshift(e),n.unshift(this.parse("unary")),this.skip(),r=i}return a(0),n[0];function a(e){for(var r,i,a;(r=t[0])&&u[r]>=e;)a=n.shift(),i=n.shift(),n.unshift({_id:"binop",_type:"+-*/%".indexOf(r)>-1?o:s,_local:i._local||a._local,op:t.shift(),left:i,right:a})}},unary:function(){var e;if(e=this.test("UNOP")){this.move();var t=this.parse("unary");return{_id:"unop",_type:"!"===e?s:o,_local:t._local,op:e,expr:t}}return this.parse("primary")},primary:function(){switch(this.la()){case'"':return this.parse("string");case".":case"/":return this.parse("jpath");case"(":return this.parse("subexpr")}if(this.test("DIGIT"))return{_id:"number",_type:o,value:this.match("NUMBER")};var e=this.match("ID");if(this.test("."))return{_id:"filter",_type:a,name:e,jpath:this.parse("jpath")};if(this.test("(")){this.move(),this.skip();var t=[];if(!this.test(")"))for(t.push(this.parse("expr")),this.skip();this.test(",");)this.move(),this.skip(),t.push(this.parse("expr")),this.skip();return this.match(")"),{_id:"func",_type:o,name:e,args:t}}return{_id:"var",_type:a,name:e}},subexpr:function(){this.move(),this.skip();var e=this.parse("expr");return this.skip(),this.match(")"),{_id:"subexpr",_type:e._type,_local:e._local,expr:e}},jpath:function(){if(this.test("SELF"))return this.move(),{_id:"self",_type:a,_local:!0};if(this.test("ROOT"))return this.move(),{_id:"root",_type:a};var e;this.test("/")&&(this.move(),e=!0);for(var t=[];;){var n=this.la();if("."===n)t.push(this.parse("step"));else{if("["!==n)break;var r=this.parse("pred");"guard"===r._id?t.unshift(r):t.push(r)}}return{_id:"jpath",_type:a,_local:!e,abs:e,steps:t}},step:function(){this.move();var e=this.la();return"["===e?this.parse("pred"):"*"===e?(this.move(),{_id:"star"}):{_id:"nametest",nametest:this.match("ID")}},pred:function(){this.move(),this.skip();var e=this.parse("expr");this.skip(),this.match("]");var t="index";return e._local?t="pred":e._type===s&&(t="guard"),{_id:t,expr:e}},string:function(){this.match('"');var e=this.parse("string_content");return this.match('"'),e}},d={"{{":"{","}}":"}",'\\"':'"',"\\\\":"\\"};l.string_content=function(){for(var e,t=[],n="";this.s;)if(e=d[this.la(2)])n+=e,this.move(2);else{if('"'===(e=this.la()))break;"\\"===e?(n+=e,this.move()):"{"===e?(r(),this.move(),this.skip(),t.push(this.parse("expr")),this.skip(),this.match("}")):n+=this.match("CHARS")}return r(),t.length||t.push(i("")),{_id:"string",_type:o,value:t};function r(){n&&(t.push(i(n)),n="")}function i(e){return{_id:"string_literal",_type:o,value:e}}};var f=new r.Parser(l,c),h={};function p(e,t){var n=e+"::"+t,i=h[n];return i||(i=h[n]=(function(e){for(var t=[],n="jpath"===e._id?v(e,t):m(e,t),i="",o=0;o<=n;o++)i+="function t"+o+"(node, root, vars, funcs) {\n"+t[o]+"\n}\n\n";return i+="return function(data, vars, funcs) {\nvar node = new no.JNode(data);\nreturn t"+n+"(node, node, vars, funcs);\n}\n",Function("no",i)(r)})(f.start(e,t))),i}function m(e,t){var n="return ("+g(e,t)+");";return t.push(n)-1}function v(e,t){var n="";e.abs&&(n+="node = root;\n");for(var r=e.steps,i=0,a=r.length;i<a;i++){var u=r[i],c=u._id;switch(c){case"nametest":n+='node = node.nametest("'+u.nametest+'");\n';break;case"star":n+="node = node.startest();\n";break;case"pred":case"index":u.expr._as="pred"===c?s:o,n+="node = node."+c+"(t"+m(u.expr,t)+", root, vars, funcs);\n";break;case"guard":n+="if (!("+g(u.expr,t)+")) { return node.empty; }\n"}"guard"!==c&&(n+="if (node.isEmpty()) { return node.empty; }\n")}return n+="return node;",t.push(n)-1}function g(e,t){var n;switch(e._id){case"root":n="root";break;case"self":n="node";break;case"number":n=e.value;break;case"string_literal":n=JSON.stringify(e.value);break;case"string":n="("+e.value.map((function(e){return e._as=o,g(e,t)})).join(" + ")+")";break;case"var":n='(new no.JNode(vars["'+e.name+'"]))';break;case"func":n='funcs["'+e.name+'"](';for(var r=0,i=e.args.length;r<i;r++){var u=e.args[r];u._as=o,n+=r?",":"",n+=g(u,t)}n+=")";break;case"unop":e.expr._as="!"===e.op?s:o,n=e.op+"("+g(e.expr,t)+")";break;case"binop":i=e.left;var c,l=e.right,d=i._type,f=l._type,h=e.op;switch(h){case"&&":case"||":c=d===s&&f===s?s:o;break;case"==":case"!=":d===f||d!==s&&f!==s||(c=s);break;default:c=o}c&&(i._as=l._as=c);var p=g(i,t),m=g(l,t);if("=="===h||"!="===h){if(d===a||f===a){if(d===o){var y=m;m=p,p=y}n="("+p+").cmp"+(d===f?"N":"S")+"("+m+")"}n&&"!="===h&&(n="!("+n+")")}void 0===n&&(n="("+p+" "+e.op+" "+m+")");break;case"subexpr":n="("+g(e.expr,t)+")";break;case"jpath":n="t"+v(e,t)+"(node, root, vars, funcs)";break;case"filter":n="t"+v(e.jpath,t)+'(new no.JNode(vars["'+e.name+'"]), root, vars, funcs)'}return e._as&&e._as!==e._type&&(e._type===a?n="("+n+")."+e._as+"()":e._type===o&&(n="!!("+n+")")),n}r.jpath=function(e,t,n,i){return r.jpath.toScalar(r.jpath.expr(e)(t,n,i))},r.jpath.raw=function(e,t,n,i){return r.jpath.expr(e)(t,n,i)},r.jpath.scalar=function(e){var t=r.jpath.expr(e);return function(e,n,i){return r.jpath.toScalar(t(e,n,i))}},r.jpath.boolean=function(e){var t=r.jpath.expr(e);return function(e,n,i){return r.jpath.toBoolean(t(e,n,i))}},r.jpath.string=function(e){return p(e,"string_content")},r.jpath.expr=function(e){var t=typeof e;return"string"===t?p(e,"expr"):e&&"object"===t?Array.isArray(e)?(function(e){for(var t=[],n=e.length,i=0;i<n;i++)t.push(r.jpath.expr(e[i]));return function(e,i,o){for(var a=[],s=0;s<n;s++)a.push(r.jpath.toScalar(t[s](e,i,o)));return a}})(e):(function(e){var t={};for(var n in e)t[n]=r.jpath.expr(e[n]);return function(e,n,i){var o={};for(var a in t)o[a]=r.jpath.toScalar(t[a](e,n,i));return o}})(e):function(){return e}},r.jpath.toScalar=function(t){return t instanceof e?t.data:t instanceof i?t.isEmpty()?void 0:t.toArray():t},r.jpath.toBoolean=function(t){return t instanceof e||t instanceof i?t.boolean():t};var y={};r.jpath.set=function(e,t,n){return(y[e]||(y[e]=(function(e){for(var t=e.split("."),n=1,r=t.length-1,i="var r = data; var t;";n<r;n++)i+='t = r["'+t[n]+'"];',i+='if (t == null) { t = r["'+t[n]+'"] = {}; }',i+="r = t;";return i+='r["'+t[n]+'"] = value;',i+="return data;",new Function("data","value",i)})(e)))(t,n)}})()}),(function(e,t,n){var r=n(776);window.ns=r,n(777),n(778),n(779),n(780),n(781),n(782),n(783),n(784),n(785),n(786),n(787),n(788),n(789),n(790),n(791),n(792),n(793),n(794),n(795),n(796),n(797),n(798),n(799),n(800),n(801)}),(function(e,t){var n={todo:function(){throw new Error("Unimplemented")},parseQuery:function(e){var t={};return e.split("&").forEach((function(r){var i=r.split("="),o=i.shift();if(o){var a=i.join("=");if(void 0===a)a="";else try{a=decodeURIComponent(a)}catch(t){a="",n.log.info("ns.parseQuery.invalid-param",{query:e,chunk:r})}o in t?(Array.isArray(t[o])||(t[o]=[t[o]]),t[o].push(a)):t[o]=a}})),t},renderString:function(e,t,n){return yr.run(n||"main",e,t)},renderNode:function(e,t,r){var i=n.html2node(n.renderString(e,t,r));return i?i.firstChild:null},init:function(){n.action.init(),n.router.init(),n.history.init(),n.initMainView()},initMainView:function(){var e=n.View.create("app");e._setNode(document.getElementById("app")),e.invalidate(),n.MAIN_VIEW=e},assert:function(e,t,r){e||n.assert.fail.apply(this,Array.prototype.slice.call(arguments,1))}};n.assert.fail=function(e,t){for(var n=Array.prototype.slice.call(arguments,2),r=0;r<n.length;r++)t=t.replace("%s",n[r]);throw new Error("["+e+"] "+t)},n.key=function(e,t){var n=e;for(var r in t=t||{})n+="&"+r+"="+encodeURIComponent(t[r]);return n},n.params2query=function(e){var t,n,r=[];for(t in e)if(n=e[t],Array.isArray(n))for(var i=0;i<n.length;i++)r.push(encodeURIComponent(t)+"="+encodeURIComponent(n[i]));else r.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return r.join("&")},n.reset=function(){n.action&&n.action._reset(),n.router._reset(),n.layout._reset(),n.Model._reset(),n.View._reset(),n.request._reset(),n.page._reset(),n.page.history.reset(),n.MAIN_VIEW=null},e.exports=n}),(function(e,t){ns.VERSION="0.8.12"}),(function(e,t){ns.L={},ns.L.VIEW="view",ns.L.ASYNC="async",ns.L.BOX="box",ns.V={},ns.V.STATUS={NONE:"none",LOADING:"loading",OK:"ok",INVALID:"invalid"},ns.M={},ns.M.STATUS={ERROR:"error",INITED:"inited",NONE:"none",OK:"ok",INVALID:"invalid"},ns.R={NOT_APP_URL:"ns-router-not-app",NOT_FOUND:"not-found",REDIRECT:"ns-router-redirect"},ns.U={},ns.U.STATUS={MODELS:"models",EXPIRED:"expired"},ns.U.EXEC={GLOBAL:"global",ASYNC:"async",PARALLEL:"parallel"},ns.DEBUG=!1,ns.H={DEFAULTS:{dataType:"json",type:"POST"}}}),(function(e,t){ns.V.EVENTS={click:"click",dblclick:"dblclick",mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup"},ns.V.DOM_EVENTS=["blur","change","input","click","dblclick","dragstart","dragenter","dragover","dragleave","drag","drop","dragend","focus","focusin","focusout","keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","resize","scroll","submit"],ns.V.NS_EVENTS=["ns-view-async","ns-view-destroyed","ns-view-init","ns-view-htmlinit","ns-view-show","ns-view-touch","ns-view-hide","ns-view-htmldestroy"]}),(function(e,t){!(function(e){e.replaceNode=function(e,t){return e===t||!!e.parentNode&&(e.parentNode.replaceChild(t,e),!0)},e.removeNode=function(e){var t=e.parentNode;t&&t.removeChild(e)},e.html2node=function(e){if(!e)return null;var t=document.createElement("div");return t.innerHTML=e,t},e.childrenIterator=function(e){return (function(e){var t=-1;return{getNext:function(){return e[++t]||null}}})(e.children)};var t=/[\t\r\n]/g;"undefined"!=typeof document&&document.createElement("div").classList?e.hasClass=function(e,t){return e.classList.contains(t)}:e.hasClass=function(e,n){return n=" "+n+" ",1===e.nodeType&&(" "+e.className+" ").replace(t," ").indexOf(n)>=0},"undefined"!=typeof document&&document.getElementsByClassName?e.byClass=function(e,t){return(t=t||document).getElementsByClassName(e)}:e.byClass=function(e,t){return t=t||document,$(t).find("."+e)}})(ns)}),(function(e,t){!(function(e){var t=/[&<>"'\/]/g,n=(function(){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return function(t){return e[t]}})();e.entityify=function(e){return String(e).replace(t,n)};var r=/&([^&;]+);/g,i=(function(){var e={amp:"&",lt:"<",gt:">",quot:'"',"#x27":"'","#x2F":"/"};return function(t,n){return e[n]||t}})();e.deentityify=function(e){return String(e).replace(r,i)}})(ns)}),(function(e,t){ns.Events={},ns.Events.on=function(e,t){var n=this._nsevents_handlers||(this._nsevents_handlers={});return ns.assert("function"==typeof t,"ns.Events",'Handler for event "%s" in not a function.',e),(n[e]||(n[e]=[])).push(t),this},ns.Events.once=function(e,t){var n=this,r=function(){n.off(e,r),t.apply(this,arguments)};return r.__original=t,this.on(e,r),this},ns.Events.off=function(e,t){var n;if(t){if(n=this._nsevents_handlers&&this._nsevents_handlers[e])for(var r=0,i=n.length;r<i;r++)if(n[r]===t||n[r].__original===t){n.splice(r,1);break}}else(n=this._nsevents_handlers)&&(n[e]=null);return this},ns.Events.trigger=function(e,t){var n=this._nsevents_handlers&&this._nsevents_handlers[e];if(n)for(var r=0,i=(n=n.slice()).length;r<i;r++)try{n[r].apply(this,arguments)}catch(t){ns.log.exception("ns.events",t,{name:e})}return this},ns.Events.atrigger=function(e,t){var n=this,r=arguments;no.next((function(){n.trigger.apply(n,r)}))},ns.Events.forward=function(e,t){return this.on(e,(function(e,n){t.trigger(e,n)}))},ns.events=no.extend({},ns.Events)}),(function(e,t){!(function(){function e(e){return"function"==typeof e}ns.history={},ns.history.init=function(){$(window).on("popstate",(function(e){e.preventDefault(),e.stopPropagation(),ns.history.onpopstate(e)})),$(document).on(ns.V.EVENTS.click,"a",ns.history._onAnchorClick)},ns.history.pushState=function(t,n){e(window.history.pushState)&&window.history.pushState(null,n||ns.page.title(t),t)},ns.history.replaceState=function(t,n){e(window.history.replaceState)&&window.history.replaceState(null,n||ns.page.title(t),t)},ns.history.onpopstate=function(){ns.page.go("",!0)},ns.history.followAnchorHref=function(e,t){return ns.page.go(e)},ns.history._onAnchorClick=function(e){var t=e.currentTarget;if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return!0;if(t.protocol&&!/^https?:/.test(t.protocol))return!0;if(t.hostname&&t.hostname!==window.location.hostname)return!0;if(ns.router.baseDir){var n=t.pathname,r=ns.router.baseDir;if(n.substr(0,r.length)!==r)return!0}var i=t.getAttribute("href");if(!i||t.getAttribute("target"))return!0;var o=ns.history.followAnchorHref(i,t);return Vow.isPromise(o)?(e.preventDefault(),!0):void 0}})()}),(function(e,t){ns.http=function(e,t,n){(n=no.extend({},ns.H.DEFAULTS,n)).url=e,n.data=t;var r=new Vow.Promise;return $.ajax(n).done((function(e){r.fulfill(e)})).fail((function(e,t,n){var i=n||t||"unknown error";r.reject({error:i,xhr:e})})),r}}),(function(e,t){ns.object={},ns.object.clone=function(e){if(e&&"object"==typeof e){var t;if(Array.isArray(e)){t=[];for(var n=0;n<e.length;n++)t.push(ns.object.clone(e[n]))}else for(var r in t={},e)t[r]=ns.object.clone(e[r]);return t}return e},ns.object.isEmpty=function(e){for(var t in e)return!1;return!0}}),(function(e,t){ns.profile={},ns.profile.startTimer=function(e){this._profileTimes||(this._profileTimes={}),ns.assert(!this._profileTimes[e],"ns.profile","Timer '%s' is in use",e),this._profileTimes[e]=Date.now()},ns.profile.stopTimer=function(e){return this._profileTimes||(this._profileTimes={}),ns.assert(this._profileTimes[e],"ns.profile","Timer '%s' haven't been started",e),this._profileTimes[e]=Date.now()-this._profileTimes[e],this._profileTimes[e]},ns.profile.switchTimer=function(e,t){this.stopTimer(e),this.startTimer(t)},ns.profile.getTimer=function(e){this._profileTimes||(this._profileTimes={});var t=this._profileTimes[e];return"number"==typeof t?t:NaN},ns.profile.getTimers=function(){return no.extend({},this._profileTimes)}}),(function(e,t){!(function(e,t){e.action={};var n={},r=!1;e.action.define=function(e,t){if(e in n)throw new Error("[ns.action] Can't redefine '"+e+"'");n[e]=t},e.action.copy=function(e,t){if(t in n)throw new Error("[ns.action] Can't redefine '"+t+"'");if(!(e in n))throw new Error("[ns.action] '"+e+"' is not defined");n[t]=n[e]},e.action.run=function(t,r,i,o){var a=n[t];e.assert(a,"ns.action","%s is not defined",t);try{return a(t,r,i,o)}catch(t){e.log.exception("ns.action",t)}},e.action.getParams=function(e){var t=e.getAttribute("data-params");if(t&&"{"===t.charAt(0))try{return JSON.parse(t)}catch(e){}return{}},e.action.init=function(){if(!r){r=!0;var t=$("body"),n=[e.V.EVENTS.click,e.V.EVENTS.dblclick].join(" ");t.on(n,".ns-action",this._process)}},e.action._process=function(t){var n=t.currentTarget,r="dblclick"===t.type?n.getAttribute("data-dblclick-action"):n.getAttribute("data-click-action"),i=!0;return r&&(i=e.action.run(r,e.action.getParams(n),n,t)),void 0!==i&&!Vow.isPromise(i)&&i},e.action._reset=function(){n={}}})(ns)}),(function(e,t){!(function(){ns.Model=function(){},no.extend(ns.Model.prototype,ns.Events);var e={},t={},n={},r=0;ns.Model.prototype.STATUS=ns.M.STATUS,ns.Model.prototype.RETRY_LIMIT=3,ns.Model.prototype.status=ns.M.STATUS.NONE,ns.Model.prototype.key=null,ns.Model.prototype.params=null,ns.Model.prototype._errorFixingPromise=null,ns.Model.prototype._init=function(e,t){this.id=e,this._reset(),this.info=ns.Model.info(e),no.extend(this,ns.Model.getKeyAndParams(e,t,this.info)),this._reinit()},ns.Model.prototype._reinit=function(){this.status===this.STATUS.NONE&&(this._bindEvents(),this.status=this.STATUS.INITED,this.trigger("ns-model-init"))},ns.Model.prototype._reset=function(e){this.data=null,this.error=null,this._softReset(e),this._version=0},ns.Model.prototype._softReset=function(e){this.status=e||this.STATUS.NONE,this.retries=0},ns.Model.prototype._bindEvents=function(){for(var e in this.info.events){var t=this.info.events[e];Array.isArray(t)||(t=[t]);for(var n=0,r=t.length;n<r;n++)this.on(e,this._prepareCallback(t[n]))}},ns.Model.prototype._unbindEvents=function(){for(var e in this.info.events){var t=this.info.events[e];Array.isArray(t)||(t=[t]);for(var n=0,r=t.length;n<r;n++)this.off(e,this._prepareCallback(t[n]))}},ns.Model.prototype._prepareCallback=function(e){return"string"==typeof e&&(e=this[e]),ns.assert("function"==typeof e,"ns.Model","Can't find method '%s' in '%s' to bind event",e,this.id),e},ns.Model.prototype.invalidate=function(){this._softReset(this.STATUS.INVALID)},ns.Model.prototype.destroy=function(){this.trigger("ns-model-before-destroyed"),this._reset(this.STATUS.NONE),this.trigger("ns-model-destroyed"),this._unbindEvents()},ns.Model.prototype.isValid=function(){return this.status===this.STATUS.OK},ns.Model.prototype.getData=function(){return this.data},ns.Model.prototype.get=function(e){var t=this.data;if(t)return no.jpath(e,t)},ns.Model.prototype.select=function(e){var t=this.data;return t?no.jpath.raw(e,t).toArray():[]},ns.Model.prototype.set=function(e,t,n){var r=this.data;if(this.isValid()&&r&&(no.jpath.set(e,r,t),(n=n||{}).jpath=e,this.touch(n),!n.silent))for(var i=e.split("."),o=i.length;o>1;){var a=i.slice(0,o).join(".");this.trigger("ns-model-changed"+a,a,e),o--}},ns.Model.prototype.setData=function(e,t){return this._reinit(),!e||this.isValid()&&!this.hasDataChanged(e)||(this.data=this._beforeSetData(this.preprocessData(e),t),this.status=this.STATUS.OK,this.error=null,this.touch(t)),this},ns.Model.prototype.hasDataChanged=function(e){return!!e},ns.Model.prototype.getError=function(){return this.error},ns.Model.prototype.setError=function(e){this.isErrorCanBeFixed(e)?this._errorFixingPromise=this.fixError(e):(this.data=null,this.error=e,this.status=this.STATUS.ERROR)},ns.Model.prototype.isErrorCanBeFixed=function(e){return!1},ns.Model.prototype.fixError=function(e){return Vow.resolve()},ns.Model.prototype._beforeSetData=function(e,t){return e},ns.Model.prototype.preprocessData=function(e){return e},ns.Model.prototype.getRequestParams=function(){return ns.Model._getKeyParams(this.id,this.params,this.info)},ns.Model.prototype._canRequest=function(){return this.canRequest()&&(!this.retries||!this.isDo())&&this.retries<this.RETRY_LIMIT},ns.Model.prototype.canRequest=no.true,ns.Model.prototype.extractData=function(e){if(e)return e.data},ns.Model.prototype.extractError=function(e){if(e)return e.error},ns.Model.prototype.isDo=function(){return this.info.isDo},ns.Model.prototype.getVersion=function(){return this._version},ns.Model.prototype._incVersion=function(){this._version++},ns.Model.prototype.touch=function(e){if(!(e=e||{}).silent){this._incVersion(),this.trigger("ns-model-touched");var t=e.jpath||"";this.trigger("ns-model-changed",t)}},ns.Model.prototype.prepareRequest=function(e){return this.requestID=e,this.retries++,this.promise=new Vow.Promise,this},ns.Model.prototype.finishRequest=function(){this._errorFixingPromise?this._errorFixingPromise.then(this.__finishRequest,this.__finishRequest,this):this.__finishRequest()},ns.Model.prototype.__finishRequest=function(){this._errorFixingPromise&&(this._errorFixingPromise=null,this.retries=0),this.promise.fulfill()},ns.Model.prototype.destroyWith=function(e){ns.Model.destroyWith(this,e)},ns.Model.get=function(t,r){var i=this._find(t,r);i||((i=new(0,e[t]))._init(t,r),i.isDo()||(n[t][i.key]=i));return i._reinit(),i},ns.Model.getValid=function(e,t){var n=this._find(e,t);return n&&n.isValid()?n:null},ns.Model._find=function(e,r){ns.assert(e in t,"ns.Model","'%s' is not defined",e);var i=ns.Model.key(e,r);return n[e][i]||null},ns.Model.destroy=function(e){if(!e.isDo()){var t=e.id,r=e.key;n[t][r]&&e.destroy()}},ns.Model.isValid=function(e,t){return!!ns.Model.getValid(e,t)},ns.Model.define=function(r,i,o){ns.assert(!(r in t),"ns.Model","Can't redefine '%s'",r),void 0===(i=i||{}).isCollection&&(i.isCollection=!!i.split);var a=o;"string"==typeof o?(a=e[o],ns.assert(a,"ns.Model","Can't find '%s' to extend '%s'",o,r)):o||(a=i.uniq?ns.ModelUniq:i.isCollection?ns.ModelCollection:ns.Model);var s=i.ctor||function(){};return s=no.inherit(s,a,i.methods),i.ready=!1,t[r]=i,e[r]=s,n[r]={},s},ns.Model._reset=function(){n={},e={},t={}},ns.Model._clear=function(){for(var e in t)n[e]={}},ns.Model.info=function(e){var t=ns.Model.infoLite(e);return t.ready||(t.params=t.params||{},t.events=t.events||{},t.isDo=/^do-/.test(e),t.ready=!0),t},ns.Model.infoLite=function(e){var n=t[e];return ns.assert(n,"ns.Model","'%s' is not defined",e),n},ns.Model.key=function(e,t,n){return ns.Model.getKeyAndParams(e,t,n).key},ns.Model.getKeyAndParams=function(e,t,n){if((n=n||ns.Model.info(e)).isDo)return{key:"do-"+e+"-"+r++,params:t};var i="model="+e,o=ns.Model._getKeyParams(e,t,n);return{key:ns.key(i,o),params:o}},ns.Model._getKeyParams=function(e,t,n){if(t=t||{},"function"==typeof(n=n||ns.Model.info(e)).params)return n.params(t);for(var r=n.params,i=n.pNames||(n.pNames=Object.keys(n.params)),o={},a=0,s=i.length;a<s;a++){var u=i[a],c=t[u];null!=(c=void 0===c?r[u]:c)&&(o[u]=c)}return"function"==typeof n.paramsRewrite&&(o=n.paramsRewrite(o)),o},ns.Model.invalidate=function(e,t){t=t||function(){return!0};var r=n[e];for(var i in r){var o=r[i];t(o)&&o.invalidate()}},ns.Model.destroyWith=function(e,t){Array.isArray(t)||(t=[t]);for(var n=0,r=t.length;n<r;n++){var i=t[n];ns.assert(i instanceof ns.Model,"ns.Model","destroyWith called for '%s' while one of the withModels is not instance of ns.Model",e.id),i.on("ns-model-destroyed",(function(){ns.Model.destroy(e)}))}},ns.Model.isCollection=function(e){return(e.info||ns.Model.infoLite(e.id)).isCollection},ns.Model.traverse=function(e,t){ns.Model.infoLite(e),ns.assert("function"==typeof t,"ns.Model.traverse","callback must be a function");var r=n[e];for(var i in r)t(r[i])},ns.ModelUniq=function(){},no.inherit(ns.ModelUniq,ns.Model),ns.ModelUniq.prototype.__superInit=ns.ModelUniq.prototype._init,ns.ModelUniq.prototype._init=function(e){var t=ns.Model.info(e);t.events.changed=t.events.changed||[];var n=t.events.changed,r=function(){var e=this,t=this.params[this.uniqName];this.uniqCached||(this.uniqCached={}),t.forEach((function(t,n){e.uniqCached[n]=!0}))};Array.isArray(n)?n.unshift(r):t.events.changed=[r,t.events.changed],this.__superInit.apply(this,arguments)},ns.ModelUniq.prototype._superIsValid=ns.Model.prototype.isValid,ns.ModelUniq.prototype.isValid=function(){return-1===this.key.indexOf("&"+this.uniqName+"=")||this._superIsValid()},ns.ModelUniq.prototype.uniqName="",ns.ModelUniq.prototype.uniqPath="",ns.ModelUniq.prototype.uniqCached=null,ns.ModelUniq.prototype.uniq=function(e,t){var n=this,r=this.uniqName,i=no.extend({},e);if(this.uniqCached||(this.uniqCached={}),t)for(var o in e)t[o]=o===r?[]:e[o];return i[r]=[].concat(i[r]).map((function(e){return n.uniqCached[e]?(t&&t[r].push(e),null):e})),i[r].length||delete i[r],t&&!t[r].length&&delete t[r],i},ns.ModelUniq.prototype.uniqFromKey=function(e){return((e.split(this.uniqName+"=")[1]||"").split("&")[0]||"").split(",")},ns.ModelUniq.prototype.uniqFromJSON=ns.todo,ns.ModelUniq.prototype.getData=function(e){var t=this.uniqPath,r=[].concat(e[this.uniqName]),i={};i[t]=[];var o=n[this.id];for(var a in o)for(var s=o[a],u=this.uniqFromKey(a),c=0,l=r.length;c<l;c++)if(u.indexOf(r[c])>-1){var d=this.uniqFromJSON(s.data,r[c]);d&&i[t].push(d),r.splice(c,1),c--}return i}})()}),(function(e,t){ns.ModelCollection=function(){},no.inherit(ns.ModelCollection,ns.Model),ns.ModelCollection.prototype.DEFAULT_ITEMS_SPLIT=".items",ns.ModelCollection.prototype._init=function(){this._modelsEvents={},this.models=[],ns.Model.prototype._init.apply(this,arguments)},ns.ModelCollection.prototype.getData=function(){if(this.isValid()){var e;e=this.info.split?this.info.split.items:this.info.jpathItems?this.info.jpathItems:this.DEFAULT_ITEMS_SPLIT,this.data||(this.data={}),"/"===e?this.data=[]:no.jpath.set(e,this.data,[]);var t=no.jpath(e,this.data);this.models.forEach((function(e){t.push(e.getData())}))}return this.data},ns.ModelCollection.prototype._reset=function(){ns.Model.prototype._reset.apply(this,arguments),this.clear()},ns.ModelCollection.prototype._beforeSetData=function(e,t){var n=this.info.split;if(n){var r=no.jpath(n.items||this.DEFAULT_ITEMS_SPLIT,e),i=this._splitModels(r,t),o=this.__filterExistsModels(this.models,i),a=this.__filterExistsModels(i,this.models);this.__removeModels(a),this.__insertModels(o,0),this.models=i}else this.clear();return e},ns.ModelCollection.prototype._splitModels=function(e,t){for(var n=this.info.split,r=[],i=0,o=e.length;i<o;i++){var a,s=e[i],u={};for(var c in n.params)u[c]=no.jpath(n.params[c],s);(a="function"==typeof n.model_id?n.model_id(s,u):n.model_id)&&r.push(ns.Model.get(a,u).setData(s,t))}return r},ns.ModelCollection.prototype._subscribeSplit=function(e){var t=this;this.bindModel(e,"ns-model-changed",(function(n,r){t.onItemChanged(n,e,r)})),this.bindModel(e,"ns-model-touched",(function(n){t.onItemTouched(n,e)})),this.bindModel(e,"ns-model-before-destroyed",(function(n){t.onItemDestroyed(n,e)}))},ns.ModelCollection.prototype.__filterExistsModels=function(e,t){for(var n=this.__buildModelsHash(e),r=[],i=0,o=t.length;i<o;i++){var a=t[i];n.hasOwnProperty(a.key)||r.push(a)}return r},ns.ModelCollection.prototype.__buildModelsHash=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n].key]=0;return t},ns.ModelCollection.prototype.bindModel=function(e,t,n){var r=this._modelsEvents[e.key]||(this._modelsEvents[e.key]={});e.on(t,n),r[t]=n},ns.ModelCollection.prototype.unbindModel=function(e,t){var n=this._modelsEvents[e.key];n&&n[t]&&(e.off(t,n[t]),delete n[t])},ns.ModelCollection.prototype.onItemChanged=function(e,t,n){this.trigger("ns-model-changed",{model:t,jpath:n})},ns.ModelCollection.prototype.onItemTouched=function(e,t){this._version++},ns.ModelCollection.prototype.onItemDestroyed=function(e,t){this.remove(t)},ns.ModelCollection.prototype.getSelfVersion=function(){return this._versionSelf},ns.ModelCollection.prototype._incVersion=function(){ns.Model.prototype._incVersion.apply(this,arguments),this._versionSelf=this._version},ns.ModelCollection.prototype._unsubscribeSplit=function(e){if(e.key in this._modelsEvents){var t=this._modelsEvents[e.key];for(var n in t)e.off(n,t[n]);delete this._modelsEvents[e.key]}},ns.ModelCollection.prototype.clear=function(){var e=this.models;if(this.models=[],e&&e.length){var t=this;e.forEach((function(e){t._unsubscribeSplit(e)})),this.trigger("ns-model-remove",e)}},ns.ModelCollection.prototype.insert=function(e,t){this._reinit(),isNaN(t)&&(t=this.models.length),Array.isArray(e)||(e=[e]);for(var n=[],r=this.__buildModelsHash(e),i=0,o=e.length;i<o;i++){var a=e[i];0===r[a.key]&&(n.push(a),r[a.key]++)}var s=this.__filterExistsModels(this.models,n);return this.__insertModels(s,t)},ns.ModelCollection.prototype.__insertModels=function(e,t){for(var n=0,r=e.length;n<r;n++)this.models.splice(t+n,0,e[n]),this._subscribeSplit(e[n]);return e.length>0&&(this.status=this.STATUS.OK,this.trigger("ns-model-insert",e),!0)},ns.ModelCollection.prototype.remove=function(e){Array.isArray(e)||(e=[e]);for(var t=this._modelsIndexToInstance(e),n=[],r=0,i=t.length;r<i;r++){var o=t[r],a=this.models.indexOf(o);a>-1&&(o._itemToRemoveIndex=a,n.push(o))}return this.__removeModels(n)},ns.ModelCollection.prototype.__removeModels=function(e){for(var t=0,n=(e=e.sort((function(e,t){return t._itemToRemoveIndex-e._itemToRemoveIndex}))).length;t<n;t++)this._unsubscribeSplit(e[t]),this.models.splice(e[t]._itemToRemoveIndex,1);return!!e.length&&(this.trigger("ns-model-remove",e),!0)},ns.ModelCollection.prototype._modelsIndexToInstance=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];if("number"==typeof i){var o=this.models[i];this.models[i]&&t.push(o)}else t.push(i)}return t}}),(function(e,t){!(function(){ns.layout={};var e={},t=/\s+/;function n(e){var t=e.substr(-1);return"@"===t?ns.L.BOX:"&"===t?ns.L.ASYNC:ns.L.VIEW}function r(e){if(t.test(e))return e;var n=e.slice(-1);return"@"!==n&&"&"!==n||(e=e.slice(0,-1)),e}ns.layout.define=function(t,n,r){if(e[t])throw new Error("[ns.layout] Can't redefine '"+t+"'");e[t]={layout:n,parent_id:r}},ns.layout.undefine=function(t){delete e[t]},ns.layout._reset=function(){e={}},ns.layout.page=function(i,o){var a=e[i];if(!a)throw new Error("[ns.layout] '"+i+"' is not defined");var s=(function e(t,i){var o={};if("string"==typeof t)o[t]=!0,t=o;else if(Array.isArray(t)){for(var a=0,s=t.length;a<s;a++)o[t[a]]=!0;t=o}var u={};for(var c in t){var l=c;c.indexOf("{")>-1&&(l=no.jpath.string(c)(i));var d,f=t[c];switch(typeof f){case"function":d=e(f(i),i);break;case"object":case"string":d=e(f,i);break;default:d={}}u[r(l)]={type:n(l),views:d}}return u})(a.layout,o);a.parent_id&&(s=(function(e,i){var o=ns.object.clone(i);for(var a in e){var s=a.split(t),u=s.length;if(n(s[u-1])!==ns.L.BOX)throw new Error("[ns.layout] Can't overwrite view layout '"+s[u-1]+"'");for(var c=o,l=0;l<u-1;l++)if(!(c=c[r(s[l])].views))throw new Error('[no.layout] Path "'+s.slice(0,l).join(" ")+'" is undefined in this layout and cannot be extended');c[r(s[u-1])]=e[a]}return o})(s,ns.layout.page(a.parent_id,o)));return s},ns.layout.generateSimple=function(t,n){var r=(n=n||"ns-auto-layout-")+t;if(r in e)return r;var i={};return i[t]={},ns.layout.define(r,i),r}})()}),(function(e,t){!(function(e){e.log={},e.log.debug=function(e){console.log.apply(console,arguments)},e.log.info=function(e,t,n){},e.log.error=function(e,t,n){},e.log.exception=function(e,t,n){}})(ns)}),(function(e,t){!(function(){function e(e){return ns.events.trigger("ns-page-after-load",e),e}function t(e){return ns.events.trigger("ns-page-error-load",e),Vow.reject(e)}ns.page={},ns.page.current={},ns.page.currentUrl=null,ns.page.DEFAULT_HISTORY_ACTION="push",ns.page.go=function(e,n){if(n?!0===n&&(n="replace"):n=ns.page.DEFAULT_HISTORY_ACTION,e=e||ns.page.getCurrentUrl(),!ns.page.block.check(e))return e!==ns.page.currentUrl&&ns.history.replaceState(ns.page.currentUrl),Vow.reject("block");var r=ns.router(e);return r.page===ns.R.NOT_APP_URL?("replace"===n?window.location.replace(r.redirect):window.location=r.redirect,new Vow.Promise):(ns.events.trigger("ns-page-before-load",[ns.page.current,r],e),"push"===n&&e===ns.page.currentUrl&&(n="preserve"),ns.page.followRoute(r).then((function(){return ns.page._setCurrent(r,e),ns.page._fillHistory(e,n),r.page===ns.R.REDIRECT?ns.page.redirect(r.redirect):(ns.page.title(),ns.page.startUpdate(r))}),t))},ns.page.followRoute=function(e){return Vow.fulfill()},ns.page.startUpdate=function(n){var r=ns.layout.page(n.page,n.params);return new ns.Update(ns.MAIN_VIEW,r,n.params).start().then(e,t)},ns.page._setCurrent=function(e,t){ns.page.current=e,ns.page.currentUrl=t},ns.page._fillHistory=function(e,t){switch(t){case"init":ns.page.history.push(e);break;case"push":ns.history.pushState(e),ns.page.history.push(e);break;case"replace":ns.history.replaceState(e),ns.page.history.replace(e);break;case"redirect":ns.history.replaceState(e),ns.page.history.redirect(e)}},ns.page.redirect=function(e){return ns.history.replaceState(e),ns.page.go(e,"redirect")},ns.page.title=function(){document.title="NoScript app "+ns.page.currentUrl.url},ns.page._reset=function(){this.current={},this.currentUrl=""},ns.page.getDefaultUrl=function(){return ns.router.url("/")},ns.page.getCurrentUrl=function(){return window.location.pathname+window.location.search}})()}),(function(e,t){ns.page.block={},ns.page.block._checkers=[],ns.page.block.add=function(e){return ns.page.block._checkers.push(e),this},ns.page.block.remove=function(e){var t=ns.page.block._checkers,n=t.indexOf(e);return n>-1&&t.splice(n,1),this},ns.page.block.clear=function(){return ns.page.block._checkers=[],this},ns.page.block.check=function(e){for(var t=ns.page.block._checkers,n=0,r=t.length;n<r;n++)if(!1===t[n](e))return!1;return!0}}),(function(e,t){ns.page.history={},ns.page.history._current=null,ns.page.history._history=[],ns.page.history.push=function(e){var t=ns.page.history;t._current&&t._current!==e&&(ns.page.history.getPrevious()===e?t._history.pop():t._history.push(t._current)),t._current=e},ns.page.history.replace=function(e){var t=ns.page.history,n=t._history.pop(),r=t._current;n!==e&&r!==e&&t._history.push(e),t._current=e},ns.page.history.redirect=function(e){var t=ns.page.history;t._current=e,t._previous=t.getPrevious()},ns.page.history.back=function(){var e=ns.page.history,t=e.getPrevious();return t?e._history.pop():t=ns.page.getDefaultUrl(),e._current=t,ns.page.go(t)},ns.page.history.getPrevious=function(e){e=e||0;var t=ns.page.history._history;return t[t.length-e-1]},ns.page.history.reset=function(){ns.page.history._current=null,ns.page.history._history=[]}}),(function(e,t){!(function(){ns.request=function(e,t,n){return ns.request.models(r(e,t),n)},ns.forcedRequest=function(e,t,n){return(n=n||{}).forced=!0,ns.request.models(r(e,t),n)},ns.request.models=function(e,n){return e=e.map((function(e){return e.getRequest?e.getRequest():e})),new t(e,n).start()},ns.request.requestParams={},ns.request.addRequestParams=function(e){no.extend(e,ns.request.requestParams)},ns.request.URL="/models/",ns.request.canProcessResponse=function(){return!0},ns.request._reset=function(){ns.request.manager._keys={}},ns.request.extractModel=function(e,t){var n,r;t?(n=e.extractData(t))||(r=e.extractError(t))||(r={id:"INVALID_FORMAT",reason:"response should contain result or error"}):r={id:"NO_DATA",reason:"Server returned no data"},n?e.setData(n):e.setError(r)};var e=0,t=function(t,n){this.id=e++,this.models=t,this.options=n||{},this.promise=new Vow.Promise};function n(e){return e.promise}function r(e,t){"string"==typeof e&&(e=[e]),"string"==typeof e[0]&&(e=(function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n.push({id:e[r],params:t});return n})(e,t=t||{}));for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];o instanceof ns.Model?n.push(o):o.model&&o.model instanceof ns.Model?n.push(o.model):n.push(ns.Model.get(o.id,o.params))}return n}function i(e){return e.id}t.prototype.start=function(){for(var e=[],t=[],n=this.models,r=0,i=n.length;r<i;r++){var o=n[r],a=ns.request.manager.add(o,this.id,this.options.forced);!0===a?t.push(o):a instanceof ns.Model&&e.push(o)}return this.request(e,t),this.promise},t.prototype.request=function(e,t){var r,o=[];if(t.length){var a=[],s=[];if(t.forEach((function(e){if("function"==typeof e.request){var t=e.request().then((function(){ns.request.manager.done(e)}),(function(){ns.request.manager.done(e)}));e.promise=t,s.push(t)}else a.push(e)})),o=o.concat(s),a.length){var u=(function(e){for(var t={},n=0,r=e.length;n<r;n++){var i="."+n,o=e[n];t["_model"+i]=o.id;var a=o.getRequestParams();for(var s in a)t[s+i]=a[s]}return t})(a),c=a.map(i);ns.request.addRequestParams(u),r=ns.http(ns.request.URL+"?_m="+c.join(","),u),o=o.concat(a.map(n))}}if(e.length&&(o=o.concat(e.map(n))),o.length){var l=this;r&&r.then((function(e){!1===ns.request.canProcessResponse(e)?(ns.request.manager.clean(l.models),l.promise.reject({error:"CANT_PROCESS",invalid:l.models,valid:[]})):l.extract(a,e)}),(function(e){ns.log.error("ns.request.http",e);var t=a.map((function(){return{error:{id:"HTTP_"+e.xhr.status}}}));l.extract(a,{models:t})})),Vow.all(o).then(this.start.bind(this))}else{ns.request.manager.clean(this.models);for(var d=[],f=[],h=0,p=this.models.length;h<p;h++){var m=this.models[h];m.isValid()?d.push(m):f.push(m)}f.length?this.promise.reject({invalid:f,valid:d}):this.promise.fulfill(this.models)}},t.prototype.extract=function(e,t){for(var n=t&&t.models||[],r=0,i=e.length;r<i;r++){var o=e[r],a=n[r];o.requestID>this.id||(ns.request.extractModel(o,a),ns.request.manager.done(o),o.finishRequest())}}})()}),(function(e,t){ns.request.manager={STATUS:{LOADING:0,FAILED:1,DONE:2},_keys:{},add:function(e,t,n){var r=this.STATUS,i=e.key,o=this._keys[i];return o?!(e.isValid()&&!n)&&(o.status===r.LOADING?e.isDo()?o.model:n?(o.model.requestID=t,!0):o.model:o.status===r.FAILED?o.model._canRequest()?(this._createRequest(e,t),!0):(e.status=e.STATUS.ERROR,this.done(e,!0),!1):!e.isValid()&&(!!e._canRequest()&&(this._createRequest(e,t),!0))):e.isValid()?!(!n||e.requestID===t)&&(this._createRequest(e,t),!0):!!e.canRequest()&&(this._createRequest(e,t),!0)},done:function(e,t){var n=this._keys[e.key];n&&(e.isValid()||t?n.status=this.STATUS.DONE:n.status=this.STATUS.FAILED)},clean:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];r.retries=0,delete this._keys[r.key]}},_createRequest:function(e,t){this._keys[e.key]={status:this.STATUS.LOADING,model:e},e.prepareRequest(t)}}}),(function(e,t){ns.router=function(e){var t=ns.router.baseDir,n=ns.router._routes;if(0!==e.indexOf(t))return{page:ns.R.NOT_APP_URL,params:{},redirect:e};(e=e.substring(t.length))||(e="/");var r=ns.router._processRedirect(n.redirect,e);if(r)return{page:ns.R.REDIRECT,params:{},redirect:t+r};var i=e.split("?"),o=i.shift();if(o in n.rewriteUrl){var a=i.join("?");e=n.rewriteUrl[o]+(a?"?"+a:"")}for(var s=n.route,u=0,c=s.length;u<c;u++){var l=s[u],d=ns.router._parseUrl(l,e);if(d)return l.page in n.rewriteParams&&(d=n.rewriteParams[l.page](d)),{page:l.page,params:d}}return{page:ns.R.NOT_FOUND,params:{}}},ns.router.encodeParamValue=encodeURIComponent,ns.router.decodeParamValue=decodeURIComponent,ns.router.URL_FIRST_SYMBOL="/",ns.router._getParamsRouteFromUrl=function(e,t){for(var n,r=e.params,i={},o=r.length,a=0;a<o;a++){n=r[a];var s=t[a+1];if(s)try{s=ns.router.decodeParamValue(s,n.name)}catch(e){s=""}s||(s=n.default_value),i[n.name]=s}return i},ns.router._parseUrl=function(e,t){var n=e.regexp.exec(t);if(n){var r=ns.router._getParamsRouteFromUrl(e,n),i=n[e.params.length+1];return i&&no.extend(r,ns.parseQuery(i)),r}return null},ns.router._processRedirect=function(e,t){for(var n,r=0,i=e.length;r<i;r++){var o=e[r];if("function"==typeof o.path){var a=ns.router._parseUrl(o,t);a&&(n=o.path(a,t))}else o.regexp.test(t)&&(n=o.path);if(n)return n}return null},ns.router.init=function(){var e=ns.router.routes;for(var t in ns.router._regexps={},ns.router.regexps)ns.router._regexps[t]=new RegExp("^"+ns.router.regexps[t]+"$");var n={};n.redirect=e.redirect||{},n.rewriteUrl=e.rewriteUrl||{},n.rewriteParams=e.rewriteParams||{};var r=e.route||{},i=[],o={};for(var a in r){var s=r[a];(d=ns.router.compile(a)).page=s,i.push(d),o[s]=o[s]||[],o[s].push(d)}n.route=i,n.routeHash=o;var u=e.redirect||{},c=[];for(var l in u){var d=ns.router.compile(l);c.push({regexp:d.regexp,path:u[l],params:d.params})}n.redirect=c,ns.router._routes=n},ns.router.url=function(e){return ns.router.baseDir+e||"/"},ns.router.generateUrl=function(e,t){var n,r=ns.router._routes.routeHash[e];t=t||{},ns.assert(r&&r.length,"ns.router","Could not find route with id '%s'!",e);for(var i=0;i<r.length&&null===(n=ns.router._generateUrl(r[i],t));i++);return ns.assert(null!==n,"ns.router","Could not generate url for layout id '%s'!",e),ns.router.url(n)},ns.router._generateUrl=function(e,t){for(var n,r,i,o,a,s=[],u=no.extend({},t),c=ns.router._routes.rewriteUrl,l=0;l<e.sections.length;l++){r=e.sections[l],i="";for(var d=0;d<r.items.length;d++)if((a=r.items[d]).name){o=t[a.name];var f=a.name in t;if(a.is_optional&&!f&&(o=a.default_value),a.is_filter&&o!==a.filter_value)return null;if(!a.is_optional&&!f)return null;if(a.is_optional&&!f)continue;if(o=ns.router.encodeParamValue(o,a.name),!ns.router._isParamValid(o,a.type))return null;i+=o,delete u[a.name]}else i+=a.default_value;!i&&r.is_optional||s.push(i)}n=(n=s.join("/"))?ns.router.URL_FIRST_SYMBOL+n:"";for(var h=!0;h;)for(var p in h=!1,c){var m=c[p],v=m.length;if(n.substr(0,v)===m){var g=n.charAt(v);"/"!==g&&"?"!==g&&g||(n=p+n.substr(m.length),h=!0)}}var y=ns.params2query(u);return y?n+"?"+y:n},ns.router.compile=function(e){(e=e.replace(/\/$/,""))[0]===ns.router.URL_FIRST_SYMBOL&&(e=e.substr(1));var t=e.split("/").map(ns.router._parseSection),n=t.map(ns.router._generateSectionRegexp);"/"===n[0][0]&&(n[0]=ns.router.URL_FIRST_SYMBOL+n[0].substr(1));var r=n.join(""),i=[];return t.forEach((function(e){i=i.concat(e.items.filter((function(e){return!!e.name})))})),r="^"+r+"/?(?:\\?(.*))?$",{regexp:new RegExp(r),params:i,sections:t}},ns.router._parseSection=function(e){for(var t=0,n=-1,r=-1,i=[];!((n=e.indexOf("{",t))<0);)r=e.indexOf("}",n),ns.assert(r>0,"ns.router","could not parse parameter in url section: %s",e),n>t&&i.push({default_value:e.substr(t,n-t)}),i.push(ns.router._parseParam(e.substr(n+1,r-n-1))),t=r+1;return t<e.length&&i.push({default_value:e.substr(t)}),{is_optional:i.length&&i.filter((function(e){return e.is_optional})).length===i.length,items:i}},ns.router._parseParam=function(e){var t,n,r,i,o,a,s=!1,u=(t=e.split("="))[0].split(":");return a=u[0],n=u[1]||"id",3===t.length?(i=!1,s=!0,o=t[2],ns.assert(o,"ns.router","Parameter '%s' value must be specified",a),ns.assert(ns.router._isParamValid(o,n),"ns.router","Wrong value for '%s' parameter",a)):(i=2===t.length,r=t[1]),{name:a,type:n,default_value:r,is_optional:i,is_filter:s,filter_value:o}},ns.router._generateSectionRegexp=function(e){var t="";return e.items.forEach((function(e){t+=ns.router._generateParamRegexp(e)})),t=e.is_optional?"(?:/(?!/)"+t+")?":"/"+t},ns.router._generateParamRegexp=function(e){var t,n=ns.router.regexps;return e.default_value&&!e.name?e.default_value:(e.type&&ns.assert(e.type in n,"ns.router","Could not find regexp for type '%s'!",e.type),e.is_filter&&e.filter_value?t="("+e.filter_value+")":(t="("+(t=n[e.type])+")",e.is_optional&&(t="(?:"+t+")?")),t)},ns.router._isParamValid=function(e,t){var n=ns.router._regexps[t];return ns.assert(n,"ns.router","Could not find regexp for type '%s'!",t),n.test(e)},ns.router._reset=function(){this.baseDir="",this._routes=null,this.routes={},this.regexps={id:"[A-Za-z_][A-Za-z0-9_-]*",int:"[0-9]+"}},ns.router._reset()}),(function(e,t){!(function(){ns.Update=function(e,n,r,i){if(this.view=e,!(this.view.id in n))throw new Error("[ns.Update] Can't find view layout");this.layout=n[this.view.id],this.params=r,this.id=++t,this.promise=new Vow.Promise,i=i||{},this.EXEC_FLAG=i.execFlag||ns.U.EXEC.GLOBAL,this.parentUpdate=i.parentUpdate,this.log("created instance",this,"with layout",this.layout,"and params",this.params),this.startTimer("full"),i.timers&&(this._profileTimes.__parent=i.timers),ns.Update._addToQueue(this)||this.abort()},no.extend(ns.Update.prototype,ns.profile);var e=[],t=-1;function n(e){for(var t={},n=[],r=0,i=e.length;r<i;r++){var o=e[r].models;for(var a in o){var s=o[a],u=s.key;t[u]||(n.push(s),t[u]=!0)}}return n}function r(e){return e.parentUpdate?r(e.parentUpdate):e.EXEC_FLAG===ns.U.EXEC.PARALLEL}ns.Update.prototype.STATUS=ns.U.STATUS,ns.Update.prototype._EVENTS_ORDER=["ns-view-hide","ns-view-htmldestroy","ns-view-htmlinit","ns-view-async","ns-view-show","ns-view-touch"],ns.Update.prototype._requestCount=0,ns.Update.prototype.log=function(){if(ns.DEBUG){var e=Array.prototype.slice.apply(arguments);"generated html"===e[0]&&(e[1]=ns.html2node(e[1])),ns.log.debug.apply(ns.log,["[ns.Update]",this.id].concat(e))}},ns.Update.prototype._requestModels=function(e){var t="requestModels."+this._requestCount;if(this.startTimer(t),this.log("started models request",e),!this._checkModelsInvalid(e))return this.stopTimer(t),this.log("received models",e),Vow.fulfill(e);var n=ns.request.models(e);return n.always((function(){this.stopTimer(t)}),this),n.then(this._onRequestModelsOK,this._onRequestModelsError,this)},ns.Update.prototype._onRequestModelsOK=function(e){return this.log("received models",e),e},ns.Update.prototype._onRequestModelsError=function(e){this.log("failed to receive models",e);var t={error:this.STATUS.MODELS,expired:this._expired(),invalidModels:e.invalid,validModels:e.valid};return ns.Update.handleError(t,this)?[].concat(e.invalid,e.valid):Vow.reject(t)},ns.Update.prototype._checkModelsInvalid=function(e){return(e||[]).some((function(e){return!e.isValid()}))},ns.Update.prototype._getActiveViews=function(){var e="collectModels."+this._requestCount;this.startTimer(e);var t={sync:[],async:[],hasPatchLayout:!1};return this.view.destroyed||this.view._getRequestViews(t,this.layout,this.params),this.stopTimer(e),this.log("collected incomplete views",t),t},ns.Update.prototype._requestSyncModels=function(){var e=this._getActiveViews(),t=n(e.sync);return this.log("collected needed models",t),this._requestModels(t).then((function(t){if(e.hasPatchLayout&&!this._checkModelsInvalid(t))return this._requestCount++,this._requestSyncModels()}),null,this)},ns.Update.prototype._requestAllModels=function(){if(this._expired())return this._rejectWithStatus(this.STATUS.EXPIRED);var e=new Vow.Promise,t=this._getActiveViews(),r=n(t.sync);this.log("collected needed models",r);var i=this._requestModels(r),o=t.async.map((function(e){return e.updateAfter(this.promise,this.params,this)}),this);return i.then((function(n){if(t.hasPatchLayout&&!this._checkModelsInvalid(n))return this._requestCount++,void e.sync(this._requestAllModels());e.fulfill({async:o})}),(function(t){e.reject(t)}),this),e},ns.Update.prototype._applyLayout=function(){this._getActiveViews()},ns.Update.prototype._generateHTML=function(){return this._expired()?this._rejectWithStatus(this.STATUS.EXPIRED):Vow.fulfill(this._renderUpdateTree())},ns.Update.prototype._renderUpdateTree=function(){this.startTimer("collectViews");var e,t={views:{}};return this.view.destroyed||this.view._getUpdateTree(t),this.log("created render tree",t),this.stopTimer("collectViews"),ns.object.isEmpty(t.views)||(this.startTimer("generateHTML"),e=this.applyTemplate(t,this.params,this.layout),this.log("generated html",e),this.stopTimer("generateHTML")),e},ns.Update.prototype._insertNodes=function(e){if(this._expired())return this._rejectWithStatus(this.STATUS.EXPIRED);this.startTimer("triggerHideEvents");var t={"ns-view-hide":[],"ns-view-htmldestroy":[]};this.view.destroyed||this.view.beforeUpdateHTML(t,!1),this._triggerViewEvents(t);var n={"ns-view-async":[],"ns-view-htmlinit":[],"ns-view-show":[],"ns-view-touch":[]};return this.switchTimer("triggerHideEvents","insertNodes"),this.view.destroyed||this.view._updateHTML(e,{toplevel:!0},n),this.switchTimer("insertNodes","triggerEvents"),this._triggerViewEvents(n),this.stopTimer("triggerEvents"),Vow.fulfill()},ns.Update.prototype._triggerViewEvents=function(e){for(var t=this.getTimers(),n=0,r=this._EVENTS_ORDER.length;n<r;n++)for(var i=this._EVENTS_ORDER[n],o=e[i]||[],a=o.length-1;a>=0;a--)o[a].trigger(i,this.params,t)},ns.Update.prototype._updateDOM=function(){if(this._expired())return this._rejectWithStatus(this.STATUS.EXPIRED);var e=this._renderUpdateTree();this.startTimer("html2node");var t=ns.html2node(e||"");this.stopTimer("html2node"),this._insertNodes(t)},ns.Update.prototype.prefetch=function(){return this.log("started `prefetch` scenario"),this._requestSyncModels().then(this._fulfill,this._reject,this),this.promise},ns.Update.prototype.generateHTML=function(){return this.log("started `generateHTML` scenario"),Vow.invoke(this._requestSyncModels.bind(this)).then(this._generateHTML,null,this).then(this._fulfill,this._reject,this),this.promise},ns.Update.prototype.prerender=function(){return this.log("started `prerender` scenario"),ns.todo(),this.promise},ns.Update.prototype.render=function(){return this._expired()?(this._reject({error:this.STATUS.EXPIRED}),this.promise):(this.log("started `render` scenario"),Vow.invoke(this._requestAllModels.bind(this)).then((function(e){this._updateDOM(),this._fulfill(e)}),this._reject,this).then(null,this._reject,this),this.promise)},ns.Update.prototype.start=ns.Update.prototype.render,ns.Update.prototype.reconstruct=function(e){return this.log("started `reconstruct` scenario"),this._applyLayout(),Vow.invoke(this._insertNodes.bind(this),e).then((function(){this._fulfill({async:[]})}),this._reject,this),this.promise},ns.Update.prototype.applyTemplate=function(e,t,n){return ns.renderString(e,null,"")},ns.Update.prototype._expired=function(){return this.promise.isResolved()||-1===e.indexOf(this)},ns.Update.prototype.abort=function(){this._reject({error:ns.U.STATUS.EXPIRED})},ns.Update.prototype._fulfill=function(e){this.promise.isResolved()||(ns.Update._removeFromQueue(this),this.stopTimer("full"),this.promise.fulfill(e),this.perf(this.getTimers()),this.log("successfully finished scenario"))},ns.Update.prototype._reject=function(e){this.promise.isResolved()||(ns.Update._removeFromQueue(this),this.stopTimer("full"),this.promise.reject(e),this.log("scenario was rejected with reason",e))},ns.Update.prototype._rejectWithStatus=function(e){return Vow.reject({error:e})},ns.Update.prototype.isGlobal=function(){return this.EXEC_FLAG===ns.U.EXEC.GLOBAL},ns.Update.prototype.perf=function(e){},ns.Update.handleError=function(e,t){return!1},ns.Update._removeFromQueue=function(t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},ns.Update._addToQueue=function(t){var n,i,o=e,a=ns.U.EXEC,s=a.GLOBAL,u=a.ASYNC,c=t.EXEC_FLAG;if(c===s){var l=[];for(n=o.length-1;n>=0;n--){var d=o[n];r(d)?l.push(d):d.abort()}e=l}else if(c===u&&!r(t))for(n=0,i=o.length;n<i;n++)if(o[n].EXEC_FLAG===s)return!1;return e.push(t),!0}})()}),(function(e,t){!(function(){var e=0,t=/ns-view-id-\d+/;ns.View=function(){},no.extend(ns.View.prototype,ns.Events),ns.View.prototype.STATUS=ns.V.STATUS,ns.View.prototype._$document="undefined"==typeof document?null:$(document),ns.View.prototype._$window="undefined"==typeof window?null:$(window),ns.View.prototype.key=null,ns.View.prototype.params=null,ns.View.prototype.node=null,ns.View.prototype.$node=null,ns.View.prototype.views=null,ns.View.prototype.id=null,ns.View.prototype._visible=!1,ns.View.prototype.__uniqueId=null,ns.View.prototype.__modelsEventsBinded=!1,ns.View.prototype._init=function(e,t,n){this.id=e,this.__setUniqueId(),this.async=n,this.info=ns.View.info(e),no.extend(this,ns.View.getKeyAndParams(this.id,t||{},this.info)),this._initModels(),this._modelsVersions={},this.views={},this.status=this.STATUS.NONE,this.destroyed=!1,this.__customInit(),this._bindCreateEvents(),this.trigger("ns-view-init")},ns.View.prototype.__setUniqueId=function(){this.__uniqueId||(this.__uniqueId="ns-view-id-"+ ++e)},ns.View.prototype.__customInit=no.nop,ns.View.prototype._initModels=function(){for(var e in this.models={},this._modelsHandlers={},this.info.models)if(!this.models[e]){var t=ns.Model.get(e,this.params);this.models[e]=t,this._modelsHandlers[t.key]={}}},ns.View.prototype._getView=function(e){return this.views[e]},ns.View.prototype._addView=function(e,t,n){var r=this._getView(e);return r||(r=n===ns.L.BOX?new ns.Box(e,t):ns.View.create(e,t,n===ns.L.ASYNC),this.views[r.id]=r),r},ns.View.prototype.__onHtmldestroy=function(){this._unbindEvents("init")},ns.View.prototype._htmlinit=function(e){this._bindEvents("init"),e.push(this)},ns.View.prototype.hideAndUnbindEvents=function(){this.__onHide()},ns.View.prototype.__onHide=function(){!this.isLoading()&&!0===this._visible&&this._unbindEvents("show"),this._visible=!1},ns.View.prototype._show=function(e){return!this.isLoading()&&!this._visible&&(this.__modelsEventsBinded||this.__bindModelsEvents(),this._bindEvents("show"),this._visible=!0,e&&e.push(this),!0)},ns.View.prototype.__bindModelsEvents=function(){this.__modelsEventsBinded=!0;var e=this.models;for(var t in e){var n=e[t];this.__bindModelEvents(n)}},ns.View.prototype.__bindModelEvents=function(e){var t=this.info.models[e.id];for(var n in t){var r=t[n],i=this[r]||t[n];ns.View.assert("function"==typeof i,4,[this.id,r,e.id]),i===this.keepValid&&(i=no.nop),this.__bindModelEvent(e,n,this._invokeModelHandler.bind(this,i,e))}},ns.View.prototype._invokeModelHandler=function(e,t){return this._saveModelVersion(t.id),e.apply(this,Array.prototype.slice.call(arguments,2))},ns.View.prototype.__bindModelEvent=function(e,t,n){e.on(t,n),this._modelsHandlers[e.key][t]=n},ns.View.prototype.__unbindModelsEvents=function(){var e=this.models;for(var t in e){var n=e[t];this.__unbindModelEvent(n)}},ns.View.prototype.__unbindModelEvent=function(e){var t=this._modelsHandlers[e.key];for(var n in t)e.off(n,t[n]),delete t[n]},ns.View.prototype._prepareCallback=function(e){if("string"==typeof e){var t=this[e];return ns.View.assert(!!t,5,[e,this.id]),t}return e},ns.View.prototype._bindEventHandlers=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r],a=[].concat(o);a[t]=this._prepareCallback(o[t]).bind(this),n.push(a)}return n},ns.View.prototype._getEvents=function(e){var t="_"+e+"Events";if(!this[t]){var n=this.info[e+"Events"],r=this.info[e+"Nsevents"];this[t]={bind:this._bindEventHandlers(n.bind,2),delegate:this._bindEventHandlers(n.delegate,2),nsevents:this._bindEventHandlers(r,1)}}return this[t]},ns.View.prototype._bindEvents=function(e){var t,n,r,i=this.$node,o=this._getEvents(e),a=o.delegate;for(t=0,n=a.length;t<n;t++)"window"===(r=a[t])[1]||"document"===r[1]?this["_$"+r[1]].on(r[0],r[2]):r[1]?i.on(r[0],r[1],r[2]):i.on(r[0],r[2]);var s=o.bind;for(t=0,n=s.length;t<n;t++)r=s[t],i.find(r[1]).on(r[0],r[2]);var u=o.nsevents;for(t=0,n=u.length;t<n;t++)r=u[t],ns.events.on(r[0],r[1])},ns.View.prototype._bindCreateEvents=function(){for(var e=0,t=this.info.createEvents.length;e<t;e++){var n=this.info.createEvents[e];this.on(n[0],this._prepareCallback(n[1]))}},ns.View.prototype._unbindEvents=function(e){var t,n,r,i=this.$node,o=this._getEvents(e),a=o.delegate;for(t=0,n=a.length;t<n;t++)"window"===(r=a[t])[1]||"document"===r[1]?this["_$"+r[1]].off(r[0],r[2]):r[1]?i.off(r[0],r[1],r[2]):i.off(r[0],r[2]);var s=o.bind;for(t=0,n=s.length;t<n;t++)r=s[t],i.find(r[1]).off(r[0],r[2]);var u=o.nsevents;for(t=0,n=u.length;t<n;t++)r=u[t],ns.events.off(r[0],r[1])},ns.View.prototype.invalidate=function(){for(var e=this._getDescendantsAndSelf(),t=0,n=e.length;t<n;t++){var r=e[t];r.status===this.STATUS.OK&&(r.status=this.STATUS.INVALID)}},ns.View.prototype.isOk=function(){return this.status===this.STATUS.OK},ns.View.prototype.isLoading=function(){return this.status===this.STATUS.LOADING},ns.View.prototype.isNone=function(){return this.status===this.STATUS.NONE},ns.View.prototype.isValid=function(){return this.isOk()&&this.isModelsValidWithVersions()},ns.View.prototype.isValidSelf=ns.View.prototype.isValid,ns.View.prototype.isValidWithDesc=function(){if(!this.isValid())return!1;for(var e in this.views)if(!this.views[e].isValidWithDesc())return!1;return!0},ns.View.prototype.isModelsValidWithVersions=function(){return this.isModelsValid(this._modelsVersions)},ns.View.prototype.isModelsValid=function(e){var t=this.models;for(var n in t){if(!t[n].isValid()||e&&this._getModelVersion(n)>e[n])return!1}return!0},ns.View.prototype.isVisible=function(){return this._visible},ns.View.prototype._apply=function(e){var t=this.views;for(var n in t)e(t[n],n)},ns.View.prototype._saveLayout=function(e){this.layout={},this.layout[this.id]={views:e}},ns.View.prototype._getRequestViews=function(e,t,n){var r=this.__evaluateState();this.__registerInUpdate(r,e);var i=!1;r&&(i=!0,"function"==typeof this.patchLayout&&(this.isModelsValid()?this.__patchLayout(t,n):(i=!1,e.hasPatchLayout=!0)));var o=t.views;if(this._saveLayout(o),i){for(var a in o)this._addView(a,n,o[a].type);var s=this.id;this._apply((function(t,r){var i=o[r];ns.View.assert(!!i,13,[s]),t._getRequestViews(e,i,n)}))}return e},ns.View.prototype.__patchLayout=function(e,t){e.views={};var n=this.patchLayout(t);ns.View.assert(!!n,11);var r=ns.layout.page(n,t);this.__checkPatchLayout(r),no.extend(e.views,r)},ns.View.prototype.__checkPatchLayout=function(e){for(var t in e)ns.View.assert(e[t].type===ns.L.BOX,12)},ns.View.prototype.__evaluateState=function(){this.asyncState=!1;var e=!0;return this.async?this.shouldBeSync||this.isModelsValid()?e=!0:(this.asyncState=!0,e=!1):(this.isValidSelf()||this.invalidate(),e=!0),this.shouldBeSync=!1,e},ns.View.prototype.__registerInUpdate=function(e,t){e?t.sync.push(this):t.async.push(this)},ns.View.prototype._getUpdateTree=function(e){return this.isValid()?this._apply((function(t){t._getUpdateTree(e)})):e.views[this.id]=this._getViewTree(),e},ns.View.prototype._getCommonTree=function(){var e={box:this.info.isBox,collection:this.info.isCollection,id:this.id,key:this.key,models:{},params:this.params,state:this.asyncState?"loading":"ok",tree:{},uniqueId:this.__uniqueId,views:{}};return e.tree[this.id]=!0,e},ns.View.prototype._getTree=function(){var e=this._getCommonTree(),t=this.patchTree(e);return t&&"object"==typeof t&&!Array.isArray(t)&&(e=no.extend(t,e)),e},ns.View.prototype._getViewTree=function(){var e=this._getTree();return e.models=this._getModelsForTree(),"loading"===e.state?e:(this.isModelsValid()?e.views=this._getDescViewTree():e.state="error",e)},ns.View.prototype.patchTree=no.nop,ns.View.prototype._getDescViewTree=function(){var e={};return this._apply((function(t,n){e[n]=t._getViewTree()})),e},ns.View.prototype._getPlaceholderTree=function(){var e=this._getTree();return e.state="placeholder",this.info.isCollection?e.views=this._getDescViewTree():this._apply((function(t){t._getUpdateTree(e)})),e},ns.View.prototype._getModelsForTree=function(){var e={},t=this.models;for(var n in t){var r=t[n];e[n]={},r.isValid()?(e[n].status="ok",e[n][n]=r.getData()):(e[n].status="error",e[n][n]=r.getError())}return e},ns.View.prototype.getModel=function(e){return this.models[e]},ns.View.prototype.getModelData=function(e,t){var n=this.getModel(e);return t?n.get(t):n.getData()},ns.View.prototype._getDescendantsAndSelf=function(e){return(e=e||[]).push(this),this._apply((function(t){t._getDescendantsAndSelf(e)})),e},ns.View.prototype._setNode=function(e){var t=this.STATUS;e?(this.node=e,this.$node=$(e),this.status=this.asyncState?t.LOADING:t.OK):this.status=t.NONE},ns.View.prototype._extractNodeByKey=function(e){var n=e.querySelector('[data-key="'+this.key+'"]');if(!n)return null;var r=n.className;return-1===r.indexOf(this.__uniqueId)&&(n.className=r.replace(t,this.__uniqueId)),n},ns.View.prototype._extractNode=function(e){var t=ns.byClass(this.__uniqueId,e)[0];return t&&t.getAttribute("data-key")===this.key||(t=this._extractNodeByKey(e)),t},ns.View.prototype._selfBeforeUpdateHTML=function(e,t){t?!0===this._visible&&!this.isLoading()&&e["ns-view-hide"].push(this):!this.isValidSelf()&&this.node&&!this.isLoading()&&(!0===this._visible&&e["ns-view-hide"].push(this),e["ns-view-htmldestroy"].push(this))},ns.View.prototype.beforeUpdateHTML=function(e,t){this._selfBeforeUpdateHTML(e,t),this.asyncState||this._apply((function(n){n.beforeUpdateHTML(e,t)}))},ns.View.prototype._updateHTML=function(e,t,n){var r,i;r=t.toplevel?no.extend({},t):t,!this.isValid()&&(i=this._extractNode(e),ns.View.assert(!!i,6,[this.id]),t.toplevel&&(this.node&&(ns.replaceNode(this.node,i),r.parent_added=!0),r.toplevel=!1),this.node&&!this.isLoading()&&(this.__onHide(),this.__onHtmldestroy()),!this.node||t.parent_added||r.parent_added||ns.replaceNode(this.node,i),this._setNode(i),this.isOk()?this._htmlinit(n["ns-view-htmlinit"]):this.isLoading()&&n["ns-view-async"].push(this),this._saveModelsVersions()),this.isOk()&&(this._show(n["ns-view-show"]),n["ns-view-touch"].push(this)),i=i||e,this.asyncState||this._apply((function(e){e._updateHTML(i,r,n)}))},ns.View.prototype._saveModelsVersions=function(){for(var e in this.models)this._saveModelVersion(e)},ns.View.prototype._getModelVersion=function(e){return this.models[e].getVersion()},ns.View.prototype._saveModelVersion=function(e){this._modelsVersions[e]=this._getModelVersion(e)},ns.View.prototype.keepValid=ns.View.prototype._saveModelsVersions,ns.View.prototype.updateAfter=function(e,t,n){this._asyncPromise=new Vow.Promise;var r=this;return e.then((function(){r.update(t,{parentUpdate:n,timers:n.getTimers()})})),this._asyncPromise},ns.View.prototype.update=function(e,t){this.shouldBeSync=!0;var n=this.params;if(e&&(n=no.extend({},this.params,e)),!this.layout){var r="ns-temp-layout-for-"+this.id,i={};i[this.id]={},ns.layout.define(r,i),this.layout=ns.layout.page(r,n),ns.layout.undefine(r)}(t=t||{}).execFlag=t.execFlag||ns.U.EXEC.ASYNC;var o=new ns.Update(this,this.layout,n,t).render();return this._asyncPromise&&this._asyncPromise.sync(o),o},ns.View.prototype.destroy=function(){this._apply((function(e){e.destroy()})),this.trigger("ns-view-destroyed"),this.views={},this.node&&!this.isLoading()&&(this.isVisible()&&(this.trigger("ns-view-hide"),this.hideAndUnbindEvents()),this.trigger("ns-view-htmldestroy"),this.__onHtmldestroy()),this.__unbindModelsEvents(),this.node&&(this.$node.off().removeData().remove(),this.node=null,this.$node=null),this.info=null,this.layout=null,this.models=null,this.params=null,this.status=this.STATUS.NONE,this.destroyed=!0,this._modelsHandlers=null};var n={},r={};ns.View.define=function(e,t,i){ns.View.assert(!(e in n),1,[e]),t=t||{};var o=this;"string"==typeof i?(o=r[i],ns.View.assert(!!o,2,[i,e])):"function"==typeof i&&(o=i);var a=t.ctor||function(){};return a=no.inherit(a,o,t.methods),t.models=this._formatModelsDecl(t.models||{}),t.events=t.events||{},t.isBox=!1,t.isCollection=!1,t.ready=!1,n[e]=t,r[e]=a,a},ns.View._reset=function(){r={},n={}},ns.View.infoLite=function(e){var t=n[e];return ns.View.assert(!!t,3,[e]),t},ns.View.info=function(e){var t=ns.View.infoLite(e);return t.ready||(ns.View._initInfoParams(t),ns.View._initInfoEvents(t),t.ready=!0),t},ns.View._initInfoParams=function(e){if(e.params){if(ns.View.assert(!e["params+"],7),ns.View.assert(!e["params-"],8),"function"==typeof e.params)return void(e.pGroups=[]);var t,n=[];t=Array.isArray(e.params)?e.params:[e.params];for(var r=0;r<t.length;r++){var i=t[r];n.push({pNames:Object.keys(i),pFilters:i,pDefaults:{}})}e.pGroups=n}else{var o={};for(var a in e.models){var s=ns.Model.info(a);ns.View.assert(!!s,9,[a]),"object"==typeof s.params&&no.extend(o,s.params)}var u=e["params-"];if(u){for(r=0;r<u.length;r++)delete o[u[r]];delete e["params-"]}e["params+"]&&(no.extend(o,e["params+"]),delete e["params+"]);var c=Object.keys(o);c.length?e.pGroups=[{pNames:c,pFilters:{},pDefaults:o}]:e.pGroups=[]}},ns.View._initInfoEvents=function(e){for(var t in e.createEvents=[],e.initEvents={bind:[],delegate:[]},e.showEvents={bind:[],delegate:[]},e.initNsevents=[],e.showNsevents=[],e.events){var n=t.split(" "),r=n.shift().split("@"),i=r.length>1?r.pop():"";i=!i||"init"!==i&&"show"!==i?"":i;var o=r.join("@"),a=n.join(" ");if(o){var s=e.events[t];if(ns.V.DOM_EVENTS.indexOf(o)>-1){var u=[o,a,e.events[t]],c="window"===a||"document"===a,l=c||!("scroll"===o&&a);i||(i=c?"show":"init"),e[i+"Events"][l?"delegate":"bind"].push(u)}else ns.V.NS_EVENTS.indexOf(o)>-1?e.createEvents.push([o,s]):e[(i=i||"show")+"Nsevents"].push([o,s])}}},ns.View.getKey=function(e,t,n){return this.getKeyAndParams(e,t,n).key},ns.View.getKeyAndParams=function(e,t,n){var r;return r="function"==typeof(n=n||ns.View.info(e)||{}).params?n.params(no.extend({},t)):ns.View._getKeyParams(e,t,n),"function"==typeof n.paramsRewrite&&(r=n.paramsRewrite(r)),ns.View.assert(!!r,10,[e]),{params:r,key:ns.key("view="+e,r)}},ns.View._getKeyParams=function(e,t,n){var r={},i=!1;for(var o in n.models){var a=ns.Model.info(o);"function"==typeof a.params&&(i=!0,no.extend(r,a.params(t)))}i&&(no.extend(r,t),t=r);var s=n.pGroups||[];if(!s.length)return i?t:{};for(var u=0;u<s.length;u++){for(var c=s[u],l=c.pNames||[],d=c.pFilters||{},f=c.pDefaults||{},h={},p=0,m=l.length;p<m;p++){var v=l[p],g=t[v],y=d[v],b=v in f;if(null!=(g=void 0===g?f[v]:g)||!b){if(null==g||y&&g!==y){h=null;break}h[v]=g}}if(h)return h}return null},ns.View.create=function(e,t,n){var i=r[e];ns.View.assert(!!i,3,[e]);var o=new i;return o._init(e,t,n),o},ns.View.assert=function(e,t,n){if(!e){n=Array.isArray(n)?n:[];var r=["ns.View",ns.View.ERROR_CODES[t]].concat(n);ns.assert.fail.apply(ns,r)}},ns.View.ERROR_CODES={1:"Can't redefine '%s'",2:"Can't find '%s' to extend '%s'",3:"'%s' is not defined",4:"'%s' can't find handler '%s' for model '%s'",5:"Can't find method '%s' in '%s'",6:"Can't find node for '%s'",7:"you cannot specify params and params+ at the same time",8:"you cannot specify params and params- at the same time",9:"Model %s is not defined!",10:"Could not generate key for view %s",11:"#patchLayout MUST returns valid layout ID",12:"#patchLayout MUST returns layout with ns.Box at top",13:'You cannot change children inside of a regular view. Maybe "%s" should be ns.Box.'},ns.View.defaultModelEvents={"ns-model-insert":"invalidate","ns-model-remove":"invalidate","ns-model-changed":"invalidate","ns-model-destroyed":"invalidate"},ns.View._expandModelsDecl=function(e){if(!Array.isArray(e))return e;for(var t={},n=0,r=e.length;n<r;n++)t[e[n]]=no.extend({},this.defaultModelEvents);return t},ns.View._formatModelsDecl=function(e){var t=this._expandModelsDecl(e);for(var n in t){var r=i(t[n]),o=null;for(var a in"string"==typeof r&&(o=r,r={}),this.defaultModelEvents){var s=this.defaultModelEvents[a];void 0===r[a]?r[a]=o||s:r[a]=i(r[a])}t[n]=r}return t};var i=function(e){return!0===e?"invalidate":!1===e?"keepValid":e}})()}),(function(e,t){ns.ViewCollection=function(){},no.extend(ns.ViewCollection,ns.View),no.inherit(ns.ViewCollection,ns.View),ns.ViewCollection.define=function(e,t,n){t=t||{},n=n||this;var r=ns.View.define.call(this,e,t,n);if(ns.assert(t.split,"ns.ViewCollection","'%s'  must define 'split' section",e),ns.assert(!(t.split.intoViews&&t.split.intoLayouts),"ns.ViewCollection","'%s' can't define 'split.intoViews' and 'split.intoLayouts' sections at same time",e),"string"==typeof t.split.intoViews){var i=ns.layout.generateSimple(t.split.intoViews,"ns-auto-layout-"+e);delete t.split.intoViews,t.split.intoLayouts=new Function("",'return "'+i+'"')}else"function"==typeof t.split.intoViews&&(t.split.intoLayouts=function(n,r){var i=t.split.intoViews.call(this,n,r);return i?ns.layout.generateSimple(i,"ns-auto-layout-"+e):null});ns.assert(t.split.intoLayouts,"ns.ViewCollection","'%s'  must define 'split.intoLayouts' section",e),ns.assert(t.split.byModel,"ns.ViewCollection","'%s'  must define 'split.byModel' section",e);var o=t.split.byModel in t.models&&ns.Model.infoLite(t.split.byModel).isCollection;return ns.assert(o,"ns.ViewCollection","'%s'  must depend on ns.ModelCollection",e),t.isCollection=!0,t.modelCollectionId=t.split.byModel,r},ns.ViewCollection.prototype.__customInit=function(){this.__itemsToRemove=[],this.__model2View={},this.__view2ModelKey={}},ns.ViewCollection.eventsModelCollectionDefault={"ns-model-insert":"keepValid","ns-model-remove":"keepValid","ns-model-changed":"invalidate","ns-model-destroyed":"invalidate"},ns.ViewCollection._expandModelsDecl=function(e){if(!Array.isArray(e))return e;for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];ns.Model.infoLite(i).isCollection?t[i]=no.extend({},this.eventsModelCollectionDefault):t[i]=no.extend({},this.defaultModelEvents)}return t},ns.ViewCollection.prototype._invokeModelHandler=function(e,t,n,r){if(!r||!r.model)return this._saveModelVersion(t.id),e.apply(this,Array.prototype.slice.call(arguments,2))},ns.ViewCollection.prototype._getModelVersion=function(e){var t=this.models[e];return e===this.info.modelCollectionId?t.getSelfVersion():t.getVersion()},ns.ViewCollection.prototype.forEachItem=function(e){var t=this.models[this.info.modelCollectionId];if(t.isValid())for(var n=t.models,r=0,i=n.length;r<i;r++){var o=this.getItemByModel(n[r]);o&&e(o)}},ns.ViewCollection.prototype.getItemByModel=function(e){var t=e.key;return this.__model2View[t]},ns.ViewCollection.prototype.isValid=function(){return this.isValidSelf()&&this.isValidDesc()},ns.ViewCollection.prototype.isValidDesc=function(){for(var e in this.views)if(!this.views[e].isValid())return!1;return!0},ns.ViewCollection.prototype.invalidate=function(){this.status===this.STATUS.OK&&(this.status=this.STATUS.INVALID)},ns.ViewCollection.prototype.invalidateAll=ns.View.prototype.invalidate,ns.ViewCollection.prototype._getView=function(e,t){var n=ns.View.getKey(e,t);return this._getViewByKey(n)},ns.ViewCollection.prototype._getViewByKey=function(e){return this.views&&this.views[e]||null},ns.ViewCollection.prototype._addView=function(e,t,n){var r=this._getView(e,t);if(!r){var i=(r=ns.View.create(e,t)).key,o=n.key;this.views[i]=r,this.__model2View[o]=r,this.__view2ModelKey[i]=o}return r},ns.ViewCollection.prototype._deleteView=function(e){var t=e.key,n=this.__view2ModelKey[t];delete this.views[t],delete this.__model2View[n],delete this.__view2ModelKey[t]},ns.ViewCollection.prototype._apply=function(e){var t=this.views;for(var n in t)e(t[n],t[n].id)},ns.ViewCollection.prototype._getRequestViews=function(e,t,n){var r=t.views,i=this.__evaluateState();if(this.__registerInUpdate(i,e),i){var o=this.models[this.info.modelCollectionId],a={};if(o.isValid()){for(var s=o.models,u=this.info.split.intoLayouts,c=[],l=0,d=s.length;l<d;l++){var f=s[l],h=no.extend({},n,f.params),p=u.call(this,f,h);if(p){var m=ns.layout.page(p,h);for(var v in c.push(m),m){var g=this._addView(v,h,f);g._getRequestViews(e,m[v],h),a[g.key]=null}}}r["ns-view-container"]=c,this.__collectInactiveViews(a)}else e.hasPatchLayout=!0}return this._saveLayout(r),e},ns.ViewCollection.prototype.__collectInactiveViews=function(e){var t=this;this._apply((function(n){n.key in e||(t._deleteView(n),t.__itemsToRemove.push(n))}))},ns.ViewCollection.prototype.__destroyInactiveViews=function(){for(var e=this.__itemsToRemove,t=0,n=e.length;t<n;t++)e[t].destroy();this.__itemsToRemove=[]},ns.ViewCollection.prototype._getUpdateTree=function(e){var t;return t=this.isValidSelf()?this._getPlaceholderTree():this._getViewTree(),e.views[this.id]=t,e},ns.ViewCollection.prototype._getDescViewTree=function(){var e={"ns-view-collection-container":[]},t=this.isValidSelf();return this.forEachItem((function(n){var r=null;if(t)if(n.info.isCollection&&n.isValidSelf())r=n._getPlaceholderTree();else if(n.isValid()){if(!n.isValidWithDesc()){var i={views:{}};return n._getUpdateTree(i),void e["ns-view-collection-container"].push(i.views)}}else r=n._getViewTree();else r=n.isValidSelf()?n._getPlaceholderTree():n._getViewTree();if(r){var o={};o[n.id]=r,e["ns-view-collection-container"].push(o)}})),e},ns.ViewCollection.prototype._updateHTML=function(e,t,n){var r,i=this._extractNode(e),o=$(i).hasClass("ns-view-placeholder");if(r=t.toplevel?no.extend({},t):t,this.isValidSelf())!t.toplevel&&o&&(ns.replaceNode(i,this.node),(r=no.extend({},t)).toplevel=!0,r.parent_added=!0);else{var a=!!this.node;if(!i)throw new Error("[ns.ViewCollection] Can't find node for '"+this.id+"'");t.toplevel?o?r.toplevel=!0:(this.node&&ns.replaceNode(this.node,i),r.toplevel=!1,r.parent_added=!0,this._setNode(i)):o?(ns.replaceNode(i,this.node),r.toplevel=!1,r.parent_added=!0):this._setNode(i),a&&!this.isLoading()&&(this.__onHide(),this.__onHtmldestroy()),this.isOk()?this._htmlinit(n["ns-view-htmlinit"]):this.isLoading()&&n["ns-view-async"].push(this)}if(this.isOk()&&(this._show(n["ns-view-show"]),n["ns-view-touch"].push(this),this._saveModelsVersions()),!this.isLoading()){var s,u={},c=this.__getContainer();i=i||this.node,this.forEachItem((function(e){if(o){var t=!e.isValid();e._updateHTML(i,r,n),t&&(s?$(s.node).after(e.node):$(c).prepend(e.node))}else{var a=e.isValid(),l=r;a&&((l=no.extend({},r)).toplevel=!0),e._updateHTML(i,l,n),a&&ns.replaceNode(e._extractNode(i),e.node)}u[e.key]=e,s=e}))}this.__destroyInactiveViews(),this.isLoading()||this.__sortViewItems()},ns.ViewCollection.prototype.__getContainer=function(){var e;return e=ns.hasClass(this.node,"ns-view-container-desc")?this.node:ns.byClass("ns-view-container-desc",this.node)[0],ns.assert(e,"ns.ViewCollection","Can't find descendants container (.ns-view-container-desc element) for '"+this.id+"'"),e},ns.ViewCollection.prototype.__sortViewItems=function(){var e=this.__getContainer(),t=ns.childrenIterator(e);this.forEachItem((function(n){var r=t.getNext();r!==n.node&&(r?e.insertBefore(n.node,r):e.appendChild(n.node))}))}}),(function(e,t){ns.Box=function(e,t){this.id=e,this.__setUniqueId(),this.params=t,this.views={},this.key=ns.Box.getKey(e),this.node=null,this.active={},this._visible=!1,this.destroyed=!1,this.info={isBox:!0,isCollection:!1}},ns.Box.prototype._getViewKey=function(e,t,n){return n===ns.L.BOX?ns.Box.getKey(e):ns.View.getKey(e,t)},ns.Box.prototype._getView=function(e,t,n){var r=this._getViewKey(e,t,n);return this.views[r]},ns.Box.prototype._addView=function(e,t,n){var r=this._getView(e,t,n);return r||(r=n===ns.L.BOX?new ns.Box(e,t):ns.View.create(e,t,n===ns.L.ASYNC),this.views[r.key]=r),r},ns.Box.prototype._getDescendantsAndSelf=function(e){var t=this.views;for(var n in e.push(this),t){t[n]._getDescendantsAndSelf(e)}return e},ns.Box.prototype._getRequestViews=function(e,t,n){var r=t.views,i={};for(var o in r){var a=r[o],s=this._addView(o,n,a.type);s._getRequestViews(e,a,n),i[o]=s.key}this.active=i},ns.Box.prototype._getUpdateTree=function(e){if(this.isNone())e.views[this.id]=this._getViewTree();else for(var t in this.active){var n=this.active[t];this.views[n]._getUpdateTree(e)}},ns.Box.prototype._getViewTree=function(){var e=this._getCommonTree();for(var t in this.active){var n=this.active[t];e.views[t]=this.views[n]._getViewTree()}return e},ns.Box.prototype.beforeUpdateHTML=function(e,t){for(var n in this.views){var r=this.views[n],i=t||this.active[r.id]!==r.key;r.beforeUpdateHTML(e,i)}},ns.Box.prototype._hideInactiveViews=function(){for(var e in this.views){var t=this.views[e];if(this.active[t.id]!==t.key){t.node&&ns.removeNode(t.node);for(var n=t._getDescendantsAndSelf([]),r=0,i=n.length;r<i;r++)n[r].hideAndUnbindEvents()}}},ns.Box.prototype._updateHTML=function(e,t,n){var r;if(!this.node||!t.toplevel){var i=ns.byClass("ns-view-"+this.id,e)[0];i&&(r=this.node,this.node=i,this._visible=!1)}if(!this.node)throw new Error("[ns.Box] Can't find node for '"+this.id+"'");this._hideInactiveViews();var o=this.views,a=this.active;for(var s in a){o[a[s]]._updateHTML(e,t,n)}this._transferViewsToNewNode(r),this._sortViewNodes(),this._show()},ns.Box.prototype._sortViewNodes=function(){var e=this.active,t=this.views,n=ns.childrenIterator(this.node);for(var r in e){var i=t[e[r]],o=n.getNext();o!==i.node&&(o?this.node.insertBefore(i.node,o):this.node.appendChild(i.node))}},ns.Box.prototype._transferViewsToNewNode=function(e){if(e){var t=this.views;for(var n in t){var r=t[n];if(this.active[r.id]!==r.key){var i=r.node;e.contains(i)&&this.node.appendChild(i)}}}},ns.Box.prototype._show=function(){return!1===this._visible&&(this._visible=!0),!1},ns.Box.prototype.hideAndUnbindEvents=function(){!0===this._visible&&(this._visible=!1)},ns.Box.prototype.isNone=function(){return!this.node},ns.Box.prototype.isValid=function(){return!!this.node},ns.Box.prototype.destroy=function(){var e=this.views;for(var t in e)e[t].destroy();this.node&&($(this.node).off().removeData().remove(),this.node=null,this.$node=null),this.active=null,this.key=null,this.params=null,this.views=null,this._visible=!1,this.destroyed=!0},ns.Box.prototype.__setUniqueId=ns.View.prototype.__setUniqueId,ns.Box.prototype._getCommonTree=ns.View.prototype._getCommonTree,ns.Box.prototype.isValidWithDesc=ns.View.prototype.isValidWithDesc,ns.Box.prototype.isOk=no.true,ns.Box.prototype.isLoading=no.false,ns.Box.getKey=function(e){return"box="+e}}),(function(e,t){!(function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.c=t,n.p="",n(0)})([(function(e,t,n){n(1)(ns),n(2)(yr)}),(function(e,t){e.exports=function(e){e.View.prototype.patchTree=function(){return{bosphorus:this}}}}),(function(e,t){e.exports=function(e){function t(t,n,i,o,a,s,u){return r(e.nodeset2data(t).bosphorus[n](i,o,a,s,u))}function n(t,n,i,o,a,s,u,c){var l=e.nodeset2data(t).bosphorus,d=l.getModel(n);if(!d)throw new Error('[ns-bosphorus] Model "'+n+'" in not defined for View "'+[l.id,l.key].join("#")+'"');return r(d[i](o,a,s,u,c))}function r(t){return Array.isArray(t)?e.array2nodeset(t):e.object2nodeset(t)}e.externals["_ns-view-call"]=t,e.externals["_ns-view-call-scalar"]=t,e.externals["_ns-model-call"]=n,e.externals["_ns-model-call-scalar"]=n}})])}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t){!(function(){var e,t=[];function n(){var n=Ya.Rum.getSetting("clck"),r=t.join("\r\n");if((t=[],e=null,n)&&!(navigator.sendBeacon&&Ya.Rum.getSetting("beacon")&&navigator.sendBeacon(n,r))){var i=new XMLHttpRequest;i.open("POST",n),i.send(r)}}Ya.Rum.send=function(r,i,o,a,s,u,c){clearTimeout(e);var l=Ya.Rum.getSetting("slots"),d=Ya.Rum.getSetting("experiments"),f=["/reqid="+Ya.Rum.getSetting("reqid"),c?"/"+c.join("/"):"",i?"/path="+i:"",s?"/events="+s:"",l?"/slots="+l.join(";"):"",d?"/experiments="+d.join(";"):"",o?"/vars="+o:"","/cts="+(new Date).getTime(),"/*"];t.push(f.join("")),t.length<42?e=setTimeout(n,15):n()}})()}),(function(e,t){!(function(e,t){if(!e)throw new Error("Rum: interface is not included");if(!e.enabled)return e.getSetting=function(){return""},e.getVarsList=function(){return[]},void(e.getResourceTimings=e.pushConnectionTypeTo=e.pushTimingTo=e.normalize=e.sendCounter=e.sendDelta=e.sendTimeMark=e.sendResTiming=e.sendTTI=e.makeSubPage=e.sendHeroElement=e.onReady=function(){});e.getVarsList=function(){var t=e._vars;return Object.keys(t).map((function(e){return e+"="+encodeURIComponent(t[e]).replace(/\*/g,"%2A")}))},e.setVars=function(t){Object.keys(t).forEach((function(n){e._vars[n]=t[n]})),D(),I()};var n,r,i="690.1033",o="690.2096.207",a="690.2096.2877",s="690.2096.2892",u="690.2096.2044",c="690.2096.361",l="690.2096.4004",d=10,f=3e3,h=2e4,p={connectEnd:2116,connectStart:2114,decodedBodySize:2886,domComplete:2124,domContentLoadedEventEnd:2131,domContentLoadedEventStart:2123,domInteractive:2770,domLoading:2769,domainLookupEnd:2113,domainLookupStart:2112,duration:2136,encodedBodySize:2887,entryType:2888,fetchStart:2111,initiatorType:2889,loadEventEnd:2126,loadEventStart:2125,nextHopProtocol:2890,redirectCount:1385,redirectEnd:2110,redirectStart:2109,requestStart:2117,responseEnd:2120,responseStart:2119,secureConnectionStart:2115,startTime:2322,transferSize:2323,type:76,unloadEventEnd:2128,unloadEventStart:2127,workerStart:2137},m={visible:1,hidden:2,prerender:3},v={bluetooth:2064,cellular:2065,ethernet:2066,none:1229,wifi:2067,wimax:2068,other:861,unknown:836,0:836,1:2066,2:2067,3:2070,4:2071,5:2768},g={"first-paint":2793,"first-contentful-paint":2794},y=Object.keys(g).length,b=e.getTime,_=window.PerformanceObserver,O=window.performance||{},w=O.timing||{},E=O.navigation||{},S=navigator.connection,C={},x={},k=e._deltaMarks,T=document.createElement("link"),j=document.createElement("a"),R="function"==typeof O.getEntriesByType,P=w.navigationStart;function D(){n=e.getVarsList(),e.getSetting("sendClientUa")&&n.push("1042="+encodeURIComponent(navigator.userAgent))}function I(){r=n.concat(["143.2129="+P])}function A(e){function t(){removeEventListener("DOMContentLoaded",t),removeEventListener("load",t),e()}"loading"===document.readyState?(addEventListener("DOMContentLoaded",t),addEventListener("load",t)):e()}function M(){e.getSetting("disableOnLoadTasks")||(removeEventListener("load",M),(function(){var t=e.getSetting("periodicStatsIntervalMs");t||null===t||(t=15e3);t&&(L=setInterval(G,t));addEventListener("beforeunload",G)})(),(function(){if(!_)return;Y(O.getEntriesByType("navigation")),Y(O.getEntriesByType("resource"));try{new _(function(e){Y(e.getEntries())}).observe({entryTypes:["resource","navigation"]})}catch(e){}e._periodicTasks.push(X)})(),(function(){if(!_)return;try{new _(function(e,n){var r=e.getEntries()[0];if(r){var i=r.processingStart,o={duration:r.duration,js:r.processingEnd-i,name:r.name},a=r.target;if(a){var s=(a.tagName||"").toLowerCase(),u=a.className&&a.className.baseVal!==t?a.className.baseVal:a.className;u=u?(" "+u).replace(/\s+/g,"."):"",o.target=s+u}var c=i-r.startTime;H("first-input",c,o),n.disconnect()}}).observe({type:"first-input",buffered:!0})}catch(e){}})(),(function(){if(!R)return;var e=O.getEntriesByType("navigation")[0];if(e){var t=[];ue(t,e),ie(t);var r=O.getEntriesByName("yndxNavigationSource")[0];r&&t.push("2091.186="+r.value),le(s,n.concat(t))}})(),(function(){if(!_)return;var e=new _(function(e){var t=e.getEntries();null==q&&(q=0);for(var n=0;n<t.length;n++){var r=t[n];r.hadRecentInput||(q+=r.value)}});try{e.observe({type:"layout-shift",buffered:!0})}catch(e){}addEventListener("visibilitychange",(function t(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",t);try{"function"==typeof e.takeRecords&&e.takeRecords(),e.disconnect()}catch(e){}Z()}})),addEventListener("beforeunload",Z)})(),(function(){if(!_||!e.getSetting("forcePaintTimeSending")&&e.isVisibilityChanged())return;var t=new _(function(e){for(var t=e.getEntries(),n=0;n<t.length;n++){var r=t[n];J=r.renderTime||r.loadTime,Q=r}ee||(U("largest-loading-elem-paint",J),ee=!0)});try{t.observe({type:"largest-contentful-paint",buffered:!0})}catch(e){}addEventListener("visibilitychange",(function e(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",e);try{"function"==typeof t.takeRecords&&t.takeRecords(),t.disconnect()}catch(e){}te()}})),addEventListener("beforeunload",te)})())}function N(){var t=w.domContentLoadedEventStart,r=w.domContentLoadedEventEnd;if(0!==t||0!==r){var o=0===w.responseStart?P:w.responseStart,a=0===w.domainLookupStart?P:w.domainLookupStart,s=n.concat(["2129="+P,"1036="+(a-P),"1037="+(w.domainLookupEnd-w.domainLookupStart),"1038="+(w.connectEnd-w.connectStart),w.secureConnectionStart&&"1383="+(w.connectEnd-w.secureConnectionStart),"1039="+(w.responseStart-w.connectEnd),"1040="+(w.responseEnd-o),"1040.906="+(w.responseEnd-a),"1310.2084="+(w.domLoading-o),"1310.2085="+(w.domInteractive-o),"1310.1309="+(r-t),"1310.1007="+(t-o),navigator.deviceMemory&&"3140="+navigator.deviceMemory,navigator.hardwareConcurrency&&"3141="+navigator.hardwareConcurrency]);Object.keys(p).forEach((function(e){e in w&&w[e]&&s.push(p[e]+"="+ce(w[e],P))})),e.vsStart?(s.push("1484="+(m[e.vsStart]||2771)),e.vsChanged&&s.push("1484.719=1")):s.push("1484="+m.visible),E&&(E.redirectCount&&s.push("1384.1385="+E.redirectCount),1!==E.type&&2!==E.type||s.push("770.76="+E.type)),ie(s),le(i,s)}else setTimeout(N,50)}D(),I(),e.ajaxStart=0,e.ajaxComplete=0,A((function(){if(!P)return;setTimeout((function(){e.sendTimeMark=U,e.sendResTiming=W,e.timeEnd=V;for(var t=e._defRes;t.length;){var n=t.shift();W(n[0],n[1])}for(var r=e._defTimes;r.length;){var i=r.shift();U(i[0],i[1],!1,i[2])}Object.keys(k).forEach((function(e){H(e)})),N(),(function t(){if(!R||!e.getSetting("forcePaintTimeSending")&&e.isVisibilityChanged())return;var n=O.getEntriesByType("paint");for(var r=0;r<n.length;r++){var i=n[r],o=g[i.name];o&&!F[i.name]&&(F[i.name]=!0,B++,U("1926."+o,i.startTime))}if(B<y)try{new _(function(e,n){t(),n&&n.disconnect()}).observe({entryTypes:["paint"]})}catch(e){}})(),e.getSetting("sendAutoElementTiming")&&ne(),re(),"complete"===document.readyState?M():addEventListener("load",M)}),0)})),e._getCommonVars=function(){return n};var L,F={},B=0;function U(n,r,i,a){r===t&&(r=b()),i!==t&&!0!==i||e.mark(n,r);var s=se(n);if(s.push("207="+ce(r)),z(s,a)){le(o,s),C[n]=C[n]||[],C[n].push(r);var u=e._markListeners[n];u&&u.length&&u.forEach((function(e){e(r)}))}}function z(e,n){if(n){if(n.isCanceled&&n.isCanceled())return!1;var r=e.reduce((function(e,t,n){"string"==typeof t&&(e[t.split("=")[0]]=n);return e}),{});Object.keys(n).forEach((function(i){if("function"!=typeof n[i]){var o=r[i],a=i+"="+n[i];o===t?e.push(a):e[o]=a}}))}return!0}function V(e,t){var n=k[e];n&&0!==n.length&&(n.push(b(),t),H(e))}function H(n,r,i){var o,s,u,c=k[n];if(void 0!==r?o=(s=e.getTime())-r:c&&(o=c[0],s=c[1],u=c[2]),o!==t&&s!==t){var l=se(n);l.push("207.2154="+ce(o),"207.1428="+ce(s),"2877="+ce(s-o)),z(l,i)&&z(l,u)&&(le(a,l),delete k[n])}}function W(t,n){oe(n,(function(r){if(r){var i=se(t);e.getSetting("sendUrlInResTiming")&&i.push("13="+encodeURIComponent(n)),ue(i,r[r.length-1]),le(u,i)}}))}function G(){var t=!1;e._periodicTasks.forEach((function(e){e()&&(t=!0)})),t||clearInterval(L)}e.getTimeMarks=function(){return C},e._periodicTasks=[];var q,$=0;function Y(e){if(e&&e.length)for(var t=x,n=0;n<e.length;n++){var r=K(e[n]);if(r){var i=r.domain+"-"+r.extension,o=t[i]=t[i]||{count:0,size:0};o.count++,o.size+=r.size}}}function K(e){var t=e.transferSize;if(null!=t){j.href=e.name;var n=j.pathname;if(0!==n.indexOf("/clck")){var r=n.lastIndexOf("."),i="";return-1!==r&&n.lastIndexOf("/")<r&&n.length-r<=5&&(i=n.slice(r+1)),{size:t,domain:j.hostname,extension:i}}}}function X(){var t=e.getSetting("maxTrafficCounters")||250;if($>=t)return!1;for(var r=Object.keys(x),i="",o=0;o<r.length;o++){var a=r[o],s=x[a];i+=encodeURIComponent(a)+"!"+s.count+"!"+s.size+";"}if(i.length){$++;var u=n.concat(["d="+i,"t="+ce(b())]);le(c,u)}return x={},$<t}function Z(){if(null!=q){var e=Math.round(1e6*q)/1e6;le(l,n.concat("s="+e)),q=null}}var J=null,Q=null,ee=!1;function te(){if(null!=J){var t=e.getLCPAdditionalParams(Q);U("largest-contentful-paint",J,!1,t),J=null,Q=null}}var ne=_?function(){if(e.getSetting("forcePaintTimeSending")||!e.isVisibilityChanged())try{new _(function(e){for(var t=e.getEntries(),n=0;n<t.length;n++){var r=t[n];U("element-timing."+r.identifier,r.startTime)}}).observe({type:"element",buffered:!0})}catch(e){}}:function(){};function re(t,n,r){if(e._tti){var i=b(),o=function(t,o,a){var s={2796.2797:ae(a,n),689.2322:ce(i)};r&&Object.keys(r).forEach((function(e){s[e]=r[e]})),U(t||"2795",o,!0,s),e._tti.fired=!0};!(function r(){var a,s=n||i,u=b(),c=e._tti.events||[],l=c.length;0!==l&&(a=c[l-1],s=Math.max(s,Math.floor(a.startTime+a.duration))),u-s>=f?o(t,s,c):u-s>=h?o(t,(n||i)+h,c):setTimeout(r,1e3)})()}}function ie(e){S&&e.push("2437="+(v[S.type]||2771),S.downlinkMax!==t&&"2439="+S.downlinkMax,S.effectiveType&&"2870="+S.effectiveType,S.rtt!==t&&"rtt="+S.rtt,S.downlink!==t&&"dwl="+S.downlink)}function oe(e,t){if(!R)return t(null);T.href=e;var n=T.href,r=0,i=100;setTimeout((function e(){var o=O.getEntriesByName(n);if(o.length)return t(o);r++<d?(setTimeout(e,i),i+=i):t(null)}),0)}function ae(e,t){return e=e||[],t=t||0,e.filter((function(e){return e.startTime-t>=-50})).map((function(e){var t=e.name?e.name.split("-").map((function(e){return e[0]})).join(""):"u",n=Math.floor(e.startTime);return t+"-"+n+"-"+Math.floor(n+e.duration)})).join(".")}function se(t){return r.concat(["1701="+t,e.ajaxStart&&"1201.2154="+ce(e.ajaxStart),e.ajaxComplete&&"1201.2052="+ce(e.ajaxComplete)])}function ue(e,t){Object.keys(p).forEach((function(n){if(n in t){var r=t[n];(r||0===r)&&e.push(p[n]+"="+ce(r))}}))}function ce(e,t){return"string"==typeof e?encodeURIComponent(e):Math.round(1e3*(e-(t||0)))/1e3}function le(t,n){var r=encodeURIComponent(window.YaStaticRegion||"unknown");n.push("-cdn="+r);var i=n.filter(Boolean).join(",");e.send(null,t,i)}e.sendTTI=re,e.sendHeroElement=function(e){U("2876",e)},e._subpages={},e.makeSubPage=function(t,n){var r=e._subpages[t];e._subpages[t]=void 0===r?r=0:++r;var i=!1;return{689.2322:ce(void 0!==n?n:b()),2924:t,2925:r,isCanceled:function(){return i},cancel:function(){i=!0}}},e._getLongtasksStringValue=ae,e.getResourceTimings=oe,e.pushConnectionTypeTo=ie,e.pushTimingTo=ue,e.normalize=ce,e.sendCounter=le,e.sendDelta=H,e.sendTrafficData=X,e.finalizeLayoutShiftScore=Z,e.finalizeLargestContentfulPaint=te,e.onReady=A})(Ya.Rum)}),(function(e,t){!(function(){function e(){removeEventListener("load",e);var t=Ya.Rum;if(t.sendTimeMark("1724"),t.getSetting("sendAutoResTiming"))for(var n=document.querySelectorAll("script[data-rCid], div[data-rCid]"),r=0,i=n.length;r<i;r++){var o=n[r],a=o.src;if(!a){var s=getComputedStyle(o).backgroundImage;if(s){var u=s.match(/^url\(["']?(.*?)["']?\)$/);u&&(a=u[1])}}a&&t.sendResTiming(o.getAttribute("data-rCid"),a)}}Ya.Rum.enabled&&!Ya.Rum._onloadCounterInited&&(Ya.Rum._onloadCounterInited=!0,"complete"===document.readyState?e():addEventListener("load",e))})()}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){var r=n(534);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}}),(function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports={getClientResourceDialogUrl:function(e,t,n){return"/client".concat(e,"|").concat(n).concat(t)}}}),(function(e,t,n){"use strict";n.r(t);var r={timeZero:new Date,timers:{},timersCompleted:{},groupsTimers:[],LENGTH_URL_MAX:1e3,LENGTH_PART_MIN:150,COUNT_MAX:50,TIMELONG:2e3,send:function(e,t,n){var r=(n?"/stats/"+n+"/?":"/monitoring.txt?")+i(function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(e));if(t){var o={},a=this.LENGTH_URL_MAX-r.length,s=encodeURIComponent(t),u=s.length;if(a>=this.LENGTH_PART_MIN){var c=new RegExp(".{1,"+a+"}","g"),l=s.match(c);if(l){o.part_id=Math.floor(100*Math.random());for(var d=0,f=l.length;d<this.COUNT_MAX&&d<f;d++)o.part=d,this.query(r+"&"+i(o)+"&text="+l[d])}}else o.step=a,o.length=u,this.query(r+"&"+i(o))}else this.query(r)},time:function(e){this.timers[e]=new Date},timeEnd:function(e){var t=this.timers[e];void 0===t?t=this.timeZero:delete this.timers[e];var n=Date.now()-t;this.timersCompleted[e]=n,this.show("Time:",e,n),this.sendGroupsTimers()},sendTimers:function(e,t){t=t||{};for(var n=0,r=e.length;n<r;n++){var i=e[n],o=this.timersCompleted[i];t[i]=o||0}t.type="timings",this.send(t)},query:function(e){"function"==typeof navigator.sendBeacon?navigator.sendBeacon(e):(new Image).src=e},addGroupTimers:function(e){var t=this;this.groupsTimers.push(e);var n=this.groupsTimers[this.groupsTimers.length-1];n.timeout=setTimeout((function(){t.sendTimers(n,{error:"long"})}),this.TIMELONG)},sendGroupsTimers:function(){for(var e=0,t=this.groupsTimers.length;e<t;e++){for(var n=this.groupsTimers[e],r=!0,i=0,o=n.length;i<o;i++){var a=n[i];if(void 0===this.timersCompleted[a]){r=!1;break}}r&&(clearTimeout(n.timeout),this.sendTimers(n))}}};function i(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}t.default=r}),(function(e,t,n){(function(e,r){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!(function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,c=36,l=1,d=26,f=38,h=700,p=72,m=128,v="-",g=/^xn--/,y=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=c-l,w=Math.floor,E=String.fromCharCode;function S(e){throw new RangeError(_[e])}function C(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function x(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+C((e=e.replace(b,".")).split("."),t).join(".")}function k(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function T(e){return C(e,(function(e){var t="";return e>65535&&(t+=E((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=E(e)})).join("")}function j(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:c}function R(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function P(e,t,n){var r=0;for(e=n?w(e/h):e>>1,e+=w(e/t);e>O*d>>1;r+=c)e=w(e/O);return w(r+(O+1)*e/(e+f))}function D(e){var t,n,r,i,o,a,s,f,h,g,y=[],b=e.length,_=0,O=m,E=p;for((n=e.lastIndexOf(v))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&S("not-basic"),y.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<b;){for(o=_,a=1,s=c;i>=b&&S("invalid-input"),((f=j(e.charCodeAt(i++)))>=c||f>w((u-_)/a))&&S("overflow"),_+=f*a,!(f<(h=s<=E?l:s>=E+d?d:s-E));s+=c)a>w(u/(g=c-h))&&S("overflow"),a*=g;E=P(_-o,t=y.length+1,0==o),w(_/t)>u-O&&S("overflow"),O+=w(_/t),_%=t,y.splice(_++,0,O)}return T(y)}function I(e){var t,n,r,i,o,a,s,f,h,g,y,b,_,O,C,x=[];for(b=(e=k(e)).length,t=m,n=0,o=p,a=0;a<b;++a)(y=e[a])<128&&x.push(E(y));for(r=i=x.length,i&&x.push(v);r<b;){for(s=u,a=0;a<b;++a)(y=e[a])>=t&&y<s&&(s=y);for(s-t>w((u-n)/(_=r+1))&&S("overflow"),n+=(s-t)*_,t=s,a=0;a<b;++a)if((y=e[a])<t&&++n>u&&S("overflow"),y==t){for(f=n,h=c;!(f<(g=h<=o?l:h>=o+d?d:h-o));h+=c)C=f-g,O=c-g,x.push(E(R(g+C%O,0))),f=w(C/O);x.push(E(R(f,0))),o=P(n,_,r==i),n=0,++r}++n,++t}return x.join("")}s={version:"1.4.1",ucs2:{decode:k,encode:T},decode:D,encode:I,toASCII:function(e){return x(e,(function(e){return y.test(e)?"xn--"+I(e):e}))},toUnicode:function(e){return x(e,(function(e){return g.test(e)?D(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)})()}).call(this,n(145)(e),n(133))}),(function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}}),(function(e,t,n){"use strict";t.decode=t.parse=n(825),t.encode=t.stringify=n(826)}),(function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var d,f,h,p,m=e[l].replace(s,"%20"),v=m.indexOf(n);v>=0?(d=m.substr(0,v),f=m.substr(v+1)):(d=m,f=""),h=decodeURIComponent(d),p=decodeURIComponent(f),r(a,h)?i(a[h])?a[h].push(p):a[h]=[a[h],p]:a[h]=p}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}),(function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return i(e[a])?o(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}}),(function(e,t){e.exports={replaceServiceTld:function(e,t){var n=(e.match(/(?:(?:https?\:)?\/\/)?[^\/]*/g)||[""])[0],r=n.replace(/(\w+|com\.tr|com\.am|com\.ge|co\.il)$/,t);return e.replace(n,r)}}}),(function(e,t){ns.Model.define("do-settings-set",{params:{key:null,value:null}})}),(function(e,t){ns.Model.define("do-get-user-info")}),(function(e,t,n){"use strict";n.r(t),n.d(t,"openDatabase",(function(){return l})),n.d(t,"closeDatabase",(function(){return d})),n.d(t,"processRecord",(function(){return f})),n.d(t,"removeCacheApiPromise",(function(){return p}));var r=n(673),i=n.n(r),o=4980736,a={},s=function(e){var t=e.databaseId,n=e.collectionId,r=void 0===n?"":n,i=e.context,o=void 0===i?"app":i;return"".concat(t,"_").concat(r,"_").concat(o)},u=function(e){return function(t){return"function"==typeof e?t.on("update",(function(){return e(t)})):t}},c=function(e){return function(t){throw delete a[e],t}};function l(e){var t=s(e),n=e.apiHost,r=e.databaseId,l=e.collectionId,d=void 0===l?"":l,f=e.context,p=void 0===f?"app":f,m=e.headers,v=e.token,g=e.scriptUrl,y=e.loadScriptCallback,b=e.withCredentials,_=void 0===b||b,O=e.useClientStorage,w=void 0!==O&&O,E=e.onUpdate,S=e.session;if(a[t])return a[t].then(u(E));var C={context:p,database_id:r,collection_id:d,with_credentials:_,use_client_storage:w,headers:m,token:v};return a[t]=(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://yastatic.net/s3/liza/data-sync/cloud-data-sync-api.min.js",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(h)return h;return h=new Promise(function(e,r){var o=window.ya;if(o&&o.cloud&&o.cloud.dataSyncApi)return e(o.cloud.dataSyncApi);i()(t,(function(t){t?(h=null,r({error:"Cannot load script"})):(n&&n(),e(window.ya.cloud.dataSyncApi))}))}).then((function(t){return new Promise(function(n){window.ya.modules.require(["cloud.dataSyncApi.config","localForage","cloud.dataSyncApi.syncEngine.PushEngine","cloud.dataSyncApi.http","component.xhr"],(function(i,a,s,u,c){var l=s.prototype._onPush;s.prototype._onPush=function(e){var t={};try{t=JSON.parse(e.data)}catch(e){}if("ping"===t.operation){var n=1e3*(Number(t["server-interval-sec"])||60)+1e4;this._pingTimer&&clearTimeout(this._pingTimer),this._pingTimer=setTimeout(this.fail.bind(this,"Connection lost"),n)}l.call(this,e)},a.config({size:o/2}),i.apiHost=e,u.subscribe=function(t){var n=e+"v1/data/subscriptions/web?databases_ids="+encodeURIComponent(t.database_ids.join(","));return r&&(n+="&session="+r),c(n,{parse:!0,headers:{},withCredentials:!0})},n(t)}))})}))})(n,g,y,S).then((function(e){return e.openDatabase(C)})).then(u(E)).catch(c(t)),a[t]}function d(e){var t=s(e);if(a[t]){var n=a[t];delete a[t],n.then((function(e){e.close(),e._listeners=[]}))}}function f(e){return e.getFieldIds().reduce((function(t,n){return t[n]=e.getFieldValue(n).valueOf(),t}),{collectionId:e.getCollectionId(),recordId:e.getRecordId()})}var h=null;function p(){h=null}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"theme",(function(){return r}));n(832),n(833);var r={color:"ps-dark",root:"ps-dark"}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"theme",(function(){return r}));n(835),n(836);var r={color:"ps-light-transparent",root:"ps-light-transparent"}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"theme",(function(){return r}));n(838),n(839);var r={color:"ps-dark-transparent",root:"ps-dark-transparent"}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"theme",(function(){return r}));n(841),n(842);var r={color:"ps-superdark-transparent",root:"ps-superdark-transparent"}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";function r(e){function t(t,i,o,a){var s=i?n+t+e.e+i:n+t,u=s;if(o){var c=" "+u+e.m;for(var l in o)if(o.hasOwnProperty(l)){var d=o[l];1==d?u+=c+l:d&&(u+=c+l+r+d)}}if(void 0!==a)for(var f=0,h=a.length;f<h;f++){var p=a[f];if(p&&"string"==typeof p.valueOf())for(var m=p.valueOf().split(" "),v=0;v<m.length;v++){var g=m[v];g!==s&&(u+=" "+g)}}return u}var n=e.n||"",r=e.v||e.m;return function(e,n){return function(r,i,o){return"string"==typeof r?Array.isArray(i)?t(e,r,void 0,i):t(e,r,i,o):t(e,n,r,i)}}}Object.defineProperty(t,"__esModule",{value:1});var i=r({e:"-",m:"_"});t.cn=i,t.withNaming=r}),(function(e,t,n){"use strict";n.r(t);n(539);var r=ns.Model.define("operations",{isCollection:!0,methods:{getByType:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.models.filter((function(e){return t.includes(e.getType())}))}}});t.default=r}),(function(e,t,n){var r=n(9),i={extendRouterRegs:function(e){r.extend(e.router.regexps,{path:"(?:\\/[^\\/\\?]+)+",slashOptional:"\\/?",pipe:"(?:\\||%7C)",query:"[^/]+",force:"force",any:"[^?]*"})}};e.exports=i}),(function(e,t){var n={openableWithPreview:{mimetypes:["application/vnd.ms-excel","application/x-msexcel","application/x-ms-excel","application/x-excel","application/xls","application/x-xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/x-vnd.oasis.opendocument.spreadsheet","application/x-vnd.oasis.opendocument.spreadsheet-template","application/msexcel","application/x-dos_ms_excel","application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf","application/mspowerpoint","application/ms-powerpoint","application/mspowerpnt","application/vnd-mspowerpoint","application/vnd.ms-powerpoint","application/powerpoint","application/x-powerpoint","application/x-mspowerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/msword","application/rtf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.oasis.opendocument.text","application/x-vnd.oasis.opendocument.text","application/doc","application/vnd.msword","application/vnd.ms-word","application/winword","application/word","application/x-msw6","application/x-msword","text/rtf","application/vnd.oasis.opendocument.text","application/futuresplash","application/x-fictionbook+xml","image/vnd.djvu","image/x-djvu","application/djvu"],extnames:["xls","xlsx","ods","xlt","pdf","ppt","pptx","odp","rtf","doc","docx","odt","docm","dotx","dot","dotm","tiff","tif","ini","log","asc"]},openableWithoutPreview:{mimetypes:["application/gzip","application/x-gzip","application/x-gunzip","application/gzipped","application/x-tar","application/x-bzip2","application/x-bz2","application/zip","application/x-compressed","application/x-zip-compressed","application/rar","application/x-rar","application/x-rar-compressed","compressed/rar","text/csv","text/comma-separated-values"],extnames:["zip","rar","cab","xar","7z","chm","txt","csv","fb2"]}};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e=e||"",n.openableWithoutPreview.extnames.includes(t)||n.openableWithoutPreview.mimetypes.includes(e)||r&&n.openableWithPreview.extnames.includes(t)||r&&n.openableWithPreview.mimetypes.includes(e)}}),(function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";var r=n(849);e.exports=function(e){return r(e.delims&&e.delims.elem&&e.delims.mod,"@bem/sdk.naming.entity.stringify: convention should be an instance of BemNamingEntityConvention"),function(t){return (function(e,t){if(!e||!e.block)return"";var n=e.block;e.elem&&(n+=t.elem+e.elem);var r=e.mod,i=("string"==typeof r?r:r&&r.name)||!e.__isBemEntityName__&&e.modName;if(i){var o=r&&r.hasOwnProperty("val")||e.hasOwnProperty("modVal"),a=r&&r.val||!e.__isBemEntityName__&&e.modVal;!a&&0!==a&&o||(n+=t.mod.name+i),a&&!0!==a&&(n+=t.mod.val+a)}return n})(t,e.delims)}}}),(function(e,t,n){"use strict";(function(t){var r=n(721);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function i(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function o(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=n(850),s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,c="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function d(e){return!o(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var f=e.exports=y,h=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(a.isFunction(e)){if(c)return e.name;var t=e.toString().match(h);return t&&t[1]}}function m(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function v(e){if(c||!a.isFunction(e))return a.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function g(e,t,n,r,i){throw new f.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function y(e,t){e||g(e,!0,t,"==",f.ok)}function b(e,t,n,r){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(d(e)&&d(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var s=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),(function(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=_(e),o=_(t);if(i&&!o||!i&&o)return!1;if(i)return e=u.call(e),t=u.call(t),b(e,t,n);var s,c,l=E(e),d=E(t);if(l.length!==d.length)return!1;for(l.sort(),d.sort(),c=l.length-1;c>=0;c--)if(l[c]!==d[c])return!1;for(c=l.length-1;c>=0;c--)if(s=l[c],!b(e[s],t[s],n,r))return!1;return!0})(e,t,n,r))}return n?e===t:e==t}function _(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function O(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function w(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=(function(e){var t;try{e()}catch(e){t=e}return t})(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&g(i,n,"Missing expected exception"+r);var o="string"==typeof r,s=!e&&a.isError(i),u=!e&&i&&!n;if((s&&o&&O(i,n)||u)&&g(i,n,"Got unwanted exception"+r),e&&i&&n&&!O(i,n)||!e&&i)throw i}f.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=(function(e){return m(v(e.actual),128)+" "+e.operator+" "+m(v(e.expected),128)})(this),this.generatedMessage=!0);var t=e.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=p(t),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},a.inherits(f.AssertionError,Error),f.fail=g,f.ok=y,f.equal=function(e,t,n){e!=t&&g(e,t,n,"==",f.equal)},f.notEqual=function(e,t,n){e==t&&g(e,t,n,"!=",f.notEqual)},f.deepEqual=function(e,t,n){b(e,t,!1)||g(e,t,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(e,t,n){b(e,t,!0)||g(e,t,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(e,t,n){b(e,t,!1)&&g(e,t,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function e(t,n,r){b(t,n,!0)&&g(t,n,r,"notDeepStrictEqual",e)},f.strictEqual=function(e,t,n){e!==t&&g(e,t,n,"===",f.strictEqual)},f.notStrictEqual=function(e,t,n){e===t&&g(e,t,n,"!==",f.notStrictEqual)},f.throws=function(e,t,n){w(!0,e,t,n)},f.doesNotThrow=function(e,t,n){w(!1,e,t,n)},f.ifError=function(e){if(e)throw e},f.strict=r((function e(t,n){t||g(t,!0,n,"==",e)}),f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var E=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}}).call(this,n(133))}),(function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),u=r[n];n<o;u=r[++n])m(u)||!_(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,e,r.depth)}function u(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function c(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&E(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return g(i)||(i=l(e,i,r)),i}var o=(function(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(v(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")})(e,n);if(o)return o;var a=Object.keys(n),s=(function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t})(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),w(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(n);if(0===a.length){if(E(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(O(n))return e.stylize(Date.prototype.toString.call(n),"date");if(w(n))return d(n)}var c,_="",S=!1,C=["{","}"];(h(n)&&(S=!0,C=["[","]"]),E(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(_=" "+RegExp.prototype.toString.call(n)),O(n)&&(_=" "+Date.prototype.toUTCString.call(n)),w(n)&&(_=" "+d(n)),0!==a.length||S&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=S?(function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)k(t,String(a))?o.push(f(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(e,t,n,r,i,!0))})),o})(e,n,r,s,a):a.map((function(t){return f(e,n,r,s,t,S)})),e.seen.pop(),(function(e,t,n){if(e.reduce((function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]})(c,_,C)):C[0]+_+C[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),k(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=m(n)?l(e,u.value,null):l(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return"number"==typeof e}function g(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===S(e)}function _(e){return"object"==typeof e&&null!==e}function O(e){return _(e)&&"[object Date]"===S(e)}function w(e){return _(e)&&("[object Error]"===S(e)||e instanceof Error)}function E(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(o)&&(o=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=p,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=_,t.isDate=O,t.isError=w,t.isFunction=E,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(851);var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",(function(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),x[e.getMonth()],t].join(" ")})(),t.format.apply(t,arguments))},t.inherits=n(852),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var T="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function j(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(T&&e[T]){var t;if("function"!=typeof(t=e[T]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise(function(e,r){t=e,n=r}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),T&&Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=T,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(j,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(264))}),(function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}}),(function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),(function(e,t,n){"use strict";e.exports={origin:n(854),react:n(855),"two-dashes":n(856)}}),(function(e,t,n){"use strict";e.exports={delims:{elem:"__",mod:{name:"_",val:"_"}},fs:{pattern:"${layer}.blocks/${entity}.${tech}",scheme:"nested"},wordPattern:"[a-zA-Z0-9]+(?:-[a-zA-Z0-9]+)*"}}),(function(e,t,n){"use strict";e.exports={delims:{elem:"-",mod:{name:"_",val:"_"}},fs:{delims:{elem:""},pattern:"${layer?${layer}.}blocks/${entity}.${tech}",scheme:"nested"},wordPattern:"[a-zA-Z0-9]+"}}),(function(e,t,n){"use strict";e.exports={delims:{elem:"__",mod:{name:"--",val:"_"}},fs:{pattern:"${layer}.blocks/${entity}.${tech}",scheme:"nested"},wordPattern:"[a-zA-Z0-9]+(?:-[a-zA-Z0-9]+)*"}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=n(859);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}}),(function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}),(function(e,t,n){"use strict";function r(e,t,n){var r,i,o,c=function(c){var l,d;return r=r||s.cn(e),i=i||r(),a.forwardRef((function(e,s){var f=(o=o||Object.keys(t)).every((function(n){var r=t[n],i=e[n];return r===i||"*"===r&&Boolean(i)})),h=Object.assign({},e,{ref:s});if(f){var p=o.reduce((function(e,n){return"*"!==t[n]&&(e[n]=t[n]),e}),{});return d=d||r(p),h.className=u.classnames(d,e.className).replace(i+" ",""),"function"==typeof n?void 0===l&&(l=n(c)):l=c,a.createElement(l,h)}return a.createElement(c,h)}))},l=n||{},d=l.__passToProps,f=void 0===d?1:d,h=l.__simple,p=void 0===h?0:h,m=Object.keys(t),v=m[0],g=t[m[0]];return(c.__isSimple=!n&&1===m.length||p)&&(c.__blockName=e,c.__mod=v,c.__value=g,c.__passToProps=f),c}function i(e){for(var t={},n={},r=s.cn(e[0].__blockName),i=0,o=e;i<o.length;i++){var u=o[i],l=u.__mod,d=u.__value,f=u.__passToProps;t[l]=t[l]||[],n[l]=n[l]||[],t[l].push(d),n[l].push(f)}var h=Object.keys(t);return function(e){return function(i){for(var o={},s=c({},i),u=0,l=h;u<l.length;u++){var d=l[u],f=t[d],p=i[d],m=f.indexOf(p);-1===m&&1==f[0]&&0==p&&(m=0),-1!==m?(o[d]=p,n[d][m]||delete s[d]):s.hasOwnProperty(d)&&void 0===p&&delete s[d]}return s.className=r(o,[i.className]),a.createElement(e,s)}}}function o(){for(var e=[],t=[],n=0,r=[].slice.call(arguments);n<r.length;n++){var o=r[n];o.__isSimple?e.push(o):t.push(o)}return(e.length?[i(e)].concat(t):t).reduce((function(e,t){return function(){return e(t.apply(0,arguments))}}),(function(e){return e}))}Object.defineProperty(t,"__esModule",{value:1});var a=n(0),s=n(28),u=n(861),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])({}).hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};t.compose=o,t.composeU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.apply(void 0,e)},t.createClassNameModifier=function(e,t){return r(e,t,{__passToProps:0,__simple:1})},t.withBemMod=r}),(function(e,t,n){"use strict";e.exports=n(862)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.classnames=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=new Set,i=0,o=e.join(" ").split(" ");i<o.length;i++){var a=o[i];""===a||r.has(a)||(r.add(a),n.length>0&&(n+=" "),n+=a)}return n}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(109);n(912),t.withViewClearInverse=r.withBemMod(i.cnButton(),{view:"clear-inverse"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(109);n(914),t.withViewDark=r.withBemMod(i.cnButton(),{view:"dark"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(109);n(916),t.withViewB2BBanner=r.withBemMod(i.cnButton(),{view:"b2b-banner"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(109);n(918),t.withViewTundora=r.withBemMod(i.cnButton(),{view:"tundora"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(109);n(920),t.withViewTransparent=r.withBemMod(i.cnButton(),{view:"transparent"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(109);n(922),t.withViewClearBlack=r.withBemMod(i.cnButton(),{view:"clear-black"})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(109);n(926),t.withSizeXXXL=r.withBemMod(i.cnButton(),{size:"xxxl"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(109);n(928),t.withSizeXXS=r.withBemMod(i.cnButton(),{size:"xxs"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(109);n(930),t.withViewPseudoInverse=r.withBemMod(i.cnButton(),{view:"pseudo-inverse"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(109);n(932),t.withViewSuggest=r.withBemMod(i.cnButton(),{view:"suggest"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(109);n(934),t.withCenteredIcon=r.withBemMod(i.cnButton(),{centeredIcon:!0})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(661);n(946),t.withViewDark=r.withBemMod(i.cnSpin(),{view:"dark"})}),(function(e,t,n){}),(function(e,t,n){var r=n(1);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(0)),u=n(949),c=a(n(114)),l=o(n(548)),d=a(n(159)),f=a(n(121)),h=a(n(993)),p=a(n(1025)),m=n(28);n(1036);var v=m.cn("ShareDialogAccessAccordion"),g={disabled:"view",all:"edit all"},y=function(e){var t=e.lang,n=e.resourcePath,r=e.chooseTariffLink,o=e.setLinkSettings,a=e.pddOrgId,u=e.visible,c=e.onChangeSecuritySettings,l=e.userHasPublicSettingsFeature,d=e.externalOrganizationIds,f=e.countMetrikaFn,h=e.shouldRenderOrganizationScopeBlock,m=s.useCallback((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];f.apply(void 0,i(["security settings","organization scope"],e))}),[f]);return h&&a?s.default.createElement(p.default,{lang:t,resourcePath:n,chooseTariffLink:r,setLinkSettings:o,pddOrgId:a,dialogVisible:u,onChangeSecuritySettings:c,hasFeature:l,externalOrganizationId:null===d||void 0===d?void 0:d[0],countMetrikaFn:m}):null};t.default=function(e){var t=e.isUserHasRightsToModifyAccess,n=e.isOverdraft,i=e.isVicariousDoc,o=e.officeAccessType,a=e.runChangeType,p=e.onAccessTypeChange,m=e.lang,b=e.isResourceTypeAvailableToEdit,_=e.resourceType,O=e.viewOnlyTooltipType,w=e.noViewOnlyTooltip,E=e.defaultExpanded,S=e.visible,C=e.resourceId,x=e.isTouch,k=e.deselectClass,T=e.countMetrikaFn,j=s.useState(E),R=j[0],P=j[1],D=s.useState(o),I=D[0],A=D[1];s.useEffect((function(){A(o)}),[o]),s.useEffect((function(){S&&P(E)}),[S,E]);var M,N=s.useCallback((function(){P(!0),T("expand")}),[T]),L=s.useCallback((function(e){A(e);var t=a({resourceId:C,accessType:e}).catch((function(e){throw A(o),e}));null===p||void 0===p||p({newAccessType:e,promise:t}),T("change access",g[e])}),[a,C,o,p,T]);return n?M=l.AccessStubType.Overdraft:i?M=l.AccessStubType.VicariousDoc:t||(M=l.AccessStubType.ReadOnlyRights),!b||M?s.default.createElement("div",{className:v()},s.default.createElement(l.default,{stubType:M,resourceType:_,lang:m,value:I,addonAfter:w||M?null:s.default.createElement(h.default,{lang:m,resourceType:_,viewOnlyTooltipType:O,isTouch:x,deselectClass:k})}),s.default.createElement(y,r({},e))):R?s.default.createElement("div",{className:v()},s.default.createElement(u.Radiobox,{size:"m",view:"default",value:I,onChange:function(e){return L(e.target.value)}},s.default.createElement(u.Radio,{value:"disabled"},s.default.createElement(l.default,{lang:m,value:"disabled"})),s.default.createElement(u.Radio,{value:"all"},s.default.createElement(l.default,{lang:m,value:"all"}))),s.default.createElement(y,r({},e))):s.default.createElement("div",{className:v()},s.default.createElement(l.default,{className:v("AccessType",{Expandable:!0}),resourceType:_,lang:m,value:I,onClick:N,addonAfter:s.default.createElement(f.default,{view:"clear",size:"l","aria-label":c.default(m,"access-type-expand"),icon:function(){return s.default.createElement(d.default,{name:"arrowBottom",className:v("Icon")})}})}),s.default.createElement(y,r({},e)))}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"Radiobox",(function(){return d}));var r=n(6),i=n(227),o=n(219),a=n(220),s=n(402),u=n(403),c=n(404),l=n(405);n.d(t,"Radio",(function(){return i.a})),n.d(t,"cnRadiobox",(function(){return i.c}));var d=Object(r.compose)(Object(r.composeU)(c.a,l.a),Object(r.composeU)(o.a,a.a),Object(r.composeU)(s.a,u.a))(i.b)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=r.createContext({}),a=o.Provider,s=o.Consumer;var u=function(){return r.useContext(o)},c=(function(){function e(e){var t=e.id,n=e.overridable,r=void 0===n||n;this.components={},this.id=t,this.overridable=r}return e.prototype.set=function(e,t){return this.components[e]=t,this},e.prototype.get=function(e){return this.components[e]},e.prototype.snapshot=function(){return this.components},e.prototype.merge=function(t){var n=new e({id:this.id,overridable:this.overridable});return n.components=i({},this.components,t?t.snapshot():{}),n},e})();t.ComponentRegistryConsumer=function(e){return r.createElement(s,null,(function(t){return e.children(t[e.id].snapshot())}))},t.Registry=c,t.RegistryConsumer=s,t.registryContext=o,t.useComponentRegistry=function(e){return u()[e].snapshot()},t.useRegistries=u,t.withRegistry=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n=function(n){return r.createElement(s,null,(function(o){var s=i({},o);return e.forEach((function(e){var t=o[e.id];s[e.id]=e.overridable?t?e.merge(t):e:e&&t?t.merge(e):e})),r.createElement(a,{value:s},r.createElement(t,i({},n)))}))};return n.displayName="RegistryResolver("+e.map((function(e){return e.id})).join(", ")+")",n}}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){(function(e){!(function(){var t=t||{};t.yandex_disk_web=t.yandex_disk_web||{},t.yandex_disk_web["share-dialog"]={"access-type-expand":function(e){return"Развернуть"},"access-type-subtitle-vicarious-doc":function(e){return"У вас нет прав их изменять, этот файл не ваш"},"access-type-subtitle_edit":function(e){return"Редактировать смогут все, у кого есть ссылка"},"access-type-subtitle_no-edit-rights":function(e){return"Файлы в этой папке можно только просматривать"},"access-type-subtitle_overdraft":function(e){return"Файлы занимают больше места, чем у вас есть"},"access-type-subtitle_view":function(e){return"Просматривать смогут все, у кого есть ссылка"},"access-type-title-album_overdraft":function(e){return"Альбом по ссылке недоступен"},"access-type-title-file_overdraft":function(e){return"Файл по ссылке недоступен"},"access-type-title-folder_overdraft":function(e){return"Папка по ссылке недоступна"},"access-type-title-vicarious-doc":function(e){return"Настройки ссылки недоступны"},"access-type-title_edit":function(e){return"Редактирование"},"access-type-title_no-edit-rights":function(e){return"Настройки ссылки недоступны"},"access-type-title_view":function(e){return"Просмотр"},apply:function(e){return"Применить"},"available-to":function(e){return"Кому доступно"},"available-to-organization-only":function(e){return"Ссылка будет доступна только сотрудникам этой организации"},"available-to-organization-only-label":function(e){return"Только внутри организации"},"choose-tariff":function(e){return"Выбрать тариф"},"close-docs-alert-text":function(e){return"Нужно закрыть все документы, которые сейчас редактируются."},"close-docs-alert-title":function(e){return"Не удалось включить новый редактор"},"close-menu":function(e){return"Закрыть"},"copy-link":function(e){return"Скопировать ссылку"},"copy-success":function(e){return"Ссылка скопирована"},"delete-link-confirm-cancel":function(e){return"Отмена"},"delete-link-confirm-submit":function(e){return"Удалить"},"delete-link-confirm-text-album":function(e){return"Доступ к альбому будет закрыт для всех, с кем вы поделились."},"delete-link-confirm-text-file":function(e){return"Доступ к файлу будет закрыт для всех, с кем вы поделились."},"delete-link-confirm-text-folder":function(e){return"Доступ к папке будет закрыт для всех, с кем вы поделились."},"delete-link-confirm-title":function(e){return"Вы действительно хотите удалить ссылку?"},done:function(e){return"Готово"},"enable-new-editor":function(e){return"Включить новый редактор"},"forbid-download":function(e){return"Запретить скачивание"},"forbid-download-audio-disabled-tooltip":function(e){return"Нельзя включить запрет скачивания для аудиофайла"},"forbid-download-disabled-tooltip":function(e){return"Нельзя включить запрет скачивания, когда выбран доступ на редактирование"},"forbid-download-tooltip":function(e){return"Кнопки «Скачать» и «Сохранить на Яндекс Диск» будут недоступны"},"link-expire":function(e){return"Срок действия ссылки"},"link-expire-addition":function(e){return"До "+e.datetime},"link-expire-choose":function(e){return"Выбрать дату и время"},"link-expire-day":function(e){return"Сутки"},"link-expire-month":function(e){return"Месяц"},"link-expire-no":function(e){return"Бессрочно"},"link-expire-tooltip":function(e){return"Когда срок действия закончится, ссылка удалится и файл будет недоступен пользователям"},"link-expire-week":function(e){return"Неделя"},months_genitive:function(e){return"янв|фев|мар|апр|мая|июн|июл|авг|сен|окт|ноя|дек"},"new-editor-confirm-text":function(e){return"Редактировать документы вместе с другими пользователями можно только в новом редакторе."},"password-disabled-tooltip":function(e){return"Нельзя установить пароль, когда выбран доступ на редактирование"},"password-edit-title":function(e){return"Изменить пароль"},"password-min-len":function(e){return"От 4 символов"},"password-only-latin-letters-and-digits":function(e){return"Только латинские буквы и цифры"},"password-only-letters-and-digits":function(e){return"Только буквы и цифры"},"password-remember":function(e){return"Запомните этот пароль, потом посмотреть его не получится"},"password-set":function(e){return"Пароль установлен"},"password-title":function(e){return"Установить пароль"},"password-tooltip":function(e){return"Чтобы увидеть ваш файл по ссылке, пользователь должен будет ввести пароль"},"qr-code-title":function(e){return"Скачать QR-код"},retry:function(e){return"Повторить"},"security-b2b-tooltip":function(e){return"Доступно только на Оптимальном и Расширенном тарифах Яндекс 360 для бизнеса"},"security-b2c-tooltip":function(e){return"Доступны для пользователей Яндекс 360 Премиум"},"security-desc-with-password":function(e){return"Установить пароль, срок действия ссылки и запретить скачивание"},"security-only-disable":function(e){return"Доступно только отключение настроек"},"security-title":function(e){return"Настройки безопасности"},"share-album-link-body":function(e){return"Посмотреть или скачать альбом «"+e.title+"»"},"share-album-link-subject":function(e){return"Ссылка на альбом «"+e.title+"» на Яндекс.Диске"},"share-file-link-body":function(e){return"Посмотреть или скачать файл «"+e.title+"»"},"share-file-link-subject":function(e){return"Ссылка на файл «"+e.title+"» на Яндекс.Диске"},"share-folder-link-body":function(e){return"Посмотреть или скачать папку «"+e.title+"»"},"share-folder-link-subject":function(e){return"Ссылка на папку «"+e.title+"» на Яндекс.Диске"},"share-link-body-edit":function(e){return"Посмотреть, скачать или отредактировать документ «"+e.title+"»"},"share-mail":function(e){return"Поделиться в письме"},"share-menu-title":function(e){return"Поделиться файлом"},"share-menu-title-album":function(e){return"Поделиться альбомом"},"share-menu-title-folder":function(e){return"Поделиться папкой"},"share-qr":function(e){return"Через QR-код"},"smth-wrong":function(e){return"Что-то пошло не так, повторите позже"},"to-all":function(e){return"Всем"},"trash-tooltip":function(e){return"Удалить ссылку"},"update-editor-error-title":function(e){return"Не удалось включить новый редактор. Попробуйте позже."},"viewonly-tooltip":function(e){return"Этот файл доступен для просмотра.\nСовместно редактировать можно только документы."},"viewonly-tooltip-album":function(e){return"Этот альбом доступен для просмотра. Совместно редактировать можно только документы."},"viewonly-tooltip-doc":function(e){return"Этот файл доступен для просмотра.\nСовместно редактировать можно только документы DOCX, XLSX, PPTX."},"viewonly-tooltip-folder":function(e){return"Эта папка доступна для просмотра. Чтобы редактировать ее совместно, настройте общий доступ."}},e&&e.exports?e.exports=t:(window.i18n=window.i18n||{},window.i18n.ru=t)})()}).call(this,n(145)(e))}),(function(e,t){e.exports='<svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.272 7.365C4 7.9 4 8.6 4 10v8c0 1.4 0 2.1.272 2.635a2.5 2.5 0 0 0 1.093 1.092C5.9 22 6.6 22 8 22h12c1.4 0 2.1 0 2.635-.273a2.5 2.5 0 0 0 1.092-1.092C24 20.1 24 19.4 24 18v-8c0-1.4 0-2.1-.273-2.635a2.5 2.5 0 0 0-1.092-1.093C22.1 6 21.4 6 20 6H8c-1.4 0-2.1 0-2.635.272a2.5 2.5 0 0 0-1.093 1.093zM6.647 8h14.706a.5.5 0 0 1 .278.916l-7.075 4.732a1 1 0 0 1-1.112 0L6.369 8.916A.5.5 0 0 1 6.647 8z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="25" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M22.5 12c0 5.523-4.477 10-10 10s-10-4.477-10-10 4.477-10 10-10 10 4.477 10 10zm-5.344-3.755a1 1 0 0 0-1.41.099l-4.312 4.958-2.242-2.149a1 1 0 0 0-1.384 1.444l3.379 3.238a.5.5 0 0 0 .723-.033l5.345-6.146a1 1 0 0 0-.099-1.41z" fill="#66CC67"></path></svg>'}),(function(e,t){e.exports='<svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.33 15.666a1.667 1.667 0 1 0 0-3.333 1.667 1.667 0 0 0 0 3.333zm6.667 0a1.667 1.667 0 1 0 0-3.333 1.667 1.667 0 0 0 0 3.333zM22.331 14a1.667 1.667 0 1 1-3.334 0 1.667 1.667 0 0 1 3.334 0z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 13.585l-4.793-4.79a1 1 0 1 0-1.414 1.415l5.5 5.496a1 1 0 0 0 1.414 0l5.5-5.496a1 1 0 0 0-1.414-1.415L12 13.585z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="12" height="12" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.293 4.293a1 1 0 0 1 1.414 0L6 6.586l2.293-2.293a1 1 0 0 1 1.414 1.414l-3 3a1 1 0 0 1-1.414 0l-3-3a1 1 0 0 1 0-1.414Z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.5 12c0-2.25 3.75-7.5 10.5-7.5S22.5 9.75 22.5 12s-3.75 7.5-10.5 7.5S1.5 14.25 1.5 12zM12 16.75a4.75 4.75 0 1 0 0-9.5 4.75 4.75 0 0 0 0 9.5zM14.7 12a2.7 2.7 0 1 1-5.4 0 2.7 2.7 0 0 1 5.4 0z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg fill="none" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M3.991 16.854l-1.314 3.504a.75.75 0 0 0 .966.965l3.503-1.314a3 3 0 0 0 1.068-.687L18.361 9.175s-.353-1.061-1.414-2.122c-1.06-1.06-2.121-1.414-2.121-1.414L4.679 15.786a3 3 0 0 0-.688 1.068zM16.24 4.224l1.384-1.383c.248-.248.578-.406.924-.348.487.08 1.232.322 1.935 1.025.702.703.944 1.447 1.025 1.934.057.346-.1.677-.349.925L19.776 7.76s-.354-1.06-1.415-2.12-2.121-1.415-2.121-1.415z" fill="currentColor" fill-rule="evenodd"></path></svg>'}),(function(e,t){e.exports='<svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.469 4.36a6.746 6.746 0 0 0-1.201-1.628 6.746 6.746 0 0 0-1.625-1.2l-.002-.002.92-.92c.495-.494 1.308-.812 2.475.354 1.166 1.167.848 1.98.353 2.475l-.92.92Zm-1.127 1.126L4.73 14.099a2.5 2.5 0 0 1-.861.562l-2.552.993a.75.75 0 0 1-.971-.97l.993-2.553a2.5 2.5 0 0 1 .562-.86l8.613-8.614a5.234 5.234 0 0 1 1.693 1.136c.5.5.88 1.077 1.135 1.693Z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-1-11.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-7zM13 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0z" fill="#9397AD"></path></svg>'}),(function(e,t){e.exports='<svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 26c6.627 0 12-5.373 12-12S20.627 2 14 2 2 7.373 2 14s5.373 12 12 12zm-1.8-6.01c0-1.04.79-1.79 1.79-1.79 1.02 0 1.81.75 1.81 1.79s-.79 1.81-1.81 1.81c-1 0-1.79-.77-1.79-1.81zm.79-13.19a.583.583 0 0 0-.583.609l.369 8.433c.014.312.27.558.583.558h1.283c.312 0 .57-.246.583-.558l.369-8.433a.583.583 0 0 0-.583-.609H12.99z" fill="#FF4D4D"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zm-1.5-5.009c0-.867.659-1.491 1.491-1.491.85 0 1.509.624 1.509 1.491 0 .867-.659 1.509-1.509 1.509-.832 0-1.491-.642-1.491-1.509zM11.172 6a.5.5 0 0 0-.499.522l.306 7a.5.5 0 0 0 .5.478h1.043a.5.5 0 0 0 .5-.478l.305-7a.5.5 0 0 0-.5-.522h-1.655z" fill="#9397AD"></path></svg>'}),(function(e,t){e.exports='<svg width="17" height="17" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M.5 8.003a8 8 0 1 0 16 0 8 8 0 0 0-16 0Zm14 0a6 6 0 1 1-12 0 6 6 0 0 1 12 0ZM7.36 11.03c0-.672.492-1.14 1.14-1.14.648 0 1.14.468 1.14 1.14 0 .672-.492 1.14-1.14 1.14-.648 0-1.14-.468-1.14-1.14ZM8.08 4h.842a.75.75 0 0 1 .747.825l-.373 3.724a.5.5 0 0 1-.497.45h-.596a.5.5 0 0 1-.497-.45l-.373-3.724A.75.75 0 0 1 8.08 4Z" fill="#FA3527"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M17.038 20.528l.927-11.887h1.526a.4.4 0 0 0 .389-.495l-.285-1.168a.503.503 0 0 0-.485-.388h-2.741l-1.197-2.456A1.996 1.996 0 0 0 13.381 3h-2.764c-.757 0-1.45.439-1.789 1.134L7.632 6.59H4.89c-.229 0-.429.16-.485.388l-.284 1.168a.4.4 0 0 0 .389.495h1.526l.927 11.887c.021.267.238.472.499.472h9.077c.26 0 .478-.205.498-.472zM14.133 6.59H9.867l.612-1.255a.499.499 0 0 1 .447-.284h2.146c.19 0 .363.11.447.284l.613 1.255z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="25" height="25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 12C0 5.373 5.373 0 12 0s12 5.373 12 12-5.373 12-12 12S0 18.627 0 12Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M8.25 10.125a1.5 1.5 0 0 0-1.5 1.5V16.5a1.5 1.5 0 0 0 1.5 1.5h7.5a1.5 1.5 0 0 0 1.5-1.5v-4.875a1.5 1.5 0 0 0-1.5-1.5h-.25v-1.75a3.5 3.5 0 1 0-7 0v1.75h-.25Zm2-1.75a1.75 1.75 0 1 1 3.5 0v1.748h-3.5V8.375Z" fill="#fff"></path></svg>'}),(function(e,t){e.exports='<svg width="25" height="25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 12C0 5.373 5.373 0 12 0s12 5.373 12 12-5.373 12-12 12S0 18.627 0 12Z" fill="url(#security-lock-b2c-a)"></path><path d="M0 12C0 5.373 5.373 0 12 0s12 5.373 12 12-5.373 12-12 12S0 18.627 0 12Z" fill="url(#security-lock-b2c-b)"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M8.25 10.125a1.5 1.5 0 0 0-1.5 1.5V16.5a1.5 1.5 0 0 0 1.5 1.5h7.5a1.5 1.5 0 0 0 1.5-1.5v-4.875a1.5 1.5 0 0 0-1.5-1.5h-.25v-1.75a3.5 3.5 0 1 0-7 0v1.75h-.25Zm2-1.75a1.75 1.75 0 1 1 3.5 0v1.748h-3.5V8.375Z" fill="#F7F7FF" fill-opacity=".9"></path><defs><radialGradient id="security-lock-b2c-b" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="matrix(0 23 -24.4584 0 11.931 21.333)"><stop offset=".322" stop-color="#FF7142"></stop><stop offset=".825" stop-color="#FF5525" stop-opacity="0"></stop></radialGradient><linearGradient id="security-lock-b2c-a" x1="0" y1="12.213" x2="23.968" y2="12.213" gradientUnits="userSpaceOnUse"><stop stop-color="#EB1C3F"></stop><stop offset="1" stop-color="#F4248E"></stop></linearGradient></defs></svg>'}),(function(e,t){e.exports='<svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.999 25.667c6.443 0 11.666-5.223 11.666-11.666 0-6.444-5.223-11.667-11.666-11.667-6.444 0-11.667 5.223-11.667 11.667 0 6.443 5.223 11.666 11.667 11.666z" fill="#222"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M17.715 11.938c.001.001-1.651 1.65-1.651 1.65l-.207-.206-.824.824.207.207c.455.455 1.19.458 1.648 0l1.652-1.651a1.163 1.163 0 0 0 0-1.649l-1.652-1.651a1.163 1.163 0 0 0-1.648 0l-1.651 1.651a1.163 1.163 0 0 0 0 1.649l.207.207.206.206-1.651 1.651a.585.585 0 0 0 0 .824c.23.23.597.228.825 0l1.65-1.65.827-.826a.585.585 0 0 0-.001-.824.581.581 0 0 0-.824-.001l-.826.826-.206-.206.824-.825-.206-.207c-.002-.002 1.651-1.65 1.651-1.65.001-.002 1.65 1.651 1.65 1.651zm-5.775 5.775c.001.001 1.65-1.652 1.65-1.652l-.206-.206.824-.824.207.207c.455.455.458 1.19 0 1.649l-1.651 1.651a1.163 1.163 0 0 1-1.649 0l-1.651-1.651a1.163 1.163 0 0 1 0-1.649l1.651-1.651a1.162 1.162 0 0 1 1.649 0l.207.207-.825.824-.207-.206c-.002-.002-1.65 1.651-1.65 1.651-.002.001 1.651 1.65 1.651 1.65z" fill="#fff"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 22c-1.148 0-3.418-1.362-5.13-3.34C4.44 15.854 3 11.967 3 7a1 1 0 0 1 .629-.929c3.274-1.31 5.88-2.613 7.816-3.903a1 1 0 0 1 1.11 0c1.935 1.29 4.543 2.594 7.816 3.903A1 1 0 0 1 21 7c0 4.968-1.44 8.855-3.87 11.66C15.419 20.637 13.149 22 12 22Z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.55 5.526a.5.5 0 00.717-.011L11 3.668V7H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V9c0-1.105-.894-2-1.999-2H13V3.672l1.733 1.843a.5.5 0 00.717.012l.704-.704a.5.5 0 00.007-.7L12.358.155a.5.5 0 00-.722 0l-3.798 3.97a.5.5 0 00.008.699l.703.703zM13 7v7.003A.998.998 0 0112 15c-.552 0-1-.445-1-.997V7h2z" fill="#222"></path></svg>'}),(function(e,t){e.exports='<svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M24.5 5.834a3.5 3.5 0 0 1-5.605 2.797l-8.431 4.864a3.54 3.54 0 0 1-.025 1.16l8.299 4.842a3.5 3.5 0 1 1-1.176 2.015l-8.3-4.84a3.5 3.5 0 1 1-.03-5.366l8.36-4.671a3.5 3.5 0 1 1 6.908-.8z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.109 2.546C4 2.76 4 3.04 4 3.6V17a1 1 0 1 0 2 0V4.8c0-.28 0-.42.054-.527a.5.5 0 0 1 .219-.218C6.38 4 6.52 4 6.8 4H15a1 1 0 1 0 0-2H5.6c-.56 0-.84 0-1.054.109a1 1 0 0 0-.437.437zm4 4C8 6.76 8 7.04 8 7.6v11.8c0 .56 0 .84.109 1.054a1 1 0 0 0 .437.437C8.76 21 9.04 21 9.6 21h7.8c.56 0 .84 0 1.054-.109a1 1 0 0 0 .437-.437C19 20.24 19 19.96 19 19.4V7.6c0-.56 0-.84-.109-1.054a1 1 0 0 0-.437-.437C18.24 6 17.96 6 17.4 6H9.6c-.56 0-.84 0-1.054.109a1 1 0 0 0-.437.437z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M21 7.505a1.5 1.5 0 0 1-1.5 1.5h-3a1.5 1.5 0 0 1-1.5-1.5V4.5A1.5 1.5 0 0 1 16.5 3h3A1.5 1.5 0 0 1 21 4.5v3.005zM9 7.5V4.504a1.5 1.5 0 0 0-1.498-1.5l-3-.003A1.5 1.5 0 0 0 3 4.5V7.5A1.5 1.5 0 0 0 4.5 9h3A1.5 1.5 0 0 0 9 7.5zM5 7V5.001l2 .002V7H5zm-.502 8.004l3-.003A1.5 1.5 0 0 1 9 16.5V19.5A1.5 1.5 0 0 1 7.5 21h-3A1.5 1.5 0 0 1 3 19.5v-2.996c0-.828.67-1.5 1.498-1.5zM7 19H5v-1.997l2-.002V19zM19 5v2.005h-2V5h2zm0 11a1 1 0 1 1 2 0v3.5a1.5 1.5 0 0 1-1.498 1.5l-3.5.005a1 1 0 1 1-.003-2L19 19V16zM11 4v7H4a1 1 0 1 0 0 2h8a1 1 0 0 0 1-1V4a1 1 0 1 0-2 0zm2 16a1 1 0 1 1-2 0v-4a1 1 0 1 1 2 0v4zm3-3a1 1 0 0 0 1-1v-3h3a1 1 0 1 0 0-2h-4a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.163 2.819C9 3.139 9 3.559 9 4.4V11H7.803c-.883 0-1.325 0-1.534.176a.75.75 0 0 0-.266.62c.017.274.322.593.931 1.232l4.198 4.401c.302.318.453.476.63.535a.749.749 0 0 0 .476 0c.177-.059.328-.217.63-.535l4.198-4.4c.61-.64.914-.96.93-1.233a.75.75 0 0 0-.265-.62C17.522 11 17.081 11 16.197 11H15V4.4c0-.84 0-1.26-.164-1.581a1.5 1.5 0 0 0-.655-.656C13.861 2 13.441 2 12.6 2h-1.2c-.84 0-1.26 0-1.581.163a1.5 1.5 0 0 0-.656.656ZM5 21a1 1 0 0 0 1 1h12a1 1 0 1 0 0-2H6a1 1 0 0 0-1 1Z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 2a1 1 0 0 0-1 1v1.001c-.961.014-1.34.129-1.721.333a2.272 2.272 0 0 0-.945.945C3.116 5.686 3 6.09 3 7.205v10.59c0 1.114.116 1.519.334 1.926.218.407.538.727.945.945.407.218.811.334 1.926.334h11.59c1.114 0 1.519-.116 1.926-.334.407-.218.727-.538.945-.945.218-.407.334-.811.334-1.926V7.205c0-1.115-.116-1.519-.334-1.926a2.272 2.272 0 0 0-.945-.945C19.34 4.13 18.961 4.015 18 4V3a1 1 0 1 0-2 0v1H8V3a1 1 0 0 0-1-1ZM5 9v8.795c0 .427.019.694.049.849.012.06.017.074.049.134a.275.275 0 0 0 .124.125c.06.031.073.036.134.048.155.03.422.049.849.049h11.59c.427 0 .694-.019.849-.049a.353.353 0 0 0 .134-.049.275.275 0 0 0 .125-.124.353.353 0 0 0 .048-.134c.03-.155.049-.422.049-.849L19.004 9H5Zm8.75 4a.75.75 0 0 0-.75.75v2.5c0 .414.336.75.75.75h2.5a.75.75 0 0 0 .75-.75v-2.5a.75.75 0 0 0-.75-.75h-2.5Z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.75 12.984c2.334 0 4.084-2.49 4.084-5.39C10.834 4.695 9.328 3 6.75 3 4.172 3 2.666 4.695 2.666 7.595c0 2.9 1.75 5.389 4.084 5.389Zm0 8.016C3.274 21 1.104 19.984.24 19.284A.71.71 0 0 1 0 18.696C.001 16.484 2.661 15 6.745 15c4.085 0 6.754 1.484 6.754 3.695a.712.712 0 0 1-.238.59c-.865.7-3.036 1.715-6.51 1.715Zm9.369-1.07c3.165.214 6.22-.27 7.666-1.187a.46.46 0 0 0 .211-.424c0-1.395-2.141-3.134-5.996-3.134-1.357 0-2.869.126-3.765.385 1.158.85 1.884 2.371 1.884 4.36ZM18 13.142c-1.96 0-3.353-2.155-3.353-4.666 0-2.511 1.189-3.979 3.353-3.979s3.351 1.468 3.351 3.98c0 2.51-1.392 4.665-3.351 4.665Z" fill="currentColor"></path></svg>'}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.classnames=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=new Set,i=0,o=e.join(" ").split(" ");i<o.length;i++){var a=o[i];""===a||r.has(a)||(r.add(a),n.length>0&&(n+=" "),n+=a)}return n}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(159)),s=i(n(268)),u=i(n(196)),c=i(n(114)),l=n(28).cn("OnyViewInfo");n(1024);var d=function(e){var t=e.onClick;return o.default.createElement(a.default,{name:"info",onClick:t,className:l("Icon")})},f={file:"viewonly-tooltip",folder:"viewonly-tooltip-folder",album:"viewonly-tooltip-album",doc:"viewonly-tooltip-doc"},h=function(e,t){return c.default(e,f[t])},p=function(e){var t=e.lang,n=e.resourceType,r=e.deselectClass,i=o.useState(!1),a=i[0],s=i[1],f=o.useCallback((function(){s(!0)}),[]),p=o.useCallback((function(){s(!1)}),[]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(d,{onClick:f}),o.default.createElement(u.default,{visible:a,onClose:p,cancelButtonText:c.default(t,"close-menu"),zIndexGroupLevel:1,className:r},o.default.createElement("div",{className:l("TouchText")},h(t,n))))};t.default=function(e){var t=e.lang,n=e.resourceType,r=e.viewOnlyTooltipType,i=e.isTouch,a=e.deselectClass;return i?o.default.createElement(p,{lang:t,resourceType:n,viewOnlyTooltipType:r,deselectClass:a}):o.default.createElement(s.default,{tooltipContent:o.default.createElement("div",{className:l("Tooltip")},h(t,r)),direction:"right",hasTail:!0,size:"m"},o.default.createElement(d,null))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeAllRefs=t.mergeRefs=void 0;var r=n(995);t.mergeRefs=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return r.canUseDOM()&&requestAnimationFrame((function(){t.forEach((function(t){void 0!==e&&void 0!==t&&("function"==typeof t?t(e.current):t.current=e.current)}))})),e},t.mergeAllRefs=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){e.forEach((function(e){"function"==typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;t.canUseDOM=function(){return"undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1014);t.default=r.default}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(665),o=n(1832),a=r.compose(i.withThemeNormal,o.withZIndex)(i.Modal);t.default=a}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(659);n(1021);var o=r.compose(i.withViewDefault)(i.Drawer);t.default=o}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(114)),a=i(n(0)),s=r(n(159)),u=r(n(268)),c=r(n(457)),l=r(n(550)),d=n(28);n(1035);var f=d.cn("OrganizationScope");t.default=function(e){var t=e.lang,n=e.resourcePath,r=e.chooseTariffLink,i=e.hasFeature,d=void 0!==i&&i,h=e.pddOrgId,p=e.dialogVisible,m=e.externalOrganizationId,v=e.setLinkSettings,g=e.onChangeSecuritySettings,y=e.countMetrikaFn,b=a.useMemo((function(){return parseInt(h,10)}),[h]),_=a.useRef(null),O=a.useRef(null),w=a.useState(!1),E=w[0],S=w[1],C=a.useState(m===b),x=C[0],k=C[1],T=a.useState(!1),j=T[0],R=T[1],P=a.useState(d||x),D=P[0],I=P[1],A=a.useCallback((function(){d||E||D||(S(!0),y("stub tooltip","show"))}),[d,D,E,S,y]),M=a.useCallback((function(){S(!1),y("stub tooltip","hide")}),[S,y]),N=a.useCallback((function(){var e=x,t=x?"off":"on",r=x?null:b,i=null===r&&!d;y("restrict  organization",t);var o=v({path:n,external_organization_id:r}).catch((function(n){throw y("restrict  organization",t,"failed"),k(e),i&&R(!1),n}));k(null!==r),i&&R(!0),null===g||void 0===g||g("external_organization_id",r,o)}),[x,b,n,d,R,g,k,v,y]),L=a.useCallback((function(){y("choose tariff click")}),[y]);return a.useEffect((function(){k(m===b)}),[m,b,k]),a.useEffect((function(){p&&(R(!1),I(d||x))}),[p,I,R]),a.default.createElement("div",{className:f({Stub:!D,Disabled:j}),onClick:A,ref:_},a.default.createElement("div",{className:f("IconContainer")},a.default.createElement(s.default,{name:"group",className:f("Icon")})),a.default.createElement("div",{className:f("Text")},o.default(t,"available-to-organization-only-label")),D?a.default.createElement(u.default,{tooltipContent:a.default.createElement("div",{className:f("TooltipContent")},o.default(t,"available-to-organization-only")),disabled:j,className:f("Controls"),direction:"right",size:"m",hasTail:!0},a.default.createElement(c.default,{size:"m",view:"default",checked:x,disabled:j,onChange:N})):a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:f("Controls")},a.default.createElement(s.default,{ref:O,name:"securityLockB2b",className:f("NoFeatureIcon",{Black:E})})),a.default.createElement(l.default,{lang:t,anchor:O,visible:E,containerRef:_,chooseTariffLink:r,onGoToTariffs:L,onClose:M,isB2b:!0})))}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(551)),s=i(n(159)),u=i(n(121)),c=i(n(114)),l=n(28).cn("ShareDialogLinkField");n(1071);var d=function(){return o.default.createElement(s.default,{name:"trash",className:l("TrashIcon")})};t.default=function(e){var t=e.lang,n=e.linkUrl,r=e.isUserHasRightsToModifyAccess,i=e.onTrashClick,f=e.countMetrikaFn,h=o.useCallback((function(){f("nativeCopyToClipboard")}),[f]);return o.default.createElement(a.default,{disabled:!0,view:"share-menu",size:"m",value:n,className:l({hasDeleteIcon:r}),addonBefore:o.default.createElement(s.default,{name:"share",className:l("ShareIcon")}),addonAfter:r?o.default.createElement(u.default,{className:l("TrashButton"),view:"clear",icon:d,onClick:i,title:c.default(t,"trash-tooltip")}):null,onCopy:h})}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(194);n(1070),t.withViewShareMenu=r.withBemMod(i.cnTextinput(),{view:"share-menu"})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(121)),u=o(n(159)),c=o(n(114)),l=o(n(1073)),d=o(n(1074)),f=n(28).cn("ShareDialogButtons");n(1075);var h=function(e){return function(){return a.default.createElement(u.default,{name:e,className:f("Icon")})}},p={file:{subject:"share-file-link-subject",body:{disabled:"share-file-link-body",all:"share-link-body-edit"}},folder:{subject:"share-folder-link-subject",body:"share-folder-link-body"},album:{subject:"share-album-link-subject",body:"share-album-link-body"}};t.default=function(e){var t=e.lang,n=e.visible,i=e.url,o=e.onCopyLinkClick,m=e.isOverdraft,v=e.blockActionOverdraft,g=e.onClickQR,y=e.mailOrigin,b=e.resourceTitle,_=e.resourceType,O=e.officeAccessType,w=e.isTouch,E=e.isAndroid,S=e.countMetrikaFn,C=a.useState(!1),x=C[0],k=C[1];a.useEffect((function(){n&&(m||l.default.copy(i))}),[n,i,m]);var T=a.useCallback((function(){var e=l.default.copy(i);o&&o(e),e&&(k(!0),setTimeout((function(){k(!1)}),2e3)),S("copyToClipboard")}),[i,o,S]),j=p[_],R=c.default(t,j.subject,{title:b}),P=c.default(t,"object"==typeof j.body?j.body[O]:j.body,{title:b}),D=a.useCallback((function(){v&&v()||(d.default.shareViaMail(i,y,R,P),S("socialShare","mail"))}),[i,y,R,P,S,v]),I=a.useMemo((function(){return x?c.default(t,"copy-success"):c.default(t,"copy-link")}),[x,t]),A=a.useMemo((function(){return function(e){return a.default.createElement(u.default,{name:x?"check":"copy",className:f("CopyIcon",[e])})}}),[x]),M=a.useCallback((function(){navigator.share({url:i,title:R,text:P})}),[i,R,P]),N={className:f("Button"),view:"pseudo",size:"xl"},L=null;w?"undefined"!=typeof navigator&&"function"==typeof navigator.share&&(L=a.default.createElement(s.default,r({},N,{icon:h(E?"androidShare":"touchShare"),onClick:M}))):L=a.default.createElement(a.default.Fragment,null,a.default.createElement(s.default,r({},N,{"aria-label":c.default(t,"share-mail"),icon:h("mail"),onClick:D})),a.default.createElement(s.default,r({},N,{"aria-label":c.default(t,"share-qr"),icon:h("qr"),onClick:g})));return a.default.createElement("div",{className:f()},a.default.createElement(s.default,{className:f("CopyButton"),view:x?"pseudo":"action",size:"xl",width:"max",iconLeft:A,onClick:T},I),L)}}),(function(e,t,n){"use strict";n.r(t);var r={copy:function(e,t){var n;t?(n=document.createElement("span")).appendChild(document.createTextNode(e)):(n=document.createElement("input")).value=e,n.style.position="absolute",n.style.top="-999px",n.style.left="-999px",n.style.opacity="0",document.body.appendChild(n);var r=!1;try{if(t){var i=document.createRange();i.selectNodeContents(n);var o=window.getSelection();o&&o.removeAllRanges(),o&&o.addRange(i)}else n.select();r=document.execCommand("copy")}catch(e){r=!1}return document.body.removeChild(n),r},isSupported:function(){return"undefined"!=typeof window&&Boolean(document.queryCommandSupported("copy"))}};t.default=r}),(function(e,t,n){"use strict";n.r(t);var r={mail:{width:1e3,height:600},vkontakte:{width:550,height:420},twitter:{width:650,height:520},odnoklassniki:{width:560,height:370},facebook:{width:800,height:500},moimir:{width:560,height:400},gplus:{width:560,height:370}};function i(e){var t=r[e],n="";return t&&(n="scrollbars=1,resizable=1,menubar=0,toolbar=0,status=0",n+=",left="+(screen.width-t.width)/2,n+=",top="+(screen.height-t.height)/2,n+=",width="+t.width,n+=",height="+t.height),n}t.default={shareViaSocial:function(e,t,n){var r=(function(e,t,n){e=encodeURIComponent(e);var r=n?"&amp;title="+encodeURIComponent(n):"";return"http://share.yandex.ru/go.xml?service=".concat(t,"&amp;url=").concat(e).concat(r)})(e,t,n);return window.open(r,"_blank",i(t))},shareViaMail:function(e,t,n,r,o){var a=(function(e,t,n,r,i){n=encodeURIComponent(n),r=encodeURIComponent(r+" - "+e);var o=i&&"0"!==i?"&uid="+i:"";return"".concat(t,"/compose?mode=html&body=").concat(r,"&subject=").concat(n).concat(o)})(e,t,n,r,o);return window.open(a,"_blank",i("mail"))}}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(121)),s=n(28).cn("QR");n(1077);var u=function(e,t){return"//disk.yandex.net/qr/?text="+encodeURIComponent(e)+(t?"&download=1&format="+t:"")};t.default=function(e){var t=e.linkUrl,n=e.countMetrikaFn,r=o.useCallback((function(e){n("clickQRCode",e)}),[n]),i=o.useMemo((function(){return["png","svg","eps","pdf"].map((function(e){return o.default.createElement(a.default,{key:e,view:"pseudo",size:"m",type:"link",url:u(t,e),target:"_blank",className:s("Button"),onClick:function(){return r(e)}},e.toUpperCase())}))}),[t,r]);return o.default.createElement("div",{className:s()},o.default.createElement("div",{className:s("Image"),style:{backgroundImage:"url("+u(t)+")"}}),o.default.createElement("div",{className:s("Buttons")},i))}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(159)),u=o(n(457)),c=i(n(548)),l=o(n(1079)),d=o(n(1129)),f=o(n(268)),h=o(n(550)),p=o(n(114)),m=n(28);n(1132);var v=m.cn("SecuritySettings");t.default=function(e){var t=e.lang,n=e.hasFeature,i=e.isB2b,o=e.chooseTariffLink,m=e.resourcePath,g=e.resourceMediaType,y=e.readOnlyValue,b=e.externalOrganizationIds,_=e.availableUntilValue,O=e.havePasswordValue,w=e.setLinkSettings,E=e.onChangeSecuritySettings,S=e.officeAccessType,C=e.isDialogVisible,x=e.countMetrikaFn,k=e.deselectClass,T=a.useRef(null),j=a.useRef(null),R=a.useState(!1),P=R[0],D=R[1],I=a.useCallback((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return x.apply(void 0,r(["security settings"],e))}),[x]),A=a.useCallback((function(){P||(I("tooltip","show"),D(!0))}),[P,D,I]),M=a.useCallback((function(){I("tooltip","hide"),D(!1)}),[I,D]),N=a.useCallback((function(){var e=!y,t=w({path:m,read_only:e}).catch((function(e){throw I("save error"),e}));null===E||void 0===E||E("read_only",e,t),I("forbid download",e?"on":"off")}),[w,m,y,E,I]),L=a.useCallback((function(e){var t=e?Number(e)/1e3:null;if(t&&Number(e)<=Date.now())null===E||void 0===E||E("available_until",t,Promise.reject());else{var n=w({path:m,available_until:t});null===E||void 0===E||E("available_until",t,n)}}),[m,w,E]),F=a.useState(!1),B=F[0],U=F[1];a.useEffect((function(){if(C&&!n){var e=y||Boolean(_)||O;U(e)}}),[C,n]),a.useEffect((function(){C&&I("show",n?"available":B?"only disable":"no feature")}),[C,I,n,B]);var z,V=a.useCallback((function(){I("choose tariff click")}),[I]),H="audio"===g,W="all"===S||!n&&!y||H,G=!n&&!_,q="all"===S||!n&&!O;H?z=p.default(t,"forbid-download-audio-disabled-tooltip"):"all"===S?z=p.default(t,"forbid-download-disabled-tooltip"):W||(z=p.default(t,"forbid-download-tooltip"));var $=n||B;return a.default.createElement("div",{className:v({stub:!$})},$?a.default.createElement(a.default.Fragment,null,!n&&B&&a.default.createElement("div",{className:v("OnlyDisableTip")},a.default.createElement(s.default,{name:"warningSmall",className:v("TipIcon")}),p.default(t,"security-only-disable")),a.default.createElement(d.default,{className:v("Row",{disabled:q}),iconClassName:v("Icon"),textClassName:v("Text"),rightClassName:v("Right"),tooltipClassName:v("Tooltip"),havePassword:O,lang:t,hasFeature:n,resourcePath:m,officeAccessType:S,isDialogVisible:C,setLinkSettings:w,onChangeSecuritySettings:E,countSecuritySettings:I}),a.default.createElement("div",{className:v("Row",{disabled:W})},a.default.createElement(s.default,{name:"download",className:v("Icon")}),a.default.createElement("span",{className:v("Text")},p.default(t,"forbid-download")),a.default.createElement("div",{className:v("Right")},a.default.createElement(f.default,{tooltipContent:z?a.default.createElement("div",{className:v("Tooltip")},z):null,direction:"right",hasTail:!0,size:"m",messageBoxClassName:v("ForbidDownloadTooltip")},a.default.createElement(u.default,{size:"m",view:"default",checked:y,onChange:N,disabled:W,className:v("ForbidDownloadTumbler"),labelAfter:p.default(t,"forbid-download")})))),a.default.createElement("div",{className:v("Row",{disabled:G})},a.default.createElement(s.default,{name:"calendar",className:v("Icon")}),a.default.createElement("span",{className:v("Text")},p.default(t,"link-expire")),a.default.createElement("div",{className:v("Right")},a.default.createElement(l.default,{lang:t,availableUntilDate:_?new Date(1e3*_):null,onChange:L,tooltipClassName:v("Tooltip"),disabled:G,hasFeature:n,readOnlyValue:y,externalOrganizationId:null===b||void 0===b?void 0:b[0],deselectClass:k,countSecuritySettings:I})))):a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{onClick:A,ref:j},a.default.createElement(c.default,{lang:t,stubType:c.AccessStubType.SecurityWithPassword,addonAfter:a.default.createElement(s.default,{ref:T,className:v("StubIcon",{Black:P}),name:i?"securityLockB2b":"securityLockB2c"})})),a.default.createElement(h.default,{isB2b:i,lang:t,anchor:T,visible:P,containerRef:j,chooseTariffLink:o,onGoToTariffs:V,onClose:M})))}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(121)),s=i(n(1080)),u=i(n(159)),c=i(n(1091)),l=i(n(559)),d=i(n(268)),f=i(n(110)),h=i(n(114)),p=n(28).cn("AvailableUntilDropdown");n(1128);var m,v=function(e,t){var n=e.getFullYear()===(new Date).getFullYear();return f.default(e,"D mmmm"+(n?"":" YYYY")+" HH:mm",void 0,h.default(t,"months_genitive").split("|"))};!(function(e){e.Unlimited="unlimited",e.Day="day",e.Week="week",e.Month="month",e.Custom="custom"})(m||(m={}));var g=function(e,t,n){var r;return o.default.createElement("div",{className:p("MenuItem",(r={},r[n]=!0,r))},o.default.createElement("div",{className:p("MenuItem_Left")},e),t?o.default.createElement("div",{className:p("MenuItem_Right")},t):null)},y=function(e){var t=e.lang,n=e.initialDateTime,r=e.onChoose,i=e.hasFeature,a=o.useMemo((function(){var e={},r=new Date(n);r.setDate(r.getDate()+1),e[m.Day]=r;var a=new Date(n);a.setDate(a.getDate()+7),e[m.Week]=a;var s=new Date(n);return s.setDate(s.getDate()+30),e[m.Month]=s,{items:[{value:m.Unlimited,content:g(h.default(t,"link-expire-no"),void 0,"unlim")},{value:m.Day,content:g(h.default(t,"link-expire-day"),h.default(t,"link-expire-addition",{datetime:v(r,t)}),"day"),disabled:!i},{value:m.Week,content:g(h.default(t,"link-expire-week"),h.default(t,"link-expire-addition",{datetime:v(a,t)}),"week"),disabled:!i},{value:m.Month,content:g(h.default(t,"link-expire-month"),h.default(t,"link-expire-addition",{datetime:v(s,t)}),"month"),disabled:!i},{items:[{value:m.Custom,content:g(o.default.createElement("div",{className:p("MenuItem_Custom")},o.default.createElement(u.default,{name:"calendar",className:p("MenuItem_Icon")}),h.default(t,"link-expire-choose")),void 0,"custom"),disabled:!i}]}],dateHash:e}}),[t,n,i]),c=a.items,l=a.dateHash,d=o.useCallback((function(e){return r(e.target.value,l[e.target.value]||null)}),[r,l]);return o.default.createElement(s.default,{size:"m",view:"default",items:c,onChange:d})};t.default=function(e){var t=e.lang,n=e.availableUntilDate,r=e.onChange,i=e.tooltipClassName,s=e.disabled,f=e.hasFeature,g=e.readOnlyValue,b=e.externalOrganizationId,_=e.countSecuritySettings,O=e.deselectClass,w=o.useState(!1),E=w[0],S=w[1],C=o.useState(new Date),x=C[0],k=C[1],T=o.useRef(null),j=o.useState(!1),R=j[0],P=j[1],D=o.useCallback((function(e,t){if(P(!1),e===m.Custom)return S(!0),void _("available until","calendar","open");r(t),_("available until","choose",e)}),[r,_]);o.useEffect((function(){P(!1)}),[g,b]);var I=o.useCallback((function(e){r(e),S(!1),_("available until","choose",m.Custom)}),[r,_]),A=o.useCallback((function(){S(!1)}),[]),M=o.useCallback((function(){var e=!R;if(e){var t=new Date;t.setSeconds(0),t.setMilliseconds(0),k(t)}P(e),e&&_("available until","expand")}),[R,_]),N=o.useCallback((function(){P(!1)}),[]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(d.default,{tooltipContent:s?null:o.default.createElement("div",{className:i},h.default(t,"link-expire-tooltip")),direction:"right",hasTail:!0,size:"m"},o.default.createElement(a.default,{view:"clear",size:"s",className:p("Button",{Expanded:R}),addonAfter:o.default.createElement(u.default,{name:"arrowShort",className:p("Arrow")}),innerRef:T,onClick:M,disabled:s},n?h.default(t,"link-expire-addition",{datetime:v(n,t)}):h.default(t,"link-expire-no"))),o.default.createElement(l.default,{view:"default",target:"anchor",anchor:T,direction:["bottom-end","top-end"],visible:R,onClose:N,className:O},o.default.createElement(y,{lang:t,onChoose:D,initialDateTime:x,hasFeature:f})),o.default.createElement(c.default,{lang:t,visible:E,defaultDateTime:n||void 0,onChoose:I,onClose:A,approveI18n:h.default(t,"apply"),anchor:T,direction:["bottom-end","top-end"],mainOffset:-100,scope:"inplace",minDate:new Date}))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(218),o=r.compose(i.withViewDefault,i.withSizeM)(i.Menu);t.default=o}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(1092),s=n(1810),u=n(1833),c=i(n(1124)),l=i(n(559)),d=i(n(121)),f=n(28).cn("DateTimePickerPopup");n(1127);var h={hour:"2-digit",minute:"2-digit"};t.default=function(e){var t=e.lang,n=e.visible,r=e.onChoose,i=e.onClose,p=e.approveI18n,m=e.defaultDateTime,v=e.minDate,g=e.anchor,y=e.direction,b=e.mainOffset,_=e.scope,O=o.useState(new Date),w=O[0],E=O[1];o.useEffect((function(){if(n){var e=m||new Date;e.setSeconds(0),e.setMilliseconds(0),E(e)}}),[n,m]);var S=o.useCallback((function(){r(w)}),[w,r]),C=o.useCallback((function(e){var t=e.value,n=new Date(t);n.setHours(w.getHours()),n.setMinutes(w.getMinutes()),E(n)}),[w]),x=o.useCallback((function(e){var t=e.value,n=new Date(w);n.setHours(t.getHours()),n.setMinutes(t.getMinutes()),E(n)}),[w]),k=o.useRef(),T=o.useState(n),j=T[0],R=T[1];return o.useEffect((function(){n?(k.current&&clearTimeout(k.current),R(!0)):k.current=setTimeout((function(){R(!1)}),500)}),[n]),o.default.createElement(l.default,{view:"default",visible:n,onClose:i,className:f(),target:"anchor",anchor:g,direction:y,mainOffset:b,scope:_},j&&o.default.createElement(u.Provider,{locale:t},o.default.createElement(a.Calendar,{view:"default",size:"s",autoFocus:!0,showOutsideDays:!0,showDaysOfWeek:!0,showWeekNumbers:!0,min:v,value:w,defaultFocusedDate:w,onChange:C})),o.default.createElement("div",{className:f("Row")},o.default.createElement("div",{className:f("Column")},o.default.createElement(s.DateTimeField,{view:"default",size:"s",addonAfter:o.default.createElement("div",{className:f("ClockIcon"),dangerouslySetInnerHTML:{__html:c.default}}),formatOptions:h,value:w,onChange:x,className:f("TimeField")})),o.default.createElement("div",{className:f("Column")},o.default.createElement(d.default,{onClick:S,size:"s",view:"action",width:"max"},p))))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RangeCalendar=t.MultipleCalendar=t.Calendar=void 0;var r=n(2),i=n(6),o=n(656);r.__exportStar(n(656),t);var a=i.compose(i.composeU(o.withViewBrand,o.withViewDefault),i.composeU(o.withSizeS,o.withSizeM,o.withSizeL));t.Calendar=a(o.Calendar),t.MultipleCalendar=a(o.MultipleCalendar),t.RangeCalendar=a(o.RangeCalendar)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t){e.exports='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 12a9.5 9.5 0 1 1 19 0 9.5 9.5 0 0 1-19 0zM12 .5C5.649.5.5 5.649.5 12S5.649 23.5 12 23.5 23.5 18.351 23.5 12 18.351.5 12 .5zM11 7a1 1 0 1 1 2 0v5h4a1 1 0 1 1 0 2h-5a1 1 0 0 1-1-1V7z" fill="currentColor"></path></svg>'}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(268)),u=o(n(457)),c=o(n(551)),l=o(n(121)),d=o(n(159)),f=o(n(114)),h=n(1130),p=n(28).cn("PasswordField");n(1131);var m=function(e){return a.default.createElement(d.default,{name:"penSmallGrey",className:e})};t.default=function(e){var t=e.className,n=e.iconClassName,i=e.textClassName,o=e.rightClassName,v=e.tooltipClassName,g=e.havePassword,y=e.lang,b=e.hasFeature,_=e.resourcePath,O=e.officeAccessType,w=e.isDialogVisible,E=e.setLinkSettings,S=e.onChangeSecuritySettings,C=e.countSecuritySettings,x=a.useState(!1),k=x[0],T=x[1],j=a.useState(""),R=j[0],P=j[1],D=a.useState(!1),I=D[0],A=D[1],M=a.useState(!1),N=M[0],L=M[1];a.useEffect((function(){(w||"all"===O)&&(T(!1),P(""),A(!1),L(!1))}),[w,O]);var F=a.useCallback((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];C.apply(void 0,r(["password"],e))}),[C]),B=a.useCallback((function(e){L(!1),A(!0);var t=E({path:_,password:e||null}).then((function(e){return A(!1),T(!1),P(""),e})).catch((function(e){throw F("save error"),A(!1),L(!0),e}));null===S||void 0===S||S("have_password",Boolean(e),t),F(e?"set":"remove")}),[F,S,_,E]),U=a.useCallback((function(){g?B(""):(T(!0),F("open"))}),[g,B,F]),z=a.useCallback((function(){T(!0),F("edit")}),[F]),V=a.useCallback((function(){B(R)}),[R,B]),H=a.useMemo((function(){return h.checkPasswordForSymbols(R)}),[R]),W=a.useCallback((function(e){P(e.target.value),L(!1)}),[]),G=R.length<4||!H,q=a.useCallback((function(e){13!==e.keyCode||G||V()}),[G,V]),$=p("InputWrap",[i]),Y=p("Right",[o]);if(k){var K=f.default(y,"password-remember");return H?N&&(K=f.default(y,"smth-wrong")):K=f.default(y,"password-only-latin-letters-and-digits"),a.default.createElement("div",{className:t},a.default.createElement(d.default,{name:"shield",className:p("Icon",{withField:!0},[n])}),a.default.createElement("span",{className:$},a.default.createElement(c.default,{view:"default",size:"m",placeholder:f.default(y,"password-min-len"),value:R,className:p("Input"),onChange:W,maxLength:256,state:!H||N?"error":void 0,hint:K,autoFocus:!0,onKeyDown:q})),a.default.createElement("div",{className:Y},a.default.createElement(l.default,{size:"m",view:"raised",onClick:V,disabled:G,progress:I,className:p("ApplyButton")},f.default(y,"done"))))}var X,Z=!1;return"all"===O?(X=f.default(y,"password-disabled-tooltip"),Z=!0):b||g?X=f.default(y,"password-tooltip"):Z=!0,a.default.createElement("div",{className:t},a.default.createElement(d.default,{name:"shield",className:p("Icon",[n])}),a.default.createElement("span",{className:$},g?a.default.createElement(a.default.Fragment,null,f.default(y,"password-set"),b?a.default.createElement(l.default,{size:"s",view:"clear",onClick:z,icon:m,className:p("EditButton"),title:f.default(y,"password-edit-title")}):null):f.default(y,"password-title")),a.default.createElement("div",{className:Y},a.default.createElement(s.default,{tooltipContent:X?a.default.createElement("div",{className:v},X):null,direction:"right",hasTail:!0,size:"m",messageBoxClassName:p("Tooltip")},a.default.createElement(u.default,{size:"m",view:"default",checked:g,onChange:U,disabled:Z,className:p("Tumbler")}))))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkPasswordForSymbols=function(e){return/^[А-яёЁ!-~]*$/.test(e)}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){var r=(function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new T(r||[]);return o._invoke=(function(e,t,n){var r=d;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return R()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}})(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",m={};function v(){}function g(){}function y(){}var b={};u(b,o,(function(){return this}));var _=Object.getPrototypeOf,O=_&&_(_(j([])));O&&O!==n&&r.call(O,o)&&(b=O);var w=y.prototype=v.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){var n;this._invoke=function(i,o){function a(){return new t(function(n,a){!(function n(i,o,a,s){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)})(i,o,n,a)})}return n=n?n.then(a,a):a()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function j(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:R}}function R(){return{value:t,done:!0}}return g.prototype=y,u(w,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},E(S.prototype),u(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(w),u(w,s,"Generator"),u(w,o,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:j(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e})(e.exports);try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}),(function(e,t){e.exports={getParamSource:function(e,t,n){return[e,t,n].filter(Boolean).join("_")},getParamOrigin:function(e,t){return["disk",e,t].join("_")}}}),(function(e,t){e.exports={getNameContext:function(e){var t="files";return 0===e.indexOf("/photo")&&(t="photo"),0===e.indexOf("/album")&&(t="album"),0===e.indexOf("/public")&&(t="public"),t}}}),(function(e,t,n){(function(t){if(t.window){var n,r,i="onorientationchange"in window?"orientationchange":"resize";"matchMedia"in window?(window.matchMedia("(orientation: portrait)").matches&&(n=window.innerWidth,r=window.innerHeight),window.matchMedia("(orientation: landscape)").matches&&(n=window.innerHeight,r=window.innerWidth)):(n=Math.min(window.innerWidth,window.innerHeight),r=Math.max(window.innerWidth,window.innerHeight)),e.exports={nameEventOrientation:i,deviceWidth:n,deviceHeight:r}}}).call(this,n(133))}),(function(e,t){e.exports=function(e){return"mailru"===e?"moimir":e}}),(function(e,t,n){"use strict";n.r(t);var r=n(189);r.default.addTest("audiomp3",(function(){var e=document.createElement("audio");try{return!!e.canPlayType("audio/mpeg;").replace(/no/,"")}catch(e){return!1}})),r.default.addTest("uploaddrag",(function(){return r.default.draganddrop&&r.default.filereader})),r.default.addTest("webkit",(function(){return new RegExp(" AppleWebKit/").test(navigator.userAgent)})),r.default.addTest("clipboard",(function(){var e=!1;try{document.queryCommandSupported("copy")&&(document.queryCommandEnabled("copy"),e=!0)}catch(e){}return e}))}),(function(e,t,n){(function(e){e.nb.bindTo=function(e,t,n){[].slice.call(e).forEach((function(e){nb.block(e).on(t,n)}))},e.nb.unbindTo=function(e,t,n){[].slice.call(e).forEach((function(e){nb.block(e).off(t,n)}))},e.nb.findBlocks=function(t,n){n||(n=e.document);var r=n.querySelectorAll(t);return[].slice.call(r).map((function(e){return nb.block(e)}))}}).call(this,n(133))}),(function(e,t){ns.Model.define("notification",e.exports={params:{notification:null}})}),(function(e,t){ns.Model.define("do-status-operation",{params:{oid:null},methods:{retryOffline:function(){return!0},shouldRetryFails:function(){return!0}}})}),(function(e,t,n){"use strict";n.r(t);var r=n(14),i=n(16),o=n(18),a=n(67);n(97),n(1144),a.a.define("operationExcludeFromAlbum",{methods:{onStatusCreated:function(){var e=this.get(".idSrc"),t=(Object(o.getResourceData)(Object(r.default)().getState(),e,"meta.albums_exclusions")||[]).concat([this.get(".albumType")]);Object(r.default)().dispatch(Object(i.setResourceData)(e,t,"meta.albums_exclusions")),this.setStatus("started")},onStatusStarted:function(){this.doRequestExcludeFromAlbum()},doRequestExcludeFromAlbum:function(){ns.Model.get("queueRequest").push({isAction:!0,id:"do-exclude-from-album",params:{idResource:this.get(".idSrc"),albumType:this.get(".albumType")}}).always(this.handleResponseExcludeFromAlbum,this)},handleResponseExcludeFromAlbum:function(e){var t=e.valueOf();this.extractErrorFromResponse(t)?(this.checkReasonFailed(t),this.setStatus("failed")):this.setStatus("done")},onStatusDone:function(){this.notify()},onStatusFailed:function(){this.notify();var e=Object(r.default)(),t=Object(o.getResourceData)(e.getState(),this.get(".idSrc"));e.dispatch(Object(i.excludeResourceFromAlbum)([t],this.get(".albumType"),!0))},notify:function(){return this.showNotification({src:Object(o.getResourceData)(Object(r.default)().getState(),this.get(".idSrc")),operation:this.getType(),gid:this.get(".gid"),status:this.get(".status")})}}})}),(function(e,t){ns.Model.define("do-exclude-from-album",{params:{idResource:null,albumType:null}})}),(function(e,t,n){"use strict";n.r(t);var r=n(34),i=n(67),o=n(23),a=n(18),s=n(16),u=n(20),c=n(14),l=n(53);n(97),n(562);var d=n(22),f=n(29);i.a.define("operationCreateFolder",{methods:{init:function(){var e=this.get(".nameFolderDst")||this.DEFAULT_FOLDER_NAME,t=this.get(".idDst");t&&(this.set(".idFolderDst",d.dirname(t)),Object(a.isExistsResource)(Object(c.default)().getState(),t)||(e=d.basename(t),this.createDst(e))),this._canCreateFolderInCurrentContext()&&this.createSrc(e)},run:function(){return this.get(".nameFolderDst")?this.setStatus("validating"):this.get(".idDst")?this.setStatus("determined"):this._canCreateFolderInCurrentContext()?this.setStatus("created"):this.setStatus("selectFolder"),this},createSrc:function(e){var t=d.join(this.get(".idFolderDst"),"."+Date.now()+e);return this.set(".idSrc",t),Object(c.default)().dispatch(Object(s.createResource)({id:t,name:e,type:"dir",state:{hidden:!0}},{part:!0}))},createDst:function(e){return Object(c.default)().dispatch(Object(s.createResource)({id:this.get(".idDst"),name:e,type:"dir",state:{hidden:!0}},{part:!0}))},onStatusCreated:function(){this.doRename()},doRename:function(){var e=this,t=Object(c.default)();t.dispatch(Object(o.openDialog)("rename",{title:"Укажите название папки",resourceId:this.get(".idSrc"),onSubmit:function(n){var r={progress:!0};"error"===t.getState().dialogs.rename.state&&(r.message=""),t.dispatch(Object(o.updateDialog)("rename",r)),e.set(".nameFolderDst",n),e.setStatus("validating")},onClose:function(){e.setStatus("canceled"),t.dispatch(Object(o.closeDialog)("rename"))}}))},onStatusValidating:function(){var e=this.get(".nameFolderDst"),t=d.join(this.get(".idFolderDst"),e),n=r.default.validateName(e);return n?(this.set(".reason",n),this.setStatus("failed")):Object(a.isExistsResource)(Object(c.default)().getState(),t)?this.setStatus("exists"):(this.set(".idDst",t),this.createDst(e),void this.setStatus("determined"))},onStatusDetermined:function(){Object(c.default)().dispatch(Object(s.hideResource)(this.get(".idSrc"))),this.doRequestCreate()},doRequestCreate:function(){ns.Model.get("queueRequest").push({id:"do-resource-create-folder",params:{id:this.get(".idDst"),force:this.get(".force")}}).always(this.handleResponseCreate,this)},handleResponseCreate:function(e){var t=e.valueOf();this.extractErrorFromResponse(t)?this.handleErrorCreate(t):(this.setStatus("completed"),d.dirname(t.params.id)===ns.page.current.params.idContext&&Object(c.default)().dispatch(Object(s.setScrollToResource)(t.params.id)))},getResourcePathKeyForLockError:function(){return".idFolderDst"},handleErrorCreate:function(e){var t=this.extractErrorFromResponse(e)||{};this.getErrorType(t.id)===f.STATUS_CREATE_FOLDER.EXISTS?this.setStatus("exists"):(this.checkReasonFailed(e),this.set(".verboseReason",t),this.setStatus("failed"))},getErrorType:function(e){return"HTTP_412"===e||"HTTP_405"===e?f.STATUS_CREATE_FOLDER.EXISTS:f.STATUS_CREATE_FOLDER.UNKNOWN},onStatusCanceled:function(){var e=Object(c.default)();this.notify(),e.dispatch(Object(s.removeResource)(this.get(".idSrc"))),e.dispatch(Object(s.removeResource)(this.get(".idDst"))),e.dispatch(Object(o.closeDialog)("rename"))},onStatusFailed:function(){var e,t=this.get(".reason"),n=this.get(".reasonText");if(t===r.NAME_VALIDATION_ERRORS.NAME_HAS_SLASH)e="Название папки не может содержать символ «/»";else if(n){e=n;var i=this.get("reasonTextAux");i&&(e+=" "+i)}else e=t===r.NAME_VALIDATION_ERRORS.NAME_EXCEEDS_MAX_LENGTH?"Название папки не может быть длиннее 255 символов":"Не удалось создать папку «"+yr.externals.entityify(this.get(".nameFolderDst"))+"»";Object(c.default)().dispatch(Object(o.updateDialog)("rename",{progress:!1,message:e})),this.notify()},onStatusExists:function(){Object(c.default)().dispatch(Object(o.updateDialog)("rename",{progress:!1,message:"Папка с именем «"+yr.externals.entityify(this.get(".nameFolderDst"))+"» уже существует"})),this.notify("failed")},onStatusCompleted:function(){var e=Object(c.default)(),t=this.get(".idDst");e.dispatch(Object(s.removeResource)(this.get(".idSrc"))),t&&Object(a.isExistsResource)(e.getState(),t)&&this.fetchResource(t,!0)},onStatusSelectFolder:function(){var e=this;Object(c.default)().dispatch(Object(l.add)("select-folder",{operation:this,dialogParams:{type:"create-folder",title:"Выберите место для новой папки",creatingSharedFolder:this.get(".creatingSharedFolder")},onSubmit:function(t){var n=t.folderId,r=t.name;e.set(".idDst",n),e.createDst(r),e.setStatus("completed")},onReject:function(){e.setStatus("canceled")}}))},handleSyncResource:function(){Object(c.default)().dispatch(Object(s.showResource)(this.get(".idDst"))),this.setStatus("done")},onStatusDone:function(){this.notify(),this.get(".isRemote")||Object(c.default)().dispatch(Object(o.closeDialog)("rename"))},notify:function(e){var t=Object(c.default)().getState();return this.showNotification({operation:"createFolder",nameFolderDst:this.get(".nameFolderDst"),src:Object(a.getResourceData)(t,this.get(".idSrc")),dst:Object(a.getResourceData)(t,this.get(".idDst")),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux"),status:e||this.get(".status"),committer:this.get(".committer")})},_canCreateFolderInCurrentContext:function(){var e=this.get(".idFolderDst"),t=Object(c.default)().getState();return Object(a.isExistsResource)(t,e)&&Object(u.can)(u.CREATE_INSIDE,Object(a.getResourceData)(t,e))},DEFAULT_FOLDER_NAME:"Новая папка"}})}),(function(e,t,n){"use strict";n.r(t);var r=n(67),i=n(9),o=n.n(i),a=n(14),s=n(77),u=n(18),c=n(16),l=n(53),d=n(92);n(97),n(563),r.a.define("operationLeaveFolder",{methods:{init:function(){},onStatusCreated:function(){var e=this,t=Object(a.default)(),n=Object(u.getResourceData)(t.getState(),this.get(".idSrc"));t.dispatch(Object(l.add)("confirmation",{operation:this,dialogParams:{title:Object(d.capitalize)("удаление"),text:"".concat("Вы потеряете доступ к файлам в папке «"+yr.externals.entityify(n.name)+"». Она будет удалена с вашего Диска.","\n").concat("Вы уверены?"),submitButtonText:"Удалить",submitAllButtonText:"Удалить все"},onSubmit:function(){e.setStatus("started")},onReject:function(){e.setStatus("rejected")}}))},onStatusStarted:function(){Object(a.default)().dispatch(Object(c.hideResource)(this.get(".idSrc"))),this.doRequestLeave()},onStatusRejected:function(){this.remove()},doRequestLeave:function(){ns.Model.get("queueRequest").push({id:"do-resource-leave",params:{gid:Object(u.getResourceData)(Object(a.default)().getState(),this.get(".idSrc"),"meta.group.gid")}}).then(this.handleResponseLeave,this.handleResponseLeave,this)},handleResponseLeave:function(e){this.extractErrorFromResponse(e)?this.handleErrorLeaveFolder(e):this.setStatus("completed")},handleErrorLeaveFolder:function(e){this.checkReasonFailed(e),this.setStatus("failed")},onStatusCompleted:function(){var e=Object(a.default)(),t=Object(u.getResourceData)(e.getState(),this.get(".idSrc"));if(this.get(".isRemote")&&("owner"===this.get(".role")||"user"===this.get(".role"))){if(t){var n=ns.Model.getValid("usersFolder",{idFolder:t.id,gidFolder:o.a.get(t,"meta.group.gid")});n&&n.fetch()}return"owner"===this.get(".role")&&this.showNotification({nameFolder:this.get(".nameFolder"),nameUser:this.get(".nameUser"),operation:this.getType(),role:this.get(".role"),status:this.get(".status")}),void this.setStatus("done")}e.dispatch(Object(s.a)()),t&&(this.notify(),e.dispatch(Object(c.removeResource)(t.id))),this.setStatus("done")},remove:function(){ns.Model.destroy(this)},onStatusFailed:function(){Object(a.default)().dispatch(Object(c.showResource)(this.get(".idSrc"))),this.notify(),this.remove()},onStatusDone:function(){this.remove()},notify:function(){var e=Object(a.default)();return this.showNotification({src:Object(u.getResourceData)(e.getState(),this.get(".idSrc")),operation:this.getType(),gid:this.get(".gid"),status:this.get(".status"),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux")})}}})}),(function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r),o=n(34),a=n(67),s=n(14),u=n(31),c=n(48),l=n(90),d=n(18),f=n(139),h=n(26),p=n(16),m=n(77),v=n(53),g=n(99),y=n(22),b=n.n(y),_=n(12),O=n(92),w=n(20);n(97),n(563),n(1148),a.a.define("operationDelete",{methods:{init:function(){var e,t=Object(s.default)(),n=t.getState(),r=this.get(".idSrc");if(e=Object(d.isExistsResource)(n,r)?Object(d.getResourceData)(n,r):t.dispatch(Object(p.createResource)({id:r,type:this.get(".typeSrc"),meta:{file_id:this.get(".fileIdSrc")}},{silent:!0,part:!0})),this.set(".srcType",e.type),!b.a.isParent("/trash",r)){var i=this.get(".idDst");i||(i=o.default.getIdUnique(b.a.join("trash",e.name)),this.set(".idDst",i)),t.dispatch(Object(p.createResource)({id:i,name:e.name,type:e.type},{part:!0}))}},initFromMessage:function(e){var t=e.data.path&&b.a.normalize(e.data.path),n=b.a.extname(t)?"file":"dir";this.set(".typeSrc",n),this.set(".idSrc",t),this.init(),Object(s.default)().dispatch(Object(p.hideResource)(t)),this.setStatus("progressing")},onStatusCreated:function(){var e,t,n,r,a=this,u=Object(s.default)(),c=Object(d.getResourceData)(u.getState(),this.get(".idSrc")),l=Object(O.capitalize)("удаление"),f=!1;i.a.get(c,"meta.group.is_root")&&i.a.get(c,"meta.group.is_owned")&&(t="".concat("Папка «"+yr.externals.entityify(c.name)+"» будет перемещена в Корзину. Все, кто имеет доступ к этой папке, потеряют его.","\n").concat("Вы уверены?")),b.a.isParent("/attach/YaFotki",c.id)&&(l="Ссылки на фото исчезнут",e=c.name,t="Если удалить или переместить фотографии, они исчезнут везде, где вы размещали на них ссылки. Информация о фотографиях с Яндекс.Фоток (описание, EXIF, статистика) также будет удалена.",n="Не удалять",f=!0,r="cancel"),o.default.isCamera(c.id)&&(t="Папка «"+yr.externals.entityify(c.name)+"» будет перемещена в Корзину. \n При следующей автозагрузке фотографий будет создана новая папка «"+yr.externals.entityify(c.name)+"»."),t?u.dispatch(Object(v.add)("confirmation",{operation:this,dialogParams:{title:l,fotkiResourceName:e,text:t,submitButtonText:"Удалить",cancelButtonText:n,cancelAll:f,submitAllButtonText:"Удалить все",actionButton:r},onSubmit:function(){a.setStatus("started")},onReject:function(){a.setStatus("rejected")}})):this.setStatus("started")},onStatusStarted:function(){var e=Object(s.default)(),t=e.getState(),n=Object(d.getResourceData)(t,this.get(".idSrc")),r=Object(d.getResourceData)(t,this.get(".idDst"));i.a.get(n,"meta.group.is_root")&&i.a.get(n,"meta.group.is_owned")&&_.default.count("actions","shared folders","revoke access for all","by deleting"),r&&e.dispatch(Object(p.moveClonedResource)(n,r)),e.dispatch(Object(p.hideResource)(n.id)),this.doRequestDelete()},onStatusRejected:function(){var e=this.get(".idDst");e&&Object(s.default)().dispatch(Object(p.removeResource)(e)),this.remove()},doRequestDelete:function(){ns.Model.get("queueRequest").push({isAction:!0,id:"do-resource-delete",params:{id:this.get(".idSrc")}}).always(this.handleResponseDelete,this)},handleResponseDelete:function(e){var t=e.valueOf(),n=t&&t.get(".oid");n?(this.set(".oid",n),this.setStatus("progressing")):(this.extractErrorFromResponse(t)||Object(g.log)({operation:JSON.stringify({type:"delete",response:{error:t&&t.getError(),data:t&&t.getData()}})},"response_delete_without_oid"),this.handleErrorDelete(t))},handleErrorDelete:function(e){this.checkReasonFailed(e),this.setStatus("failed")},onStatusProgressing:function(){this.doRequestStatus()},handleResponseStatus:function(e){var t=e&&e.get(".status");i.a.includes(["EXECUTING","WAITING"],t)?this.doRequestStatus():"DONE"===t?(this.result=e.data,this.setStatus("done")):this.handleErrorDelete(e)},onStatusCompleted:function(){var e=this.get(".idDst");e?this.fetchResource(e):this.setStatus("done")},handleSyncResource:function(){this.setStatus("done")},remove:function(){ns.Model.destroy(this)},finishDeleteFromTrash:function(e){if(b.a.isParent("/trash",this.get(".idSrc"))){var t=Object(s.default)(),n=this.get(".gid"),r=this.get(".id");if(n){var i=ns.Model.get("operations").models;if(!i.some((function(e){return e.get(".gid")===n&&e.get(".id")!==r&&!e.isCompleted()})))(e||i.some((function(e){return e.get(".gid")===n&&e.get(".id")!==r&&"done"===e.get(".status")})))&&t.dispatch(Object(m.c)())}else t.dispatch(Object(m.c)())}},onStatusDone:function(){var e=this,t=Object(s.default)(),n=t.getState(),r=this.get(".idSrc"),a=this.get(".idDst");if(a&&this.result&&this.result.resource){var v=t.dispatch(Object(p.replaceResource)(a,this.result.resource));a!==v.id&&this.set(".idDst",v.id)}this.finishDeleteFromTrash(!0);var g=this.getNotificationData();t.dispatch(Object(m.a)()).then((function(){e.notify(g)}));var y=Object(d.getResourceData)(n,r);if(y&&(n.page.idContext.startsWith(r)&&t.dispatch(Object(h.goToUrl)("/client"+b.a.dirname(r))),(i.a.get(y,"meta.group.is_root")||i.a.get(y,"meta.with_shared"))&&o.default.updateParentsOf(y.id),this.get(".isRemote")||!Object(f.d)(n,y.id)&&i.a.get(y,"state.hidden"))){t.dispatch(Object(p.removeResource)(r));var _=Object(u.e)(n,"faces");if(_&&r===_.previewResourceId)t.dispatch(Object(l.d)()),t.dispatch(Object(c.fetchAlbum)(_.previewAlbumId));else if(Object(w.can)(w.ADD_TO_ALBUM,y))for(var O in n.personalAlbums.albumsByIds){r===(O.coverResourceId||i.a.get(O,"cover.object.id"))&&t.dispatch(Object(c.fetchAlbum)(O.id))}}},onStatusFailed:function(){var e=Object(s.default)(),t=e.getState(),n=Object(d.getResourceData)(t,this.get(".idSrc")),r=Object(d.getResourceData)(t,this.get(".idDst"));this.finishDeleteFromTrash(!1),n&&r&&e.dispatch(Object(p.cancelMoveClonedResource)(n,r)),e.dispatch(Object(p.showResource)(n.id)),r&&e.dispatch(Object(p.removeResource)(r.id)),(n.clusterId||n.albumIds)&&e.dispatch(Object(p.restoreDeletedItem)(n)),this.notify()},getNotificationData:function(){var e=Object(s.default)().getState();return{src:Object(d.getResourceData)(e,this.get(".idSrc")),dst:Object(d.getResourceData)(e,this.get(".idDst")),operation:this.getType(),gid:this.get(".gid"),status:this.get(".status"),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux")}},notify:function(e){return this.showNotification(e||this.getNotificationData())}}})}),(function(e,t){ns.Model.define("do-resource-delete",{params:{id:null}})}),(function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r),o=n(34),a=n(22),s=n.n(a),u=n(110),c=n.n(u),l=n(67),d=n(20),f=n(14),h=n(38),p=n(18),m=n(139),v=n(16),g=n(53),y=n(104);n(97),n(564);l.a.define("operationMove",{methods:{init:function(){var e,t=Object(f.default)(),n=t.getState(),r=this.get(".idSrc");if(Object(p.isExistsResource)(n,r))e=Object(p.getResourceData)(n,r);else{var i={id:r,type:this.get(".typeSrc"),meta:{file_id:this.get(".fileIdSrc")}};this.get(".nameSrc")&&(i.name=this.get(".nameSrc")),e=t.dispatch(Object(v.createResource)(i,{silent:!0,part:!0}))}this.set(".srcType",e.type);var o=this.get(".idDst");o&&(this.set(".idFolderDst",s.a.dirname(o)),this.createDst())},initFromMessage:function(e){var t=e.data.source&&s.a.normalize(e.data.source),n=e.data.target&&s.a.normalize(e.data.target),r=e.data.source_data;r?(this.set(".nameSrc",r.name),this.set(".typeSrc",r.type)):this.set(".typeSrc",s.a.extname(t)?"file":"dir"),this.set(".idSrc",t),this.set(".idDst",n),this.init(),this.setStatus("moving")},onStatusCreated:function(){var e,t,n,r,i,a=this,u=Object(f.default)(),c=Object(p.getResourceData)(u.getState(),this.get(".idSrc")),l=!1;s.a.isParent("/attach/YaFotki",c.id)&&(e="Ссылки на фото исчезнут",t=c.name,n="Если удалить или переместить фотографии, они исчезнут везде, где вы размещали на них ссылки. Информация о фотографиях с Яндекс.Фоток (описание, EXIF, статистика) также будет удалена.",r="Не перемещать",l=!0,i="cancel"),o.default.isCamera(c.id)&&(n="Папка «"+yr.externals.entityify(c.name)+"» будет перемещена. \n При следующей автозагрузке фотографий будет создана новая папка «"+yr.externals.entityify(c.name)+"»."),n?u.dispatch(Object(g.add)("confirmation",{operation:this,dialogParams:{title:e,fotkiResourceName:t,text:n,submitButtonText:"Переместить",cancelButtonText:r,cancelAll:l,submitAllButtonText:"Переместить все",actionButton:i},onSubmit:function(){a.setStatus("approved")},onReject:function(){a.setStatus("rejected")}})):this.setStatus("approved")},onStatusApproved:function(){var e=this;if(this.get(".idFolderDst"))this.setStatus("determined");else{var t=Object(f.default)(),n=Object(p.getResourceData)(t.getState(),this.get(".idSrc")),r=this.get(".gid"),i=t.getState().statesContext.selected,o=(r?i:[n.id]).some((function(e){return s.a.isParent("/photounlim",e)}));t.dispatch(Object(g.add)("select-folder",{operation:this,dialogParams:{type:"move",resourceId:r?void 0:this.get(".idSrc"),title:r?"Куда переместить "+__i18n__.i18n.convert(["1 объект",yr.externals.entityify(i.length)+" объект",yr.externals.entityify(i.length)+" объекта",yr.externals.entityify(i.length)+" объектов"],yr.externals.entityify(i.length))+"?":"Куда переместить «"+yr.externals.entityify(n.name)+"»?",unlimWarningText:o?"После перемещения файлы займут дополнительное место на Диске":null,submitButtonText:"Переместить"},onSubmit:function(t){var n=t.folderId;e.set(".idFolderDst",n),e.setStatus("determined")},onReject:function(){e.setStatus("rejected")}}))}},onStatusDetermined:function(){var e=Object(f.default)().getState(),t=Object(p.getResourceData)(e,this.get(".idSrc")),n=s.a.join(this.get(".idFolderDst"),this.get(".nameNew")||t.name);if(n===this.get(".idSrc"))return this.setStatus("canceled");this.set(".idDst",n),Object(p.isExistsResource)(e,n)?this.setStatus("exists"):(this.createDst(),Object(d.can)(d.MOVE,t,e)?this.setStatus("started"):this.setStatus("failed"))},createDst:function(){var e=Object(f.default)(),t=Object.assign({},Object(p.getResourceData)(e.getState(),this.get(".idSrc")));delete t.state,delete t.parents,delete t.children;var n={id:this.get(".idDst"),state:(function(){var e=Object(f.default)().getState(),t=Object(h.getPage)(e);return["remember-block","photo","album"].includes(t)})()?{part:!0}:{hidden:!0}};return e.dispatch(Object(v.createResource)(Object.assign({},t,n),{part:!0}))},removeDst:function(){var e=Object(f.default)(),t=this.get(".idDst");Object(p.getResourceData)(e.getState(),t,"state.part")&&e.dispatch(Object(v.removeResource)(t))},onStatusStarted:function(){Object(f.default)().dispatch(Object(v.setResourceData)(this.get(".idSrc"),!0,"state.disabled")),this.doRequestMove()},onStatusRejected:function(){this.removeDst(),this.remove()},remove:function(){ns.Model.destroy(this)},doRequestMove:function(){ns.Model.get("queueRequest").push({isAction:!0,id:"do-resource-move",params:{src:this.get(".idSrc"),force:this.get(".force")||0,dst:this.get(".idDst")}}).always(this.handleResponseMove,this)},handleResponseMove:function(e){var t=e.valueOf(),n=t&&t.get(".oid");n?(this.set(".oid",n,this),this.setStatus("moving")):this.handleError(t)},moveClonedResource:function(){var e=Object(f.default)(),t=e.getState(),n=Object(p.getResourceData)(t,this.get(".idSrc")),r=Object(p.getResourceData)(t,this.get(".idDst"));return"/photo"===ns.page.current.params.idContext&&e.dispatch(Object(y.deselectResources)(n.id)),this.get(".force")&&n.clusterId!==r.clusterId&&e.dispatch(Object(v.removeResource)(r.id)),e.dispatch(Object(v.moveClonedResource)(n,r))},handleError:function(e){"HTTP_412"===(this.extractErrorFromResponse(e)||{}).id?this.setStatus("exists"):(this.checkReasonFailed(e),this.setStatus("failed"))},onStatusMoving:function(){this.doRequestStatus()},handleResponseStatus:function(e){var t=e&&e.get(".status");i.a.includes(["EXECUTING","WAITING"],t)?this.doRequestStatus():"DONE"===t?(this.result=e.data,this.setStatus("done")):this.handleError(e)},isActive:function(){return i.a.includes(["started","determined","moving"],this.get(".status"))},onStatusExists:function(){var e=this,t=Object(f.default)(),n=t.getState(),r=Object(p.getResourceData)(n,this.get(".idSrc")),i=Object(p.getResourceData)(n,this.get(".idDst"));"dir"===r.type?t.dispatch(Object(g.add)("prompt",{operation:this,dialogParams:{resourceId:r.id,title:"",text:"«"+yr.externals.entityify(i.name)+"» уже существует в папке «"+yr.externals.entityify(_.last(i.parents).name)+"». Введите новое имя.",nameSuffix:c()(Date.now(),"_DD.MM.YYYY"),submitButtonText:"Продолжить",hasCancelButton:!0,noChangeExtensionConfirmation:!0},onSubmit:function(t){var n=t.name;e.set(".nameNew",n),e.removeDst(),e.setStatus("determined")},onReject:function(){e.setStatus("canceled")}})):t.dispatch(Object(g.add)("confirmation",{operation:this,dialogParams:{text:"Файл «"+yr.externals.entityify(i.name)+"» уже cуществует в папке «"+yr.externals.entityify(_.last(i.parents).name)+"». Заменить?"},onSubmit:function(){e.setStatus("forced")},onReject:function(){e.setStatus("canceled")}},this))},onStatusForced:function(){this.set(".force",1),this.doRequestMove()},onStatusCompleted:function(){this.fetchResource(this.get(".idDst"),!0)},handleSyncResource:function(){this.setStatus("done")},onStatusDone:function(){var e=this;this.notify();var t=Object(f.default)(),n=t.getState(),r=Object(p.getResourceData)(n,this.get(".idSrc")),a=Object(p.getResourceData)(n,this.get(".idDst"));if(t.dispatch(Object(v.showResource)(a.id)),(i.a.get(r,"meta.group.is_root")||i.a.get(r,"meta.with_shared"))&&(o.default.updateParentsOf(r.id),o.default.updateParentsOf(a.id)),this.result&&this.result.resource){var s=t.dispatch(Object(v.replaceResource)(a.id,this.result.resource));s.id!==a.id&&this.set(".idDst",s.id)}var u=this.get(".idSrc");Object(m.d)(t.getState(),u)&&t.dispatch(Object(v.setResourceData)(u,!0,"state.reuploaded")),this.moveClonedResource().then((function(){var n=t.getState();(e.get(".isRemote")||!Object(p.getResourceData)(n,u,"state.reuploaded")&&Object(p.getResourceData)(n,u,"state.disabled"))&&t.dispatch(Object(v.removeResource)(r.id))}))},onStatusCanceled:function(){Object(f.default)().dispatch(Object(v.setResourceData)(this.get(".idSrc"),!1,"state.disabled")),this.removeDst()},onStatusFailed:function(){this.notify(),Object(f.default)().dispatch(Object(v.setResourceData)(this.get(".idSrc"),!1,"state.disabled")),this.removeDst()},notify:function(){var e=Object(f.default)().getState();this.showNotification({src:Object(p.getResourceData)(e,this.get(".idSrc")),dst:Object(p.getResourceData)(e,this.get(".idDst")),operation:this.getType(),gid:this.get(".gid"),status:this.get(".status"),copied:this.get(".copied"),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux")})}}})}),(function(e,t,n){"use strict";n.r(t);n(97),n(1151);var r=n(9),i=n.n(r),o=n(22),a=n.n(o),s=n(110),u=n.n(s),c=n(67),l=n(14),d=n(18),f=n(16),h=n(77),p=n(53);c.a.define("operationCopy",{methods:{init:function(){var e,t=Object(l.default)(),n=t.getState(),r=this.get(".idSrc");if(Object(d.isExistsResource)(n,r))e=Object(d.getResourceData)(n,r);else{var i={id:r,type:this.get(".typeSrc")};this.get(".nameSrc")&&(i.name=this.get(".nameSrc")),e=t.dispatch(Object(f.createResource)(i,{part:!0}))}this.set(".srcType",e.type);var o=this.get(".idDst");o&&(this.set(".idFolderDst",a.a.dirname(o)),this.set(".dst",this.createDst()))},initFromMessage:function(e){var t=e.data.source&&a.a.normalize(e.data.source),n=e.data.target&&a.a.normalize(e.data.target),r=e.data.source_data;r?(this.set(".nameSrc",r.name),this.set(".typeSrc",r.type)):this.set(".typeSrc",a.a.extname(t)?"file":"dir"),this.set(".idSrc",t),this.set(".idDst",n),this.init(),this.setStatus("progressing")},run:function(){return this.get(".idFolderDst")?this.setStatus("determined"):this.setStatus("created"),this},removeDst:function(){var e=Object(l.default)(),t=this.get(".idDst");Object(d.getResourceData)(e.getState(),t,"state.part")&&e.dispatch(Object(f.removeResource)(t))},onStatusCreated:function(){var e=this,t=Object(l.default)(),n=Object(d.getResourceData)(t.getState(),this.get(".idSrc")),r=this.get(".gid"),i=t.getState().statesContext.selected,o=(r?i:[n.id]).some((function(e){return a.a.isParent("/photounlim",e)}));t.dispatch(Object(p.add)("select-folder",{operation:this,dialogParams:{type:"copy",resourceId:r?void 0:this.get(".idSrc"),title:r?"Куда копировать "+__i18n__.i18n.convert(["1 объект",yr.externals.entityify(i.length)+" объект",yr.externals.entityify(i.length)+" объекта",yr.externals.entityify(i.length)+" объектов"],yr.externals.entityify(i.length))+"?":"Куда копировать «"+yr.externals.entityify(n.name)+"»?",unlimWarningText:o?"Копии файлов займут дополнительное место на Диске":null,submitButtonText:"Копировать"},onSubmit:function(t){var n=t.folderId;e.set(".idFolderDst",n),e.setStatus("determined")},onReject:function(){e.setStatus("canceled")}}))},onStatusDetermined:function(){var e=Object(l.default)().getState(),t=Object(d.getResourceData)(e,this.get(".idSrc")),n=a.a.join(this.get(".idFolderDst"),this.get(".nameNew")||t.name);this.set(".idDst",n),!Object(d.isExistsResource)(e,n)||this.get(".force")?(this.createDst(),this.doRequestCopy()):this.setStatus("exists")},createDst:function(){var e=Object(l.default)(),t=Object(d.getResourceData)(e.getState(),this.get(".idSrc")),n=Object.assign({},t,{id:this.get(".idDst"),path:this.get(".idDst"),state:{hidden:!0}});return delete n.children,delete n.parents,delete n.publicSettings,e.dispatch(Object(f.createResource)(n,{part:!0}))},doRequestCopy:function(){var e=Object(l.default)().getState(),t=Object(d.getResourceData)(e,this.get(".idSrc")),n=Object(d.getResourceData)(e,this.get(".idDst"));ns.Model.get("queueRequest").push({isAction:!0,id:"do-resource-copy",params:{src:t.id,dst:n.id,force:this.get(".force")||0}}).then(this.handleResponseCopy,this.handleResponseCopy,this)},handleResponseCopy:function(e){var t=(e=e&&e.valueOf())&&e.get(".oid");t?(this.set(".oid",t),this.setStatus("progressing")):this.handleErrorCopy(e)},handleErrorCopy:function(e){"HTTP_412"===(e&&e.get(".error")||{}).id?this.setStatus("exists"):(this.checkReasonFailed(e),this.setStatus("failed"))},onStatusExists:function(){var e=this,t=Object(l.default)(),n=t.getState(),r=Object(d.getResourceData)(n,this.get(".idSrc")),i=Object(d.getResourceData)(n,this.get(".idDst"));"dir"===r.type||i.path===r.path?t.dispatch(Object(p.add)("prompt",{operation:this,dialogParams:{resourceId:r.id,title:"",text:"«"+yr.externals.entityify(i.name)+"» уже существует в папке «"+yr.externals.entityify(_.last(i.parents).name)+"». Введите новое имя.",nameSuffix:u()(Date.now(),"_DD.MM.YYYY"),submitButtonText:"Продолжить",hasCancelButton:!0,noChangeExtensionConfirmation:!0},onSubmit:function(t){var n=t.name;e.set(".nameNew",n),e.removeDst(),e.setStatus("determined")},onReject:function(){e.setStatus("canceled")}})):t.dispatch(Object(p.add)("confirmation",{operation:this,dialogParams:{text:"Файл «"+yr.externals.entityify(i.name)+"» уже cуществует в папке «"+yr.externals.entityify(_.last(i.parents).name)+"». Заменить?"},onSubmit:function(){e.setStatus("forced")},onReject:function(){e.setStatus("canceled")}}))},onStatusForced:function(){this.set(".force",1),this.doRequestCopy()},onStatusProgressing:function(){this.doRequestStatus()},handleResponseStatus:function(e){if(this.extractErrorFromResponse(e))this.handleErrorStatus(e);else{var t=e.get(".status");i.a.includes(["EXECUTING","WAITING"],t)?this.doRequestStatus():"DONE"===t?this.setStatus("completed"):this.setStatus("failed")}},handleErrorStatus:function(e){this.checkReasonFailed(e),this.setStatus("failed")},onStatusCompleted:function(){var e=this.get(".idDst");this.fetchResource(e,!0)},handleSyncResource:function(){Object(l.default)().dispatch(Object(f.showResource)(this.get(".idDst"))),this.setStatus("done")},onStatusCanceled:function(){this.removeDst()},onStatusDone:function(){Object(l.default)().dispatch(Object(h.a)()),this.notify()},onStatusFailed:function(){this.notify(),this.removeDst()},notify:function(){var e=Object(l.default)().getState();this.showNotification({operation:"copy",gid:this.get(".gid"),status:this.get(".status"),src:Object(d.getResourceData)(e,this.get(".idSrc")),dst:Object(d.getResourceData)(e,this.get(".idDst")),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux")})}}})}),(function(e,t){ns.Model.define("do-resource-copy",{params:{src:null,dst:null,force:0}})}),(function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r),o=n(34),a=n(22),s=n.n(a),u=n(92),c=n(14),l=n(18),d=n(139),f=n(16),h=n(53),p=n(67);n(97),n(564),p.a.define("operationRename",{methods:{init:function(){var e,t=Object(c.default)(),n=t.getState(),r=this.get(".idSrc");if(e=Object(l.isExistsResource)(n,r)?Object(l.getResourceData)(n,r):t.dispatch(Object(f.createResource)({id:r,type:this.get(".typeSrc"),meta:{file_id:this.get(".fileIdSrc")}},{silent:!0,part:!0})),this.set(".srcType",e.type),this.get(".idDst")){var i=this.createDst();t.dispatch(Object(f.moveClonedResource)(e,i)).then((function(){t.dispatch(Object(f.hideResource)(e.id))}))}else("dir"!==e.type||r!==n.page.idContext)&&r.startsWith(n.page.idContext)&&r.startsWith("/disk")||this.set(".srcContextId",n.page.idContext)},initFromMessage:function(e){var t=e.data.source&&s.a.normalize(e.data.source),n=e.data.target&&s.a.normalize(e.data.target),r=s.a.extname(t)?"file":"dir";this.set(".typeSrc",r),this.set(".idSrc",t),this.set(".idDst",n),this.init(),this.setStatus("progressing")},onStatusCreated:function(){var e=this,t=Object(c.default)(),n=Object(l.getResourceData)(t.getState(),this.get(".idSrc"));this._oldName=n.name,function(e){var t=s.a.join(s.a.dirname(n.id),e),r=o.default.validateName(e);return r?(this.set(".reason",r),this.setStatus("failed"),!1):Object(l.isExistsResource)(Object(c.default)().getState(),t)?(this.setStatus(t===n.id?"canceled":"exists"),!1):(this.set(".idDst",t),!0)}.bind(this)(this.get(".nameProposed"))&&(o.default.isCamera(n.id)?Object(c.default)().dispatch(Object(h.add)("confirmation",{operation:this,dialogParams:{title:Object(u.capitalize)("переименование"),text:"Папка «"+yr.externals.entityify(n.name)+"» будет переименована. \n При следующей автозагрузке фотографий будет создана новая папка «"+yr.externals.entityify(n.name)+"».",submitButtonText:"Переименовать"},onSubmit:function(){e.setStatus("approved")},onReject:function(){e.setStatus("canceled")}})):this.setStatus("approved"))},onStatusApproved:function(){var e=this,t=Object(c.default)(),n=Object(l.getResourceData)(t.getState(),this.get(".idSrc")),r=this.createDst();t.dispatch(Object(f.moveClonedResource)(n,r)).then((function(){t.dispatch(Object(f.hideResource)(n.id)),e.doRequestRename()}))},createDst:function(){var e=Object(c.default)(),t={id:this.get(".idDst"),name:this.get(".nameProposed")},n=Object.assign({},Object(l.getResourceData)(e.getState(),this.get(".idSrc")));return delete n.state,delete n.parents,delete n.children,e.dispatch(Object(f.createResource)(Object.assign({},n,t),{part:!0}))},doRequestRename:function(){ns.Model.get("queueRequest").push({id:"do-resource-move",params:{src:this.get(".idSrc"),dst:this.get(".idDst"),force:0}}).then(this.handleResponseRename,this.handleResponseRename,this)},handleResponseRename:function(e){var t=e.get(".oid");t?(this.set(".oid",t),this.setStatus("progressing")):this.handleErrorRename(e)},handleErrorRename:function(e){"HTTP_412"===(this.extractErrorFromResponse(e)||{}).id?this.setStatus("exists"):(this.checkReasonFailed(e),this.setStatus("failed"))},onStatusProgressing:function(){this.doRequestStatus()},handleResponseStatus:function(e){var t=e.get(".status");i.a.includes(["EXECUTING","WAITING"],t)?this.doRequestStatus():"DONE"===t?(this.result=e.data,this.setStatus("completed")):this.handleErrorRename(e)},onStatusExists:function(){this.set(".reason","exists"),this.setStatus("failed")},onStatusCompleted:function(){this.fetchResource(this.get(".idDst"),!0)},handleSyncResource:function(){this.setStatus("done")},onStatusDone:function(){var e=Object(c.default)(),t=e.getState(),n=this.get(".idSrc");(this.get(".isRemote")||!Object(d.d)(t,n)&&Object(l.getResourceData)(t,n,"state.hidden"))&&(e.dispatch(Object(f.removeResource)(n)),delete this._oldName,this.notify())},onStatusCanceled:function(){this.restore()},onStatusFailed:function(){this.notify(),this.restore()},restore:function(){var e=Object(c.default)(),t=e.getState(),n=Object(l.getResourceData)(t,this.get(".idSrc")),r=Object(l.getResourceData)(t,this.get(".idDst"));n&&r&&e.dispatch(Object(f.cancelMoveClonedResource)(n,r)),n&&(this._oldName&&(e.dispatch(Object(f.setResourceData)(n.id,this._oldName,"name")),delete this._oldName),e.dispatch(Object(f.showResource)(n.id))),r&&i.a.get(r,"state.part")&&e.dispatch(Object(f.removeResource)(r.id))},notify:function(){var e=Object(c.default)().getState();return this.showNotification({src:Object(l.getResourceData)(e,this.get(".idSrc")),dst:Object(l.getResourceData)(e,this.get(".idDst")),operation:this.getType(),nameProposed:this.get(".nameProposed"),status:this.get(".status"),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux")})}}})}),(function(e,t,n){"use strict";n.r(t);var r=n(34),i=n(67),o=n(14),a=n(18),s=n(16),u=n(53);n(97),n(1154),i.a.define("operationPublish",{methods:{init:function(){var e=this.get(".idSrc");Object(a.isExistsResource)(Object(o.default)().getState(),e)||this.setStatus("canceled")},onStatusCreated:function(){var e=this,t=Object(o.default)(),n=this.get(".idSrc");t.dispatch(Object(s.startPublishResource)(n)),!this.get(".reverse")&&r.default.isCamera(n)?t.dispatch(Object(u.add)("confirmation",{operation:this,dialogParams:{text:"Обратите внимание — по этой ссылке будут доступны все фото и видео, в том числе автоматически загружаемые с камеры или смартфона.",submitButtonText:"Опубликовать папку"},onSubmit:function(){e.setStatus("started")},onReject:function(){e.setStatus("rejected")}})):this.setStatus("started")},onStatusStarted:function(){this.doRequestPublish()},onStatusRejected:function(){Object(o.default)().dispatch(Object(s.stopPublishResource)(this.get(".idSrc"))),this.remove()},onStatusCanceled:function(){this.remove()},remove:function(){ns.Model.destroy(this)},doRequestPublish:function(){var e=Object(a.getResourceData)(Object(o.default)().getState(),this.get(".idSrc"));ns.Model.get("queueRequest").push({id:"do-resource-publish",params:{id:e.id,reverse:this.get(".reverse"),type:e.type}}).then(this.handleResponsePublish,this.handleResponsePublish,this)},handleResponsePublish:function(e){var t=Object(o.default)(),n=this.get(".idSrc");this.extractErrorFromResponse(e)?this.handleErrorPublish(e):(this.get(".reverse")?t.dispatch(Object(s.unsetPublishResource)(n)):t.dispatch(Object(s.setPublishResource)(n,e.data)),t.dispatch(Object(s.stopPublishResource)(n)),this.setStatus("done"))},handleErrorPublish:function(e){this.checkReasonFailed(e),this.setStatus("failed")},onStatusCompleted:function(){var e=this.get(".idSrc");Object(a.isExistsResource)(Object(o.default)().getState(),e)&&this.fetchResource(e)},handleSyncResource:function(){this.setStatus("done")},onStatusDone:function(){this.notify()},onStatusFailed:function(){Object(o.default)().dispatch(Object(s.stopPublishResource)(this.get(".idSrc"))),this.notify()},notify:function(){var e=Object(o.default)();return this.showNotification({src:Object(a.getResourceData)(e.getState(),this.get(".idSrc")),reverse:this.get(".reverse"),operation:this.getType(),status:this.get(".status"),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux")})}}})}),(function(e,t){ns.Model.define("do-resource-publish",{params:{id:null,reverse:null,type:null}})}),(function(e,t,n){"use strict";n.r(t);var r=n(67),i=n(14),o=n(77),a=n(18),s=n(16);n(97),n(1156);var u=n(9),c=n(22),l=n(92);r.a.define("operationRestore",{methods:{init:function(){var e,t=Object(i.default)(),n=t.getState(),r=this.get(".idSrc");e=Object(a.isExistsResource)(n,r)?Object(a.getResourceData)(n,r):t.dispatch(Object(s.createResource)({id:r,type:this.get(".typeSrc")},{silent:!0,part:!0})),this.set(".srcType",e.type);var o=this.get(".idDst");o&&t.dispatch(Object(s.createResource)({id:o,type:this.get(".typeSrc")},{part:!0}))},initFromMessage:function(e){var t=e.data.path&&c.normalize(e.data.path),n=c.extname(t)?"file":"dir";this.set(".typeSrc",n),this.set(".idSrc",t),this.init(),Object(i.default)().dispatch(Object(s.hideResource)(t)),this.setStatus("progressing")},onStatusCreated:function(){Object(i.default)().dispatch(Object(s.hideResource)(this.get(".idSrc"))),this.doRequestRestore()},doRequestRestore:function(){ns.Model.get("queueRequest").push({isAction:!0,id:"do-resource-restore",params:{id:this.get(".idSrc"),nameNew:this.get(".nameNew"),forced:this.get(".forced")}}).then(this.handleResponseRestore,this.handleResponseRestore,this)},handleResponseRestore:function(e){var t=e&&e.get(".oid");t?(this.set(".oid",t),this.setStatus("progressing")):this.handleErrorRestore(e)},handleErrorRestore:function(e){"HTTP_412"===(this.extractErrorFromResponse(e)||{}).id?this.setStatus("exists"):(this.checkReasonFailed(e),this.setStatus("failed"))},onStatusExists:function(){var e=Object(a.getResourceData)(Object(i.default)().getState(),this.get(".idSrc"),"name"),t=c.extname(e,!0),n=e.replace(new RegExp(t+"$"),"-")+l.getUnique()+t;this.set(".nameNew",n),this.doRequestRestore()},onStatusProgressing:function(){this.doRequestStatus()},handleResponseStatus:function(e){var t=e&&e.get(".status");if(u.includes(["EXECUTING","WAITING"],t))this.doRequestStatus();else if("DONE"===t){var n=e.get(".resource"),r=Object(i.default)().dispatch(Object(s.createResource)(n));this.set(".idDst",r.id),this.setStatus("done")}else this.handleErrorRestore(e)},onStatusCompleted:function(){this.fetchResource(this.get(".idDst"),!0)},handleSyncResource:function(){this.setStatus("done")},onStatusDone:function(){var e=Object(i.default)();this.notify(),e.dispatch(Object(o.a)()),e.dispatch(Object(s.removeResource)(this.get(".idSrc")))},onStatusFailed:function(){Object(i.default)().dispatch(Object(s.showResource)(this.get(".isSrc"))),this.notify()},notify:function(){var e=Object(i.default)().getState();return this.showNotification({src:Object(a.getResourceData)(e,this.get(".idSrc")),dst:Object(a.getResourceData)(e,this.get(".idDst")),operation:"restore",gid:this.get(".gid"),status:this.get(".status"),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux")})}}})}),(function(e,t){ns.Model.define("do-resource-restore",{params:{id:null,nameNew:null,forced:null}})}),(function(e,t,n){"use strict";n.r(t);var r=n(51),i=n.n(r),o=n(22),a=n.n(o),s=n(12),u=n(92),c=n(67),l=n(14),d=n(18),f=n(16),h=n(77),p=n(53);n(97),n(1158),c.a.define("operationUnshare",{methods:{init:function(){},onStatusCreated:function(){var e=this,t=Object(d.getResourceData)(Object(l.default)().getState(),this.get(".idSrc"),"name");Object(l.default)().dispatch(Object(p.add)("confirmation",{operation:this,dialogParams:{title:Object(u.capitalize)("Закрытие доступа"),text:"".concat("Закрытие доступа приведет к удалению папки «"+yr.externals.entityify(t)+"» у всех приглашенных вами участников.","\n").concat("Вы уверены?"),submitButtonText:"Закрыть доступ всем"},onSubmit:function(){e.setStatus("started")},onReject:function(){e.setStatus("rejected")}}))},onStatusStarted:function(){s.default.count("actions","shared folders","revoke access for all","by button in dialog"),this.doRequestUnshare()},onStatusRejected:function(){this.remove()},remove:function(){ns.Model.destroy(this)},doRequestUnshare:function(){ns.Model.get("queueRequest").push({id:"do-resource-unshare",params:{gid:Object(d.getResourceData)(Object(l.default)().getState(),this.get(".idSrc"),"meta.group.gid")}}).always(this.handleResponseUnshare,this)},handleResponseUnshare:function(e){var t=e.valueOf();this.extractErrorFromResponse(t)?this.handleErrorUnshare(t):this.setStatus("completed")},handleErrorUnshare:function(e){this.checkReasonFailed(e),this.setStatus("failed")},onStatusCompleted:function(){var e=Object(l.default)(),t=Object(d.getResourceData)(e.getState(),this.get(".idSrc"));if(this.get(".isRemote")&&"user"===this.get(".role"))return this.showNotification({nameFolder:this.get(".nameFolder"),operation:"unshare",role:this.get(".role"),status:this.get(".status")}),e.dispatch(Object(h.a)()),t&&(a.a.isParentOrEqualToCurrentFolder(t.id)&&i.a.go("/client/disk"),e.dispatch(Object(f.removeResource)(t.id))),void this.setStatus("done");t?(this.fetchResource(t.id),e.dispatch(Object(f.notifyChangedAccess)(t.id))):this.setStatus("done")},onStatusFailed:function(){var e=Object(l.default)().getState();return this.showNotification({src:Object(d.getResourceData)(e,this.get(".idSrc")),operation:this.getType(),status:this.get(".status"),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux")})},handleSyncResource:function(){this.setStatus("done")}}})}),(function(e,t){ns.Model.define("do-resource-unshare",{params:{gid:null}})}),(function(e,t){ns.Model.define("do-resource-share-access",{params:{gid:null,userid:null,uid:null,service:null,status:null,rights:null}})}),(function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r),o=n(67),a=n(14),s=n(147),u=n(18),c=n(16);n(450),n(460),n(715),n(448),n(449),n(521),n(565),n(97),n(1163);var l=n(195);o.a.define("operationInviteFolder",{methods:{init:function(){var e,t,n,r=Object(a.default)().getState(),i=this.get(".idSrc");i&&Object(u.isExistsResource)(r,i)&&(e=Object(u.getResourceData)(r,i)),e&&(t=ns.Model.getValid("inviteesFolder",{idFolder:i}),this.set(".invitees",t));var o=this.get(".idInvitee"),s=this.get(".userid");o?n=ns.Model.getValid("inviteeFolder",{id:o,idFolder:i}):s&&(n=t.getItem(s)||t.getItemByEmail(s))&&s!==n.get(".id")&&this.set(".userid",n.get(".id")),n&&this.set(".invitee",n)},onStatusCreated:function(){var e=this.get(".idSrc"),t=this.get(".invitee"),n=this.get(".invitees");if(this.get(".idInvitee"))t.state.bindOperation(this);else{t&&n.remove(t);var r,i=l.normalize(this.get(".userid")),o=ns.Model.get("inviteeFolder",{id:i,idFolder:e});r=t?t.getData():{userid:this.get(".userid"),originid:this.get(".userid"),id:i,idFolder:e,rights:this.get(".rights"),service:this.get(".service")||"email",name:this.get(".userid"),avatar:""},o.setData(r),o.state.setDataDefault(),o.state.bindOperation(this),n.insertItem(o,0),this.set(".inviteeNew",o)}this.doRequestInvite()},doRequestInvite:function(){var e=Object(a.default)(),t=Object(u.getResourceData)(e.getState(),this.get(".idSrc")),n=this.get(".invitee");ns.Model.get("queueRequest").push({id:"do-invite-folder",params:{gid:i.a.get(t,"meta.group.gid",""),path:t.path,rights:this.get(".rights"),userid:this.get(".idInvitee")||this.get(".userid"),service:this.get(".service")||"email",avatar:n?n.get(".avatar"):"",name:n?n.get(".name"):"",locale:Object(a.default)().getState().environment.session.locale}}).then(this.handleResponseInvite,this.handleResponseInvite,this)},handleResponseInvite:function(e){var t=e.get(".oid");t?(this.set(".oid",t),this.setStatus("progressing")):this.handleErrorInvite(e)},handleErrorInvite:function(e){var t=this.extractErrorFromResponse(e)||{};if("HTTP_409"===t.id){var n=t.body&&t.body.code;if(112===n)return this.set(".userAlreadyAdded",!0),void this.setStatus("completed");if(124===n)this.set(".reason","limitFolders");else if(123===n)this.set(".reason","limitUsers");else{var r=t.body&&t.body.title;"token"===r?this.set(".reason","tokenExpired"):r&&(r.includes("captcha")||r.includes("flood"))&&this.set(".reason","flood")}}else this.checkReasonFailed(e);this.setStatus("failed")},onStatusProgressing:function(){this.doRequestStatus()},handleResponseStatus:function(e){var t=e.get(".error");if(t)"token"===t.message&&this.set(".reason","tokenExpired"),this.handleErrorInvite(e);else{var n=e.get(".status");i.a.includes(["EXECUTING","WAITING"],n)?this.doRequestStatus():"DONE"===n?this.setStatus("completed"):this.handleErrorInvite(e)}},onStatusCompleted:function(){var e=Object(a.default)();if(this.get(".isRemote")&&"actor"===this.get(".role"))e.dispatch(Object(s.c)(!0));else{var t=Object(u.getResourceData)(e.getState(),this.get(".idSrc"));if(t){var n=this.get(".invitees"),r=this.get(".invitee"),o=this.get(".inviteeNew"),d=i.a.get(t,"meta.group.gid");if(this.get(".isRemote"))d&&n.usersFolder.fetch();else if(r&&r.get(".groupid"))d&&n.usersFolder.fetch().then((function(){n.syncOrder()}));else if(o&&n.remove(o),!r||"contact"===r.get(".status")||o){var f=ns.Model.get("userFolder",{idFolder:t.id,userid:this.get(".idInvitee")||l.normalize(this.get(".userid"))});f.setData(i.a.extend({},(r||o).getData(),{status:this.get(".userAlreadyAdded")?"approved":"proposed",rights:this.get(".rights")})),n.usersFolder.insertItem(f);var h=ns.Model.getValid("contact",{userid:f.get(".id")});h||(h=f.toContact(),ns.Model.get("contacts").insertItem(h))}else r&&"proposed"===r.get(".status")&&ns.Model.get("userFolder",{idFolder:t.id,userid:r.get(".id")}).updateData({rights:this.get(".rights")});d?this.setStatus("done"):(this.fetchResource(t.id),e.dispatch(Object(c.notifyChangedAccess)(t.id)))}}},handleSyncResource:function(){this.setStatus("done")},onStatusFailed:function(){var e=this.get(".inviteeNew");e&&this.get(".invitees").remove(e),this.notifyFailed()},notifyFailed:function(){return this.showNotification({operation:"inviteFolder",status:this.get(".status"),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux")})},isFinalized:function(){return"failed"===this.get(".status")||"done"===this.get(".status")}}})}),(function(e,t,n){"use strict";n.r(t);var r=n(67);n(97),n(1162);var i=n(9);r.a.define("operationGetContacts",{methods:{onStatusCreated:function(){this.doRequestContacts()},doRequestContacts:function(){var e=this.handleResponseContacts.bind(this);ns.Model.get("queueRequest").push({id:"do-get-contacts",params:{}}).then(e,e)},handleResponseContacts:function(e){var t=e.get(".oid");t?(this.set(".oid",t),this.setStatus("progressing")):this.handleErrorGetContacts(e)},onStatusProgressing:function(){this.doRequestStatus()},handleErrorGetContacts:function(e){this.checkReasonFailed(e),this.setStatus("failed")},handleResponseStatus:function(e){if(this.extractErrorFromResponse(e))this.handleErrorGetContacts(e);else{this.extractContacts(e);var t=e.get(".status");i.includes(["EXECUTING","WAITING"],t)?this.doRequestStatus():"DONE"===t?this.setStatus("done"):this.setStatus("failed")}},extractContacts:function(e){if(e.get(".stages")){var t=this.get(".contacts")||[];i.chain(e.get(".stages")).filter((function(e){return"email"===e.service||!e.service})).each((function(e){e.details&&i.each(e.details,(function(e){var n=e.group||e.user;t.push(i.extend(n,{service:n.is_ya_directory?"ya_directory":"email"}))}))})).value(),this.set(".contacts",t)}},onStatusDone:function(){i.defer(ns.Model.destroy,this)},onStatusFailed:function(){ns.Model.destroy(this)}}})}),(function(e,t){ns.Model.define("do-get-contacts",{})}),(function(e,t){ns.Model.define("do-invite-folder",{params:{gid:null,path:null,rights:null,userid:null,service:null,avatar:null,name:null,locale:null}})}),(function(e,t,n){"use strict";n.r(t);var r=n(14),i=n(18),o=n(16),a=n(9),s=n.n(a),u=n(67);n(97),u.a.define("operationChanged",{methods:{init:function(){var e=this.get(".idSrc");this.set(".src",Object(i.getResourceData)(Object(r.default)().getState(),e))},onStatusCreated:function(){},onStatusCompleted:function(){var e=this,t=Object(r.default)(),n=Object(i.getResourceData)(t.getState(),this.get(".idSrc"));n?(this.set(".srcOld",n),t.dispatch(Object(o.fetchSingleResource)(n.id,{insertOnlyIfPortionLoaded:!0})).then((function(){e.handleSyncResource()})).catch((function(){e.handleSyncResource()}))):this.setStatus("done")},handleSyncResource:function(){this.setStatus("done"),this.maybeExcludeResourceFromAlbum()},maybeExcludeResourceFromAlbum:function(){var e=Object(r.default)(),t=Object(i.getResourceData)(e.getState(),this.get(".idSrc"));if(t.clusterId){var n=s.a.difference(s.a.get(t,"meta.albums_exclusions",[]),s.a.get(this.get(".srcOld"),"meta.albums_exclusions",[]));n.length&&n.forEach((function(n){e.dispatch(Object(o.excludeResourceFromAlbum)([t],n))}))}}}})}),(function(e,t,n){n(1166),n(1167),n(1168),n(1170),n(1171),ns.action.define("popup.close",(function(){nb.trigger("popup-close")}))}),(function(e,t,n){"use strict";n.r(t);var r=n(12),i=n(9),o=n.n(i),a=n(14),s=n(93),u=[{service:"mail",width:1e3,height:600},{service:"vkontakte",width:550,height:420},{service:"twitter",width:650,height:520},{service:"odnoklassniki",width:560,height:370},{service:"facebook",width:800,height:500},{service:"mailru",width:560,height:400},{service:"gplus",width:560,height:370}];function c(e){var t,n;if("mail"===e.service)return"dir"===e.type?(n="Ссылка на папку «"+yr.externals.entityify(e.title)+"» на Яндекс.Диске",t=["Посмотреть или скачать папку «"+yr.externals.entityify(e.title)+"»"]):"file"===e.type?(n="Ссылка на файл «"+yr.externals.entityify(e.title)+"» на Яндекс.Диске",t=["Посмотреть или скачать файл «"+yr.externals.entityify(e.title)+"»"]):"album"===e.type&&(n="Ссылка на альбом «"+yr.externals.entityify(e.title)+"» на Яндекс.Диске",t=["Посмотреть альбом «"+yr.externals.entityify(e.title)+"»"]),t.push(" — ",e.link),[s.links.mail,"/compose?mode=html&body="+encodeURIComponent(t.join("")),"&subject="+encodeURIComponent(n)].join("");var r=e.service;return"mailru"===r&&(r="moimir"),["http://share.yandex.ru/go.xml?service="+r,"&amp;url="+encodeURIComponent(e.link),e.title?"&amp;title="+encodeURIComponent(e.title):""].join("")}function l(e){var t=o.a.find(u,{service:e}),n="";return t&&(n="scrollbars=1,resizable=1,menubar=0,toolbar=0,status=0",n+=",left="+(screen.width-t.width)/2,n+=",top="+(screen.height-t.height)/2,n+=",width="+t.width,n+=",height="+t.height),n}ns.action.define("share.link",(function(e,t){var n=c({service:t.service,link:t.link});return window.open(n,"YaShare",l(t.service))})),ns.action.define("share.album",(function(e,t){var n=ns.Model.getValid("album",t),i=c({service:t.service,link:n.get(".public.short_url"),title:"Альбом «"+yr.externals.entityify(n.get(".title"))+"» на Яндекс.Диске",type:"album"});return r.default.count("actions","with albums","public","link","share",t.service),window.open(i,"YaShare",l(t.service)),!Object(a.default)().getState.environment.agent.isMobile}))}),(function(e,t,n){"use strict";n.r(t);var r=n(68),i=n(12),o=n(14),a=n(16),s=n(18),u=n(72),c=n(34),l=n(95),d=n(93),f=n(54),h=n(22);ns.action.define("resource.show-fullsize",(function(e,t){var n=window.open("about:blank","_blank");Object(o.default)().dispatch(Object(a.fetchSingleResource)(t.id)).then((function(){n.document.location=(function(){var e=Object(s.getResourceData)(Object(o.default)().getState(),t.id);return c.default.getDownloaderUrl(e,"ORIGINAL")||c.default.getDownloaderUrl(e,"XXXL")})(),n.focus()})).catch((function(){n.close()}))})),ns.action.define("resource.view-docviewer",(function(e,t){var o=t.isPublic?"ya-disk-public://":"ya-disk://",a=t.id;t.version&&(o="ya-disk-version://",a=t.version+":"+a);var s={url:o+a,name:t.name};t.version&&t.date&&(s.date=t.date);var c=(0,n(14).default)(),p=c.getState(),m=p.user.uid,v=p.page.currentUrl,g=p.environment.agent,y=g.isMobile,b=g.BrowserName,_=Object(l.isCoverLayerEnabled)(p),O=Object(u.isDvInDocsTouchExp)(p),w=f.getQueryParam(v,"test-id");return m&&(s.uid=m),w&&(s["test-id"]=w),h.isParent("/attach/yaruarchive",t.id)?i.default.count("interface elements","yaru","actions","open"):h.isParent("/attach",t.id)&&i.default.count("interface elements","mail attachments","/attach","actions","open"),(0,n(33).isDocsPage)(p)&&(!y||O)&&!(_&&"Safari"===b)?(ns.page.go(f.addParams("/docs/view",s)),c.dispatch(Object(r.c)())):window.open(f.addParams(d.urlsBase.docviewer,s),"_blank"),!0}))}),(function(e,t,n){"use strict";n.r(t);n(447),n(1169);var r=n(12),i=n(14),o=n(23),a=n(18),s=n(16),u=n(53),c=n(42),l=n(206),d=n(679),f=n(22),h=n(51);ns.action.define("resource.download",(function(e,t){var n=f.getIdApp(t.id);f.isParent("/attach/yaruarchive",t.id)?r.default.count("interface elements","yaru","actions","download"):f.isParent("/attach",t.id)&&r.default.count("interface elements","mail attachments","/attach","actions","download"),h.isSearch()&&r.default.count("about search","actions","download");var p=Object(i.default)(),m=function(){return(2===Object(a.getResourceData)(p.getState(),t.id,"meta.drweb")?new Promise(function(e,t){p.dispatch(Object(u.add)("confirmation",{dialogParams:{text:"Файл заражён вирусом и может нанести вред вашему компьютеру. Всё равно скачать?",submitButtonText:"Скачать"},onSubmit:e,onReject:t}))}):Promise.resolve()).then((function(){return Object(s.fetchResourceUrl)(t.id,!1,t.hash)})).then((function(e){e&&Object(l.a)(e)}),(function(){p.dispatch(Object(s.setDownloadLimitResource)(t.id)),p.dispatch(Object(c.notify)({operation:"download",status:"failed",type:Object(a.getResourceData)(p.getState(),t.id,"type")}))}))},v="Firefox"===p.getState().environment.agent.BrowserName;return"dir"===Object(a.getResourceData)(p.getState(),t.id,"type")?(p.dispatch(Object(s.setDownloadLimitResource)(t.id)),p.dispatch(Object(s.getDirSize)(t.id)).then((function(){!(function(){var e=p.getState(),n=Object(a.getResourceData)(e,t.id,"meta.size"),r=Object(a.getResourceData)(e,t.id,"meta.files_count");return Object(d.canDownloadFolder)({ua:e.environment.agent,resourceStats:{size:n,filesCount:r}})})()?(p.dispatch(Object(s.setDownloadLimitResource)(t.id,"client"===n&&6e4)),m()):(r.default.count("interface elements","big folder","click download folder"),v?(r.default.count("interface elements","big folder","show notification"),p.dispatch(Object(c.notify)({operation:"download",status:"failed",reason:"large"}))):(p.dispatch(Object(o.openDialog)("download-big-folder",{folderId:t.id})),p.dispatch(Object(s.resetDownloadLimitResource)(t.id))))}))):m(),!0})),ns.action.define("resources.download",(function(e,t){var n=Object(i.default)(),r=n.getState();if(t.idsResources.map((function(e){return Object(a.getResourceData)(r,e,"meta.size")})).reduce((function(e,t){return e+t}),0)>=53687091200)return n.dispatch(Object(c.notify)({operation:"download",status:"failed",reason:"large"}));ns.Model.get("queueRequest").push({id:"do-get-resources-url",params:{idsResources:JSON.stringify(t.idsResources)}}).then((function(e){Object(l.a)(e.get(".download_url"))}))}))}),(function(e,t){ns.Model.define("do-get-resources-url",{params:{idsResources:null}})}),(function(e,t,n){"use strict";n.r(t);var r=n(12),i=n(22),o=n(51);ns.action.define("resource.view-slider",(function(e,t){var n=t.id;return i.isParent("/attach/yaruarchive",n)&&r.default.count("interface elements","yaru","actions","open"),o.isSearch()&&r.default.count("about search","actions","view"),ns.action.run("app.openSlider",{id:n,idContextSlider:t.idContextSlider}),!0}))}),(function(e,t,n){"use strict";n.r(t);var r=n(14),i=n(45),o=n(137),a=n(18),s=n(37),u=n(9),c=n.n(u),l=n(51),d=n(22);ns.action.define("app.openSlider",(function(e,t){var n=d.getIdApp(t.idContext||ns.page.current.params.idContext),u=Object(r.default)(),f="album"===n?c.a.pick(ns.page.current.params,["albumId","test-id"]):ns.page.current.params,h=ns.router.generateUrl(ns.page.current.page,Object.assign({},f,{dialog:"slider",idDialog:t.id}));if("slider"!==ns.page.current.params.dialog){var p={sliderOpenedWithAction:!0};"scrollRestoration"in history&&(history.scrollRestoration="manual");var m=Object(a.getResourceData)(u.getState(),t.id);Object(o.resourceView)(m)===s.RESOURCE_VIEWS.VIDEO&&(p.videoAutoPlayId=t.id),u.dispatch(Object(i.updateSettings)(p))}l.go(h)}))}),(function(e,t,n){"use strict";n.r(t);var r=n(14),i=n(45),o=n(51);ns.action.define("dialog.close",(function(){var e=o.getUrlBase();return ns.events.trigger("ufo-dialog-close"),"slider"===ns.page.current.params.dialog?(o.go(e,"replace"),Object(r.default)().getState().settings.sliderOpenedWithAction&&(history.back(),"scrollRestoration"in history&&setTimeout((function(){history.scrollRestoration="auto"}),0),Object(r.default)().dispatch(Object(i.updateSettings)({sliderOpenedWithAction:!1})))):o.go(e),!1}))}),(function(e,t,n){n(1174),n(1176);var r=n(83);ns.action.define("album.remove-resource",(function(e,t){r.create("removeResourceAlbum",{idSrc:t.id})}))}),(function(e,t,n){"use strict";n.r(t);var r=n(67),i=n(14),o=n(18),a=n(16);n(97),n(1175),r.a.define("operationRemoveResourceAlbum",{methods:{onStatusCreated:function(){this.setStatus("started")},onStatusStarted:function(){this.doRequestDelete()},doRequestDelete:function(){ns.Model.get("queueRequest").push({id:"do-remove-resource-album",params:{itemId:this.get(".itemId")}}).always(this.handleResponseDelete,this)},handleResponseDelete:function(e){var t=e.valueOf();this.extractErrorFromResponse(t)?this.setStatus("failed"):this.setStatus("done")},onStatusCompleted:function(){this.setStatus("done")},onStatusDone:function(){var e=this.getData(),t=e.resourceId,n=e.albumId,r=Object(i.default)(),s=r.getState();if(Object(o.isExistsResource)(s,t)){var u=Object(o.getResourceData)(s,t,"albumIds")||[];if(u.includes(n)){var c=u.filter((function(e){return e!==n}));r.dispatch(Object(a.setResourceData)(t,c,"albumIds"))}}this.notify()},onStatusFailed:function(){var e=Object(i.default)();e.dispatch(Object(a.restoreDeletedItem)(e.getState().resources[this.get(".resourceId")])),this.notify()},notify:function(){return this.showNotification({src:Object(o.getResourceData)(Object(i.default)().getState(),this.get(".resourceId")),operation:this.getType(),gid:this.get(".gid"),status:this.get(".status")})}}})}),(function(e,t){ns.Model.define("do-remove-resource-album",{params:{id:null,itemId:null}})}),(function(e,t){ns.Model.define("do-remove-album",{params:{id:null}})}),(function(e,t,n){}),(function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,O=r?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case f:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case h:case g:case v:case c:return e;default:return t}}case o:return t}}}function E(e){return w(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=h,t.Fragment=a,t.Lazy=g,t.Memo=v,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return E(e)||w(e)===d},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===u||e===s||e===p||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h||e.$$typeof===b||e.$$typeof===_||e.$$typeof===O||e.$$typeof===y)},t.typeOf=w}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(0)),u=n(28),c=n(461),l=a(n(1184)),d=n(135),f=n(1186),h=n(462);n(1200);var p=n(462);t.Logo360=p.Logo360,t.LogoCorp=p.LogoCorp;var m=u.cn("PSHeader");t.default=function(e){var t=e.isLegoOnReact,n=e.LegoPopup,o=e.morePopupProps,a=e.useLegoV3,u=e.theme,p=e.hideCenter,v=e.currentService,g=e.leftContent,y=e.rightContent,b=e.tld,_=e.lang,O=e.userProps,w=e.isMailUserBlock,E=e.noUserName,S=e.LegoButton,C=e.onLoginClick,x=e.loginButtonProps,k=e.onCurrentServiceClick,T=e.onMorePopupChangeVisibility,j=e.yandex360Link,R=e.isB2bAdmin,P=e.isB2bUser,D=e.allServicesLink,I=e.getI18nFn,A=e.timeZone,M=e.calendarDay,N=e.className,L=e.countMetrikaFn,F=e.hideMore,B=e.customLogoUrl,U=e.linkFromPrefix,z=e.refs,V=e.onlyUserHTMLInSSR,H=e.services,W=e.renderLogo,G=e.mainServices,q=s.useCallback((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return L.apply(void 0,i(["interface elements","header"],e))}),[L]),$=s.useRef(null);s.useEffect((function(){if($.current){var e=$.current.querySelectorAll("."+c.headerServiceClass()),t=Array.from(e).filter((function(e){return Boolean(null===e||void 0===e?void 0:e.clientWidth)})).length-1,n=G.slice(0,t);v&&!n.includes(v)&&(n[n.length-1]=v);var r=n.reduce((function(e,t){return e[t]="show",e}),{More:"show"});q("list of services",r)}}),[]);var Y=null;if(O){var K=!E&&!w;Y=s.default.createElement(l.default,r({className:m("User",{noUserName:E,userNameAtLeft:K},["promozavr-anchor-user"]),tld:b,lang:_,isMailUserBlock:w,onlyUserHTMLInSSR:V},O))}else C&&S&&(Y=s.default.createElement(S,r({className:m("NoLoginButton"),size:"m",view:"action",onClick:C},x),I(_,"enter")));(null===z||void 0===z?void 0:z.servicesRefs)&&(H=H.map((function(e){var t,n;return(null===(t=null===z||void 0===z?void 0:z.servicesRefs)||void 0===t?void 0:t[e.id])&&(e.forwardedRef=null===(n=null===z||void 0===z?void 0:z.servicesRefs)||void 0===n?void 0:n[e.id]),e})));var X={getI18nFn:I,timeZone:A,lang:_,tld:b,theme:u,currentService:v,isLegoOnReact:Boolean(t),countMetrika:q,linkFromPrefix:U,isB2bAdmin:R,isB2bUser:P,calendarDay:M,useLegoV3:a,LegoPopup:n||function(){return null},morePopupProps:o||{},yandex360Link:j,onCurrentServiceClick:k,customLogoUrl:B};return s.default.createElement(d.HeaderContext.Provider,{value:X},s.default.createElement("div",{className:m({theme:u,noCenter:Boolean(p)},[N]),ref:null===z||void 0===z?void 0:z.header},s.default.createElement("div",{className:m("Left")},W?W():s.default.createElement(h.Logo360,null),g),p?null:s.default.createElement("div",{className:m("Center"),ref:$},s.default.createElement(f.ServiceList,{currentService:v,hideMore:F,allServicesLink:D,onMorePopupChangeVisibility:T,services:H})),s.default.createElement("div",{className:m("Right")},y,Y)))}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(28);n(1182),t.headerServiceClass=o.cn("PSHeader-ServiceStub"),t.ServiceStub=function(e){var n=e.title,r=i.useMemo((function(){var e=n.split(" ");return e.length>1?[e[0],e[1]].map((function(e){return e.charAt(0).toUpperCase()})).join(""):n.length>1?[n.charAt(0),n.charAt(1)].map((function(e){return e.toUpperCase()})).join(""):n.toUpperCase()}),[n]);return i.default.createElement("div",{className:t.headerServiceClass()},r)}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),r=n(1185).default,t.default=r}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.shouldComponentUpdate=function(e){var t,n;return e.retpath!==this.props.retpath&&(null===(n=null===(t=window.Lego)||void 0===t?void 0:t.User2)||void 0===n||n.setRetpath(e.retpath)),!1},t.prototype.render=function(){var e=this.props,t=e.className,n=e.ariaLabel,r=document.querySelector("."+t.split(" ")[0]),i=null===r||void 0===r?void 0:r.querySelector("a.user-account");i&&(i.setAttribute("role","button"),n&&i.setAttribute("aria-label",n));var a=null===r||void 0===r?void 0:r.querySelector("a.legouser__a11y-exit");return a&&a.setAttribute("role","button"),r?o.default.createElement("div",{className:t,dangerouslySetInnerHTML:{__html:r.innerHTML}}):null},t})(o.default.Component);t.default=a}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(567);t.ServiceList=r.ServiceList}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(28),s=n(135);n(1188);var u=a.cn("PSHeader-MorePopup");t.MoreServicesPopup=function(e){var t=o.useContext(s.HeaderContext),n=t.isLegoOnReact,i=t.theme,a=t.countMetrika,c=t.LegoPopup,l=t.getI18nFn,d=t.lang,f=t.useLegoV3,h=t.morePopupProps,p=t.tld,m=u({theme:i});return o.default.createElement(c,r({view:"default",visible:e.visible,target:"anchor",mainOffset:4},n?{anchor:e.anchor.current,cls:m}:{anchor:e.anchor,ignoreRefs:[e.anchor],className:m},f?{onClose:e.onOutsideClick,direction:["bottom-end"]}:{onOutsideClick:e.onOutsideClick,directions:["bottom-right"],theme:"normal"},h),o.default.createElement("div",{className:u("content")},o.default.createElement("div",{className:u("services")},e.children),e.allServicesLink&&"com"!==p&&o.default.createElement("a",{className:u("all-services",["qa-PSHeader-MorePopup-all-services"]),href:e.allServicesLink,rel:"noopener noreferrer",onClick:function(){return a("more","all_services")}},l(d,"allServices"))))}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(135),s=n(568);t.MainServiceView=function(e){var t=e.currentService===e.description.id,n=o.useContext(a.HeaderContext),i=n.countMetrika,u=n.onCurrentServiceClick,c=e.description,l=e.onClick,d=c.id,f=c.href,h=o.useCallback((function(e){i("list of services",d,"click"),t&&u&&u(e),l&&l(e)}),[t,u,i,d,l]),p=o.useMemo((function(){return r(r({},c),{href:t&&u?void 0:f})}),[t,u,c,f]);return o.default.createElement(s.ServiceView,{forwardedRef:e.forwardedRef,className:e.className,hidePopup:e.hidePopup,description:p,onClick:h,isCurrentService:t,currentService:e.currentService})}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(568),s=n(135);t.PopupServiceView=function(e){var t=o.useContext(s.HeaderContext).countMetrika,n=e.description,i=e.onClick,u=o.useCallback((function(e){i&&i(e),t("more",n.id)}),[t,n.id,i]);return o.default.createElement(a.ServiceView,r({},e,{onClick:u}))}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(135),s=n(461),u=n(569);t.MoreServicesButton=function(e){var t=o.useContext(a.HeaderContext),n=t.theme,i=t.timeZone,c=t.lang,l=t.getI18nFn,d=t.calendarDay,f={theme:n,timeZone:i,lang:c,i18n:l(c,"more"),className:e.className,onClick:e.onClick,forwardedRef:e.forwardedRef,calendarDay:d,icon:o.default.createElement(u.BoundHeaderIcon,{name:"More"})};return o.default.createElement(s.HeaderService,r({},f))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDateInTZ=function(e){try{return new Date((new Date).toLocaleString("en-US",{timeZone:e}))}catch(e){return new Date}},t.getDayOfMonth=function(e){return t.getDateInTZ(e).getDate()},t.getAdjustedMonth=function(e){return t.getDateInTZ(e).getMonth()+1},t.getAdjustedDayOfWeek=function(e){return(t.getDateInTZ(e).getDay()+6)%7+1}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(135),a=n(570),s=n(463),u=n(571),c=n(572),l=n(573),d=n(574),f=n(464);t.Logo360=i.memo((function(){var e=i.useContext(o.HeaderContext),t=e.lang,n=e.yandex360Link,r=e.getI18nFn,h=e.customLogoUrl,p=e.linkFromPrefix,m=c.useLogoMetrika().on360Click,v=p?a.addFromToLink(n,p+"-header-360"):n,g=n.startsWith("http")?"_blank":"_self";return i.default.createElement(d.LogoContainer,null,i.default.createElement(l.LogoLink,{logoLink:v,title:r(t,"yandex"),target:g},h?i.default.createElement("img",{src:h,className:f.classes.root("CustomLogo")}):i.default.createElement(u.YaLogo,null)),!h&&i.default.createElement("a",{href:v,className:f.classes.root("360"),title:r(t,"yandex360"),rel:"noopener noreferrer",onClick:m,target:g},i.default.createElement(s.Svg360,null)))}))}),(function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}}),(function(e,t,n){"use strict";var r,i=Object.prototype.hasOwnProperty;function o(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function a(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,o,s=[];for(o in"string"!=typeof t&&(t="?"),e)if(i.call(e,o)){if((n=e[o])||null!==n&&n!==r&&!isNaN(n)||(n=""),o=a(o),n=a(n),null===o||null===n)continue;s.push(o+"="+n)}return s.length?t+s.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,r={};t=n.exec(e);){var i=o(t[1]),a=o(t[2]);null===i||null===a||i in r||(r[i]=a)}return r}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(571),a=n(573),s=n(574);t.LogoCorp=i.memo((function(){return i.default.createElement(s.LogoContainer,null,i.default.createElement(a.LogoLink,{logoLink:"/"},i.default.createElement(o.YaLogo,null)))}))}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=i(n(1202));t.default=function(e){return function(t){return o.default.createElement(e,r({getI18nFn:a.default},t))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(267);var r={};r.ru=n(1203),t.default=function(e,t){var n,i;if(!r[e])throw"Unsupported lang "+e;if(!(null===(n=r[e])||void 0===n?void 0:n["mail-liza"]["ps-header"][t]))throw"Unknown key "+t;return(null===(i=r[e])||void 0===i?void 0:i["mail-liza"]["ps-header"][t]())||""}}),(function(e,t,n){(function(e){!(function(){var t=t||{};t["mail-liza"]=t["mail-liza"]||{},t["mail-liza"]["ps-header"]={adminka:function(e){return"Управление организацией"},adminkaShort:function(e){return"Управление"},allServices:function(e){return"Все сервисы Яндекса"},calendar:function(e){return"Календарь"},contacts:function(e){return"Контакты"},disk:function(e){return"Диск"},documents:function(e){return"Документы"},enhance:function(e){return"Улучшить"},enhanceButton360Subscription:function(e){return"Подписка на Яндекс 360"},enhanceMail:function(e){return"Улучшить Почту 360"},enter:function(e){return"Войти"},fan:function(e){return"Рассылки"},mail:function(e){return"Почта"},messenger:function(e){return"Мессенджер"},more:function(e){return"Ещё"},notes:function(e){return"Заметки"},premium:function(e){return"Премиум"},serviceAbc:function(e){return"ABC"},serviceAt:function(e){return"Этушка"},serviceDoc:function(e){return"Документация"},serviceGolem:function(e){return"Golem"},serviceIdm:function(e){return"IDM"},serviceLego:function(e){return"Лего"},serviceLibrary:function(e){return"Библиотека"},serviceMagazine:function(e){return"Журнал"},serviceMaillists:function(e){return"Рассылки"},serviceMeetingRooms:function(e){return"Переговорки"},serviceStaff:function(e){return"Стафф"},serviceStartrek:function(e){return"Трекер"},serviceStat:function(e){return"Статистика"},serviceWiki:function(e){return"Вики"},subscription:function(e){return"Подписка"},telemost:function(e){return"Телемост"},yandex:function(e){return"Яндекс"},yandex360:function(e){return"Яндекс 360"}},e&&e.exports?e.exports=t:(window.i18n=window.i18n||{},window.i18n.ru=t)})()}).call(this,n(145)(e))}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(570),s=n(569),u=n(567);t.withDefaultServices=function(){return function(e){return function(t){var n=t.getI18nFn,i=t.lang,c=t.tld,l=t.links,d=t.currentService,f=t.linkFromPrefix,h=void 0===f?null===d||void 0===d?void 0:d.toLocaleLowerCase():f,p=t.isB2bAdmin,m=t.isB2bUser,v=t.showDocuments,g=t.showFan,y=t.hideTuning,b=o.useCallback((function(e){return n(i,e)}),[n,i]),_=o.useMemo((function(){var e=h?a.addFromToLink(l.Premium,h+"_header"):l.Premium,t={};"Mail"===d&&(t={source:"tab-mail"}),"Disk"===d&&(t={from:"disk"});var n=a.addQueryParams(l.Telemost,t),r={id:"Documents",title:b("documents"),href:l.Documents,icon:o.default.createElement(s.BoundHeaderIcon,{name:"Documents"})},i={id:"Calendar",title:b("calendar"),href:l.Calendar,icon:o.default.createElement(s.BoundHeaderIcon,{name:"Calendar"})},u={id:"Premium",title:b("premium"),href:e,icon:o.default.createElement(s.BoundHeaderIcon,{name:"Premium"})},f={id:"Notes",title:b("notes"),href:l.Notes,icon:o.default.createElement(s.BoundHeaderIcon,{name:"Notes"})},_={id:"Contact",title:b("contacts"),href:l.Contact,icon:o.default.createElement(s.BoundHeaderIcon,{name:"Contact"})},O={id:"Messenger",title:b("messenger"),href:l.Messenger,target:"_blank",icon:o.default.createElement(s.BoundHeaderIcon,{name:"Messenger"})},w={id:"Fan",title:b("fan"),href:l.Fan,icon:o.default.createElement(s.BoundHeaderIcon,{name:"Fan"})},E={id:"Admin",title:b("Admin"===d?"adminkaShort":"adminka"),href:l.Admin,icon:o.default.createElement(s.BoundHeaderIcon,{name:"Admin"})},S={id:"Telemost",title:b("telemost"),href:n,icon:o.default.createElement(s.BoundHeaderIcon,{name:"Telemost"})},C=[{id:"Mail",title:b("mail"),href:l.Mail,icon:o.default.createElement(s.BoundHeaderIcon,{name:"Mail"})},{id:"Disk",title:b("disk"),href:l.Disk,icon:o.default.createElement(s.BoundHeaderIcon,{name:"Disk"})}];return v&&C.push(r),C.push(i),m||y||"ru"!==c||C.push(u),C.push(S),m&&!y&&"ru"===c&&C.push(u),C.push(f),C.push(_),C.push(O),g&&C.push(w),(p||"Admin"===d)&&C.push(E),C}),[d,l,b,p,m,h,v,c,g,y]),O=o.useMemo((function(){var e=_.slice(0,u.MAIN_SERVICES_COUNT).map((function(e){return e.id}));return d&&!e.includes(d)&&(e[u.MAIN_SERVICES_COUNT-1]=d),e}),[_,d]);return o.default.createElement(e,r({},t,{mainServices:O,services:_,linkFromPrefix:h}))}}}}),(function(e,t,n){}),(function(e,t,n){var r=n(575),i=n(1235),o=n(469),a=n(1236),s=n(1243),u=n(1246),c=n(1247),l=n(1248),d=n(1250),f=n(586),h=n(588),p=n(364),m=n(1254),v=n(1255),g=n(1260),y=n(162),b=n(472),_=n(1262),O=n(160),w=n(1264),E=n(470),S=n(478),C=1,x=2,k=4,T="[object Arguments]",j="[object Function]",R="[object GeneratorFunction]",P="[object Object]",D={};D[T]=D["[object Array]"]=D["[object ArrayBuffer]"]=D["[object DataView]"]=D["[object Boolean]"]=D["[object Date]"]=D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Map]"]=D["[object Number]"]=D[P]=D["[object RegExp]"]=D["[object Set]"]=D["[object String]"]=D["[object Symbol]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D["[object Error]"]=D[j]=D["[object WeakMap]"]=!1,e.exports=function e(t,n,I,A,M,N){var L,F=n&C,B=n&x,U=n&k;if(I&&(L=M?I(t,A,M,N):I(t)),void 0!==L)return L;if(!O(t))return t;var z=y(t);if(z){if(L=m(t),!F)return c(t,L)}else{var V=p(t),H=V==j||V==R;if(b(t))return u(t,F);if(V==P||V==T||H&&!M){if(L=B||H?{}:g(t),!F)return B?d(t,s(L,t)):l(t,a(L,t))}else{if(!D[V])return M?t:{};L=v(t,V,F)}}N||(N=new r);var W=N.get(t);if(W)return W;N.set(t,L),w(t)?t.forEach((function(r){L.add(e(r,n,I,r,t,N))})):_(t)&&t.forEach((function(r,i){L.set(i,e(r,n,I,i,t,N))}));var G=z?void 0:(U?B?h:f:B?S:E)(t);return i(G||t,(function(r,i){G&&(r=t[i=r]),o(L,i,e(r,n,I,i,t,N))})),L}}),(function(e,t){e.exports=function(){this.__data__=[],this.size=0}}),(function(e,t,n){var r=n(360),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}}),(function(e,t,n){var r=n(360);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}}),(function(e,t,n){var r=n(360);e.exports=function(e){return r(this.__data__,e)>-1}}),(function(e,t,n){var r=n(360);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}}),(function(e,t,n){var r=n(359);e.exports=function(){this.__data__=new r,this.size=0}}),(function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}}),(function(e,t){e.exports=function(e){return this.__data__.get(e)}}),(function(e,t){e.exports=function(e){return this.__data__.has(e)}}),(function(e,t,n){var r=n(359),i=n(467),o=n(468),a=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}}),(function(e,t,n){var r=n(576),i=n(1220),o=n(160),a=n(578),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,d=c.hasOwnProperty,f=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?f:s).test(a(e))}}),(function(e,t,n){var r=n(214),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}}),(function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}}),(function(e,t,n){var r=n(1221),i=(function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();e.exports=function(e){return!!i&&i in e}}),(function(e,t,n){var r=n(146)["__core-js_shared__"];e.exports=r}),(function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}}),(function(e,t,n){var r=n(1224),i=n(359),o=n(467);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}}),(function(e,t,n){var r=n(1225),i=n(1226),o=n(1227),a=n(1228),s=n(1229);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u}),(function(e,t,n){var r=n(361);e.exports=function(){this.__data__=r?r(null):{},this.size=0}}),(function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}}),(function(e,t,n){var r=n(361),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return o.call(t,e)?t[e]:void 0}}),(function(e,t,n){var r=n(361),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}}),(function(e,t,n){var r=n(361),i="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}}),(function(e,t,n){var r=n(362);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}}),(function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}}),(function(e,t,n){var r=n(362);e.exports=function(e){return r(this,e).get(e)}}),(function(e,t,n){var r=n(362);e.exports=function(e){return r(this,e).has(e)}}),(function(e,t,n){var r=n(362);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}}),(function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}}),(function(e,t,n){var r=n(274),i=n(470);e.exports=function(e,t){return e&&r(t,i(t),e)}}),(function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}}),(function(e,t,n){var r=n(213),i=n(161),o="[object Arguments]";e.exports=function(e){return i(e)&&r(e)==o}}),(function(e,t){e.exports=function(){return!1}}),(function(e,t,n){var r=n(213),i=n(474),o=n(161),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}}),(function(e,t,n){var r=n(476),i=n(1242),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}}),(function(e,t,n){var r=n(583)(Object.keys,Object);e.exports=r}),(function(e,t,n){var r=n(274),i=n(478);e.exports=function(e,t){return e&&r(t,i(t),e)}}),(function(e,t,n){var r=n(160),i=n(476),o=n(1245),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}}),(function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}}),(function(e,t,n){(function(e){var r=n(146),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(145)(e))}),(function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}}),(function(e,t,n){var r=n(274),i=n(479);e.exports=function(e,t){return r(e,i(e),t)}}),(function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}}),(function(e,t,n){var r=n(274),i=n(585);e.exports=function(e,t){return r(e,i(e),t)}}),(function(e,t,n){var r=n(192)(n(146),"DataView");e.exports=r}),(function(e,t,n){var r=n(192)(n(146),"Promise");e.exports=r}),(function(e,t,n){var r=n(192)(n(146),"WeakMap");e.exports=r}),(function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}}),(function(e,t,n){var r=n(482),i=n(1256),o=n(1257),a=n(1258),s=n(1259),u="[object Boolean]",c="[object Date]",l="[object Map]",d="[object Number]",f="[object RegExp]",h="[object Set]",p="[object String]",m="[object Symbol]",v="[object ArrayBuffer]",g="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",_="[object Int8Array]",O="[object Int16Array]",w="[object Int32Array]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",C="[object Uint16Array]",x="[object Uint32Array]";e.exports=function(e,t,n){var k=e.constructor;switch(t){case v:return r(e);case u:case c:return new k(+e);case g:return i(e,n);case y:case b:case _:case O:case w:case E:case S:case C:case x:return s(e,n);case l:return new k;case d:case p:return new k(e);case f:return o(e);case h:return new k;case m:return a(e)}}}),(function(e,t,n){var r=n(482);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}}),(function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}}),(function(e,t,n){var r=n(214),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}}),(function(e,t,n){var r=n(482);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}}),(function(e,t,n){var r=n(1261),i=n(481),o=n(476);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}}),(function(e,t,n){var r=n(160),i=Object.create,o=(function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}})();e.exports=o}),(function(e,t,n){var r=n(1263),i=n(363),o=n(475),a=o&&o.isMap,s=a?i(a):r;e.exports=s}),(function(e,t,n){var r=n(364),i=n(161),o="[object Map]";e.exports=function(e){return i(e)&&r(e)==o}}),(function(e,t,n){var r=n(1265),i=n(363),o=n(475),a=o&&o.isSet,s=a?i(a):r;e.exports=s}),(function(e,t,n){var r=n(364),i=n(161),o="[object Set]";e.exports=function(e){return i(e)&&r(e)==o}}),(function(e,t,n){var r=n(215),i=n(1273),o=n(1274),a=n(366);e.exports=function(e,t){return t=r(t,e),null==(e=o(e,t))||delete e[a(i(t))]}}),(function(e,t,n){var r=n(162),i=n(365),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}}),(function(e,t,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=n(1269)((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=o}),(function(e,t,n){var r=n(1270),i=500;e.exports=function(e){var t=r(e,(function(e){return n.size===i&&n.clear(),e})),n=t.cache;return t}}),(function(e,t,n){var r=n(468),i="Expected a function";function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o}),(function(e,t,n){var r=n(1272);e.exports=function(e){return null==e?"":r(e)}}),(function(e,t,n){var r=n(214),i=n(465),o=n(162),a=n(365),s=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}}),(function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}}),(function(e,t,n){var r=n(590),i=n(1275);e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}}),(function(e,t){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}}),(function(e,t,n){var r=n(1277);e.exports=function(e){return r(e)?void 0:e}}),(function(e,t,n){var r=n(213),i=n(481),o=n(161),a="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,l=u.hasOwnProperty,d=c.call(Object);e.exports=function(e){if(!o(e)||r(e)!=a)return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}}),(function(e,t,n){var r=n(592);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}}),(function(e,t,n){var r=n(214),i=n(471),o=n(162),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}}),(function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}}),(function(e,t,n){var r=n(1282),i=n(580),o=n(595),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a}),(function(e,t){e.exports=function(e){return function(){return e}}}),(function(e,t){var n=800,r=16,i=Date.now;e.exports=function(e){var t=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(194);n(1285),t.withViewNote=r.withBemMod(i.cnTextinput(),{view:"note"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(194);n(1287),t.withViewNormal=r.withBemMod(i.cnTextinput(),{view:"normal"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(194);n(1289),n(1290),t.withViewSearch=r.withBemMod(i.cnTextinput(),{view:"search"})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(194);n(1292),t.withViewSuggestPsHeaderLight=r.withBemMod(i.cnTextinput(),{view:"suggest-ps-header-light"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(596);n(1294),t.withSizeNote=r.withBemMod(i.cnTextinput(),{size:"note"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(596);n(1296),t.withSizeL=r.withBemMod(i.cnTextinput(),{size:"l"})}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(1298);function s(e){if(e&&o.default.isValidElement(e))return o.default.cloneElement(e,{className:a.cnIcon(null,[e.props.className])})}t.withIconClassName=function(e){return function(t){var n=r(r({},t),{iconLeft:s(t.iconLeft),iconRight:s(t.iconRight)});return o.default.createElement(e,r({},n))}}}),(function(e,t,n){"use strict";n.r(t);var r=n(50);n.d(t,"cnIcon",(function(){return r.b})),n.d(t,"Icon",(function(){return r.a}));var i=n(367);n.d(t,"withGlyphCaretsV",(function(){return i.a}));var o=n(368);n.d(t,"withGlyphTypeArrow",(function(){return o.a}));var a=n(225);n.d(t,"withGlyphTypeCheck",(function(){return a.a}));var s=n(369);n.d(t,"withGlyphTypeClose",(function(){return s.a}));var u=n(370);n.d(t,"withGlyphTypeCrossWebsearch",(function(){return u.a}));var c=n(371);n.d(t,"withGlyphTypeCross",(function(){return c.a}));var l=n(372);n.d(t,"withGlyphTypeFilter",(function(){return l.a}));var d=n(373);n.d(t,"withGlyphTypeIndeterminate",(function(){return d.a}));var f=n(374);n.d(t,"withGlyphTypeTick",(function(){return f.a}));var h=n(221);n.d(t,"withGlyphXSign",(function(){return h.a}));var p=n(375);n.d(t,"withTypeArrow",(function(){return p.a}));var m=n(376);n.d(t,"withTypeClose",(function(){return m.a}));var v=n(223);n.d(t,"withTypeCrossWebsearch",(function(){return v.a}));var g=n(222);n.d(t,"withTypeCross",(function(){return g.a}));var y=n(377);n.d(t,"withTypeFilter",(function(){return y.a}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o={discount:function(){return i.default.createElement("svg",{width:"87",height:"91",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.default.createElement("path",{d:"M61.537 45.487v22.46c0 2.705-1.827 4.606-4.058 5.66L36.357 86.04 18.578 54.39l-7.897-14.05 21.28-12.443c1.764-1.224 4.175-1.494 6.303-.268L57.71 38.86a7.651 7.651 0 0 1 3.826 6.628z",fill:"url(#a)"}),i.default.createElement("path",{d:"M39.459 58.4v22.46c0 4.527-4.902 7.356-8.823 5.093L11.188 74.72a7.65 7.65 0 0 1-3.825-6.627v-22.46a5.817 5.817 0 0 1 2.842-5.032c1.56-.943 3.54-1.172 5.38-.358.202.087.401.185.598.3l19.45 11.229a7.606 7.606 0 0 1 2.834 2.862 7.6 7.6 0 0 1 .992 3.765z",fill:"url(#b)"}),i.default.createElement("path",{d:"M60.445 41.546L28.914 60.333l-10.336-5.94-7.897-14.051 21.28-12.444c1.764-1.223 4.175-1.493 6.302-.267l19.448 11.231a7.622 7.622 0 0 1 2.734 2.684z",fill:"url(#c)"}),i.default.createElement("path",{d:"M38.467 54.632l-13.634 8.976c-.77.504-2.075-.25-2.845-1.644L10.205 40.602c1.56-.943 3.539-1.172 5.38-.358L36.29 52.199a7.598 7.598 0 0 1 2.176 2.433z",fill:"#FF1F33"}),i.default.createElement("path",{d:"M52.73 60.863l11.911-6.876c1.302-.75 2.777-.584 3.858.164l13.034 7.618-15.726 27.987-12.935-7.613c-1.366-.647-2.485-1.81-2.485-3.465V64.923a4.683 4.683 0 0 1 2.343-4.06z",fill:"url(#d)"}),i.default.createElement("path",{d:"M52.73 60.863l11.911-6.876c1.302-.75 2.777-.584 3.858.164l13.034 7.618-15.726 27.987-12.935-7.613c-1.366-.647-2.485-1.81-2.485-3.465V64.923a4.683 4.683 0 0 1 2.343-4.06z",fill:"url(#e)"}),i.default.createElement("path",{d:"M69.308 89.701l11.91-6.875a4.688 4.688 0 0 0 2.344-4.058V65.013c0-2.771-3.001-4.505-5.404-3.118l-11.91 6.876a4.685 4.685 0 0 0-2.344 4.058v13.754c.003 2.771 3.004 4.505 5.404 3.118z",fill:"url(#f)"}),i.default.createElement("path",{d:"M71.872 76.818c0 2.966 2.084 4.167 4.65 2.685 2.567-1.484 4.648-5.09 4.648-8.053 0-2.966-2.081-4.168-4.648-2.684-2.566 1.482-4.65 5.087-4.65 8.052zm.857-.494c0-2.42 1.7-5.364 3.796-6.573 2.094-1.21 3.796-.227 3.796 2.19 0 2.42-1.702 5.363-3.796 6.573-2.097 1.212-3.796.232-3.796-2.19z",fill:"#A3A5A8"}),i.default.createElement("path",{d:"M81.04 72.57l.439.31-.866 2.775-.96 1.706-1.577 1.538-1.657.866-.637-.18.973-.672 1.706-1.396 1.082-1.297.898-1.458.339-1.4.26-.792zm-1.123-4.064l.863.73-3.187.472-2.52 2.179-1.71 3.118-.221 3.913.76 1.505-1.006-.836-.63-2.277.327-2.846 1.142-2.163 1.267-1.75 1.52-1.48 1.803-.652 1.592.087z",fill:"#A3A5A8"}),i.default.createElement("path",{d:"M72.593 77.446c0 2.966 2.084 4.167 4.65 2.684 2.567-1.482 4.648-5.09 4.648-8.052 0-2.966-2.081-4.167-4.648-2.685-2.566 1.483-4.65 5.088-4.65 8.053zm.854-.494c0-2.42 1.7-5.363 3.796-6.573 2.094-1.21 3.796-.226 3.796 2.19 0 2.42-1.702 5.363-3.796 6.573-2.096 1.21-3.796.23-3.796-2.19z",fill:"#fff"}),i.default.createElement("path",{d:"M75.69 74.129c.341-.592.34-1.231-.002-1.43-.342-.197-.896.123-1.237.714-.343.592-.342 1.232 0 1.429.343.198.897-.122 1.239-.713z",fill:"#8E8F91"}),i.default.createElement("path",{d:"M74.496 74.863l.456.265 1.169-2.177-.451-.262-1.174 2.174z",fill:"#8E8F91"}),i.default.createElement("path",{d:"M76.167 74.404c.342-.592.34-1.232-.002-1.429-.34-.198-.895.122-1.237.714-.342.591-.341 1.23.001 1.429.342.197.896-.123 1.238-.714z",fill:"#A3A5A8"}),i.default.createElement("path",{d:"M69.182 79.75c.66-1.142.66-2.377 0-2.759-.66-.38-1.729.237-2.39 1.38-.66 1.143-.66 2.378 0 2.76.66.38 1.73-.238 2.39-1.38z",fill:"#00CE00"}),i.default.createElement("path",{d:"M69.13 76.963l.746.429-2.422 4.12-.726-.426.549-2.534 1.463-1.5.39-.09z",fill:"#00CE00"}),i.default.createElement("path",{d:"M69.859 80.143c.66-1.143.66-2.379 0-2.76-.66-.38-1.729.238-2.389 1.38-.66 1.143-.66 2.378 0 2.759.66.381 1.729-.236 2.389-1.38z",fill:"#0F0"}),i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.95 12.756c-4.358 3.448-6.643 7.304-5.764 10.1 1.934 6.15 44.377-6.873 42.443-13.024-.757-2.409-5.2-4.454-11.183-4.903-1.4-.223-2.376-.712-3.416-1.233-.216-.108-.434-.217-.66-.325-2.88-1.39-6.624-1.87-10.276-.749a14.161 14.161 0 0 0-7.331 5.265c-.315.44-.622.903-.93 1.364-.841 1.265-1.681 2.526-2.66 3.33a34.972 34.972 0 0 0-.223.175z",fill:"#000"}),i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.513 26.151c11.769-3.61 19.656-11.797 18.402-15.786-1.254-3.989-12.097-4.86-23.866-1.248S2.043 19.453 3.297 23.442c1.254 3.99 12.448 6.32 24.216 2.71z",fill:"#07F"}),i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.43 24.412c5.566-1.708 9.597-4.622 9.004-6.51-.593-1.886-5.586-2.03-11.153-.322-5.566 1.708-9.597 4.622-9.004 6.508.593 1.887 5.586 2.032 11.152.324z",fill:"#fff",filter:"url(#g)"}),i.default.createElement("path",{opacity:".4",fillRule:"evenodd",clipRule:"evenodd",d:"M38.68 20.733c-3.019 2.135-6.83 4.087-11.168 5.418-4.094 1.257-8.12 1.794-11.68 1.792l.463-3.797h.002a1.394 1.394 0 0 1-.02-.058c-.593-1.886 3.438-4.8 9.005-6.509 5.39-1.654 10.244-1.57 11.083.15l2.316 3.004z",fill:"url(#h)"}),i.default.createElement("defs",null,i.default.createElement("filter",{id:"g",x:"-35.738",y:"-35.57",width:"124.188",height:"113.131",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.default.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.default.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),i.default.createElement("feOffset",null),i.default.createElement("feGaussianBlur",{stdDeviation:"25.979"}),i.default.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.6 0"}),i.default.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),i.default.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),i.default.createElement("linearGradient",{id:"a",x1:"30.292",y1:"30.126",x2:"57.046",y2:"84.867",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#FFDA00"}),i.default.createElement("stop",{offset:"1",stopColor:"#FA0"})),i.default.createElement("linearGradient",{id:"b",x1:"34.45",y1:"52.591",x2:"10.174",y2:"76.024",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#FFDA00"}),i.default.createElement("stop",{offset:"1",stopColor:"#FA0"})),i.default.createElement("linearGradient",{id:"c",x1:"18.48",y1:"39.029",x2:"104.495",y2:"26.877",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#FC6460"}),i.default.createElement("stop",{offset:"1",stopColor:"#FF1F33"})),i.default.createElement("linearGradient",{id:"d",x1:"69.521",y1:"55.514",x2:"53.137",y2:"89.038",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#202226"}),i.default.createElement("stop",{offset:"1"})),i.default.createElement("linearGradient",{id:"e",x1:"50.291",y1:"57.051",x2:"54.273",y2:"89.077",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#2B2E33"}),i.default.createElement("stop",{offset:"1"})),i.default.createElement("linearGradient",{id:"f",x1:"65.31",y1:"70.431",x2:"90.296",y2:"90.228",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#2B2E33"}),i.default.createElement("stop",{offset:"1"})),i.default.createElement("linearGradient",{id:"h",x1:"23.201",y1:"23.337",x2:"23.344",y2:"28.322",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#fff"}),i.default.createElement("stop",{offset:"1",stopColor:"#fff",stopOpacity:".01"}))))},discount10:function(){return i.default.createElement("svg",{width:"87",height:"92",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.default.createElement("path",{d:"M36.998 83.961l26.394-15.165L42.898 57 11.973 68.796 36.998 83.96z",fill:"url(#paint0_linear)",opacity:".7"}),i.default.createElement("path",{d:"M49.455 28.813L30.351 17.782c-2.089-1.206-4.456-.939-6.19.264L3.26 30.267l25.222 44.885 20.743-12.211c2.191-1.037 3.989-2.903 3.989-5.56V35.32a7.52 7.52 0 0 0-3.759-6.508z",fill:"url(#paint1_linear)"}),i.default.createElement("path",{d:"M49.455 28.813L30.351 17.782c-2.089-1.206-4.456-.939-6.19.264L3.26 30.267l25.222 44.885 20.743-12.211c2.191-1.037 3.989-2.903 3.989-5.56V35.32a7.52 7.52 0 0 0-3.759-6.508z",fill:"url(#paint2_linear)"}),i.default.createElement("path",{d:"M22.863 75.067L3.758 64.037A7.517 7.517 0 0 1 0 57.526V35.468c0-4.447 4.815-7.225 8.666-5.002l19.105 11.03a7.517 7.517 0 0 1 3.758 6.51v22.058c-.003 4.445-4.815 7.226-8.666 5.003z",fill:"url(#paint3_linear)"}),i.default.createElement("path",{d:"M22.863 75.067L3.758 64.037A7.517 7.517 0 0 1 0 57.526V35.468c0-4.447 4.815-7.225 8.666-5.002l19.105 11.03a7.517 7.517 0 0 1 3.758 6.51v22.058c-.003 4.445-4.815 7.226-8.666 5.003z",fill:"url(#paint4_linear)"}),i.default.createElement("path",{d:"M22.863 75.067L3.758 64.037A7.517 7.517 0 0 1 0 57.526V35.468c0-4.447 4.815-7.225 8.666-5.002l19.105 11.03a7.517 7.517 0 0 1 3.758 6.51v22.058c-.003 4.445-4.815 7.226-8.666 5.003z",fill:"url(#paint5_linear)"}),i.default.createElement("path",{d:"M3.963 42.778v3.947l3.156-1.798v13.137l3.682 2.127V42.6l-3.266-1.885-3.572 2.062zm21.643 12.129c-.577-1.658-1.354-3.101-2.334-4.334-.979-1.232-2.089-2.205-3.331-2.923-1.228-.709-2.334-1.014-3.321-.916-.986.097-1.768.645-2.345 1.645-.576 1-.865 2.504-.865 4.512 0 1.991.289 3.823.865 5.497.577 1.674 1.36 3.139 2.345 4.392.985 1.252 2.093 2.234 3.32 2.941 1.243.718 2.353 1.013 3.332.886.98-.127 1.758-.701 2.334-1.728.577-1.025.865-2.525.865-4.498.002-1.991-.286-3.817-.865-5.474zm-3.209 6.599c-.234.718-.562 1.139-.985 1.265-.424.127-.921.025-1.49-.303-.541-.31-1.018-.773-1.435-1.385-.417-.612-.743-1.411-.975-2.398-.235-.988-.351-2.189-.351-3.606 0-1.417.116-2.49.35-3.213.235-.726.567-1.15.998-1.272.432-.122.911-.031 1.436.272.54.311 1.023.776 1.446 1.392.423.616.757 1.423.998 2.423.24 1 .36 2.207.36 3.626-.001 1.415-.12 2.481-.352 3.199z",fill:"#fff"}),i.default.createElement("path",{d:"M64.805 89.835l16.481-9.468L68.31 73 49 80.367l15.805 9.468z",fill:"url(#paint6_linear)",opacity:".7"}),i.default.createElement("path",{d:"M42.223 55.376l11.929-6.888c1.303-.753 2.783-.585 3.864.165l13.052 7.632-15.75 28.028-12.953-7.626c-1.368-.648-2.49-1.813-2.49-3.47V59.442a4.697 4.697 0 0 1 2.348-4.067z",fill:"url(#paint7_linear)"}),i.default.createElement("path",{d:"M42.223 55.376l11.929-6.888c1.303-.753 2.783-.585 3.864.165l13.052 7.632-15.75 28.028-12.953-7.626c-1.368-.648-2.49-1.813-2.49-3.47V59.442a4.697 4.697 0 0 1 2.348-4.067z",fill:"url(#paint8_linear)"}),i.default.createElement("path",{d:"M42.223 55.376l11.929-6.888c1.303-.753 2.783-.585 3.864.165l13.052 7.632-15.75 28.028-12.953-7.626c-1.368-.648-2.49-1.813-2.49-3.47V59.442a4.697 4.697 0 0 1 2.348-4.067z",fill:"url(#paint9_linear)"}),i.default.createElement("path",{d:"M42.223 55.376l11.929-6.888c1.303-.753 2.783-.585 3.864.165l13.052 7.632-15.75 28.028-12.953-7.626c-1.368-.648-2.49-1.813-2.49-3.47V59.442a4.697 4.697 0 0 1 2.348-4.067z",fill:"url(#paint10_linear)"}),i.default.createElement("path",{d:"M58.828 84.257l11.929-6.888a4.695 4.695 0 0 0 2.346-4.065V59.531c0-2.777-3.007-4.513-5.412-3.124l-11.929 6.888a4.695 4.695 0 0 0-2.346 4.064v13.774c.002 2.777 3.007 4.512 5.412 3.124z",fill:"url(#paint11_linear)"}),i.default.createElement("path",{d:"M58.828 84.257l11.929-6.888a4.695 4.695 0 0 0 2.346-4.065V59.531c0-2.777-3.007-4.513-5.412-3.124l-11.929 6.888a4.695 4.695 0 0 0-2.346 4.064v13.774c.002 2.777 3.007 4.512 5.412 3.124z",fill:"url(#paint12_linear)"}),i.default.createElement("path",{d:"M58.828 84.257l11.929-6.888a4.695 4.695 0 0 0 2.346-4.065V59.531c0-2.777-3.007-4.513-5.412-3.124l-11.929 6.888a4.695 4.695 0 0 0-2.346 4.064v13.774c.002 2.777 3.007 4.512 5.412 3.124z",fill:"url(#paint13_linear)"}),i.default.createElement("path",{d:"M58.828 84.257l11.929-6.888a4.695 4.695 0 0 0 2.346-4.065V59.531c0-2.777-3.007-4.513-5.412-3.124l-11.929 6.888a4.695 4.695 0 0 0-2.346 4.064v13.774c.002 2.777 3.007 4.512 5.412 3.124z",fill:"url(#paint14_linear)"}),i.default.createElement("path",{d:"M68.334 73.03c.16-.094.322-.257.445-.47.247-.427.247-.887 0-1.03l-7.553-4.359c-.247-.142-.646.088-.89.514-.247.427-.247.887 0 1.03l7.552 4.359c.121.071.284.05.445-.044zm-3.409-6.658c0-1.716 1.208-3.812 2.695-4.669 1.487-.857 2.695-.16 2.695 1.556 0 1.717-1.208 3.812-2.695 4.67-1.487.858-2.695.16-2.695-1.557zm1.258-.727c0 .913.644 1.286 1.437.828.792-.458 1.436-1.573 1.436-2.486 0-.914-.644-1.286-1.436-.829-.793.458-1.437 1.573-1.437 2.487zm-7.387 11.341c0-1.716 1.209-3.812 2.695-4.669 1.487-.857 2.696-.16 2.696 1.556s-1.209 3.812-2.696 4.669c-1.486.857-2.695.161-2.695-1.556zm1.261-.727c0 .913.644 1.286 1.436.828.793-.458 1.437-1.573 1.437-2.487 0-.913-.644-1.285-1.437-.828-.792.456-1.436 1.573-1.436 2.487z",fill:"#fff",stroke:"#fff",strokeWidth:".2"}),i.default.createElement("defs",null,i.default.createElement("linearGradient",{id:"paint0_linear",x1:"28.392",y1:"55.712",x2:"46.355",y2:"77.009",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{offset:"0",stopColor:"#C7CBD2"}),i.default.createElement("stop",{offset:"1",stopColor:"#E4E7ED",stopOpacity:"0"})),i.default.createElement("linearGradient",{id:"paint1_linear",x1:"28.349",y1:"17",x2:"48.8",y2:"74.001",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#2A2B2F"}),i.default.createElement("stop",{offset:"1"})),i.default.createElement("linearGradient",{id:"paint2_linear",x1:"19.182",y1:"81.184",x2:"-13.155",y2:"33.452",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#3000FF"}),i.default.createElement("stop",{offset:"1",stopColor:"#2BEAFF"})),i.default.createElement("linearGradient",{id:"paint3_linear",x1:"8.736",y1:"28.994",x2:"32.288",y2:"108.66",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#2A2B2F"}),i.default.createElement("stop",{offset:"1"})),i.default.createElement("linearGradient",{id:"paint4_linear",x1:"14.968",y1:"76.127",x2:"14.968",y2:"22.992",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#3000FF"}),i.default.createElement("stop",{offset:"1",stopColor:"#2BEAFF"})),i.default.createElement("linearGradient",{id:"paint5_linear",x1:"14.968",y1:"76.127",x2:"14.968",y2:"22.992",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#3000FF"}),i.default.createElement("stop",{offset:"1",stopColor:"#2BEAFF"})),i.default.createElement("linearGradient",{id:"paint6_linear",x1:"61.286",y1:"76.096",x2:"71.655",y2:"84.845",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{offset:"0",stopColor:"#C7CBD2"}),i.default.createElement("stop",{offset:"1",stopColor:"#E4E7ED",stopOpacity:"0"})),i.default.createElement("linearGradient",{id:"paint7_linear",x1:"59.041",y1:"50.018",x2:"42.632",y2:"83.591",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#202226"}),i.default.createElement("stop",{offset:"1"})),i.default.createElement("linearGradient",{id:"paint8_linear",x1:"39.791",y1:"88.477",x2:"33.107",y2:"52.969",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#7AC0FF"}),i.default.createElement("stop",{offset:"1",stopColor:"#308AF2"})),i.default.createElement("linearGradient",{id:"paint9_linear",x1:"54.683",y1:"84.532",x2:"54.683",y2:"42.737",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#3000FF"}),i.default.createElement("stop",{offset:"1",stopColor:"#2BEAFF"})),i.default.createElement("linearGradient",{id:"paint10_linear",x1:"39.791",y1:"57.69",x2:"61.661",y2:"76.424",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#2A2B2F"}),i.default.createElement("stop",{offset:"1"})),i.default.createElement("linearGradient",{id:"paint11_linear",x1:"67.649",y1:"55.487",x2:"52.943",y2:"105.233",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#202226"}),i.default.createElement("stop",{offset:"1"})),i.default.createElement("linearGradient",{id:"paint12_linear",x1:"85.218",y1:"86.43",x2:"44.384",y2:"93.516",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#3000FF"}),i.default.createElement("stop",{offset:"1",stopColor:"#2BEAFF"})),i.default.createElement("linearGradient",{id:"paint13_linear",x1:"63.304",y1:"55.918",x2:"75.262",y2:"82.415",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#2A2B2F"}),i.default.createElement("stop",{offset:"1"})),i.default.createElement("linearGradient",{id:"paint14_linear",x1:"53.251",y1:"64.083",x2:"77.638",y2:"81.188",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#2A2B2F"}),i.default.createElement("stop",{offset:"1"}))))},discount20:function(){return i.default.createElement("svg",{width:"87",height:"92",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.default.createElement("path",{d:"M36.998 83.961l26.394-15.165L42.898 57 11.973 68.796 36.998 83.96z",fill:"url(#paint0_linear)",opacity:".7"}),i.default.createElement("path",{d:"M49.455 28.813L30.351 17.782c-2.089-1.206-4.456-.939-6.19.264L3.26 30.267l25.222 44.885 20.743-12.211c2.191-1.037 3.989-2.903 3.989-5.56V35.32a7.52 7.52 0 0 0-3.759-6.508z",fill:"url(#paint1_linear)"}),i.default.createElement("path",{d:"M49.455 28.813L30.351 17.782c-2.089-1.206-4.456-.939-6.19.264L3.26 30.267l25.222 44.885 20.743-12.211c2.191-1.037 3.989-2.903 3.989-5.56V35.32a7.52 7.52 0 0 0-3.759-6.508z",fill:"url(#paint2_linear)"}),i.default.createElement("path",{d:"M22.863 75.067L3.758 64.037A7.517 7.517 0 0 1 0 57.526V35.468c0-4.447 4.815-7.225 8.666-5.002l19.105 11.03a7.517 7.517 0 0 1 3.758 6.51v22.058c-.003 4.445-4.815 7.226-8.666 5.003z",fill:"url(#paint3_linear)"}),i.default.createElement("path",{d:"M22.863 75.067L3.758 64.037A7.517 7.517 0 0 1 0 57.526V35.468c0-4.447 4.815-7.225 8.666-5.002l19.105 11.03a7.517 7.517 0 0 1 3.758 6.51v22.058c-.003 4.445-4.815 7.226-8.666 5.003z",fill:"url(#paint4_linear)"}),i.default.createElement("path",{d:"M22.863 75.067L3.758 64.037A7.517 7.517 0 0 1 0 57.526V35.468c0-4.447 4.815-7.225 8.666-5.002l19.105 11.03a7.517 7.517 0 0 1 3.758 6.51v22.058c-.003 4.445-4.815 7.226-8.666 5.003z",fill:"url(#paint5_linear)"}),i.default.createElement("path",{d:"M11.328 52.773c.57-.362.995-.82 1.276-1.37.282-.552.422-1.228.422-2.025 0-1.12-.214-2.2-.643-3.235a9.969 9.969 0 0 0-1.785-2.833 10.7 10.7 0 0 0-2.659-2.158c-1.055-.611-1.942-.967-2.66-1.073-.717-.105-1.35-.105-1.9 0v3.365a4.076 4.076 0 0 1 1.847-.238c.655.062 1.332.294 2.038.702a4.33 4.33 0 0 1 1.119.915c.31.357.55.755.717 1.194.168.44.254.902.254 1.39 0 .585-.112 1.088-.338 1.51-.226.421-.581.799-1.067 1.126-.485.33-1.137.64-1.952.934a35.52 35.52 0 0 1-2.997.9v3.583l9.942 5.74v-3.12l-6.41-3.7a27.274 27.274 0 0 0 2.696-.676c.829-.26 1.53-.57 2.1-.931zm14.819 2.729c-.556-1.596-1.305-2.987-2.248-4.174-.943-1.187-2.012-2.124-3.209-2.815-1.183-.683-2.248-.977-3.199-.883-.949.094-1.702.621-2.257 1.584-.556.963-.834 2.412-.834 4.346 0 1.918.278 3.682.834 5.295.555 1.612 1.308 3.023 2.257 4.23.95 1.206 2.016 2.151 3.2 2.833 1.196.691 2.265.975 3.208.853.943-.122 1.692-.675 2.248-1.665.555-.986.833-2.431.833-4.333 0-1.916-.278-3.675-.833-5.27zm-3.093 6.356c-.226.691-.542 1.097-.95 1.219-.407.121-.886.023-1.434-.292-.521-.3-.98-.745-1.382-1.335-.402-.59-.716-1.358-.94-2.31-.225-.95-.337-2.107-.337-3.472 0-1.365.112-2.398.338-3.095.225-.7.545-1.107.96-1.225.416-.118.878-.03 1.383.262.52.3.985.747 1.393 1.34.407.594.73 1.371.96 2.334.233.963.348 2.126.348 3.493-.002 1.362-.113 2.391-.34 3.08z",fill:"#fff"}),i.default.createElement("path",{d:"M64.805 89.835l16.481-9.468L68.31 73 49 80.367l15.805 9.468z",fill:"url(#paint6_linear)",opacity:".7"}),i.default.createElement("path",{d:"M42.223 55.376l11.929-6.888c1.302-.753 2.783-.585 3.864.165l13.052 7.632-15.75 28.028-12.953-7.626c-1.368-.648-2.49-1.813-2.49-3.47V59.442a4.697 4.697 0 0 1 2.348-4.067z",fill:"url(#paint7_linear)"}),i.default.createElement("path",{d:"M42.223 55.376l11.929-6.888c1.302-.753 2.783-.585 3.864.165l13.052 7.632-15.75 28.028-12.953-7.626c-1.368-.648-2.49-1.813-2.49-3.47V59.442a4.697 4.697 0 0 1 2.348-4.067z",fill:"url(#paint8_linear)"}),i.default.createElement("path",{d:"M42.223 55.376l11.929-6.888c1.302-.753 2.783-.585 3.864.165l13.052 7.632-15.75 28.028-12.953-7.626c-1.368-.648-2.49-1.813-2.49-3.47V59.442a4.697 4.697 0 0 1 2.348-4.067z",fill:"url(#paint9_linear)"}),i.default.createElement("path",{d:"M42.223 55.376l11.929-6.888c1.302-.753 2.783-.585 3.864.165l13.052 7.632-15.75 28.028-12.953-7.626c-1.368-.648-2.49-1.813-2.49-3.47V59.442a4.697 4.697 0 0 1 2.348-4.067z",fill:"url(#paint10_linear)"}),i.default.createElement("path",{d:"M58.828 84.257l11.929-6.888a4.695 4.695 0 0 0 2.346-4.065V59.531c0-2.777-3.007-4.513-5.412-3.124l-11.929 6.888a4.695 4.695 0 0 0-2.346 4.064v13.774c.002 2.777 3.007 4.512 5.412 3.124z",fill:"url(#paint11_linear)"}),i.default.createElement("path",{d:"M58.828 84.257l11.929-6.888a4.695 4.695 0 0 0 2.346-4.065V59.531c0-2.777-3.007-4.513-5.412-3.124l-11.929 6.888a4.695 4.695 0 0 0-2.346 4.064v13.774c.002 2.777 3.007 4.512 5.412 3.124z",fill:"url(#paint12_linear)"}),i.default.createElement("path",{d:"M58.828 84.257l11.929-6.888a4.695 4.695 0 0 0 2.346-4.065V59.531c0-2.777-3.007-4.513-5.412-3.124l-11.929 6.888a4.695 4.695 0 0 0-2.346 4.064v13.774c.002 2.777 3.007 4.512 5.412 3.124z",fill:"url(#paint13_linear)"}),i.default.createElement("path",{d:"M58.828 84.257l11.929-6.888a4.695 4.695 0 0 0 2.346-4.065V59.531c0-2.777-3.007-4.513-5.412-3.124l-11.929 6.888a4.695 4.695 0 0 0-2.346 4.064v13.774c.002 2.777 3.007 4.512 5.412 3.124z",fill:"url(#paint14_linear)"}),i.default.createElement("path",{d:"M68.333 73.03c.161-.094.322-.257.446-.47.246-.427.246-.887 0-1.03l-7.553-4.359c-.247-.142-.646.088-.89.514-.247.427-.247.887 0 1.03l7.552 4.359c.121.071.284.05.445-.044zm-3.408-6.658c0-1.716 1.208-3.812 2.695-4.669 1.487-.857 2.695-.16 2.695 1.556 0 1.717-1.208 3.812-2.695 4.67-1.487.858-2.695.16-2.695-1.557zm1.258-.727c0 .913.644 1.286 1.437.828.792-.458 1.436-1.573 1.436-2.486 0-.914-.644-1.286-1.436-.829-.793.458-1.437 1.573-1.437 2.487zm-7.387 11.341c0-1.716 1.209-3.812 2.695-4.669 1.487-.857 2.696-.16 2.696 1.556s-1.209 3.812-2.696 4.669c-1.486.857-2.695.161-2.695-1.556zm1.26-.727c0 .913.645 1.286 1.437.828.793-.458 1.437-1.573 1.437-2.487 0-.913-.644-1.285-1.437-.828-.792.456-1.436 1.573-1.436 2.487z",fill:"#fff",stroke:"#fff",strokeWidth:".2"}),i.default.createElement("defs",null,i.default.createElement("linearGradient",{id:"paint0_linear",x1:"28.392",y1:"55.712",x2:"46.355",y2:"77.009",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{offset:"0",stopColor:"#C7CBD2"}),i.default.createElement("stop",{offset:"1",stopColor:"#E4E7ED",stopOpacity:"0"})),i.default.createElement("linearGradient",{id:"paint1_linear",x1:"28.349",y1:"17",x2:"48.8",y2:"74.001",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#2A2B2F"}),i.default.createElement("stop",{offset:"1"})),i.default.createElement("linearGradient",{id:"paint2_linear",x1:"19.182",y1:"81.184",x2:"-13.155",y2:"33.452",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#3000FF"}),i.default.createElement("stop",{offset:"1",stopColor:"#2BEAFF"})),i.default.createElement("linearGradient",{id:"paint3_linear",x1:"8.736",y1:"28.994",x2:"32.288",y2:"108.66",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#2A2B2F"}),i.default.createElement("stop",{offset:"1"})),i.default.createElement("linearGradient",{id:"paint4_linear",x1:"14.968",y1:"76.127",x2:"14.968",y2:"22.992",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#3000FF"}),i.default.createElement("stop",{offset:"1",stopColor:"#2BEAFF"})),i.default.createElement("linearGradient",{id:"paint5_linear",x1:"14.968",y1:"76.127",x2:"14.968",y2:"22.992",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#3000FF"}),i.default.createElement("stop",{offset:"1",stopColor:"#2BEAFF"})),i.default.createElement("linearGradient",{id:"paint6_linear",x1:"61.286",y1:"76.096",x2:"71.655",y2:"84.845",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{offset:"0",stopColor:"#C7CBD2"}),i.default.createElement("stop",{offset:"1",stopColor:"#E4E7ED",stopOpacity:"0"})),i.default.createElement("linearGradient",{id:"paint7_linear",x1:"59.041",y1:"50.018",x2:"42.632",y2:"83.591",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#202226"}),i.default.createElement("stop",{offset:"1"})),i.default.createElement("linearGradient",{id:"paint8_linear",x1:"39.791",y1:"88.477",x2:"33.107",y2:"52.969",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#7AC0FF"}),i.default.createElement("stop",{offset:"1",stopColor:"#308AF2"})),i.default.createElement("linearGradient",{id:"paint9_linear",x1:"54.683",y1:"84.532",x2:"54.683",y2:"42.737",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#3000FF"}),i.default.createElement("stop",{offset:"1",stopColor:"#2BEAFF"})),i.default.createElement("linearGradient",{id:"paint10_linear",x1:"39.791",y1:"57.69",x2:"61.661",y2:"76.424",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#2A2B2F"}),i.default.createElement("stop",{offset:"1"})),i.default.createElement("linearGradient",{id:"paint11_linear",x1:"67.649",y1:"55.487",x2:"52.942",y2:"105.233",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#202226"}),i.default.createElement("stop",{offset:"1"})),i.default.createElement("linearGradient",{id:"paint12_linear",x1:"85.218",y1:"86.43",x2:"44.384",y2:"93.516",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#3000FF"}),i.default.createElement("stop",{offset:"1",stopColor:"#2BEAFF"})),i.default.createElement("linearGradient",{id:"paint13_linear",x1:"63.304",y1:"55.918",x2:"75.262",y2:"82.415",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#2A2B2F"}),i.default.createElement("stop",{offset:"1"})),i.default.createElement("linearGradient",{id:"paint14_linear",x1:"53.25",y1:"64.083",x2:"77.638",y2:"81.188",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#2A2B2F"}),i.default.createElement("stop",{offset:"1"}))))},discount30:function(){return i.default.createElement("svg",{width:"87",height:"92",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.default.createElement("path",{d:"M36.998 83.961l26.394-15.165L42.898 57 11.973 68.796 36.998 83.96z",fill:"url(#paint0_linear)",opacity:".7"}),i.default.createElement("path",{d:"M49.455 28.813L30.351 17.782c-2.089-1.206-4.456-.939-6.19.264L3.26 30.267l25.222 44.885 20.743-12.211c2.191-1.037 3.989-2.903 3.989-5.56V35.32a7.52 7.52 0 0 0-3.759-6.508z",fill:"url(#paint1_linear)"}),i.default.createElement("path",{d:"M49.455 28.813L30.351 17.782c-2.089-1.206-4.456-.939-6.19.264L3.26 30.267l25.222 44.885 20.743-12.211c2.191-1.037 3.989-2.903 3.989-5.56V35.32a7.52 7.52 0 0 0-3.759-6.508z",fill:"url(#paint2_linear)"}),i.default.createElement("path",{d:"M22.863 75.067L3.758 64.037A7.517 7.517 0 0 1 0 57.526V35.468c0-4.447 4.815-7.225 8.666-5.002l19.105 11.03a7.517 7.517 0 0 1 3.758 6.51v22.058c-.003 4.445-4.815 7.226-8.666 5.003z",fill:"url(#paint3_linear)"}),i.default.createElement("path",{d:"M22.863 75.067L3.758 64.037A7.517 7.517 0 0 1 0 57.526V35.468c0-4.447 4.815-7.225 8.666-5.002l19.105 11.03a7.517 7.517 0 0 1 3.758 6.51v22.058c-.003 4.445-4.815 7.226-8.666 5.003z",fill:"url(#paint4_linear)"}),i.default.createElement("path",{d:"M22.863 75.067L3.758 64.037A7.517 7.517 0 0 1 0 57.526V35.468c0-4.447 4.815-7.225 8.666-5.002l19.105 11.03a7.517 7.517 0 0 1 3.758 6.51v22.058c-.003 4.445-4.815 7.226-8.666 5.003z",fill:"url(#paint5_linear)"}),i.default.createElement("path",{d:"M11.453 52.122a7.633 7.633 0 0 0-1.133-1.095c.181.054.363.095.545.115.412.047.777-.013 1.098-.176.32-.163.571-.445.755-.844.184-.399.274-.912.274-1.54 0-.956-.183-1.908-.549-2.85a9.213 9.213 0 0 0-1.597-2.647 9.474 9.474 0 0 0-2.498-2.07c-1.007-.583-1.814-.91-2.42-.982-.61-.072-1.121-.027-1.54.132v3.422c.43-.168.918-.258 1.46-.267.541-.009 1.159.186 1.85.586.457.264.837.56 1.138.893.3.33.528.693.686 1.089.156.395.236.81.236 1.246 0 .679-.173 1.098-.52 1.256-.347.157-.801.074-1.361-.25l-1.725-.997v3.263l1.606.927c.757.438 1.323.943 1.695 1.514.373.571.559 1.26.559 2.06 0 .489-.082.869-.245 1.14-.163.27-.412.412-.746.419-.334.007-.768-.143-1.304-.453-.875-.506-1.597-1.1-2.166-1.786a29.012 29.012 0 0 1-1.456-1.9v3.423c.261.395.58.814.96 1.26.379.445.826.886 1.343 1.324.516.438 1.108.847 1.774 1.233 1.07.618 1.988.919 2.752.898.765-.02 1.358-.313 1.785-.877.425-.566.636-1.388.636-2.467a7.15 7.15 0 0 0-.52-2.718 8.305 8.305 0 0 0-1.372-2.281zm14.229 3.014c-.516-1.666-1.211-3.096-2.087-4.288-.875-1.193-1.868-2.111-2.979-2.753-1.098-.634-2.087-.86-2.97-.683-.88.18-1.58.809-2.096 1.887-.515 1.077-.773 2.654-.773 4.726 0 2.055.258 3.925.774 5.607.515 1.683 1.214 3.131 2.095 4.346.882 1.215 1.872 2.14 2.97 2.773 1.111.642 2.104.857 2.98.65.875-.21 1.57-.865 2.086-1.97.516-1.104.773-2.675.773-4.713 0-2.056-.257-3.916-.773-5.582zm-2.871 7.07c-.21.76-.503 1.221-.881 1.387-.379.165-.824.1-1.332-.195-.485-.278-.911-.718-1.284-1.315-.373-.598-.664-1.397-.872-2.399-.21-1-.313-2.231-.313-3.695 0-1.463.104-2.578.313-3.346.21-.768.507-1.232.892-1.393.386-.161.815-.106 1.284.167.482.278.915.72 1.293 1.32.378.603.677 1.41.892 2.423.215 1.013.323 2.252.323 3.714 0 1.461-.106 2.574-.316 3.333z",fill:"#fff"}),i.default.createElement("path",{d:"M64.805 89.835l16.481-9.468L68.31 73 49 80.367l15.805 9.468z",fill:"url(#paint6_linear)",opacity:".7"}),i.default.createElement("path",{d:"M42.223 55.376l11.929-6.888c1.302-.753 2.783-.585 3.864.165l13.052 7.632-15.75 28.028-12.953-7.626c-1.368-.648-2.49-1.813-2.49-3.47V59.442a4.697 4.697 0 0 1 2.348-4.067z",fill:"url(#paint7_linear)"}),i.default.createElement("path",{d:"M42.223 55.376l11.929-6.888c1.302-.753 2.783-.585 3.864.165l13.052 7.632-15.75 28.028-12.953-7.626c-1.368-.648-2.49-1.813-2.49-3.47V59.442a4.697 4.697 0 0 1 2.348-4.067z",fill:"url(#paint8_linear)"}),i.default.createElement("path",{d:"M42.223 55.376l11.929-6.888c1.302-.753 2.783-.585 3.864.165l13.052 7.632-15.75 28.028-12.953-7.626c-1.368-.648-2.49-1.813-2.49-3.47V59.442a4.697 4.697 0 0 1 2.348-4.067z",fill:"url(#paint9_linear)"}),i.default.createElement("path",{d:"M42.223 55.376l11.929-6.888c1.302-.753 2.783-.585 3.864.165l13.052 7.632-15.75 28.028-12.953-7.626c-1.368-.648-2.49-1.813-2.49-3.47V59.442a4.697 4.697 0 0 1 2.348-4.067z",fill:"url(#paint10_linear)"}),i.default.createElement("path",{d:"M58.828 84.257l11.929-6.888a4.695 4.695 0 0 0 2.346-4.065V59.531c0-2.777-3.007-4.513-5.412-3.124l-11.929 6.888a4.695 4.695 0 0 0-2.346 4.064v13.774c.002 2.777 3.007 4.512 5.412 3.124z",fill:"url(#paint11_linear)"}),i.default.createElement("path",{d:"M58.828 84.257l11.929-6.888a4.695 4.695 0 0 0 2.346-4.065V59.531c0-2.777-3.007-4.513-5.412-3.124l-11.929 6.888a4.695 4.695 0 0 0-2.346 4.064v13.774c.002 2.777 3.007 4.512 5.412 3.124z",fill:"url(#paint12_linear)"}),i.default.createElement("path",{d:"M58.828 84.257l11.929-6.888a4.695 4.695 0 0 0 2.346-4.065V59.531c0-2.777-3.007-4.513-5.412-3.124l-11.929 6.888a4.695 4.695 0 0 0-2.346 4.064v13.774c.002 2.777 3.007 4.512 5.412 3.124z",fill:"url(#paint13_linear)"}),i.default.createElement("path",{d:"M58.828 84.257l11.929-6.888a4.695 4.695 0 0 0 2.346-4.065V59.531c0-2.777-3.007-4.513-5.412-3.124l-11.929 6.888a4.695 4.695 0 0 0-2.346 4.064v13.774c.002 2.777 3.007 4.512 5.412 3.124z",fill:"url(#paint14_linear)"}),i.default.createElement("path",{d:"M68.333 73.03c.161-.094.322-.257.446-.47.246-.427.246-.887 0-1.03l-7.553-4.359c-.247-.142-.646.088-.89.514-.247.427-.247.887 0 1.03l7.552 4.359c.121.071.284.05.445-.044zm-3.408-6.658c0-1.716 1.208-3.812 2.695-4.669 1.487-.857 2.695-.16 2.695 1.556 0 1.717-1.208 3.812-2.695 4.67-1.487.858-2.695.16-2.695-1.557zm1.258-.727c0 .913.644 1.286 1.437.828.792-.458 1.436-1.573 1.436-2.486 0-.914-.644-1.286-1.436-.829-.793.458-1.437 1.573-1.437 2.487zm-7.387 11.341c0-1.716 1.209-3.812 2.695-4.669 1.487-.857 2.696-.16 2.696 1.556s-1.209 3.812-2.696 4.669c-1.486.857-2.695.161-2.695-1.556zm1.26-.727c0 .913.645 1.286 1.437.828.793-.458 1.437-1.573 1.437-2.487 0-.913-.644-1.285-1.437-.828-.792.456-1.436 1.573-1.436 2.487z",fill:"#fff",stroke:"#fff",strokeWidth:".2"}),i.default.createElement("defs",null,i.default.createElement("linearGradient",{id:"paint0_linear",x1:"28.392",y1:"55.712",x2:"46.355",y2:"77.009",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{offset:"0",stopColor:"#C7CBD2"}),i.default.createElement("stop",{offset:"1",stopColor:"#E4E7ED",stopOpacity:"0"})),i.default.createElement("linearGradient",{id:"paint1_linear",x1:"28.349",y1:"17",x2:"48.8",y2:"74.001",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#2A2B2F"}),i.default.createElement("stop",{offset:"1"})),i.default.createElement("linearGradient",{id:"paint2_linear",x1:"19.182",y1:"81.184",x2:"-13.155",y2:"33.452",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#3000FF"}),i.default.createElement("stop",{offset:"1",stopColor:"#2BEAFF"})),i.default.createElement("linearGradient",{id:"paint3_linear",x1:"8.736",y1:"28.994",x2:"32.288",y2:"108.66",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#2A2B2F"}),i.default.createElement("stop",{offset:"1"})),i.default.createElement("linearGradient",{id:"paint4_linear",x1:"14.968",y1:"76.127",x2:"14.968",y2:"22.992",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#3000FF"}),i.default.createElement("stop",{offset:"1",stopColor:"#2BEAFF"})),i.default.createElement("linearGradient",{id:"paint5_linear",x1:"14.968",y1:"76.127",x2:"14.968",y2:"22.992",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#3000FF"}),i.default.createElement("stop",{offset:"1",stopColor:"#2BEAFF"})),i.default.createElement("linearGradient",{id:"paint6_linear",x1:"61.286",y1:"76.096",x2:"71.655",y2:"84.845",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{offset:"0",stopColor:"#C7CBD2"}),i.default.createElement("stop",{offset:"1",stopColor:"#E4E7ED",stopOpacity:"0"})),i.default.createElement("linearGradient",{id:"paint7_linear",x1:"59.041",y1:"50.018",x2:"42.632",y2:"83.591",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#202226"}),i.default.createElement("stop",{offset:"1"})),i.default.createElement("linearGradient",{id:"paint8_linear",x1:"39.791",y1:"88.477",x2:"33.107",y2:"52.969",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#7AC0FF"}),i.default.createElement("stop",{offset:"1",stopColor:"#308AF2"})),i.default.createElement("linearGradient",{id:"paint9_linear",x1:"54.683",y1:"84.532",x2:"54.683",y2:"42.737",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#3000FF"}),i.default.createElement("stop",{offset:"1",stopColor:"#2BEAFF"})),i.default.createElement("linearGradient",{id:"paint10_linear",x1:"39.791",y1:"57.69",x2:"61.661",y2:"76.424",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#2A2B2F"}),i.default.createElement("stop",{offset:"1"})),i.default.createElement("linearGradient",{id:"paint11_linear",x1:"67.649",y1:"55.487",x2:"52.942",y2:"105.233",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#202226"}),i.default.createElement("stop",{offset:"1"})),i.default.createElement("linearGradient",{id:"paint12_linear",x1:"85.218",y1:"86.43",x2:"44.384",y2:"93.516",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#3000FF"}),i.default.createElement("stop",{offset:"1",stopColor:"#2BEAFF"})),i.default.createElement("linearGradient",{id:"paint13_linear",x1:"63.304",y1:"55.918",x2:"75.262",y2:"82.415",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#2A2B2F"}),i.default.createElement("stop",{offset:"1"})),i.default.createElement("linearGradient",{id:"paint14_linear",x1:"53.25",y1:"64.083",x2:"77.638",y2:"81.188",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#2A2B2F"}),i.default.createElement("stop",{offset:"1"}))))}};t.default=function(e){var t=e.name,n=o[t];return i.default.createElement(n,null)}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(218);n(1330),t.withWide=r.withBemMod(i.cnMenu(),{wide:!0})}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(0)),s=n(6),u=n(40),c=n(218);n(1332);var l=c.cnMenu("Icon"),d=function(e){var t=e,n=(t.needIconGlyph,t.children),o=t.innerRef,s=(t.value,t.url),d=t.icon,f=t.iconLeft,h=t.iconRight,p=i(t,["needIconGlyph","children","innerRef","value","url","icon","iconLeft","iconRight"]),m=u.useComponentRegistry(c.cnMenu()).Text,v=c.useMenuItem(r(r({},p),{type:"link"})),g=f||d;return a.createElement("a",r({ref:o},v,{href:s,role:"link"}),g&&g(l),a.createElement(m,null,n),h&&h(l))};t.withTypeNavigation=s.withBemMod(c.cnMenu(),{type:"navigation"},(function(e){return function(t){t.type;var n=i(t,["type"]);return a.createElement(e,r({},n,{renderItem:d}))}}))}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(218);n(1334),t.withPaddingless=r.withBemMod(i.cnMenu(),{paddingless:!0})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(218);n(1336),t.withRightGlyph=r.withBemMod(i.cnMenu(),{rightGlyph:!0})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(498);n(1355),t.withThemePrimary=r.withBemMod(i.cnLink(),{theme:"primary"})}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(0)),s=n(1357);n(1358),t.withIcons=function(e){return function(t){var n=t.icon,o=t.iconLeft,u=t.iconRight,c=t.children,l=i(t,["icon","iconLeft","iconRight","children"]),d=n||o,f=d||u?(function(e){return a.isValidElement(e)?a.cloneElement(e,{className:s.cnLink("Text",null,[e.props.className])}):a.createElement("span",{className:s.cnLink("Text")},e)})(c):c;return a.createElement(e,r({},l),d&&d(s.cnLink("Icon",{side:"left"})),f,u&&u(s.cnLink("Icon",{side:"right"})))}}}),(function(e,t,n){"use strict";n.r(t);var r=n(88);n.d(t,"cnLink",(function(){return r.b})),n.d(t,"Link",(function(){return r.a}));var i=n(378);n.d(t,"withPseudo",(function(){return i.a}));var o=n(379);n.d(t,"withThemeBlack",(function(){return o.a}));var a=n(380);n.d(t,"withThemeGhost",(function(){return a.a}));var s=n(381);n.d(t,"withThemeNormal",(function(){return s.a}));var u=n(382);n.d(t,"withThemeOuter",(function(){return u.a}));var c=n(383);n.d(t,"withThemePseudo",(function(){return c.a}));var l=n(384);n.d(t,"withThemeStrong",(function(){return l.a}));var d=n(385);n.d(t,"withViewDefault",(function(){return d.a}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){var r;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!(function(i,o,a,s){"use strict";var u,c=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),d="function",f=Math.round,h=Math.abs,p=Date.now;function m(e,t,n){return setTimeout(w(e,n),t)}function v(e,t,n){return!!Array.isArray(e)&&(g(e,n[t],n),!0)}function g(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function y(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}u="function"!=typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var b=y((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&e[r[i]]===s)&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),_=y((function(e,t){return b(e,t,!0)}),"merge","Use `assign`.");function O(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&u(r,n)}function w(e,t){return function(){return e.apply(t,arguments)}}function E(e,t){return typeof e==d?e.apply(t&&t[0]||s,t):e}function S(e,t){return e===s?t:e}function C(e,t,n){g(j(t),(function(t){e.addEventListener(t,n,!1)}))}function x(e,t,n){g(j(t),(function(t){e.removeEventListener(t,n,!1)}))}function k(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function T(e,t){return e.indexOf(t)>-1}function j(e){return e.trim().split(/\s+/g)}function R(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function P(e){return Array.prototype.slice.call(e,0)}function D(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];R(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function I(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<c.length;){if((r=(n=c[o])?n+i:t)in e)return r;o++}return s}var A=1;function M(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var N="ontouchstart"in i,L=I(i,"PointerEvent")!==s,F=N&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),B=25,U=1,z=2,V=4,H=8,W=1,G=2,q=4,$=8,Y=16,K=G|q,X=$|Y,Z=K|X,J=["x","y"],Q=["clientX","clientY"];function ee(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){E(e.options.enable,[e])&&n.handler(t)},this.init()}function te(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=t&U&&r-i==0,a=t&(V|H)&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,(function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=ne(t));i>1&&!n.firstMultiple?n.firstMultiple=ne(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,c=t.center=re(r);t.timeStamp=p(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=se(u,c),t.distance=ae(u,c),(function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};t.eventType!==U&&o.eventType!==V||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)})(n,t),t.offsetDirection=oe(t.deltaX,t.deltaY);var l=ie(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=l.x,t.overallVelocityY=l.y,t.overallVelocity=h(l.x)>h(l.y)?l.x:l.y,t.scale=a?(function(e,t){return ae(t[0],t[1],Q)/ae(e[0],e[1],Q)})(a.pointers,r):1,t.rotation=a?(function(e,t){return se(t[1],t[0],Q)+se(e[1],e[0],Q)})(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,(function(e,t){var n,r,i,o,a=e.lastInterval||t,u=t.timeStamp-a.timeStamp;if(t.eventType!=H&&(u>B||a.velocity===s)){var c=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,d=ie(u,c,l);r=d.x,i=d.y,n=h(d.x)>h(d.y)?d.x:d.y,o=oe(c,l),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o})(n,t);var d=e.element;k(t.srcEvent.target,d)&&(d=t.srcEvent.target);t.target=d})(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function ne(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:f(e.pointers[n].clientX),clientY:f(e.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:t,center:re(t),deltaX:e.deltaX,deltaY:e.deltaY}}function re(e){var t=e.length;if(1===t)return{x:f(e[0].clientX),y:f(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:f(n/t),y:f(r/t)}}function ie(e,t,n){return{x:t/e||0,y:n/e||0}}function oe(e,t){return e===t?W:h(e)>=h(t)?e<0?G:q:t<0?$:Y}function ae(e,t,n){n||(n=J);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function se(e,t,n){n||(n=J);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}ee.prototype={handler:function(){},init:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(M(this.element),this.evWin,this.domHandler)}};var ue={mousedown:U,mousemove:z,mouseup:V},ce="mousedown",le="mousemove mouseup";function de(){this.evEl=ce,this.evWin=le,this.pressed=!1,ee.apply(this,arguments)}O(de,ee,{handler:function(e){var t=ue[e.type];t&U&&0===e.button&&(this.pressed=!0),t&z&&1!==e.which&&(t=V),this.pressed&&(t&V&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var fe={pointerdown:U,pointermove:z,pointerup:V,pointercancel:H,pointerout:H},he={2:"touch",3:"pen",4:"mouse",5:"kinect"},pe="pointerdown",me="pointermove pointerup pointercancel";function ve(){this.evEl=pe,this.evWin=me,ee.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(pe="MSPointerDown",me="MSPointerMove MSPointerUp MSPointerCancel"),O(ve,ee,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=fe[r],o=he[e.pointerType]||e.pointerType,a="touch"==o,s=R(t,e.pointerId,"pointerId");i&U&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):i&(V|H)&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var ge={touchstart:U,touchmove:z,touchend:V,touchcancel:H},ye="touchstart",be="touchstart touchmove touchend touchcancel";function _e(){this.evTarget=ye,this.evWin=be,this.started=!1,ee.apply(this,arguments)}O(_e,ee,{handler:function(e){var t=ge[e.type];if(t===U&&(this.started=!0),this.started){var n=function(e,t){var n=P(e.touches),r=P(e.changedTouches);t&(V|H)&&(n=D(n.concat(r),"identifier",!0));return[n,r]}.call(this,e,t);t&(V|H)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var Oe={touchstart:U,touchmove:z,touchend:V,touchcancel:H},we="touchstart touchmove touchend touchcancel";function Ee(){this.evTarget=we,this.targetIds={},ee.apply(this,arguments)}O(Ee,ee,{handler:function(e){var t=Oe[e.type],n=function(e,t){var n=P(e.touches),r=this.targetIds;if(t&(U|z)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=P(e.changedTouches),s=[],u=this.target;if(o=n.filter((function(e){return k(e.target,u)})),t===U)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;i=0;for(;i<a.length;)r[a[i].identifier]&&s.push(a[i]),t&(V|H)&&delete r[a[i].identifier],i++;if(!s.length)return;return[D(o.concat(s),"identifier",!0),s]}.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});var Se=2500,Ce=25;function xe(){ee.apply(this,arguments);var e=w(this.handler,this);this.touch=new Ee(this.manager,e),this.mouse=new de(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ke(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),Se)}}O(xe,ee,{handler:function(e,t,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)(function(e,t){e&U?(this.primaryTouch=t.changedPointers[0].identifier,ke.call(this,t)):e&(V|H)&&ke.call(this,t)}).call(this,t,n);else if(i&&function(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=Ce&&a<=Ce)return!0}return!1}.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Te=I(l.style,"touchAction"),je=Te!==s,Re="auto",Pe="manipulation",De="none",Ie="pan-x",Ae="pan-y",Me=(function(){if(!je)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e})();function Ne(e,t){this.manager=e,this.set(t)}Ne.prototype={set:function(e){"compute"==e&&(e=this.compute()),je&&this.manager.element.style&&Me[e]&&(this.manager.element.style[Te]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return g(this.manager.recognizers,(function(t){E(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),(function(e){if(T(e,De))return De;var t=T(e,Ie),n=T(e,Ae);if(t&&n)return De;if(t||n)return t?Ie:Ae;if(T(e,Pe))return Pe;return Re})(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=T(r,De)&&!Me[De],o=T(r,Ae)&&!Me[Ae],a=T(r,Ie)&&!Me[Ie];if(i){var s=1===e.pointers.length,u=e.distance<2,c=e.deltaTime<250;if(s&&u&&c)return}if(!a||!o)return i||o&&n&K||a&&n&X?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Le=1,Fe=2,Be=4,Ue=8,ze=Ue,Ve=16;function He(e){this.options=u({},this.defaults,e||{}),this.id=A++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=Le,this.simultaneous={},this.requireFail=[]}function We(e){return e&Ve?"cancel":e&Ue?"end":e&Be?"move":e&Fe?"start":""}function Ge(e){return e==Y?"down":e==$?"up":e==G?"left":e==q?"right":""}function qe(e,t){var n=t.manager;return n?n.get(e):e}function $e(){He.apply(this,arguments)}function Ye(){$e.apply(this,arguments),this.pX=null,this.pY=null}function Ke(){$e.apply(this,arguments)}function Xe(){He.apply(this,arguments),this._timer=null,this._input=null}function Ze(){$e.apply(this,arguments)}function Je(){$e.apply(this,arguments)}function Qe(){He.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function et(e,t){return(t=t||{}).recognizers=S(t.recognizers,et.defaults.preset),new tt(e,t)}He.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(v(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=qe(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return v(e,"dropRecognizeWith",this)?this:(e=qe(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(v(e,"requireFailure",this))return this;var t=this.requireFail;return-1===R(t,e=qe(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(v(e,"dropRequireFailure",this))return this;e=qe(e,this);var t=R(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<Ue&&r(t.options.event+We(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=Ue&&r(t.options.event+We(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|Le)))return!1;e++}return!0},recognize:function(e){var t=u({},e);if(!E(this.options.enable,[this,t]))return this.reset(),void(this.state=32);this.state&(ze|Ve|32)&&(this.state=Le),this.state=this.process(t),this.state&(Fe|Be|Ue|Ve)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},O($e,He,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(Fe|Be),i=this.attrTest(e);return r&&(n&H||!i)?t|Ve:r||i?n&V?t|Ue:t&Fe?t|Be:Fe:32}}),O(Ye,$e,{defaults:{event:"pan",threshold:10,pointers:1,direction:Z},getTouchAction:function(){var e=this.options.direction,t=[];return e&K&&t.push(Ae),e&X&&t.push(Ie),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(t.direction&K?(i=0===o?W:o<0?G:q,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?W:a<0?$:Y,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return $e.prototype.attrTest.call(this,e)&&(this.state&Fe||!(this.state&Fe)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Ge(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),O(Ke,$e,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[De]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&Fe)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),O(Xe,He,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Re]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(V|H)&&!i)this.reset();else if(e.eventType&U)this.reset(),this._timer=m((function(){this.state=ze,this.tryEmit()}),t.time,this);else if(e.eventType&V)return ze;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===ze&&(e&&e.eventType&V?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),O(Ze,$e,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[De]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&Fe)}}),O(Je,$e,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:K|X,pointers:1},getTouchAction:function(){return Ye.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(K|X)?t=e.overallVelocity:n&K?t=e.overallVelocityX:n&X&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&h(t)>this.options.velocity&&e.eventType&V},emit:function(e){var t=Ge(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),O(Qe,He,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Pe]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&U&&0===this.count)return this.failTimeout();if(r&&i&&n){if(e.eventType!=V)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||ae(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=m((function(){this.state=ze,this.tryEmit()}),t.interval,this),Fe):ze}return 32},failTimeout:function(){return this._timer=m((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ze&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),et.VERSION="2.0.7",et.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ze,{enable:!1}],[Ke,{enable:!1},["rotate"]],[Je,{direction:K}],[Ye,{direction:K},["swipe"]],[Qe],[Qe,{event:"doubletap",taps:2},["tap"]],[Xe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function tt(e,t){this.options=u({},et.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=(function(e){var t=e.options.inputClass;return new(t||(L?ve:F?Ee:N?xe:de))(e,te)})(this),this.touchAction=new Ne(this,this.options.touchAction),nt(this,!0),g(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function nt(e,t){var n,r=e.element;r.style&&(g(e.options.cssProps,(function(i,o){n=I(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}tt.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&ze)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(Fe|Be|Ue)&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof He)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(v(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(v(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=R(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return g(j(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==s){var n=this.handlers;return g(j(e),(function(e){t?n[e]&&n[e].splice(R(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&(function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)})(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&nt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(et,{INPUT_START:U,INPUT_MOVE:z,INPUT_END:V,INPUT_CANCEL:H,STATE_POSSIBLE:Le,STATE_BEGAN:Fe,STATE_CHANGED:Be,STATE_ENDED:Ue,STATE_RECOGNIZED:ze,STATE_CANCELLED:Ve,STATE_FAILED:32,DIRECTION_NONE:W,DIRECTION_LEFT:G,DIRECTION_RIGHT:q,DIRECTION_UP:$,DIRECTION_DOWN:Y,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:X,DIRECTION_ALL:Z,Manager:tt,Input:ee,TouchAction:Ne,TouchInput:Ee,MouseInput:de,PointerEventInput:ve,TouchMouseInput:xe,SingleTouchInput:_e,Recognizer:He,AttrRecognizer:$e,Tap:Qe,Pan:Ye,Swipe:Je,Pinch:Ke,Rotate:Ze,Press:Xe,on:C,off:x,each:g,merge:_,extend:b,assign:u,inherit:O,bindFn:w,prefixed:I}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=et,(r=function(){return et}.call(t,n,t,e))===s||(e.exports=r)})(window,document)}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"isNewEditorConfirmError",(function(){return r})),n.d(t,"isCloseAllEditorsConfirmError",(function(){return i}));var r=function(e){return e&&409===e.statusCode&&301===e.code},i=function(e){return e&&423===e.statusCode&&304===e.code}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);n(1388);var r=n(14),i=n(23),o=n(42),a=n(33),s=n(12),u=n(9);function c(e){var t;return u.isFunction(e.getAsEntry)?t=e.getAsEntry():u.isFunction(e.webkitGetAsEntry)&&(t=e.webkitGetAsEntry()),t&&t.isFile&&u.isFunction(e.getAsFile)?e.getAsFile():t}function l(e){return e&&e.isDirectory}function d(e){return e&&!e.isDirectory}ns.View.define("dropzone",{events:{"dragleave .nb-dropzone":"close","drop .nb-dropzone":"dropFile","click .nb-dropzone":"close"},methods:{isDocsPage:function(){return Object(a.isDocsPage)(Object(r.default)().getState())},close:function(){Object(r.default)().dispatch(Object(i.closeDialog)("dropzone"))},dropFile:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.close();var n,i=e.originalEvent.dataTransfer;if(i.items){var a=u.filter(u.map(i.items,c),l),f=u.filter(u.map(i.items,c),d);n=ns.action.run("resource.upload",{dropzone:!0,folders:a,files:f}),s.default.count("tech","dropzone data transfer key","items")}else{if(!i.files||!i.files.length)return void Object(r.default)().dispatch(Object(o.notify)({cannotUploadFolder:!0}));n=ns.action.run("resource.upload",{dropzone:!0,files:i.files}),s.default.count("tech","dropzone data transfer key","files")}var h="/disk"===ns.page.current.params.idContext?"via drop to root":"via drop to folder";n.then((function(){s.default.count("actions","uploading","start upload",h),t.close()}))}}})}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"bindDragEvents",(function(){return m})),n.d(t,"unBindDragEvents",(function(){return v}));var r=n(14),i=n(23),o=n(100),a=n(33),s=n(43),u=n(26),c=!1,l=function(){c=!0},d=function(e){var t=Object(r.default)(),n=t.getState();if(e.preventDefault(),!Object(a.isDocsView)(n))if(Object(s.getOverdraftType)(n))setTimeout((function(){t.dispatch(Object(u.maybeBlockActionOverdraft)({forLite:!0}))}),500);else if(!c&&!Object(o.isDialogOpened)(t.getState(),"dropzone")){var l=e.dataTransfer&&e.dataTransfer.types;l&&(l.indexOf&&-1!==l.indexOf("Files")||l.contains&&l.contains("Files"))&&t.dispatch(Object(i.openDialog)("dropzone"))}},f=function(e){e.preventDefault(),e.stopPropagation()},h=function(e){e.preventDefault(),c=!1},p=function(e){e.preventDefault()},m=function(){window.addEventListener("dragstart",l),window.addEventListener("dragenter",d),window.addEventListener("dragover",f),window.addEventListener("dragend",h),window.addEventListener("drop",p)},v=function(){window.removeEventListener("dragstart",l),window.removeEventListener("dragenter",d),window.removeEventListener("dragover",f),window.removeEventListener("dragend",h),window.removeEventListener("drop",p)}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){var r=n(1395),i=n(161);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}}),(function(e,t,n){var r=n(575),i=n(601),o=n(1399),a=n(1401),s=n(364),u=n(162),c=n(472),l=n(582),d=1,f="[object Arguments]",h="[object Array]",p="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,g,y){var b=u(e),_=u(t),O=b?h:s(e),w=_?h:s(t),E=(O=O==f?p:O)==p,S=(w=w==f?p:w)==p,C=O==w;if(C&&c(e)){if(!c(t))return!1;b=!0,E=!1}if(C&&!E)return y||(y=new r),b||l(e)?i(e,t,n,v,g,y):o(e,t,O,n,v,g,y);if(!(n&d)){var x=E&&m.call(e,"__wrapped__"),k=S&&m.call(t,"__wrapped__");if(x||k){var T=x?e.value():e,j=k?t.value():t;return y||(y=new r),g(T,j,n,v,y)}}return!!C&&(y||(y=new r),a(e,t,n,v,g,y))}}),(function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}}),(function(e,t){e.exports=function(e){return this.__data__.has(e)}}),(function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}}),(function(e,t,n){var r=n(214),i=n(589),o=n(466),a=n(601),s=n(1400),u=n(717),c=1,l=2,d="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",m="[object Number]",v="[object RegExp]",g="[object Set]",y="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",O="[object DataView]",w=r?r.prototype:void 0,E=w?w.valueOf:void 0;e.exports=function(e,t,n,r,w,S,C){switch(n){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!S(new i(e),new i(t)));case d:case f:case m:return o(+e,+t);case h:return e.name==t.name&&e.message==t.message;case v:case y:return e==t+"";case p:var x=s;case g:var k=r&c;if(x||(x=u),e.size!=t.size&&!k)return!1;var T=C.get(e);if(T)return T==t;r|=l,C.set(e,t);var j=a(x(e),x(t),r,w,S,C);return C.delete(e),j;case b:if(E)return E.call(e)==E.call(t)}return!1}}),(function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}}),(function(e,t,n){var r=n(586),i=1,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,s,u){var c=n&i,l=r(e),d=l.length;if(d!=r(t).length&&!c)return!1;for(var f=d;f--;){var h=l[f];if(!(c?h in t:o.call(t,h)))return!1}var p=u.get(e),m=u.get(t);if(p&&m)return p==t&&m==e;var v=!0;u.set(e,t),u.set(t,e);for(var g=c;++f<d;){var y=e[h=l[f]],b=t[h];if(a)var _=c?a(b,y,h,t,e,u):a(y,b,h,e,t,u);if(!(void 0===_?y===b||s(y,b,n,a,u):_)){v=!1;break}g||(g="constructor"==h)}if(v&&!g){var O=e.constructor,w=t.constructor;O!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof O&&O instanceof O&&"function"==typeof w&&w instanceof w)&&(v=!1)}return u.delete(e),u.delete(t),v}}),(function(e,t,n){}),(function(e,t,n){var r=n(146);e.exports=function(){return r.Date.now()}}),(function(e,t,n){var r=n(1405),i=n(160),o=n(365),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=u.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):s.test(e)?a:+e}}),(function(e,t,n){var r=n(1406),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}}),(function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(1422);n(1423),t.withViewListTileRadio=r.withBemMod(i.cnRadiobox(),{view:"listtile-radio"})}),(function(e,t,n){"use strict";n.r(t);var r=n(71);n.d(t,"cnRadiobox",(function(){return r.b})),n.d(t,"Radiobox",(function(){return r.a}));var i=n(219);n.d(t,"withSizeM",(function(){return i.a}));var o=n(220);n.d(t,"withSizeS",(function(){return o.a}));var a=n(338);n.d(t,"withThemeNormal",(function(){return a.a}));var s=n(339);n.d(t,"withThemePseudo",(function(){return s.a}));var u=n(340);n.d(t,"withViewDefault",(function(){return u.a}));var c=n(341);n.d(t,"withViewOutline",(function(){return c.a}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=n(19),u=n(75),c=n(16),l=n(26),d=n(33),f=n(70),h=o(n(604)),p=o(n(1468)),m=o(n(12)),v=o(n(612)),g=o(n(613)),y=o(n(9)),b=n(265),_=o(n(11)),O=function(){return _.default()("Docs")},w={maybeFetchDocs:u.maybeFetchDocs,openOrEditResource:c.openOrEditResource,openEditor:l.openEditor,maybeBlockActionOverdraft:l.maybeBlockActionOverdraft},E=s.connect((function(e){var t=e.page.originalNSParams,n=t.from,r=t.create;return{resources:d.docsListResources(e),isOpenedFromEditor:"editor"===n,isLoading:d.docsListIsLoading(e),isEmpty:d.docsListIsEmpty(e),listingType:d.listingType(e),type:d.currentDocsType(e),filter:d.getFilterType(e),openCreateDialog:Boolean(r)}}),w);t.default=g.default(E((function(e){var t=e.maybeFetchDocs,n=e.openOrEditResource,i=e.resources,o=e.resourcesByIds,s=e.isLoading,u=e.isEmpty,c=e.type,l=e.filter,d=e.isOpenedFromEditor,g=e.openCreateDialog,_=e.openEditor,w=e.listingProps,E=e.maybeBlockActionOverdraft;a.useEffect((function(){t()}),[t,c,d]);var S=d?"from editor":"other";a.useEffect((function(){m.default.countDocs("open docs",S)}),[]),a.useEffect((function(){g&&_(c,"/disk")}),[g,_,c]);var C=a.useCallback((function(e){if(!E()){n(e);var t=o[e];m.default.countDocs("open doc",t.isVicariousDoc?"vicarious":c)}}),[o,n,c,E]);return s?a.default.createElement("div",{className:O().e("Spin-Wrap")},a.default.createElement(f.Spin,{view:"default",progress:!0,size:"m"})):u?a.default.createElement(p.default,null):a.default.createElement(a.default.Fragment,null,a.default.createElement(h.default,null),l!==b.FilterType.ALL&&0===i.length?a.default.createElement("div",{className:O().e("Empty-Filter")},l===b.FilterType.MY?"Пока нет ни одного вашего документа.":"С вами ещё не поделились документами."):null,a.default.createElement(v.default,r({},w,{onResourceOpen:C,resourcesByIds:o,resources:i,requestFetchNext:y.default.noop,completed:!0})))})),"docs")}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(19),a=n(33),s=n(75),u=r(n(713)),c={setListingType:s.setListingType},l=o.connect((function(e){return{type:a.currentDocsType(e),listingType:a.listingType(e)}}),c);t.default=l((function(e){var t=e.listingType,n=e.setListingType;return i.default.createElement(u.default,{values:["tile","icons","list"],value:t,onChange:n})}))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(605),s=n(606),u=n(389),c=n(413),l=i(n(726));n(1440);var d=i(n(11)),f=function(){return d.default()("ListingTypeSelect")},h={tile:u.displayTilesIconProvider,icons:s.displayIconsIconProvider,list:a.displayListIconProvider,wow:c.displayWowIconProvider};t.default=function(e){var t=e.value,n=e.onChange,r=e.typesNames,i=e.title,a=e.values,s=o.useCallback((function(e){n(e.target.value)}),[n]);return o.default.createElement(l.default,{size:"m",view:"default",value:t,onChange:s,className:f(),menuClassName:f().e("Menu"),title:i,options:a.map((function(e){return{value:e,content:r[e],icon:h[e]}}))})}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);var r=n(50);n.d(t,"cnIcon",(function(){return r.b})),n.d(t,"Icon",(function(){return r.a}));var i=n(367);n.d(t,"withGlyphCaretsV",(function(){return i.a}));var o=n(368);n.d(t,"withGlyphTypeArrow",(function(){return o.a}));var a=n(225);n.d(t,"withGlyphTypeCheck",(function(){return a.a}));var s=n(369);n.d(t,"withGlyphTypeClose",(function(){return s.a}));var u=n(370);n.d(t,"withGlyphTypeCrossWebsearch",(function(){return u.a}));var c=n(371);n.d(t,"withGlyphTypeCross",(function(){return c.a}));var l=n(372);n.d(t,"withGlyphTypeFilter",(function(){return l.a}));var d=n(373);n.d(t,"withGlyphTypeIndeterminate",(function(){return d.a}));var f=n(374);n.d(t,"withGlyphTypeTick",(function(){return f.a}));var h=n(221);n.d(t,"withGlyphXSign",(function(){return h.a}));var p=n(375);n.d(t,"withTypeArrow",(function(){return p.a}));var m=n(376);n.d(t,"withTypeClose",(function(){return m.a}));var v=n(223);n.d(t,"withTypeCrossWebsearch",(function(){return v.a}));var g=n(222);n.d(t,"withTypeCross",(function(){return g.a}));var y=n(377);n.d(t,"withTypeFilter",(function(){return y.a}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=i(n(1442)),u=n(25),c=n(389),l=n(606),d=n(605),f=n(163),h=n(33),p=n(122),m=n(75),v=i(n(609)),g=n(610),y=i(n(11)),b=function(){return y.default()("Docs-Touch-Listing-Settings")},_={setListingType:m.setListingType,setFilterType:m.setFilterType},O=a.connect((function(e){return{type:h.currentDocsType(e),listingType:h.listingType(e),filterType:h.getFilterType(e),isScansPage:p.isScansPage(e)}}),_);t.default=O((function(e){var t=e.setListingType,n=e.setFilterType,r=e.filterType,i=e.isScansPage,a=o.useState(!1),h=a[0],p=a[1],m=o.useCallback((function(){p(!h)}),[h,p]),y=o.useCallback((function(){p(!1)}),[p]),_=o.useCallback((function(e){t(e),p(!1)}),[p,t]),O=o.useCallback((function(e){n(e),p(!1)}),[p,n]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(u.Button,{className:b().e("Button"),view:"clear",size:"s","aria-label":"Ещё",onClick:m,icon:f.moreIconProvider}),o.default.createElement(v.default,{render:function(e){var t=e.sortMap,n=e.sortOrderMap,a=e.sortOrgerList,u=e.setSortBy,f=e.setSortOrder,m=e.activeSortingType;return o.default.createElement(s.default,{cls:b(),visible:h,onClose:y,items:(function(){var e={name:"Вид",type:"menu",items:[{text:"Список",icon:d.displayListIconProvider,onClick:function(){return _("list")},cls:b().e("Type").m({list:!0})},{text:"Плитка",icon:l.displayIconsIconProvider,onClick:function(){return _("icons")},cls:b().e("Type").m({icons:!0})},{text:"Крупная плитка",icon:c.displayTilesIconProvider,onClick:function(){return _("tile")},cls:b().e("Type").m({tile:!0})}]},o={name:"Сортировать по",type:"radiobox",value:m.sort,onChange:function(e){u(e.target.value),p(!1)},items:Object.entries(t).map((function(e){var t=e[0];return{text:e[1],value:t}}))},s={name:null,type:"radiobox",value:m.order,onChange:function(e){f(e.target.value),p(!1)},items:a.map((function(e){return{text:n[e],value:e}}))};return i?[e,o,s]:[{name:"Показать",type:"radiobox",value:r,onChange:function(e){O(e.target.value)},items:Object.entries(g.FILTER_MAP).map((function(e){var t=e[0];return{text:e[1],value:t}}))},e,o,s]})()})}}))}))}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(5),l=n.n(c),d=n(7),f=n.n(d),h=n(1),p=n.n(h),m=n(0),v=n.n(m),g=n(117),y=n(57),b=n(483),_=n(485),O=n(11),w=n.n(O);n(1443);function E(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var S=function(){return w()()("menu-pane")},C=(function(e){l()(n,e);var t=E(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onMenuItemClick=r._onMenuItemClick.bind(u()(r)),r}return a()(n,[{key:"_onMenuItemClick",value:function(e){var t=e.target.value;t.onClick&&t.onClick()}},{key:"_getMenu",value:function(e){return v.a.createElement(y.Menu,{size:"m",view:"default",width:"max",paddingless:!0,wide:!0,onChange:this._onMenuItemClick},e.map((function(e,t){return v.a.createElement(y.Item,{key:t,className:e.cls,value:e,icon:e.icon},e.text)})))}},{key:"_getRadioBox",value:function(e,t){var n=e.onChange;return v.a.createElement(b.Radiobox,{key:t,value:e.value,view:"default",size:"m",onChange:n,className:S().e("radiobox")},e.items.map((function(e,t){return v.a.createElement(_.ListTileRadio,{key:t,value:e.value,onClick:null===n||void 0===n?void 0:n.bind(null,{target:{value:e.value}}),leftSpace:"xl",rightSpace:"xl",leadingRadio:!0},e.text)})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.cls,r=t.visible,i=t.items,o=t.onClose;return v.a.createElement(g.Drawer,{className:S().mix(n),view:"default",visible:r,onClose:o},v.a.createElement("div",{className:S().e("content")},i.map((function(t,n){return"menu"===t.type||"radiobox"===t.type?v.a.createElement("div",{key:n,className:S().e("group")},t.name&&v.a.createElement("div",{className:S().e("group-name")},t.name),"radiobox"===t.type?e._getRadioBox(t,n):e._getMenu(t.items)):t.content}))))}}]),n})(m.Component);C.defaultProps={onClose:function(){}},t.default=C}),(function(e,t,n){}),(function(e,t,n){"use strict";var r,i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=n(19),u=n(25),c=n(74),l=n(57),d=n(163),f=n(33),h=n(265),p=n(75);n(1445);var m=o(n(11)),v=function(){return m.default()("Docs-Header-Filter-Button")};t.FILTER_MAP=((r={})[h.FilterType.ALL]="Все файлы",r[h.FilterType.MY]="Только мои",r[h.FilterType.OTHER]="Со мной поделились",r);var g={setFilterType:p.setFilterType},y=s.connect((function(e){return{filterType:f.getFilterType(e)}}),g);t.default=y((function(e){var n=e.setFilterType,r=e.filterType,i=a.useRef(null),o=a.useState(!1),s=o[0],f=o[1],h=a.useCallback((function(){f(!s)}),[s,f]),p=a.useCallback((function(){f(!1)}),[f]),m=a.useCallback((function(e){n(e.target.value),f(!1)}),[f,n]);return a.default.createElement(a.default.Fragment,null,a.default.createElement(u.Button,{className:v(),view:"clear",size:"m","aria-label":"Ещё",onClick:h,icon:d.moreIconProvider,innerRef:i}),a.default.createElement(c.Popup,{className:v().e("Popup"),view:"default",target:"anchor",anchor:i,visible:s,direction:"bottom-end",onClose:p},a.default.createElement("div",{className:v().e("Filter-Title")},"Показать"),a.default.createElement(l.Menu,{view:"default",size:"m",value:r,onChange:m,rightGlyph:!0,wide:!0},Object.entries(t.FILTER_MAP).map((function(e){var t,n=e[0],r=e[1];return a.default.createElement(l.Item,{key:n,value:n,className:v().e("Type").m((t={},t[n.toLowerCase()]=!0,t))},r)})))))}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"diskIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.232198 11.6427C-0.253337 10.6344 0.404654 9.05445 1.87142 7.51635C1.87377 7.51368 1.87627 7.51104 1.87891 7.50844L1.87997 7.5074C1.90219 7.48415 1.9246 7.46091 1.94718 7.43768C2.27426 7.08154 2.52407 6.56039 2.77448 6.03798C2.86598 5.84709 2.95756 5.65604 3.05302 5.47281C3.55246 4.51404 4.40326 3.62458 5.54902 3.08823C6.87392 2.4674 8.32067 2.44628 9.48935 2.81515C9.58064 2.84392 9.66929 2.87334 9.75682 2.90238L9.75698 2.90244L9.757 2.90244C10.1802 3.04287 10.5772 3.17461 11.1206 3.18338C13.2674 3.0394 14.9787 3.49564 15.5327 4.2663C15.6502 4.36888 15.7416 4.48545 15.8045 4.61599C16.497 6.05452 13.949 9.57228 9.67936 11.5721C5.41002 13.5721 1.0356 13.297 0.343025 11.8585C0.325247 11.8216 0.309743 11.7836 0.296483 11.7447C0.271259 11.7132 0.249785 11.6793 0.232198 11.6427ZM9.52512 11.2428L9.52509 11.2428C7.43642 12.2213 5.32786 12.6398 3.66961 12.6411C2.83947 12.6418 2.13679 12.538 1.61155 12.3579C1.07544 12.1741 0.78206 11.9321 0.670667 11.7008C0.563311 11.4778 0.565844 11.143 0.772947 10.6769C0.977704 10.2161 1.36078 9.68051 1.91227 9.11019C3.01297 7.97192 4.73165 6.74956 6.83463 5.76443C8.93753 4.77935 11.0032 4.22902 12.6132 4.09854C13.4198 4.03316 14.0935 4.07474 14.5939 4.20735C15.1016 4.34191 15.3701 4.55209 15.4768 4.77374C15.5876 5.00393 15.5926 5.37856 15.3989 5.90248C15.2091 6.41621 14.8474 7.01797 14.3227 7.65164C13.2746 8.91733 11.614 10.2644 9.52512 11.2428ZM12.4521 7.30603C12.7796 7.98665 11.4082 9.30507 9.38877 10.251C7.36929 11.197 5.46653 11.4121 5.139 10.7318C4.81146 10.0514 6.18282 8.73302 8.2023 7.78705C10.2218 6.84107 12.1245 6.6257 12.4521 7.30603Z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(15));n(275);var u=i(n(11)),c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._getDefaultSize=function(){return"xl"},t.prototype.getContent=function(){return a.default.createElement("span",{className:u.default()("ufo-icon").e("bg-icon").m({docx:!0})})},t})(s.default);t.default=c,t.docxIconProvider=s.iconProvider(c)}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(15));n(275);var u=i(n(11)),c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._getDefaultSize=function(){return"xl"},t.prototype.getContent=function(){return a.default.createElement("span",{className:u.default()("ufo-icon").e("bg-icon").m({xlsx:!0})})},t})(s.default);t.default=c,t.xlsxIconProvider=s.iconProvider(c)}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(15));n(275);var u=i(n(11)),c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._getDefaultSize=function(){return"xl"},t.prototype.getContent=function(){return a.default.createElement("span",{className:u.default()("ufo-icon").e("bg-icon").m({pptx:!0})})},t})(s.default);t.default=c,t.pptxIconProvider=s.iconProvider(c)}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(15));n(275);var u=i(n(11)),c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._getDefaultSize=function(){return"xl"},t.prototype.getContent=function(){return a.default.createElement("span",{className:u.default()("ufo-icon").e("bg-icon").m({open:!0})})},t})(s.default);t.default=c,t.openIconProvider=s.iconProvider(c)}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(15));n(275);var u=i(n(11)),c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._getDefaultSize=function(){return"xl"},t.prototype.getContent=function(){return a.default.createElement("span",{className:u.default()("ufo-icon").e("bg-icon").m({upload:!0})})},t})(s.default);t.default=c,t.uploadIconProvider=s.iconProvider(c)}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=i(n(286)),u=n(26),c=n(75),l=n(43),d=n(197);n(1459);var f=i(n(11)),h={upload:u.upload,watchUploadStates:c.watchUploadStates,maybeBlockActionOverdraft:u.maybeBlockActionOverdraft},p=a.connect((function(e,t){return{transparentAbsolute:t.transparentAbsolute,overdraftType:l.getOverdraftType(e)}}),h);t.default=p((function(e){var t=e.upload,n=e.transparentAbsolute,r=e.overdraftType,i=e.maybeBlockActionOverdraft,a=o.useCallback((function(e,n){t(e).then(n,n)}),[t]),u=o.useCallback((function(){i({forLite:!0})}),[i]);return o.default.createElement(s.default,{accept:d.getAllAcceptedExts().map((function(e){return"."+e})),cls:f.default()("Docs-Upload-Button").e("Button").m({"Transparent-Absolute":n}),onChange:a,onClick:u,theme:"raised",withoutInput:Boolean(r)})}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(74),a=n(57),s=r(n(609));n(1462);var u=r(n(11)),c=function(){return u.default()("Change-Sort-Type")};t.default=function(e){var t=e.onSortPopupClose,n=e.titleRef,r=e.popupVisible;return i.default.createElement(s.default,{render:function(e){var s=e.sortMap,u=e.sortOrderMap,l=e.setSortOrder,d=e.sortOrgerList,f=e.setSortBy,h=e.activeSortingType;return i.default.createElement(i.default.Fragment,null,i.default.createElement(o.Popup,{className:c().e("Popup"),view:"default",target:"anchor",anchor:n,visible:r,direction:"bottom-end",onClose:t},i.default.createElement(a.Menu,{className:c().e("Menu"),view:"default",size:"m",width:"max",value:h.sort,onChange:function(e){f(e.target.value),t()},rightGlyph:!0,wide:!0},i.default.createElement(a.Group,null,Object.entries(s).map((function(e){var t,n=e[0],r=e[1];return i.default.createElement(a.Item,{key:n,value:n,className:c().e("Sort-Type").m((t={},t[n.toLowerCase()]=!0,t))},r)})))),i.default.createElement(a.Menu,{view:"default",className:c().e("Menu"),size:"m",width:"max",value:h.order,onChange:function(e){l(e.target.value),t()},rightGlyph:!0,wide:!0},i.default.createElement(a.Group,null,d.map((function(e){var t;return i.default.createElement(a.Item,{key:e,value:e,className:c().e("Sort-Order").m((t={},t[e]=!0,t))},u[e])}))))))}})}}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(15),p=n(0),m=n.n(p);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"m"}},{key:"getContentSVG",value:function(){return m.a.createElement("path",{d:"M8 1L12 7H4L8 1ZM8 15L12 9H4L8 15Z",fill:"currentColor",fillRule:"nonzero"})}}]),n})(h.default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"documentIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M4 2C2.89543 2 2 2.89543 2 4V12C2 13.1046 2.89543 14 4 14H12C13.1046 14 14 13.1046 14 12V4C14 2.89543 13.1046 2 12 2H4ZM4 5.33333C4 4.96514 4.29848 4.66667 4.66667 4.66667H11.3333C11.7015 4.66667 12 4.96514 12 5.33333C12 5.70152 11.7015 6 11.3333 6H4.66667C4.29848 6 4 5.70152 4 5.33333ZM4.66667 7.33333C4.29848 7.33333 4 7.63181 4 8C4 8.36819 4.29848 8.66667 4.66667 8.66667H9.33333C9.70152 8.66667 10 8.36819 10 8C10 7.63181 9.70152 7.33333 9.33333 7.33333H4.66667ZM4.66667 10C4.29848 10 4 10.2985 4 10.6667C4 11.0349 4.29848 11.3333 4.66667 11.3333H10C10.3682 11.3333 10.6667 11.0349 10.6667 10.6667C10.6667 10.2985 10.3682 10 10 10H4.66667Z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"presentationIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContent",value:function(){return p.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M13.543 5.70346C13.8445 6.43141 13.9997 7.21163 13.9997 7.99956H7.99968L7.99968 2C4.68612 2.00017 2 4.6864 2 8C2 11.3137 4.68629 14 8 14C11.3137 14 14 11.3137 14 8C14 6.461 13.4206 5.05733 12.468 3.99525C12.9196 4.49927 13.2833 5.07671 13.543 5.70346ZM11.8725 3.41682C10.9631 2.64767 9.82168 2.14429 8.56815 2.02655C9.16114 2.08299 9.7435 2.22752 10.2958 2.45628C10.8687 2.69358 11.4004 3.01786 11.8725 3.41682Z"}),p.a.createElement("circle",{cx:"8",cy:"8",r:"5.25",stroke:"currentColor",strokeWidth:"1.5"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"tableIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M4 2C2.89543 2 2 2.89543 2 4V6.83333C2 7.10948 2.22386 7.33333 2.5 7.33333H6.83333C7.10948 7.33333 7.33333 7.10948 7.33333 6.83333V2.5C7.33333 2.22386 7.10948 2 6.83333 2H4ZM9.16667 2C8.89052 2 8.66667 2.22386 8.66667 2.5V6.83333C8.66667 7.10948 8.89053 7.33333 9.16667 7.33333H13.5C13.7761 7.33333 14 7.10948 14 6.83333V4C14 2.89543 13.1046 2 12 2H9.16667ZM2 9.16667C2 8.89053 2.22386 8.66667 2.5 8.66667H6.83333C7.10948 8.66667 7.33333 8.89052 7.33333 9.16667V13.5C7.33333 13.7761 7.10948 14 6.83333 14H4C2.89543 14 2 13.1046 2 12V9.16667ZM10.1667 12.5V10.1667H12.5V12C12.5 12.2761 12.2761 12.5 12 12.5H10.1667ZM8.66667 9.16667C8.66667 8.89053 8.89052 8.66667 9.16667 8.66667H13.5C13.7761 8.66667 14 8.89052 14 9.16667V12C14 13.1046 13.1046 14 12 14H9.16667C8.89053 14 8.66667 13.7761 8.66667 13.5V9.16667Z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=n(33),u=n(26),c=i(n(12)),l=i(n(487)),d=i(n(486));n(1469);var f=i(n(11)),h=function(){return f.default()("Docs-Stub")},p={openEditor:u.openEditor},m={docx:"Документ",xlsx:"Таблица",pptx:"Презентация"},v=a.connect((function(e){var t=e.user.isOfficeAllowed;return{type:s.currentDocsType(e),isOfficeAllowed:t}}),p);t.default=v((function(e){var t,n=e.openEditor,r=e.isOfficeAllowed;t=r?"Создайте, откройте из вашего Диска или загрузите с компьютера":"Откройте из вашего Диска или загрузите с компьютера";var i=o.useCallback((function(e){n(e,"/disk"),c.default.countDocs("create doc",e,"stub")}),[n]);return o.default.createElement("div",{className:h()},o.default.createElement("h1",{className:h().e("Title")},t),o.default.createElement("div",{className:h().e("Options")},r?Object.keys(m).map((function(e){var t;return o.default.createElement("button",{key:e,className:h().e("Option"),onClick:function(){return i(e)}},o.default.createElement("span",{className:h().e("Option-Icon").m((t={},t[e]=!0,t))}),m[e])})):null,o.default.createElement("div",{className:h().e("Option")},o.default.createElement("div",{className:h().e("Option-Icon").m({open:!0})}),"Открыть",o.default.createElement(d.default,{transparentAbsolute:!0})),o.default.createElement("div",{className:h().e("Option")},o.default.createElement("div",{className:h().e("Option-Icon").m({upload:!0})}),o.default.createElement(l.default,{transparentAbsolute:!0}),"Загрузить")))}))}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(19),a=r(n(395)),s=o.connect((function(e,t){var n=e.resources,r=e.environment.agent.OSFamily,i=t.resourceId;return{resource:i?n[i]:null,isAndroid:"Android"===r}}));t.default=s((function(e){var t=e.resource,n=e.anchor,r=e.isAndroid,o=e.onClose;return t?i.default.createElement(a.default,{visible:Boolean(t.id),resources:[t],target:"anchor",anchor:n,metrikaPath:["docs more"],directions:["bottom-right","top-right","bottom-left","top-left","left-center","right-center"],onClose:o,isAndroid:r}):null}))}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=n(75),u=n(26),c=n(20),l=i(n(1473)),d=i(n(1474)),f=i(n(436)),h=i(n(199)),p=i(n(614)),m=n(25);n(1475);var v=i(n(11)),g=function(){return v.default()("Docs-Resource-Actions")},y=function(e){var t,n=e.active,r=e.onActive,i=e.onHover,a=e.onClick,s=e.type;return o.default.createElement(m.Button,{view:"tundora",size:"xxs",pin:"circle-circle",className:g().e("Button").m((t={Hoverable:!n},t[s]=!0,t)),onClick:a,icon:n?r:i})},b={remoteTogglePinDoc:s.remoteTogglePinDoc,maybeBlockActionOverdraft:u.maybeBlockActionOverdraft},_=a.connect((function(e,t){var n=t.resourceId,r=e.resources[n];return{isPublic:!!r.meta.public,isPinned:!!r.pinned,canPublish:c.can(c.PUBLISH,r,e),canPin:c.can(c.PIN,r,e)}}),b),O=function(e){return o.default.createElement(f.default,{cls:e,iconSize:"s"})},w=function(e){return o.default.createElement(h.default,{isAndroid:!1,cls:e,iconSize:"s"})},E=function(e){return o.default.createElement(l.default,{cls:e,iconSize:"s"})},S=function(e){return o.default.createElement(d.default,{cls:e,iconSize:"s"})};t.default=_((function(e){var t=e.resourceId,n=e.isPublic,r=e.isPinned,i=e.onShareClick,a=e.remoteTogglePinDoc,s=e.maybeBlockActionOverdraft,u=e.canPublish,c=e.onMoreClick,l=e.canPin,d=o.useCallback((function(){!n&&s()||i(t)}),[t,i,s]),f=o.useCallback((function(){a(t)}),[t,a]),h=o.useMemo((function(){return o.default.createElement(p.default,{resourceId:t,className:g().e("Button").m({Hoverable:!0,More:!0}),onClick:c})}),[t,c]),m=o.useMemo((function(){return u||n?o.default.createElement(y,{onClick:d,active:n,onActive:O,onHover:w,type:"share"}):null}),[u,d,n]),v=o.useMemo((function(){return o.default.createElement(y,{onClick:f,active:r,onActive:E,onHover:S,type:"pin"})}),[f,r]);return o.default.createElement("div",{className:g().e("Container")},h,m,l&&v)}))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"docsPinBoldIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getViewBox",value:function(){return"0 0 16 16"}},{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.17738 5.27452C2.91713 5.53486 2.91713 5.95686 3.17738 6.21719L6.00577 9.04586L2.24429 12.8073L1.77181 14.2236L3.18677 13.7505L6.94853 9.98871L9.77986 12.8203C10.0405 13.0803 10.4625 13.0803 10.7225 12.8203L10.9332 12.6103C12.3487 11.2026 12.5241 9.64758 12.0583 7.70632L14.4992 5.26679C14.7494 5.01673 14.8899 4.67751 14.8899 4.32379C14.8899 3.97008 14.7494 3.63086 14.4992 3.38079L12.6138 1.49674C12.0931 0.976229 11.2491 0.976229 10.7285 1.49674L8.28695 3.93693C6.36229 3.48626 4.78605 3.66586 3.38738 5.06452L3.17738 5.27452Z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"docsPinStrokeIconProvider",(function(){return y}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getViewBox",value:function(){return"0 0 16 16"}},{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.2416 11.3964L4.60263 5.75686C5.48452 5.01903 6.47337 4.88152 7.98278 5.23496L8.70481 5.40402L11.671 2.4395L13.5564 4.3236L11.1156 6.76306L10.5874 7.29099L10.7616 8.01718C11.1268 9.53933 10.9934 10.51 10.2416 11.3964ZM3.17718 5.27437C2.91693 5.5347 2.91693 5.9567 3.17718 6.21703L6.00556 9.0457L2.24409 12.8072L1.77161 14.2235L3.18657 13.7503L6.94832 9.98855L9.77966 12.8202C10.0403 13.0802 10.4623 13.0802 10.7223 12.8202L10.933 12.6102C12.3485 11.2024 12.5239 9.64742 12.0581 7.70617L14.499 5.26664C14.7492 5.01658 14.8897 4.67735 14.8897 4.32364C14.8897 3.96992 14.7492 3.6307 14.499 3.38064L12.6136 1.49658C12.0929 0.976074 11.2489 0.976074 10.7283 1.49658L8.28675 3.93678C6.36209 3.48611 4.78585 3.6657 3.38718 5.06437L3.17718 5.27437Z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=n(19),u=o(n(728)),c=n(122),l=n(16),d=n(30),f=o(n(612)),h=o(n(613)),p=o(n(604)),m=o(n(1486));n(1488);var v=o(n(11)),g={openScanResource:l.openScanResource,fetchCurrentListing:l.fetchCurrentListing},y=s.connect((function(e){var t=e.environment.session.shouldShowScannerButton,n=e.page,r=n.page,i=n.idPage,o=n.idContext,a=e.resources[o];return{page:r,idPage:i,resources:d.getResources(e),isScansLoading:c.isScansLoading(e),currentResource:a,isComplete:d.currentResourceIsComplete(e),shouldShowScannerButton:t}}),g);t.default=h.default(y((function(e){var t=e.resourcesByIds,n=e.resources,i=e.fetchCurrentListing,o=e.isComplete,s=e.currentResource,c=e.listingProps,l=e.openScanResource,d=e.shouldShowScannerButton;a.useEffect((function(){i()}),[i]);var h=a.useCallback((function(){return!s||!t||s.isLoading}),[s,t]);return n.length||h()?a.default.createElement(a.default.Fragment,null,!h()&&a.default.createElement(p.default,null),a.default.createElement(f.default,r({},c,{cls:v.default()("Scans").e("Listing").m({"With-Scanner-Button-Padding":d}).mix(c.cls),onResourceOpen:l,resourcesByIds:t,resources:n,requestFetchNext:i,completed:o,loading:h()})),d&&a.default.createElement(m.default,null)):a.default.createElement(a.default.Fragment,null,a.default.createElement(u.default,null),d&&a.default.createElement(m.default,null))})),"scans")}),(function(e,t){e.exports="/s3/disk/_/_12HIHiuBQbxTZBvBpTVSrtm2_bI.png"}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=r(n(11)),a=r(n(1481)),s=r(n(1482)),u=r(n(1483)),c=r(n(1484));n(1485);var l=function(){return o.default()("listing-stub-scans-qr-code")},d={mail:{"1x":a.default,"2x":s.default},disk:{"1x":u.default,"2x":c.default}};t.default=function(e){var t=e.staticHost,n=e.service,r=e.className,o=d[n];return i.default.createElement("div",{className:l().mix(r)},i.default.createElement("div",{className:l().e("code-wrapper")},i.default.createElement("img",{className:l().e("code").m({service:n}),src:t+o["1x"],srcSet:""+t+o["2x"]+" 2x"})),i.default.createElement("div",{className:l().e("text-wrapper")},i.default.createElement("div",{className:l().e("text")},"Cкачать"),i.default.createElement("div",{className:l().e("text").m({"service-name":!0})},"mail"===n?"Яндекс Почту":"Яндекс Диск")))}}),(function(e,t){e.exports="/s3/disk/_/_bnu33pJSMuUudn-FCxltPz7bGgB.png"}),(function(e,t){e.exports="/s3/disk/_/_5NgaOAvvo1tbbTyGOSw7Wmh2Sfc.png"}),(function(e,t){e.exports="/s3/disk/_/_7tOhgcwROEWKb84dqMZ5Kepw3PP.png"}),(function(e,t){e.exports="/s3/disk/_/_frVKHHROGhfOuIJr8mUEIr0vne5.png"}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(25),s=n(279),u=i(n(11));n(1487);t.default=function(){var e=o.useCallback((function(){var e,t;null===(t=null===(e=window.HOST_API)||void 0===e?void 0:e.openScanner)||void 0===t||t.call(e)}),[]);return o.default.createElement(a.Button,{className:u.default()("Start-Scanner-Button"),size:"xxl",view:"action",theme:"raised",pin:"circle-circle",icon:s.plusIconProvider,onClick:e})}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(98)),s=n(60);n(1490);var u,c=i(n(11)),l=n(151).I18N;!(function(e){e.READY="READY",e.FAIL="FAIL",e.OUT_OF_SPACE="OUT_OF_SPACE"})(u=t.SAVE_STATUSES||(t.SAVE_STATUSES={}));t.default=function(e){var t=e.status,n=e.folderUrl,r=e.onClose,i=o.useMemo((function(){switch(t){case u.READY:return o.default.createElement(l,{loc:"Файл сохранен на ваш Яндекс.Диск"+yr.externals.entityify(l.$1)+" в папку "+yr.externals.entityify(l.$2_OPEN)+"Загрузки"+yr.externals.entityify(l.$2_CLOSE)+"."},o.default.createElement("br",null),o.default.createElement(s.Link,{target:"_blank",theme:"normal",href:n}));case u.FAIL:return o.default.createElement(l,{loc:"Не удалось сохранить файл на Диск."+yr.externals.entityify(l.$1)+" Повторите попытку позже."},o.default.createElement("br",null));case u.OUT_OF_SPACE:return o.default.createElement(l,{loc:"Не удалось сохранить файл на Диск."+yr.externals.entityify(l.$1)+" Недостаточно свободного места."},o.default.createElement("br",null))}return""}),[t,n]);return o.default.createElement(a.default,{visible:Boolean(t),onClose:r,closeButtonAriaLabel:"Закрыть",trapFocus:!1},o.default.createElement("div",{className:c.default()("Docs-View-Save-Modal").e("Content")},i))}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=i(n(1494)),s=n(1495),u=n(616);n(1498),t.UXFeedbackComponent=function(e){var t=e.accountId,n=e.className,r=e.uxfbController,i=o.useRef(null),c=o.useRef(r),l=s.useIframeReducer(),d=l[0],f=l[1];return o.useEffect((function(){var e=function(t){i.current&&t.data&&"uxfb/listener"===t.data.type&&(c.current||(c.current=new u.UXFeedbackIframeController),c.current.start(i.current,f),window.removeEventListener("message",e))};return window.addEventListener("message",e),function(){c.current&&c.current.stop(),window.removeEventListener("message",e)}}),[]),o.default.createElement("iframe",{ref:i,className:a.default("uxs-slide-back",n,d.classes),frameBorder:"0",src:"https://yastatic.net/s3/psf/uxfeedback/iframe.html?id="+t,sandbox:"allow-scripts allow-same-origin allow-forms allow-popups",style:d.style})}}),(function(e,t,n){var r;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!(function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var a=i.apply(null,r);a&&e.push(a)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var s in r)n.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)})()}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.useIframeReducer=function(){return o.useReducer((function(e,t){switch(t.type){case"set-class":return r(r({},e),{classes:i(e.classes,[t.className])});case"set-style":return r(r({},e),{style:r(r({},e.style),t.style)});case"remove-style":var n=r({},e.style);return t.keys.forEach((function(e){delete n[e]})),r(r({},e),{style:n});default:return e}}),{classes:[],style:{}})}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getYaIdFromCookies=function(){var e=document.cookie,t=e.indexOf("_ym_uid"),n=e.indexOf(";",t),r=e.length,i=-1===n?r:n;return e.substring(t,i).replace("_ym_uid=","")},t.objectToCookies=function(e){return Object.entries(e).reduce((function(e,t){return e.push(t.map(encodeURIComponent).join("=")),e}),[]).join("; ")}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.INFO="uxfb/info",e.CLIENT_HEIGHT="uxfb/clientHeight",e.SHOW_WIDGET_ICON="uxfb/showWidgetIcon",e.HISTORY="uxfb/history",e.SCROLL="uxfb/scroll",e.EVENT="uxfb/event",e.PROPERTIES="uxfb/properties",e.STYLE="uxfb/style",e.POSITION="uxfb/position",e.SIZE="uxfb/size",e.OPACITY="uxfb/opacity",e.CLASS="uxfb/class",e.IMAGE="uxfb/image"})(t.UXFeedbackMessageType||(t.UXFeedbackMessageType={}))}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(25),a=r(n(126)),s=r(n(11)),u=function(){return s.default()("overdraft-content")},c=r(n(1500));n(1504);var l=function(){};t.default=function(e){var t,n=e.isMobile,r=e.title,s=e.text,d=e.aboutText,f=void 0===d?"":d,h=e.buttonAddSpaceText,p=void 0===h?"":h,m=e.buttonCleanText,v=void 0===m?"":m,g=e.overdraftType,y=e.staticHost,b=e.helpLink,_=void 0===b?"":b,O=e.buyButtonUrl,w=void 0===O?"":O,E=e.buyButtonTarget,S=void 0===E?"_blank":E,C=e.onClose,x=void 0===C?l:C,k=e.onClean,T=void 0===k?l:k,j=e.onAddSpace,R=void 0===j?l:j,P=e.onAbout,D=void 0===P?l:P,I=e.withoutClose,A=void 0!==I&&I,M=e.isDark,N="hard"===g&&M?c.default.hardDark:c.default[g];return i.default.createElement("div",{className:u().m((t={mobile:n},t[g]=!0,t))},A?null:i.default.createElement(o.Button,{className:u().e("close"),onClick:x,size:n?"xs":"m",view:"clear",icon:function(e){return i.default.createElement(a.default,{cls:e,iconSize:n?"l":"m"})}}),i.default.createElement("div",{className:u().e("content")},i.default.createElement("div",{className:u().e("title")},r),i.default.createElement("div",{className:u().e("text")},s,n?" ":i.default.createElement("br",null),f?i.default.createElement(o.Button,{className:u().e("about"),size:"m",view:"clear",type:"link",url:_,target:"_blank",onClick:D},f):null),i.default.createElement("div",{className:u().e("image-wrapper")},i.default.createElement("img",{className:u().e("image"),src:""+(y||"")+N})),p||v?i.default.createElement("div",{className:u().e("buttons-wrapper")},p?i.default.createElement(o.Button,{className:u().e("button-add-space"),size:"m",view:"action",onClick:R,type:"link",url:w,target:S},p):null,v?i.default.createElement(o.Button,{className:u().e("button-clean"),size:"m",view:n?"clear":"default",onClick:T},v):null):null))}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1501)),o=r(n(1502)),a=r(n(1503));t.default={lite:i.default,hard:o.default,hardDark:a.default}}),(function(e,t){e.exports="/s3/disk/_/_fszeyF4_Lhkmaa3YYmzmsu-x_OZ.svg"}),(function(e,t){e.exports="/s3/disk/_/_6VEhOQvb_8Fj8ItykZ0ssa0ze5t.png"}),(function(e,t){e.exports="/s3/disk/_/_9k3vl4cAfdCiIkC-F71hoZwq-Wa.png"}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(0)),u=n(618),c=n(619),l=n(1508);function d(e){return Boolean(e&&"object"==typeof e&&"1280"in e)}function f(e){return Boolean(e&&"object"==typeof e&&"jpeg"in e)}function h(e,t,n){var i=n?{media:"(min-width: "+n+"px)"}:{};return Object.values(l.IMAGE_TYPE).filter((function(e){return Boolean(t[e])})).map((function(o){return s.default.createElement("source",r({key:n+"-"+o,className:e.imageSource,srcSet:t[o],type:"image/"+o},i))}))}function p(e,t){var n=d(t)?t[l.MIN_IMAGE_SIZE]:t;return s.default.createElement(s.default.Fragment,null,d(t)?l.STOP_SET.map((function(n){return (function(e,t,n){return f(n)?h(e,n,t):s.default.createElement("source",{key:t,className:e.imageSource,srcSet:n,media:"(min-width: "+t+"px)"})})(e,n,t[n])})):null,f(t)?h(e,t):null,f(n)&&!f(t)?h(e,n):null,s.default.createElement("img",{className:e.imageSource,src:f(n)?n.jpeg:n,alt:""}))}var m={imageContent:"imageContent",imageSource:"imageSource"};t.default=s.memo((function(e){var t=e.imageUrl,n=e.className,r=e.contentPosition,i=c.useHashed(m),o=s.useMemo((function(){return (function(e,t){var n=t.contentPosition;return u.zip(["\n        ."+e.imageContent+" {\n          top:0;\n          left: 0;\n          pointer-events: none;\n        }","\n        ."+e.imageSource+" {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          "+u.prop("object-position",n)+"\n        }"].join("\n"))})(i,{contentPosition:r})}),[i,r]),a=s.useMemo((function(){return p(i,t)}),[i,t]);return s.default.createElement(s.default.Fragment,null,s.default.createElement("style",null,o),s.default.createElement("picture",{className:i.imageContent+" "+n,"aria-hidden":!0},a))}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STOP_SET=t.MIN_IMAGE_SIZE=t.IMAGE_SIZE=t.IMAGE_TYPE=void 0,t.IMAGE_TYPE={webp:"webp",png:"png",jpeg:"jpeg"},t.IMAGE_SIZE={1920:"1920",1536:"1536",1366:"1366",1280:"1280"},t.MIN_IMAGE_SIZE=t.IMAGE_SIZE[1280],t.STOP_SET=Object.values(t.IMAGE_SIZE).filter((function(e){return e!==t.MIN_IMAGE_SIZE})).sort((function(e,t){return-1*e.localeCompare(t,void 0,{numeric:!0})}))}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(0)),u=n(618),c=n(1510),l=n(1511),d=n(619);function f(e){return Boolean(e&&"object"==typeof e&&"mpeg"in e)}var h={webm:'video/webm; codecs="vp8"',mpeg:'video/mp4; codecs="avc1"'};var p={videoContent:"videoContent",videoSource:"videoSource"},m={loop:!0,muted:!0,autoPlay:!0,playsInline:!0,preload:"auto",pip:"false",disablePictureInPicture:!0};t.default=s.memo((function(e){var t=e.videoUrl,n=e.ignoreBattery,i=e.videoDisabled,o=e.className,a=e.contentPosition,v=d.useHashed(p),g=s.useMemo((function(){return (function(e,t){var n=t.contentPosition;return u.zip(["\n        ."+e.videoContent+" {\n          top: 0;\n          left: 0;\n          pointer-events: none;\n          object-fit: cover;\n          "+u.prop("object-position",n)+"\n        }","\n        ."+e.videoContent+"::-webkit-media-controls {\n          display: none;\n        }"].join("\n"))})(v,{contentPosition:a})}),[v,a]),y=s.useMemo((function(){return (function(e,t){return f(t)?s.default.createElement(s.default.Fragment,null,s.default.createElement("source",{src:t.webm,type:h.webm}),s.default.createElement("source",{src:t.mpeg,type:h.mpeg})):s.default.createElement("source",{className:e.videoSource,src:t})})(v,t)}),[v,t]),b=s.useMemo((function(){return!i}),[]),_=s.useRef(null),O=s.useRef(!0),w=c.useVisibility(),E=l.useCharging(n),S=s.useMemo((function(){return (function(e){return f(e)?e.webm+"-"+e.mpeg:e})(t)}),[t]);return s.useEffect((function(){var e;return null===(e=_.current)||void 0===e?void 0:e.setAttribute("muted","")}),[]),s.useEffect((function(){var e=!i&&E&&w;_.current&&(e&&!O.current?(O.current=!0,_.current.play()):!e&&O.current&&(O.current=!1,_.current.pause()))})),s.default.createElement(s.default.Fragment,null,s.default.createElement("style",null,g),s.default.createElement("video",r({key:S,className:v.videoContent+" "+o,ref:_},m,{autoPlay:b,"aria-hidden":!0}),y))}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useVisibility=void 0;var r=n(0);t.useVisibility=function(){var e=r.useState(!0),t=e[0],n=e[1],i=r.useCallback((function(){n("visible"===document.visibilityState)}),[]);return r.useEffect((function(){return document.addEventListener("visibilitychange",i,!1),i(),function(){return document.removeEventListener("visibilitychange",i,!1)}}),[i]),t}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useCharging=void 0;var r=n(0),i=null,o=null;t.useCharging=function(e){void 0===e&&(e=!1);var t=r.useState(o),n=t[0],a=t[1],s=r.useState(!0),u=s[0],c=s[1];return r.useEffect((function(){n||e||(i||(i=(null===navigator||void 0===navigator?void 0:navigator.getBattery)?navigator.getBattery().then((function(e){return o=e})):Promise.resolve(null)),i).then((function(e){return a(e)}))}),[n,e]),r.useEffect((function(){if(n&&!e){var t=function(){return c(n.charging)};return t(),n.addEventListener("chargingchange",t),function(){return n.removeEventListener("chargingchange",t)}}c(!0)}),[n,e]),u}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=n(28),u=n(1519),c=o(n(1523)),l=i(n(621)),d=s.cn("Subscription-Onboarding");t.default=function(e){var t=e.onboardingData,n=e.metrikaTail,i=e.onCloseOnboarding,o=e.countMetrikaFn,s=e.locale,f=e.onErrorOnboardingData,h=t.heading,p=t.benefits,m=t.yearButton,v=t.monthButton,g=t.bgUrl,y=t.illustrationImg,b=t.checkFreePeriod,_=t.secondTypeTextFreePeriod,O=a.useCallback((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.apply(void 0,r([n?n+" subscription onboarding":"subscription onboarding"],e))}),[n,o]);a.useEffect((function(){O("show");var e=u.isInvalidOnboardingData(t,s);e&&f(e)}),[]);var w=a.useCallback((function(){O("close"),i()}),[i,O]),E=a.useCallback((function(){O("year offer click"),window.location.assign(m.url),i()}),[i,O,m.url]),S=a.useCallback((function(){O("month offer click"),window.location.assign(v.url),i()}),[i,O,v.url]),C=u.getIllustrationsImgUrl(y,s);if(a.default.useMemo((function(){return u.isInvalidOnboardingData(t,s)}),[t,s]))return null;var x=m&&m.price,k=v&&v.price;return a.default.createElement(l.Container,{className:d(),style:{backgroundImage:"url("+g}},a.default.createElement(l.CloseButton,{onClose:w}),a.default.createElement(l.Content,null,a.default.createElement(l.Benefits,null,a.default.createElement(l.Logo,null),a.default.createElement(l.Title,null,h),p.map((function(e,t){return a.default.createElement(l.BenefitItem,{key:"BenefitItem"+t,text:e.text,iconUrl:e.iconUrl})})),a.default.createElement(l.ButtonsWrapper,null,x&&a.default.createElement(l.PromoButton,{isMain:!0,onClick:E,size:"xl"},a.default.createElement(c.default,{price:m.price,locale:s,customTexts:m.customTexts,forYear:!0,checkFreePeriod:b,secondTypeTextFreePeriod:_})),k&&a.default.createElement(l.PromoButton,{isMain:!x,onClick:S,size:"xl"},a.default.createElement(c.default,{price:v.price,locale:s,customTexts:v.customTexts,checkFreePeriod:b,secondTypeTextFreePeriod:_})))),a.default.createElement(l.Illustration,{illustrationUrl:C})))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(620);t.getIllustrationsImgUrl=function(e,t){var n=["ru","uk"].includes(t)?"ru":"en";return"object"==typeof e?e[n]:e},t.isInvalidOnboardingData=function(e,n){try{for(var i=e.heading,o=e.benefits,a=e.yearButton,s=e.monthButton,u=e.bgUrl,c=e.illustrationImg,l=0;l<o.length;l++)if(!o[l].text||!o[l].iconUrl)throw new Error("There is no text or icon in benefits | text => "+o[l].text+" | iconUrl => "+o[l].iconUrl+" | ");var d=t.getIllustrationsImgUrl(c,n);if(!(i&&o&&(a||s)&&u&&c&&d))throw new Error("There is no one of the props | heading =>  "+i+" | benefits =>  "+(o&&JSON.stringify(o))+" | yearButton =>  "+(a&&JSON.stringify(a))+" | monthButton => "+(s&&JSON.stringify(s))+" | bgUrl =>"+(u&&JSON.stringify(u))+" | illustrationImg => "+(c&&JSON.stringify(c))+" |");if(a&&a.price&&!r.isPriceWithTemporaryDiscount(a.price)||s&&s.price&&!r.isPriceWithTemporaryDiscount(s.price))throw new Error("There is price without temporary discount");return null}catch(e){return e}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.USD="USD",e.RUB="RUB"})(t.Currency||(t.Currency={})),(function(e){e.month="month",e.year="year"})(t.PaymentPeriod||(t.PaymentPeriod={})),(function(e){e.month="month",e.year="year",e.week="week"})(t.DiscountPeriod||(t.DiscountPeriod={}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(267),i={};i.ru=n(1522);t.default=function(e,t,n){return r.getComponentI18n(i,"tariff-button-content",e,t,n,"front-ps-tuning")}}),(function(e,t,n){(function(e){!(function(){var t;(t=t||{})["front-ps-tuning"]=t["front-ps-tuning"]||{},t["front-ps-tuning"]["tariff-button-content"]={"currency-month-short":function(e){return e.currency+"/мес"},"currency-usd-month-short":function(e){return"/мес"},"currency-usd-year-short":function(e){return"/год"},"currency-year-short":function(e){return e.currency+"/год"},free_period_text:function(e){return"+1 год бесплатно"},free_period_text2:function(e){return"Второй год бесплатно"},from_10_month:function(e){return"с десятого месяца "+e.price+" "},from_11_month:function(e){return"с одиннадцатого месяца "+e.price+" "},from_3_month:function(e){return"с третьего месяца "+e.price+" "},from_4_month:function(e){return"с четвертого месяца "+e.price+" "},from_5_month:function(e){return"с пятого месяца "+e.price+" "},from_6_month:function(e){return"с шестого месяца "+e.price+" "},from_7_month:function(e){return"с седьмого месяца "+e.price+" "},from_8_month:function(e){return"с восьмого месяца "+e.price+" "},from_9_month:function(e){return"с девятого месяца "+e.price+" "},from_next_month:function(e){return"со следующего месяца "+e.price+" "},from_next_year:function(e){return"со следующего года "+e.price+" "},from_third_year:function(e){return"с третьего года "+e.price+" "},payment_for_month:function(e){return"На месяц "+e.price},payment_for_year:function(e){return"На год "+e.price},price_for_one_month:function(e){return"Mесяц за "+e.price},price_for_one_week:function(e){return"Неделя за "+e.price},price_for_one_year:function(e){return"Год за "+e.price},price_for_period_month:function(e){return e.count+" "+t.tanker.dynamic.plural({count:"        \n        "+e.count+"     \n    ",one:"месяц",some:"месяца",many:"месяцев"})+" за "+e.price},price_for_period_week:function(e){return e.count+" "+t.tanker.dynamic.plural({count:"        \n        "+e.count+"     \n    ",one:"неделю",some:"недели",many:"недель"})+" за "+e.price},price_for_period_year:function(e){return e.count+" "+t.tanker.dynamic.plural({count:"        \n        "+e.count+"     \n    ",one:"год",some:"года",many:"лет"})+" за "+e.price},price_further:function(e){return"далее "+e.price},temporary_period_10_month:function(e){return"первые десять месяцев"},temporary_period_11_month:function(e){return"первые одиннадцать месяцев"},temporary_period_1_month:function(e){return"первый месяц"},temporary_period_1_year:function(e){return"первый год"},temporary_period_2_month:function(e){return"первые два месяца"},temporary_period_2_year:function(e){return"первые два года"},temporary_period_3_month:function(e){return"первые три месяца"},temporary_period_4_month:function(e){return"первые четыре месяца"},temporary_period_5_month:function(e){return"первые пять месяцев"},temporary_period_6_month:function(e){return"первые шесть месяцев"},temporary_period_7_month:function(e){return"первые семь месяцев"},temporary_period_8_month:function(e){return"первые восемь месяцев"},temporary_period_9_month:function(e){return"первые девять месяцев"}},(t=t||{}).tanker=t.tanker||{},t.tanker.dynamic={gender:function(e){return (function(e){return e[e.gender]})(e)},plural:function(e){return (function(e){var t=isNaN(parseInt(e.count))?0:e.count,n=t%10,r=t%100;return 1==n&&11!=r?e.one:n>1&&n<5&&(r<10||r>20)?e.some:e.many})(e)},plural_adv:function(e){return (function(e){return 0===(isNaN(parseInt(e.count))?0:e.count)?e.none:t.tanker.dynamic.plural({count:e.count,one:e.one,some:e.some,many:e.many})})(e)},toggle:function(e){return (function(e){return Boolean(e.condition)?e.true:e.false})(e)}},e&&e.exports?e.exports=t:(window.i18n=window.i18n||{},window.i18n.ru=t)})()}).call(this,n(145)(e))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(620);n(1524);var a=n(28).cn("TuningButtonContent");t.default=function(e){var t=e.locale,n=e.price,r=e.forYear,s=void 0!==r&&r,u=e.defaultContent,c=e.checkFreePeriod,l=e.customTexts,d=e.secondTypeTextFreePeriod,f=i.default.useMemo((function(){return o.getButtonData(t,n,s,c,d,l)}),[t,n,l,s,c,d]);return f?i.default.createElement(i.default.Fragment,null,f.crossedPrice?i.default.createElement("div",{className:a("Crossed-Price",{View2:!0,Year:s})},f.crossedPrice):null,f.buttonText,f.buttonInfoText?i.default.createElement("div",{className:a("Info",{Year:s,Free:f.withFreePeriod})},f.buttonInfoText):null):i.default.createElement(i.default.Fragment,null,u||null)}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0));t.default=function(){return i.default.createElement("svg",{width:"28",height:"28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.4 7.24a1.17 1.17 0 0 0-1.64-1.65L14 12.35 7.24 5.59A1.17 1.17 0 0 0 5.6 7.24L12.35 14l-6.76 6.76a1.17 1.17 0 1 0 1.65 1.65L14 15.65l6.76 6.76a1.17 1.17 0 0 0 1.65-1.65L15.65 14l6.76-6.76Z",fill:"currentColor"}))}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0));t.default=function(){return i.default.createElement("svg",{width:"149",height:"44",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M100.25 17.84c-5.13 0-9.34 1.46-11.35 3.77.38-6.81 3.91-10.56 12.27-10.56 4.35 0 8.15.65 11.88 2.63v-3.1a26.32 26.32 0 0 0-11.91-2.54c-11.12 0-15.83 6.58-15.83 15.38 0 8.04 3.7 12.14 14.67 12.14 8.27 0 14.67-3.4 14.67-9.24 0-5.62-5.69-8.48-14.4-8.48Zm-.33 14.68c-6.87 0-10.34-2.28-10.34-5.88 0-3.71 4-5.76 10.58-5.76 6.08 0 10.55 2.02 10.55 5.73-.03 3.89-4.33 5.9-10.79 5.9ZM70.55 18.98c-.86 0-1.72.09-2.52.2l13.7-7.57V8.8H56.08v2.97h19.83l-15.77 8.8 1.24 2.43s2.61-1.23 7.23-1.23c6.4 0 10.2 1.58 10.2 5.04 0 3.62-3.68 5.73-11.03 5.73-6.1 0-10.01-1.29-12.83-2.64v3.1c2.34 1.17 6.55 2.55 12.86 2.55 8.9 0 15-3.25 15-8.69.03-5.35-5.66-7.9-12.27-7.9Zm46.56 2.8c0-9.82 7.11-13.74 15.95-13.74 8.83 0 15.94 3.92 15.94 13.77 0 9.83-7.08 13.75-15.94 13.75-8.87 0-15.95-3.92-15.95-13.78Zm4.03-.05c0 7.98 5.13 10.79 11.92 10.79 6.78 0 11.9-2.81 11.9-10.68 0-8-5.12-10.79-11.9-10.79-6.8 0-11.92 2.81-11.92 10.68Z",fill:"currentColor"}),i.default.createElement("path",{d:"M0 22a22.01 22.01 0 0 1 44.03 0A22.01 22.01 0 0 1 0 22Z",fill:"#FC3F1D"}),i.default.createElement("path",{d:"M25.26 12.32h-2.23c-3.82 0-5.73 1.91-5.73 4.77 0 3.18 1.28 4.77 4.14 6.68l2.23 1.6-6.37 9.85h-5.09l6.05-8.9c-3.5-2.55-5.41-4.78-5.41-8.91 0-5.09 3.5-8.59 10.18-8.59h6.69v26.4h-4.46v-22.9Z",fill:"#fff"}))}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(28),s=i(n(621)),u=n(617),c=n(538),l=n(164);n(1529);var d=a.cn("Videotheme-Onboarding");t.default=function(e){var t,n,i=e.title,a=e.text,f=e.secondRowText,h=e.illustrationLang,p=e.disclaimerText,m=e.enableButtonText,v=e.nonce,g=e.keepBodyOverflow,y=e.closeI18n,b=e.onClose,_=e.onEnable,O=e.countMetrikaFn;o.useEffect((function(){O("show")}),[O]);var w=o.useCallback((function(){O("close"),b()}),[b,O]),E=o.useCallback((function(){O("enable theme"),_(),b()}),[_,b,O]),S=null===(n=null===(t=c.themes[l.ThemeName.GeneralFlow])||void 0===t?void 0:t.layers)||void 0===n?void 0:n.cover;return o.default.createElement(o.default.Fragment,null,!g&&o.default.createElement("style",r({},v&&{nonce:v}),"body { overflow: hidden; }"),o.default.createElement(s.Container,{className:d()},o.default.createElement(u.CoverLayer,r({className:d("CoverLayer"),ignoreBattery:!0},S)),o.default.createElement(s.Content,null,o.default.createElement(s.CloseButton,{closeI18n:y,onClose:w}),o.default.createElement(s.Benefits,null,o.default.createElement(s.Logo,null),o.default.createElement(s.Title,null,i),o.default.createElement(s.Text,null,a,f?o.default.createElement(o.default.Fragment,null,o.default.createElement("br",null),o.default.createElement("br",null),f):null),o.default.createElement(s.ButtonsWrapper,null,o.default.createElement(s.PromoButton,{isMain:!0,onClick:E,size:"xl"},m)),p?o.default.createElement("div",{className:d("Disclaimer")},p):null),o.default.createElement(s.Illustration,{className:d("Illustration",{EN:"en"===h})}))))}}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"enableThemeFlow",(function(){return p}));var r=n(706),i=n(280),o=n(707),a=n(164),s=n(245),u=n(142),c=n(45),l=n(23),d=n(38),f=n(42),h=n(99),p=function(){return function(e,t){var n=t(),p=n.config.urlsBase,m=n.user.uid,v=n.settings.generalThemes,g=p["cloud-api"],y=new r.Api(g),b=new i.DatasyncClient({api:y,uid:m,db:"ps",collection:"settings",errorHandler:function(e){Object(h.log)({error:null===e||void 0===e?void 0:e.message},"datasync_client_enable_videotheme_error")}});new o.GeneralThemesSettingsDatasyncService(b,v).enableTheme(a.ThemeName.GeneralFlow).then((function(){Object(s.getPSSettings)(g,"yadisk_web").then((function(n){var r=!1;try{var i=null===n||void 0===n?void 0:n.generalThemes;i&&(r=!0,e(Object(c.updateSettings)({generalThemes:JSON.parse(i)})))}catch(e){r=!1}r&&Object(d.shouldShowVideothemeCongratulationPopup)(t())&&Object(u.api)("ps-billing/activate-promo-code",{promoCode:"JULY_2022_PROMO_WEB"}).then((function(){e(Object(l.openDialog)("videotheme-congratulation"))}))}))})).catch((function(){e(Object(f.notify)({operation:"enableVideotheme",status:"failed"}))}))}}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(622)),c=s(n(1532)),l=n(623),d={min:100,max:500,factor:2,jitter:.1,maxAttempts:3},f=(function(){function e(e,t,n,r){void 0===r&&(r=d),this.baseUri=e,this.retryOptions=r,this.defaultOptions={mode:"cors",credentials:"include",headers:{Accept:"application/json"}},this.config=t,this.logger=n}return e.prototype.getHeaders=function(e){var t,n=r(r(r({},this.defaultOptions.headers),(null===(t=this.config)||void 0===t?void 0:t.getAdditionalHeaders)?this.config.getAdditionalHeaders():{}),e.headers);return this.isDefaultContentType(n)&&!e.autoContentType?r(r({},n),{"Content-Type":"application/json"}):n},e.prototype.isDefaultContentType=function(e){return e instanceof Headers?Boolean(!e.get("content-type")):Array.isArray(e)?Boolean(!e.find((function(e){return"content-type"===e[0].toLowerCase()}))):!e["Content-Type"]},e.prototype.getBody=function(e){var t;if(e.body){if(e.body instanceof FormData)return e.body;var n=Object.assign({},(null===(t=this.config)||void 0===t?void 0:t.getAdditionalBodyFields)?this.config.getAdditionalBodyFields():{},e.body||{});return JSON.stringify(n)}},e.prototype.request=function(e,t,n){var s;return void 0===n&&(n={}),i(this,void 0,void 0,(function(){var i,d,f,h,p,m,v;return o(this,(function(o){switch(o.label){case 0:i=n.maxAttempts,d=a(n,["maxAttempts"]),f=new u.default(this.retryOptions),h=r(r(r({},this.defaultOptions),d),{headers:this.getHeaders(d),body:this.getBody(d),cache:"no-cache",method:e}),p=i||this.retryOptions.maxAttempts,m=1,o.label=1;case 1:if(!(m<=p))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,fetch(""+this.baseUri+t,h).then((function(e){if(!e.ok)throw new l.ResponseError(e);return e.json()}))];case 3:return[2,o.sent()];case 4:if(v=o.sent(),m>=p)throw null===(s=this.logger)||void 0===s||s.logError(v),v;return[4,c.default(f.duration())];case 5:return o.sent(),[3,6];case 6:return m++,[3,1];case 7:return[2,Promise.reject()]}}))}))},e.prototype.post=function(e,t,n){return i(this,void 0,void 0,(function(){var r;return o(this,(function(i){return r=Object.assign({},{body:t},n),[2,this.request("POST",e,r)]}))}))},e.prototype.put=function(e,t,n){return i(this,void 0,void 0,(function(){var r;return o(this,(function(i){return r=Object.assign({},{body:t},n),[2,this.request("PUT",e,r)]}))}))},e.prototype.get=function(e,t){return i(this,void 0,void 0,(function(){return o(this,(function(n){return[2,this.request("GET",e,t)]}))}))},e.prototype.delete=function(e,t){return i(this,void 0,void 0,(function(){return o(this,(function(n){return[2,this.request("DELETE",e,t)]}))}))},e})();t.Api=f}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t){return setTimeout(t,e)})}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(624)),u=a(n(625)),c=n(1547),l=(function(){function e(e,t,n){this.modelsQueryParameter=t.modelsQueryParameter,this.cache=new c.ApiCache,this.responseInterceptor=null===n||void 0===n?void 0:n.response,this.api=e}return e.prototype.postFormData=function(e,t,n,i){var o=this;return void 0===i&&(i={}),i.headers=r(r({},i.headers),{"x-yandex-header-params":JSON.stringify(n)}),i.autoContentType=!0,this.api.post("?"+this.modelsQueryParameter+"="+e,t,i).then((function(t){return o.handleMultiResponse([{name:e,params:n}],t,i)})).then((function(e){return e[0]}))},e.prototype.getModelKey=function(e){return this.cache.key(e.name,e.params)},e.prototype.request=function(e,t){return i(this,void 0,void 0,(function(){return o(this,(function(n){return[2,this.getModelsResultImplementation(e,t)]}))}))},e.prototype.getModelsResultImplementation=function(e,t){return i(this,void 0,void 0,(function(){var n,r,i,a,c,l,d,f,h,p=this;return o(this,(function(o){switch(o.label){case 0:return t||(t={}),n=e.reduce((function(e,t){return e[p.getModelKey(t)]=t,e}),{}),r=Object.keys(n),i={},t.cache&&Object.entries(n).reduce((function(e,t){var n=t[0],r=t[1];return p.cache.has(n,r.params)&&(e[p.getModelKey(r)]={data:p.cache.get(r.name,r.params)}),e}),i),r.length===Object.keys(i).length?[2,e.map((function(e){var t=p.getModelKey(e);return i[t]}))]:(a=u.default(n,s.default(r,Object.keys(i))),c=Object.values(a),l=c.map((function(e){return e.name})),[4,this.api.post("?"+this.modelsQueryParameter+"="+l.join(","),{models:c},t).then((function(e){return{modelResults:p.handleMultiResponse(c,e,t),response:e}}))]);case 1:return(d=o.sent()).modelResults.forEach((function(e,t){var n=c[t];i[p.getModelKey(n)]=e})),f=e.map((function(e){var t=p.getModelKey(e);return i[t]})),this.responseInterceptor?(h=e.reduce((function(e,t,n){var r={params:t,result:f[n]};return e.push(r),e}),[]),[4,this.responseInterceptor(h,this,d.response)]):[3,3];case 2:h=o.sent(),f=h.map((function(e){return e.result})),o.label=3;case 3:return[2,f]}}))}))},e.prototype.isModelRejected=function(e){return this.isNotNullObject(e)&&"error"in e},e.prototype.isModelResolved=function(e){return this.isNotNullObject(e)&&"data"in e},e.prototype.isNotNullObject=function(e){return"object"==typeof e&&null!==e},e.prototype.handleMultiResponse=function(e,t,n){for(var r=[],i=0;i<e.length;i++){var o=t.models[i],a=e[i],s=o;n.cache&&"data"in o&&this.cache.set(a.name,a.params,o.data),r.push(s)}return r},e})();t.ModelsApi=l}),(function(e,t,n){var r=n(525),i=n(729),o=n(730),a=n(465),s=n(363),u=n(526),c=200;e.exports=function(e,t,n,l){var d=-1,f=i,h=!0,p=e.length,m=[],v=t.length;if(!p)return m;n&&(t=a(t,s(n))),l?(f=o,h=!1):t.length>=c&&(f=u,h=!1,t=new r(t));e:for(;++d<p;){var g=e[d],y=null==n?g:n(g);if(g=l||0!==g?g:0,h&&y==y){for(var b=v;b--;)if(t[b]===y)continue e;m.push(g)}else f(t,y,l)||m.push(g)}return m}}),(function(e,t,n){var r=n(1536),i=n(1537),o=n(1538);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}}),(function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}}),(function(e,t){e.exports=function(e){return e!=e}}),(function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}}),(function(e,t,n){var r=n(595),i=n(593),o=n(594);e.exports=function(e,t){return o(i(e,t,r),e+"")}}),(function(e,t,n){var r=n(477),i=n(161);e.exports=function(e){return i(e)&&r(e)}}),(function(e,t,n){var r=n(1542),i=n(1544);e.exports=function(e,t){return r(e,t,(function(t,n){return i(e,n)}))}}),(function(e,t,n){var r=n(590),i=n(1543),o=n(215);e.exports=function(e,t,n){for(var a=-1,s=t.length,u={};++a<s;){var c=t[a],l=r(e,c);n(l,c)&&i(u,o(c,e),l)}return u}}),(function(e,t,n){var r=n(469),i=n(215),o=n(473),a=n(160),s=n(366);e.exports=function(e,t,n,u){if(!a(e))return e;for(var c=-1,l=(t=i(t,e)).length,d=l-1,f=e;null!=f&&++c<l;){var h=s(t[c]),p=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(c!=d){var m=f[h];void 0===(p=u?u(m,h,f):void 0)&&(p=a(m)?m:o(t[c+1])?[]:{})}r(f,h,p),f=f[h]}return e}}),(function(e,t,n){var r=n(1545),i=n(1546);e.exports=function(e,t){return null!=e&&i(e,t,r)}}),(function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}}),(function(e,t,n){var r=n(215),i=n(471),o=n(162),a=n(473),s=n(474),u=n(366);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,d=!1;++c<l;){var f=u(t[c]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++c!=l?d:!!(l=null==e?0:e.length)&&s(l)&&a(f,l)&&(o(e)||i(e))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(function(){function e(){this.cache={}}return e.prototype.set=function(e,t,n){var r=this.key(e,t);this.cache[r]=n},e.prototype.get=function(e,t){var n=this.key(e,t);return this.cache[n]},e.prototype.has=function(e,t){return this.key(e,t)in this.cache},e.prototype.key=function(e,t){return["url="+e].concat(Object.keys(t||{}).sort().map((function(e){return e+"="+JSON.stringify(t[e])}))).join("&")},e})();t.ApiCache=r}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.NoopDatasyncClient=t.DatasyncClient=void 0;var o=n(626),a=(function(){function e(e){this.api=e.api,this.db=e.db,this.collection=e.collection,this.uid=String(e.uid),this.errorHandler=e.errorHandler}return e.prototype.logError=function(e){this.errorHandler&&this.errorHandler(e)},Object.defineProperty(e.prototype,"dbUrl",{get:function(){return"/".concat("web_interfaces_360","/v1/personality/profile/").concat(this.db,"/").concat(this.collection)},enumerable:!1,configurable:!0}),e.prototype.getKeyUrl=function(e){return"".concat(this.dbUrl,"/").concat(e)},e.prototype.isNotFoundError=function(e){return 404===e.status},e.prototype.getRequestOptions=function(e){return void 0===e&&(e={}),Object.assign({headers:{"X-Uid":this.uid}},e)},e.prototype.getValue=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.api.get(this.getKeyUrl(e),this.getRequestOptions())];case 1:return[2,n.sent().value];case 2:if(t=n.sent(),!this.isNotFoundError(t))throw this.logError(t),t;return[3,3];case 3:return[2]}}))}))},e.prototype.setValue=function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.api.put(this.getKeyUrl(e),{value:t},this.getRequestOptions({maxAttempts:1}))];case 1:return r.sent(),[3,3];case 2:throw n=r.sent(),this.logError(n),n;case 3:return[2]}}))}))},e.prototype.deleteKey=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.api.delete(this.getKeyUrl(e),this.getRequestOptions())];case 1:return n.sent(),[2,!0];case 2:if(t=n.sent(),this.isNotFoundError(t))return[2,!1];throw this.logError(t),t;case 3:return[2]}}))}))},e.prototype.getAll=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.api.get(this.dbUrl,this.getRequestOptions())];case 1:return t=r.sent().items,[2,(0,o.mapTypes)(t,e)];case 2:throw n=r.sent(),this.logError(n),n;case 3:return[2]}}))}))},e})();t.DatasyncClient=a;var s=(function(){function e(){}return e.prototype.getValue=function(){return Promise.resolve(void 0)},e.prototype.setValue=function(){return Promise.resolve()},e.prototype.deleteKey=function(){return Promise.resolve(!1)},e.prototype.getAll=function(){return Promise.resolve({})},e})();t.NoopDatasyncClient=s}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.DatasyncService=void 0;var o=(function(){function e(e,t){void 0===t&&(t={}),this.client=e,this.data=t}return e.prototype.setValue=function(e,t){return r(this,void 0,void 0,(function(){return i(this,(function(n){return this.data[e]=t,[2,this.client.setValue(String(e),this.schema[e].encode(t))]}))}))},e.prototype.getValue=function(e){return this.data[e]},e})();t.DatasyncService=o}),(function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.DateMapper=t.NullableMapper=t.JsonMappers=t.UnsupportedMapper=t.ObjectMapper=t.EnumMapper=t.SimpleMapper=void 0;var i=n(1551),o=n(628);function a(e){switch((0,o.realType)(e)){case o.JsonType.Array:return e.map(a);case o.JsonType.Object:return Object.entries(e).reduce((function(e,t){var n=t[0],r=t[1];return e[n]=a(r),e}),{});default:return e}}var s=(function(){function e(e){this.schema=e,this.schemaType=(0,o.realType)(this.schema)}return e.prototype.toJson=function(e,t){var n=(0,o.realType)(e);if(this.schemaType!==n)throw new i.JsonSerializerTypeMismatchError(this.schemaType,n,t);return e},e.prototype.fromJson=function(e){var t=(0,o.realType)(e);return this.schemaType===t?e:a(this.schema)},e})();t.SimpleMapper=s;var u=(function(){function e(e,t){this.values=e,this.fallback=t}return e.prototype.isValid=function(e){return this.values.includes(e)},e.prototype.toJson=function(e,t){if(!this.isValid(e))throw new i.JsonSerializerTypeMismatchError("one of [".concat(this.values.join(", "),"]"),'"'.concat(e,'"'),t);return e},e.prototype.fromJson=function(e){return this.isValid(e)?e:this.fallback},e})();t.EnumMapper=u;var c=(function(){function e(e){this.schema=e}return e.prototype.toJson=function(e,n){var a=this,s=(0,o.realType)(e);if(s!==o.JsonType.Object)throw new i.JsonSerializerTypeMismatchError(o.JsonType.Object,s,n);for(var u=Object.keys(this.schema),c=new Set(Object.keys(e)),l=0,d=u;l<d.length;l++){var f=d[l];if(!(f in e))throw new i.JsonSerializerMissingKeyError(r(r([],n,!0),[f],!1));c.delete(f)}return c.size>0&&c.forEach((function(e){throw new i.JsonSerializerExtraKeyError(r(r([],n,!0),[e],!1))})),u.reduce((function(i,o){var s=t.JsonMappers.toJson(e[o],a.schema[o],r(r([],n,!0),[String(o)],!1));return i[o]=s,i}),{})},e.prototype.fromJson=function(e){var n=this,r=new Set(Object.keys(this.schema)),i=Object.keys(e||{}).filter((function(e){return r.has(e)})).reduce((function(r,i){return r[i]=t.JsonMappers.fromJson(e[i],n.schema[i]),r}),{});return r.forEach((function(e){if(!(e in i)){var r=t.JsonMappers.selectMapperBySchema(n.schema[e]);i[e]=r.fromJson(void 0)}})),i},e})();t.ObjectMapper=c;var l=(function(){function e(e){this.schema=e,this.expectedType=(0,o.realType)(this.schema)}return e.prototype.toJson=function(e,t){var n="constructor"in e?"class ".concat(e.constructor.name):"unknown";throw new i.JsonSerializerTypeMismatchError(this.expectedType,n,t)},e.prototype.fromJson=function(e){return t.JsonMappers.selectMapperBySchema(this.schema).fromJson(e)},e})();t.UnsupportedMapper=l,t.JsonMappers={isJsonMapper:function(e){return"object"==typeof e&&null!==e&&"function"==typeof e.toJson&&"function"==typeof e.fromJson},selectMapper:function(e,n){return t.JsonMappers.isJsonMapper(e)?e:(0,o.realType)(n)===o.JsonType.Unsupported?new l(e):t.JsonMappers.selectMapperBySchema(e)},selectMapperBySchema:function(e){if(t.JsonMappers.isJsonMapper(e))return e;switch((0,o.realType)(e)){case o.JsonType.Object:return new c(e);default:return new s(e)}},toJson:function(e,n,r){return void 0===r&&(r=["$"]),t.JsonMappers.selectMapper(n,e).toJson(e,r)},fromJson:function(e,n){return t.JsonMappers.selectMapper(n,e).fromJson(e)}};var d=(function(){function e(e){this.schema=e}return e.prototype.toJson=function(e,n){return null===e?null:t.JsonMappers.selectMapper(this.schema,e).toJson(e,n)},e.prototype.fromJson=function(e){return null===e||void 0===e?null:t.JsonMappers.selectMapper(this.schema,e).fromJson(e)},e})();t.NullableMapper=d;var f=(function(){function e(e){this.defaultValue=e}return e.prototype.toJson=function(e,t){if(!(e instanceof Date))throw new i.JsonSerializerTypeMismatchError("Date",(0,o.realType)(e),t);return e.getTime()},e.prototype.fromJson=function(e){return(0,o.realType)(e)!==o.JsonType.Number?new Date(this.defaultValue):new Date(e)},e})();t.DateMapper=f}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})();Object.defineProperty(t,"__esModule",{value:!0}),t.JsonSerializerExtraKeyError=t.JsonSerializerMissingKeyError=t.JsonSerializerTypeMismatchError=t.JsonSerializerError=void 0;var i=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="JsonSerializerError",t}return r(t,e),t})(Error);t.JsonSerializerError=i;var o=(function(e){function t(t,n,r){var i=e.call(this)||this;return i.message="Expected ".concat(t,", received ").concat(n," at path ").concat(r.join(".")),i.name="JsonSerializerTypeMismatchError",i}return r(t,e),t})(i);t.JsonSerializerTypeMismatchError=o;var a=(function(e){function t(t){var n=e.call(this)||this;return n.message="Missing key at path ".concat(t.join(".")),n.name="JsonSerializerMissingKeyError",n}return r(t,e),t})(i);t.JsonSerializerMissingKeyError=a;var s=(function(e){function t(t){var n=e.call(this)||this;return n.message="Extra key at path ".concat(t.join(".")),n.name="JsonSerializerExtraKeyError",n}return r(t,e),t})(i);t.JsonSerializerExtraKeyError=s}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemesSettingsDatasyncSchema=t.GeneralThemesSettingsDatasyncService=void 0;var r=n(1553);Object.defineProperty(t,"GeneralThemesSettingsDatasyncService",{enumerable:!0,get:function(){return r.GeneralThemesSettingsDatasyncService}});var i=n(629);Object.defineProperty(t,"GeneralThemesSettingsDatasyncSchema",{enumerable:!0,get:function(){return i.GeneralThemesSettingsDatasyncSchema}})}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemesSettingsDatasyncService=void 0;var s=n(280),u=n(164),c=n(629),l=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.schema=c.GeneralThemesSettingsDatasyncSchema,t}return r(t,e),t.prototype.getThemeName=function(){return this.getData().theme},Object.defineProperty(t.prototype,"isGeneralThemeTouched",{get:function(){return null!==this.getThemeName()},enumerable:!1,configurable:!0}),t.prototype.enableTheme=function(e,t){return o(this,void 0,void 0,(function(){var n;return a(this,(function(r){return n=i(i({},this.getData()),{theme:e}),t&&(n.settings=t),[2,this.setValue(u.DATASYNC_KEY_NAME,n)]}))}))},t.prototype.disableTheme=function(){return this.setValue(u.DATASYNC_KEY_NAME,i(i({},this.getData()),{theme:u.ThemeName.Void}))},t.prototype.getCommonSettings=function(){return this.getData().settings},t.prototype.isVideoBgEnabled=function(){return this.getData().settings.isVideoEnabled},t.prototype.enableVideoBg=function(){var e=this.getData();return this.setValue(u.DATASYNC_KEY_NAME,i(i({},e),{settings:i(i({},e.settings),{isVideoEnabled:!0})}))},t.prototype.disableVideoBg=function(){var e=this.getData();return this.setValue(u.DATASYNC_KEY_NAME,i(i({},e),{settings:i(i({},e.settings),{isVideoEnabled:!1})}))},t.prototype.getData=function(){return this.getValue(u.DATASYNC_KEY_NAME)||this.schema[u.DATASYNC_KEY_NAME].decode("")},t})(s.DatasyncService);t.GeneralThemesSettingsDatasyncService=l}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemesPromoDatasyncSchema=t.GeneralThemesPromoDatasyncService=t.GeneralThemesPromoLogic=void 0;var r=n(1555);Object.defineProperty(t,"GeneralThemesPromoLogic",{enumerable:!0,get:function(){return r.GeneralThemesPromoLogic}});var i=n(1556);Object.defineProperty(t,"GeneralThemesPromoDatasyncService",{enumerable:!0,get:function(){return i.GeneralThemesPromoDatasyncService}});var o=n(630);Object.defineProperty(t,"GeneralThemesPromoDatasyncSchema",{enumerable:!0,get:function(){return o.GeneralThemesPromoDatasyncSchema}})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemesPromoLogic=t.END_OF_SPECIAL_DATE=void 0;t.END_OF_SPECIAL_DATE=new Date("2022-08-01T00:00:00.000Z");var r=(function(){function e(e){this.params=e}return Object.defineProperty(e.prototype,"shouldShowFullscreen",{get:function(){return!this.params.isB2BUser&&("ru"===this.params.tld&&(!this.params.settingsService.isGeneralThemeTouched&&!this.params.promoService.wasFullscreenShown))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldShowTooltip",{get:function(){return!this.params.settingsService.isGeneralThemeTouched&&(!!this.params.promoService.wasFullscreenShown&&(!this.params.promoService.wasTooltipShown&&(!this.notEnoughTimeSinceFullscreen()&&!this.notEnoughTimeUntilEndOfSpecial())))},enumerable:!1,configurable:!0}),e.prototype.notEnoughTimeSinceFullscreen=function(){var e=this.params.promoService.fullscreenShownDate;return!e||this.params.clockApi.now.getTime()-e.getTime()<12096e5},e.prototype.notEnoughTimeUntilEndOfSpecial=function(){var e=this.params.clockApi.now;return t.END_OF_SPECIAL_DATE.getTime()-e.getTime()<=1728e5},e})();t.GeneralThemesPromoLogic=r}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemesPromoDatasyncService=void 0;var o=n(280),a=n(630),s=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.schema=a.GeneralThemesPromoDatasyncSchema,t}return r(t,e),t.prototype.setFullscreenShownDate=function(e){return this.writeField({fullScreenShownDate:e})},t.prototype.setTooltipShownDate=function(e){return this.writeField({tooltipShownDate:e})},Object.defineProperty(t.prototype,"wasFullscreenShown",{get:function(){return null!==this.fullscreenShownDate},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wasTooltipShown",{get:function(){return null!==this.getData().tooltipShownDate},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullscreenShownDate",{get:function(){return this.getData().fullScreenShownDate},enumerable:!1,configurable:!0}),t.prototype.writeField=function(e){return this.setValue(a.GENERAL_THEMES_PROMO_KEY,i(i({},this.getData()),e))},t.prototype.getData=function(){return this.getValue(a.GENERAL_THEMES_PROMO_KEY)||this.schema[a.GENERAL_THEMES_PROMO_KEY].decode("")},t})(o.DatasyncService);t.GeneralThemesPromoDatasyncService=s}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemeLayerBreakpoint=void 0,(function(e){e.BREAK_1920="1920",e.BREAK_1536="1536",e.BREAK_1366="1366",e.BREAK_1280="1280"})(t.GeneralThemeLayerBreakpoint||(t.GeneralThemeLayerBreakpoint={}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=n(33),u=n(95),c=n(105),l=i(n(1561)),d=i(n(611)),f=i(n(1564)),h=i(n(1581)),p=i(n(1587));n(1590);var m=i(n(11)),v=function(){return m.default()("LeftColumn")},g=a.connect((function(e){return{isDocsPage:s.isDocsPage(e),isDocsView:s.isDocsView(e),diskWebEnableAppLinkExp:e.environment.session.experiment.diskWebEnableAppLinkExp,themeName:u.getThemeName(e)}}));t.default=g((function(e){var t=e.isDocsPage,n=e.isDocsView,r=e.diskWebEnableAppLinkExp,i=e.themeName,a=o.useRef(null);return o.default.createElement("div",{className:v().mix(c.getPageClassName(i)),ref:a},o.default.createElement("div",{className:v().e("InnerWrapperTop")},o.default.createElement("div",{className:v().e("StickyWrapperTop")},o.default.createElement("div",{className:v().e("Buttons").mix(c.getContentClassName(i))},t?o.default.createElement(d.default,null):o.default.createElement(l.default,{sidebarRef:a})),o.default.createElement(f.default,null))),o.default.createElement("div",{className:v().e("InnerWrapperBottom").mix(c.getContentClassName(i))},n?null:o.default.createElement(h.default,{sidebarRef:a}),t||!r?null:o.default.createElement(p.default,null)))}))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=n(43),u=n(26),c=n(26),l=n(48),d=i(n(286)),f=i(n(1824)),h=n(279),p=i(n(12)),m={openEditor:c.openEditor,createFolder:c.createFolder,requestNewAlbumTitle:l.requestNewAlbumTitle,upload:c.upload,maybeBlockActionOverdraft:u.maybeBlockActionOverdraft},v=a.connect((function(e){var t=e.user.isOfficeAllowed,n=e.page.idContext,r=e.environment.agent,i=s.getOverdraftType(e);return{isOfficeAllowed:t,overdraftType:i,idContext:n,disableUploadButton:s.shouldNotifyOverdraft(e)&&!i,isFirefox:"Firefox"===r.BrowserName}}),m);t.default=v((function(e){var t=e.isOfficeAllowed,n=e.sidebarRef,r=e.overdraftType,i=e.disableUploadButton,a=e.idContext,s=e.upload,u=e.openEditor,c=e.createFolder,l=e.requestNewAlbumTitle,m=e.maybeBlockActionOverdraft,v=e.isFirefox,g=o.useCallback((function(e,t){s(e).then(t,t)}),[s]),y=o.useCallback((function(){r&&m({forLite:!0}),p.default.count("interface elements","upload button","click")}),[r,m]),b=o.useCallback((function(){c()}),[c]),_=o.useCallback((function(e){u(e,a)}),[a,u]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(d.default,{width:"max",text:"Загрузить",title:"Загрузить файлы",onChange:g,onClick:y,disabled:i,withoutInput:r}),o.default.createElement(f.default,{isOfficeAllowed:t,onFolderCreate:b,onEditorOpen:_,onCreateAlbum:l,scope:n,iconLeft:h.plusIconProvider,isFirefox:v}))}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=n(19),u=n(174),c=n(731),l=n(33),d=n(26),f=n(60),h=o(n(1565)),p=o(n(1566)),m=o(n(1567)),v=o(n(1568)),g=o(n(1569)),y=o(n(1570)),b=o(n(1571)),_=o(n(1572)),O=o(n(1573)),w=o(n(1574)),E=o(n(1575)),S=o(n(1576)),C=o(n(1577)),x=o(n(1578)),k=o(n(732)),T=o(n(12)),j=o(n(37));n(1580);var R=o(n(11)),P=function(){return R.default()("LeftColumnNavigation")},D=k.default(f.Link),I={albums:a.default.createElement(h.default,null),aux:a.default.createElement(p.default,null),docx:a.default.createElement(m.default,null),downloads:a.default.createElement(v.default,null),files:a.default.createElement(g.default,null),journal:a.default.createElement(y.default,null),photo:a.default.createElement(b.default,null),pptx:a.default.createElement(_.default,null),recent:a.default.createElement(O.default,null),scans:a.default.createElement(w.default,null),shared:a.default.createElement(E.default,null),trash:a.default.createElement(S.default,null),view:a.default.createElement(C.default,null),xlsx:a.default.createElement(x.default,null)},A={changeIdContext:d.changeIdContext},M=s.connect((function(e){return{invitesCount:c.getInvitesCount(e),items:u.getLeftColumnItems(e),isDocsPage:l.isDocsPage(e)}}),A);t.default=M((function(e){var t=e.items,n=e.invitesCount,i=e.isDocsPage,o=e.changeIdContext,s=a.useCallback((function(e,t){i?T.default.count("docs","navigation",t.id):(e.preventDefault(),o(t.idContext),T.default.count("navigation","via tabs",t.id))}),[i,o]),u=a.useCallback((function(e,t){e.keyCode===j.default.KEYS.ENTER&&s(e,t)}),[s]),c=t.map((function(e){var t=f.Link,o=null;e.idContext&&["/trash","/disk"].includes(e.idContext)&&(t=D,o={id:e.idContext,type:"navigation-"+e.idContext.slice(1),isFixed:!0,scrollContainerSelector:"."+P()});var c=e.idContext&&["/shared","/published"].includes(e.idContext)&&n>0;return a.default.createElement(t,r({key:e.id,className:P().e("Item").m({type:e.id,current:e.current,"with-counter":c}),onClick:function(t){return s(t,e)},onKeyDown:function(t){return u(t,e)},role:"tab","aria-selected":!!e.current||void 0},o||{},i?{href:e.url}:{tabindex:"0"}),a.default.createElement("span",{className:P().e("Icon")},I[e.id]),e.name,c?a.default.createElement("span",{className:P().e("Counter")},Math.min(n,99)):null)}));return a.default.createElement("nav",{className:P()},c)}))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M3 0a1 1 0 0 0 0 2h10a1 1 0 1 0 0-2H3zm-.5 3A1.5 1.5 0 0 0 1 4.5v9A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 13.5 3h-11zm2.899 6.282a.468.468 0 0 0-.655.158l-1.68 2.855a.468.468 0 0 0 .404.705h9.064c.32 0 .545-.313.444-.616l-1.841-5.522a.468.468 0 0 0-.828-.12l-2.486 3.551a.468.468 0 0 1-.634.127L5.399 9.281zM4 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"})}}]),n})(n(15).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 1h11A1.5 1.5 0 0 1 15 2.5v11a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 1 13.5v-11A1.5 1.5 0 0 1 2.5 1zM3 5v8h10V5H3zm2 4a1 1 0 0 0 1 1h4a1 1 0 1 0 0-2H6a1 1 0 0 0-1 1z"})}}]),n})(n(15).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M3 0a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3H3zm-.334 4.445c0-.49.398-.889.888-.889h8.89a.889.889 0 1 1 0 1.778h-8.89a.889.889 0 0 1-.888-.889zm.887 2.667a.889.889 0 0 0 0 1.778h6.222a.889.889 0 1 0 0-1.778H3.553zm0 3.555a.889.889 0 0 0 0 1.778h7.111a.889.889 0 0 0 0-1.778H3.553z"})}}]),n})(n(15).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M7.454 11.671a.75.75 0 0 0 1.092 0l3.609-3.828A.5.5 0 0 0 11.791 7H10V2a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v5H4.208a.5.5 0 0 0-.363.843l3.61 3.828zM3 13a1 1 0 1 0 0 2h10a1 1 0 1 0 0-2H3z"})}}]),n})(n(15).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 0A1.5 1.5 0 0 0 2 1.5v13A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5V5.95a3.5 3.5 0 0 0-1.025-2.475l-2.45-2.45A3.5 3.5 0 0 0 8.05 0H3.5zM7 2.5a.5.5 0 0 1 .5-.5h.55a1.5 1.5 0 0 1 1.06.44l2.45 2.45A1.5 1.5 0 0 1 12 5.95v.55a.5.5 0 0 1-.5.5H8a1 1 0 0 1-1-1V2.5z"})}}]),n})(n(15).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement(p.a.Fragment,null,p.a.createElement("path",{fill:"currentColor",d:"M1.22717 5.7221C0.713689 5.7221 0.36228 5.20389 0.552269 4.72686L2.05339 0.957764C2.26868 0.417197 3.0004 0.33647 3.32835 0.817104L3.984 1.77798C5.20611 0.971963 6.67038 0.502329 8.24466 0.502329C12.5242 0.502329 15.9935 3.9716 15.9935 8.25116L15.9935 8.27546L15.9935 8.28935C15.9935 10.7955 14.7888 13.0221 12.9235 14.4285C11.6234 15.4148 10.0024 16 8.24466 16C6.6851 16 5.23338 15.5394 4.01792 14.7468C2.29134 13.6307 1.03091 11.8457 0.627579 9.73163C0.6191 9.68718 0.614245 9.64289 0.612807 9.59905C0.600216 9.52732 0.588611 9.45525 0.578005 9.38286C0.500466 8.85356 0.866687 8.36163 1.39598 8.28409C1.92528 8.20655 2.41722 8.57277 2.49476 9.10207C2.90582 11.9081 5.32447 14.0628 8.24466 14.0628C11.4543 14.0628 14.0563 11.4608 14.0563 8.25116C14.0563 5.04149 11.4543 2.43954 8.24466 2.43954C7.07609 2.43954 5.98772 2.78427 5.076 3.37835L5.90016 4.58619C6.22919 5.0684 5.88385 5.7221 5.30009 5.7221H1.22717Z"}),p.a.createElement("path",{fill:"currentColor",d:"M9.11641 5.34535C9.11641 4.8639 8.72611 4.47361 8.24466 4.47361C7.76321 4.47361 7.37292 4.8639 7.37292 5.34535V8.73547C7.37292 9.00985 7.50211 9.26823 7.72162 9.43286L9.65883 10.8858C10.044 11.1746 10.5904 11.0966 10.8793 10.7114C11.1681 10.3263 11.0901 9.77985 10.7049 9.49098L9.11641 8.29959V5.34535Z"}))}}]),n})(n(15).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M1 2.5A1.5 1.5 0 0 1 2.5 1h11A1.5 1.5 0 0 1 15 2.5v11a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 1 13.5v-11zm3.487 6.696a.5.5 0 0 1 .7-.168l1.91 1.215a.5.5 0 0 0 .677-.135l2.656-3.794a.5.5 0 0 1 .884.129l1.967 5.899a.5.5 0 0 1-.475.658H3.124a.5.5 0 0 1-.43-.754l1.793-3.05zM6 4.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"})}}]),n})(n(15).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M13.909 2.606A7.964 7.964 0 0 1 16 8a8 8 0 1 1-8-8 7.967 7.967 0 0 1 5.909 2.606zm.002.003-.002-.003.002.003zM14.667 8H8V1.334A6.667 6.667 0 0 1 14.667 8z"})}}]),n})(n(15).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.982 3.075a1 1 0 0 0-.243-1.393L9 7.731V4a1 1 0 1 0-2 0v4.25a1 1 0 0 0 .425.818l3.2 2.25a1 1 0 0 0 1.393-.243z"})}}]),n})(n(15).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement(p.a.Fragment,null,p.a.createElement("g",{clipPath:"url(#a)"},p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M3 11.533a.8.8 0 0 0-.8-.8h-.4a.8.8 0 0 0-.8.8v.967A2.5 2.5 0 0 0 3.5 15h.842a.8.8 0 0 0 .8-.8v-.4a.8.8 0 0 0-.8-.8H3.5a.5.5 0 0 1-.5-.5v-.967zM4.342 3a.8.8 0 0 0 .8-.8v-.4a.8.8 0 0 0-.8-.8H3.5A2.5 2.5 0 0 0 1 3.5v.8a.8.8 0 0 0 .8.8h.4a.8.8 0 0 0 .8-.8v-.8a.5.5 0 0 1 .5-.5h.842zM13 4.3a.8.8 0 0 0 .8.8h.4a.8.8 0 0 0 .8-.8v-.8A2.5 2.5 0 0 0 12.5 1h-.925a.8.8 0 0 0-.8.8v.4a.8.8 0 0 0 .8.8h.925a.5.5 0 0 1 .5.5v.8zm0 7.233a.8.8 0 0 1 .8-.8h.4a.8.8 0 0 1 .8.8v.967a2.5 2.5 0 0 1-2.5 2.5h-.925a.8.8 0 0 1-.8-.8v-.4a.8.8 0 0 1 .8-.8h.925a.5.5 0 0 0 .5-.5v-.967zM.95 7a.95.95 0 0 0-.95.95v.1c0 .525.425.95.95.95h14.1a.95.95 0 0 0 .95-.95v-.1a.95.95 0 0 0-.95-.95H.95z"})),p.a.createElement("defs",null,p.a.createElement("clipPath",{id:"a"},p.a.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z"}))))}}]),n})(n(15).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement(p.a.Fragment,null,p.a.createElement("g",{clipPath:"url(#a)"},p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 8.656c1.556 0 2.723-1.66 2.723-3.593S6.219 2 4.5 2C2.781 2 1.777 3.13 1.777 5.063c0 1.934 1.167 3.593 2.723 3.593zM4.5 14c-2.317 0-3.764-.677-4.34-1.144a.474.474 0 0 1-.16-.392C0 10.989 1.775 10 4.498 10s4.502.99 4.502 2.463a.474.474 0 0 1-.158.394C8.264 13.322 6.817 14 4.5 14zm6.246-.713c2.11.142 4.146-.18 5.11-.791a.306.306 0 0 0 .141-.283c0-.93-1.427-2.09-3.997-2.09-.905 0-1.913.084-2.51.257.772.567 1.256 1.58 1.256 2.906zM12 8.761c-1.306 0-2.236-1.437-2.236-3.111 0-1.674.793-2.653 2.236-2.653 1.442 0 2.234.979 2.234 2.653S13.307 8.76 12 8.76z"})),p.a.createElement("defs",null,p.a.createElement("clipPath",{id:"a"},p.a.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z"}))))}}]),n})(n(15).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M4 3a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3h2a1 1 0 1 1 0 2h-.654l-.74 9.615A1.5 1.5 0 0 1 11.111 16H4.889a1.5 1.5 0 0 1-1.496-1.385L2.653 5H2a1 1 0 0 1 0-2h2zm1.586 2.95a.8.8 0 0 0-.736.86l.425 5.505a.8.8 0 0 0 1.596-.123l-.426-5.505a.8.8 0 0 0-.86-.736zm3.969.742a.8.8 0 0 1 1.595.123l-.425 5.493a.8.8 0 1 1-1.595-.123l.425-5.493zM7 2a1 1 0 0 0-1 1h4a1 1 0 0 0-1-1H7z"})}}]),n})(n(15).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M10.218 9.11c-.731.047-1.51.07-2.335.07-.826 0-1.604-.023-2.334-.07.21 3.905 1.485 6.89 2.334 6.89.85 0 2.125-2.985 2.335-6.89zM3.96 8.961c.12 2.816.758 5.152 1.624 6.657C2.352 14.625 0 11.591 0 8.001v-.074c1.047.49 2.366.832 3.961 1.034zM.191 6.25c.889.522 2.143.898 3.759 1.12.081-2.963.735-5.422 1.634-6.986C2.894 1.211.814 3.452.191 6.25zm5.333 1.278C5.621 3.315 6.988 0 7.884 0c.895 0 2.262 3.315 2.358 7.528-.73.05-1.516.076-2.36.076a34.4 34.4 0 0 1-2.358-.076zm6.278 1.434c1.595-.202 2.914-.545 3.961-1.034v.073c0 3.59-2.352 6.624-5.584 7.617.865-1.505 1.504-3.84 1.623-6.656zm3.77-2.711c-.888.522-2.142.898-3.758 1.119-.082-2.963-.736-5.422-1.634-6.986 2.69.827 4.77 3.068 5.393 5.867z"})}}]),n})(n(15).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return p.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M3 0a3 3 0 0 0-3 3v3.611a.5.5 0 0 0 .5.5h6.111a.5.5 0 0 0 .5-.5V.5a.5.5 0 0 0-.5-.5H3zm6.389 0a.5.5 0 0 0-.5.5v6.111a.5.5 0 0 0 .5.5h6.11a.5.5 0 0 0 .5-.5V3a3 3 0 0 0-3-3H9.39zM0 9.389a.5.5 0 0 1 .5-.5h6.111a.5.5 0 0 1 .5.5v6.11a.5.5 0 0 1-.5.5H3a3 3 0 0 1-3-3V9.39zm10.389 5.11v-4.11h4.11v2.61a1.5 1.5 0 0 1-1.5 1.5h-2.61zm-1.5-5.11a.5.5 0 0 1 .5-.5h6.11a.5.5 0 0 1 .5.5v3.61a3 3 0 0 1-3 3H9.39a.5.5 0 0 1-.5-.5V9.39z"})}}]),n})(n(15).default)}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(0)),u=n(19),c=a(n(120)),l=a(n(54)),d=a(n(12)),f=a(n(733)),h=a(n(1583)),p=n(25),m=n(60),v=a(n(1585)),g=a(n(123)),y=n(43),b=n(38),_=n(45),O=a(n(409)),w=n(105),E=n(95);n(1586);var S=a(n(11)),C=function(){return S.default()("InfoSpace")},x=function(e){return s.default.createElement(g.default,{cls:e,iconSize:"s"})},k=Date.now(),T={saveSettings:_.saveSettings,updateSettings:_.updateSettings},j=u.connect((function(e){var t=e.space,n=t.used,r=t.limit,i=e.environment.session,o=i.locale,a=i.serverTime,s=e.settings,u=s.lastShownInfoSpaceDiscountId,c=s.timestampLastClosedSubscriptionOnboarding,l=y.shouldShowInfoSpaceDiscount(e,k),d=l&&y.getInfoSpaceDiscountData(e,k);return{used:n,limit:r,locale:o,serverTime:a,tuningButtonText:y.getTuningButtonInfo(e).text,buyButtonUrl:b.getBuyButtonUrl(e),shouldShowBuyButton:b.shouldShowBuyButton(e),percentageOfUsed:y.getPercentageOfUsed(e),discountPromo:y.getPromoDiscount(e),isBuyButtonMail360:b.isBuyButtonMail360(e),shouldShowDiscount:l,discountData:d,lastShownInfoSpaceDiscountId:u,timestampLastClosedSubscriptionOnboarding:c,isDark:w.isContentDark(E.getThemeName(e))}}),T),R=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.default.count.apply(d.default,i(["navigation","via link in sidebar"],e))};t.default=j((function(e){var t,n,i,o,a,u,d,g=e.limit,y=e.used,b=e.shouldShowBuyButton,_=e.buyButtonUrl,w=e.percentageOfUsed,E=e.tuningButtonText,S=e.className,T=e.isBuyButtonMail360,j=e.discountPromo,P=e.locale,D=e.serverTime,I=e.sidebarRef,A=e.shouldShowDiscount,M=e.discountData,N=e.lastShownInfoSpaceDiscountId,L=e.timestampLastClosedSubscriptionOnboarding,F=e.saveSettings,B=e.updateSettings,U=e.isDark,z=s.useMemo((function(){return c.default.formatSpace(g-y)}),[g,y]),V=s.useMemo((function(){return c.default.formatSpace(g)}),[g]),H=s.useMemo((function(){return c.default.formatSpace(y-g)}),[g,y]),W=s.useState(!1),G=W[0],q=W[1],$=s.useState(!1),Y=$[0],K=$[1],X=s.useState(""),Z=X[0],J=X[1],Q=s.useState(!1),ee=Q[0],te=Q[1],ne=s.useRef(null),re=s.useRef(null),ie=s.useCallback((function(){return D+Date.now()-k}),[D]),oe=s.useCallback((function(){ne.current&&(clearInterval(ne.current),ne.current=null)}),[ne]),ae=s.useCallback((function(){re.current&&(clearTimeout(re.current),re.current=null)}),[re]),se=s.useCallback((function(e){null!==M&&void 0!==M&&M.shouldCollapse||(R("tuning","close"),e.stopPropagation(),e.preventDefault(),oe(),F({key:"timestampLastCollapseInfoSpaceDiscount",value:String(ie())}),q(!0))}),[M,oe,F,ie]),ue=s.useCallback((function(){M.shouldExpandWithAnimation&&(F({key:"timestampLastExpandInfoSpaceDiscount",value:String(ie())}),K(!0))}),[M,ie,F]),ce=s.useCallback((function(){var e=M.shouldCollapse,t=M.shouldShowTimer;!e&&t&&(ne.current=setInterval((function(){var e,t=(null===M||void 0===M?void 0:M.finishDiscountTime)||0,n=Math.floor((t-ie())/1e3);if(n<0)e="";else{var r=O.default(n,":");e=(5===r.length?"00:":7===r.length?"0":"")+r}if(!e)return te(!0),void oe();J(e)}),1e3))}),[M,ie,oe]),le=s.useCallback((function(){ae(),B({key:"timestampLastUpdateInfoSpaceDiscount",value:String(ie())}),d()}),[B,ie,d,ae]),de=s.useCallback((function(){var e=M.canShowTimer,t=M.shouldShowTimer,n=M.timeWithTimer,r=ie(),i=n-r+1;e&&!t&&r<n&&i<Math.pow(2,31)-1&&(re.current=setTimeout(le,i))}),[M,ie,re,le]),fe=s.useCallback((function(){var e=M.canShowTimer,t=M.attentionTimer,n=M.timeAttentionTimer,r=M.shouldShowTimer,i=ie(),o=n-i+1;e&&r&&!t&&i<n&&o<Math.pow(2,31)-1&&(re.current=setTimeout(le,o))}),[M,ie,re,le]),he=s.useCallback((function(){var e=M.shouldCollapse,t=M.canShowTimer,n=M.finishDiscountTime;if(!ee&&e||!t){var r=n-ie();(!re.current&&r<Math.pow(2,31)-1||r<=0)&&(re.current=setTimeout((function(){te(!0)}),r>0?r:0))}}),[M,ee,ie,re]);d=s.useCallback((function(){A&&(ue(),ce(),de(),fe(),he())}),[A,he,ue,ce,fe,de]),s.useEffect((function(){Y&&d()}),[Y,d]),s.useEffect((function(){A&&(ue(),ce(),de(),fe(),he());var e=M.discountId;return A&&e!==N&&F({key:"lastShownInfoSpaceDiscountId",value:e}),function(){oe(),ae()}}),[A,ue,ce,de,fe,he,oe,ae,M,N,F]),s.useEffect((function(){L&&d()}),[L,d]),s.useEffect((function(){R("tuning show")}),[]);var pe=w>=90,me=function(e){return void 0===e&&(e=!1),y>g?"Превышено  на "+yr.externals.entityify(H):pe?__i18n__.i18n.convert(["Остался","Остался","Осталось","Осталось"],yr.externals.entityify(Number(z.split(" ")[0])))+"  "+yr.externals.entityify(z)+" из "+yr.externals.entityify(V):e?yr.externals.entityify(z)+" из "+yr.externals.entityify(V):"Свободно "+yr.externals.entityify(z)+" из "+yr.externals.entityify(V)},ve=s.useRef(null),ge=s.useCallback((function(){R("tuning")}),[]),ye=A&&!ee,be=ye&&(M.shouldCollapse||M.shouldExpandWithAnimation&&!Y),_e={className:C().m({full:!ye&&pe,discount:ye,notanimation:ye&&!(G||Y),expanded:ye&&!be,attention:ye&&M.attentionTimer&&Boolean(Z)}).mix(S),title:me()};b&&(_e=r(r({},_e),{onClick:ge,href:l.default.addParams(_,{from:"disk_buybtn"}),target:"_blank",rel:"noopener noreferrer"})),ye&&(_e.style={backgroundImage:"url("+(null===(t=null===M||void 0===M?void 0:M.payload)||void 0===t?void 0:t.background)+")",backgroundPosition:"50% 50%",backgroundSize:"cover"});var Oe=null===(n=null===M||void 0===M?void 0:M.payload)||void 0===n?void 0:n.textColor,we={};return Oe&&(we.style={color:Oe}),s.default.createElement(m.Link,r({},_e),ye?s.default.createElement(p.Button,{className:C().e("CollapseButton"),onClick:se,size:"xxs",view:"clear-inverse","aria-label":"Свернуть","aria-hidden":G,tabIndex:G?-1:void 0,icon:x}):null,s.default.createElement("div",{className:C().e("IndicatorWrapper")},s.default.createElement(f.default,{cls:C().e("Indicator"),value:w,isBuyButtonMail360:!0,shouldShowDiscount:ye})),s.default.createElement("div",{className:C().e("Footer")},s.default.createElement("div",{className:C().e("Text")},me("en"===P)),ye?s.default.createElement("div",{className:C().e("DiscountImage")},s.default.createElement("img",{src:null===(i=null===M||void 0===M?void 0:M.payload)||void 0===i?void 0:i.imgUrl})):null,ye?s.default.createElement("div",r({className:C().e("TextDiscount")},we),M.shouldShowTimer&&Z?s.default.createElement("div",{className:C().e("Timer")},s.default.createElement(v.default,{iconSize:"m"}),s.default.createElement("div",{className:C().e("TimerText")},Z)):null,null===(o=null===M||void 0===M?void 0:M.payload)||void 0===o?void 0:o.text):null,b?s.default.createElement(p.Button,r({},A&&!ee||U?{view:"action"}:{view:"raised"},{size:"m",width:"max",className:C().e("Button"),innerRef:ve,tabIndex:-1}),s.default.createElement("span",{className:C().e("ButtonTextWrapper")},E),A&&!ee&&(null===(a=null===M||void 0===M?void 0:M.payload)||void 0===a?void 0:a.imgSmallUrl)?s.default.createElement("div",{className:C().e("DiscountValue")},s.default.createElement("img",{className:C().e("DiscountSmallImage"),src:null===(u=null===M||void 0===M?void 0:M.payload)||void 0===u?void 0:u.imgSmallUrl})):null):null),b&&!T&&j?s.default.createElement(h.default,{anchor:ve,discount:j,scope:I}):null)}))}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);var r=n(21),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),d=n(5),f=n.n(d),h=n(7),p=n.n(h),m=n(1),v=n.n(m),g=n(0),y=n.n(g),b=n(19),_=n(103),O=n(25),w=n(211),E=n(45),S=n(12),C=n(29),x=n(138),k=n(244),T=n(253),j=(n(1584),n(11)),R=n.n(j);function P(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var D=function(){return R()()("discount-promo")},I=(function(e){f()(n,e);var t=P(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={},r._getMetrikaPath=r._getMetrikaPath.bind(l()(r)),r._onClose=r._onClose.bind(l()(r)),r._onLaterClick=r._onLaterClick.bind(l()(r)),r._onBuyClick=r._onBuyClick.bind(l()(r)),r._saveTimestampLastClosedDiscountPromo=r._saveTimestampLastClosedDiscountPromo.bind(l()(r)),r}return u()(n,[{key:"componentDidMount",value:function(){this.setState({visible:!0}),S.default.count.apply(S.default,i()(this._getMetrikaPath()).concat(["show"])),this._isVisible()&&this.props.setDiscountPromoShown()}},{key:"componentDidUpdate",value:function(){this._isVisible()&&this.props.setDiscountPromoShown()}},{key:"_onClose",value:function(){this.setState({visible:!1})}},{key:"_getMetrikaPath",value:function(){return["interface elements",this.state.isLastDay?"promo sale bubble last day":"promo sale bubble"]}},{key:"_onLaterClick",value:function(e){e.stopPropagation(),this._onClose(),this._saveTimestampLastClosedDiscountPromo(),S.default.count.apply(S.default,i()(this._getMetrikaPath()).concat(["not now"]))}},{key:"_onBuyClick",value:function(e){e.stopPropagation(),window.open(this.props.urlDisk+"/tuning","_blank"),this._onClose(),this._saveTimestampLastClosedDiscountPromo(),S.default.count.apply(S.default,i()(this._getMetrikaPath()).concat(["buy"]))}},{key:"_saveTimestampLastClosedDiscountPromo",value:function(){this.props.saveSettings({key:"timestampLastClosedDiscountPromo",value:String((new Date).getTime())})}},{key:"_isVisible",value:function(){return this.state.visible&&this.props.isNotificationAllowed}},{key:"render",value:function(){var e,t=[y.a.createElement("b",{key:"spanDiscount"},"Скидка"," ",this.props.discount.percentage,"%"),y.a.createElement("br",{key:"brDiscount"}),this.state.isLastDay?y.a.createElement("span",{key:"spanLastDay"},"Остался один день"):y.a.createElement("span",{key:"spanLoweredTill"},"Цена снижена до"," ",Object(w.timestampToDate)(this.props.discount.active_until_ts,"D mmmm"))],n=[y.a.createElement(O.Button,{key:"later",view:"clear",size:"m",onClick:this._onLaterClick,className:D().e("later-button")},"Позже"),y.a.createElement(O.Button,{key:"buy",view:"action",size:"m",onClick:this._onBuyClick,className:D().e("buy-button")},"Купить")];return e=this.props.scope?this.props.scope:{current:"undefined"!=typeof document?document.querySelector(".sidebar_fixed"):null},y.a.createElement(_.MessageBoxPopup,{scope:e,anchor:this.props.anchor,visible:this._isVisible(),direction:"top-start",tailOffset:10,view:"default",size:"m",className:D(),actions:n,corner:y.a.createElement(_.Corner,{side:"top-left",width:50,key:"corner"},y.a.createElement("div",{className:D().e("logo")})),hasTail:!0},y.a.createElement(_.Wrapper,{align:"left"},t))}}],[{key:"getDerivedStateFromProps",value:function(e){return{isLastDay:1e3*e.discount.active_until_ts-Number(Object(x.d)(new Date,0,0,0,0))<=C.ONE_DAY}}}]),n})(g.Component);t.default=Object(b.connect)((function(e){return{isNotificationAllowed:Object(k.a)(e),urlDisk:e.config.urlsBase.disk}}),{saveSettings:E.saveSettings,setDiscountPromoShown:T.f})(I)}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(15),p=n(0),m=n.n(p);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"m"}},{key:"getContentSVG",value:function(){return m.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16zm0-2A6 6 0 1 0 8 2a6 6 0 0 0 0 12zm3.357-3.736a1 1 0 0 0-.342-1.371L9 7.683V5a1 1 0 1 0-2 0v3.25a1 1 0 0 0 .486.857l2.5 1.5a1 1 0 0 0 1.371-.342z"})}}]),n})(h.default)}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=n(19),s=i(n(12)),u=n(60),c=i(n(1588));n(1589);var l=i(n(11)),d=function(){return l.default()("AppLink")},f=a.connect((function(e){return{OSFamily:e.environment.agent.OSFamily}}));t.default=f((function(e){var t=e.OSFamily,n=o.useCallback((function(){s.default.count("interface elements","install soft")}),[]),r=o.useMemo((function(){return function(e){return o.default.createElement(c.default,{cls:e,windows:"Windows"===t})}}),[t]);return o.default.createElement("div",{className:d()},o.default.createElement(u.Link,{theme:"primary",className:d().e("Link"),href:"/download?src=Yandex.Sidebar",target:"_blank",onClick:n,iconLeft:r},"Установить приложение"))}))}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(7),l=n.n(c),d=n(1),f=n.n(d),h=n(0),p=n.n(h),m=n(15),v=n(27),g=n.n(v);function y(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var b=(function(e){u()(n,e);var t=y(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return p.a.createElement("g",{fillRule:"evenodd",fill:"currentColor"},p.a.createElement("path",{fillRule:"nonzero",d:"M3 17h10.7a.3.3 0 0 1 .3.3v1.4a.3.3 0 0 1-.3.3H1.3a.3.3 0 0 1-.3-.3v-1.4a.3.3 0 0 1 .3-.3H2V6a1 1 0 0 1 1-1h16.7a.3.3 0 0 1 .3.3v.4a.3.3 0 0 1-.3.3H3v11z"}),p.a.createElement("path",{fillRule:"nonzero",d:"M16 8v9h5V8h-5zm0-1h5a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1z"}),this.props.windows?p.a.createElement("path",{d:"M12 14l-2.143-.306v-1.837H12V14zm-2.857-.408L7 13.286v-1.429h2.143v1.735zM12 9v2.143H9.857V9.306L12 9zm-2.857.408v1.735H7V9.714l2.143-.306z"}):null)}}]),n})(m.default);b.PropTypes={windows:g.a.bool},t.default=b}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(5),l=n.n(c),d=n(7),f=n.n(d),h=n(1),p=n.n(h),m=n(0),v=n.n(m),g=n(19),y=n(440),b=n(178),_=n(233),O=n(25),w=n(45),E=n(253),S=n(171),C=n(29),x=n(12),k=n(11),T=n.n(k);n(1594);function j(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var R=function(){return T()()("mobile-promo-banner")},P=/^(\+7|8)\d{10}$/,D=/^\d{0,10}$/,I=(function(e){l()(n,e);var t=j(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={shouldPastePassportPhoneNumber:Boolean(r.props.passportPhoneNumber),incorrectPhoneNumberSubmitted:!1},r._onSubmit=r._onSubmit.bind(u()(r)),r._onChange=r._onChange.bind(u()(r)),r._onClose=r._onClose.bind(u()(r)),r._onOutsideClick=r._onOutsideClick.bind(u()(r)),r._textInputAnchor=v.a.createRef(),r}return a()(n,[{key:"_metrikaCount",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];x.default.count.apply(x.default,["interface elements","top_banner_install_mobile"].concat(t))}},{key:"_onSubmit",value:function(e){var t=this;e.preventDefault();var n=this.state.shouldPastePassportPhoneNumber,r=this.props,i=r.phoneNumber,o=r.sendPromoSms,a=r.shouldSendPromoSms,s=r.isPhoneNumberCorrect,u=r.diskUrl;n||s?(this._metrikaCount("click"),a?o(n?null:i).then((function(){return t._metrikaCount("sms sent")}),(function(){return t._metrikaCount("sms sending error")})):(this._metrikaCount("redirect"),window.open("".concat(u,"/download?src=BannerMobile#mobile")))):this.setState({incorrectPhoneNumberSubmitted:!0})}},{key:"_onChange",value:function(e){var t=this.props.editPhoneNumber,n=this.state,r=n.shouldPastePassportPhoneNumber,i=n.incorrectPhoneNumberSubmitted;r?this.setState({shouldPastePassportPhoneNumber:!1}):t(e.target.value.trim()),i&&this.setState({incorrectPhoneNumberSubmitted:!1})}},{key:"_onClose",value:function(){this.props.saveSettings({key:"timestampLastClosedMobilePromo",value:String(Date.now())})}},{key:"_onOutsideClick",value:function(){var e=this.props.promoSmsSendingFailed,t=this.state.incorrectPhoneNumberSubmitted;e&&this.props.resetSmsSendingError(),t&&this.setState({incorrectPhoneNumberSubmitted:!1})}},{key:"render",value:function(){var e=this.props,t=e.passportPhoneNumber,n=e.phoneNumber,r=e.sendingPromoSms,i=e.promoSmsSendingFailed,o=e.isEditingPhoneNumberCorrect,a=this.state,s=a.shouldPastePassportPhoneNumber,u=a.incorrectPhoneNumberSubmitted;return v.a.createElement(y.a,{cls:R(),onClose:this._onClose},v.a.createElement("div",{className:R().e("phone-image")}),v.a.createElement("div",{className:R().e("right-block")},v.a.createElement("h3",{className:R().e("header")},"Безлимит для фото в приложении Диска"),v.a.createElement("span",{className:R().e("description")},"Храните неограниченное количество фото и видео с телефона.\nПолучите ссылку на телефон для установки приложения"),v.a.createElement("form",{className:R().e("sms-form"),onSubmit:this._onSubmit},v.a.createElement(b.Textinput,{className:R().e("telephone-input"),disabled:r,view:"normal",type:"tel",size:"l",value:s?t:n,placeholder:"+7XXXXXXXXXX",hasClear:!0,onChange:this._onChange,maxLength:20,innerRef:this._textInputAnchor}),v.a.createElement(_.Tooltip,{view:"default",state:"alert",size:"s",anchor:this._textInputAnchor,direction:"bottom",visible:u||!s&&n.length&&!o||i,onClose:this._onOutsideClick,hasTail:!0},i?v.a.createElement("div",{className:R().e("sms-error-tooltip")},"Не удалось отправить СМС‑сообщение.\nПопробуйте позже"):v.a.createElement("div",{className:R().e("wrong-phone-tooltip")},"Проверьте, правильно ли указан номер телефона")),v.a.createElement(O.Button,{progress:r,view:"action",size:"m",type:"submit"},"Получить"))))}},{key:"componentDidMount",value:function(){this._metrikaCount("show")}}]),n})(m.Component);t.default=Object(g.connect)((function(e){var t=e.user.phoneNumber,n=e.settings.timestampLastSentMobilePromoSms,r=e.promo,i=r.phoneNumber,o=r.sendingPromoSms,a=r.promoSmsSendingFailed,s=e.config.urlsBase.disk;return{passportPhoneNumber:t,phoneNumber:i,isEditingPhoneNumberCorrect:(function(e){return e.startsWith("+7")?D.test(e.slice(2)):"+"===e||e.startsWith("8")&&D.test(e.slice(1))})(i),isPhoneNumberCorrect:P.test(i),sendingPromoSms:o,promoSmsSendingFailed:a,shouldSendPromoSms:Object(S.checkTimeIntervalCondition)(Number(n),C.ONE_DAY),diskUrl:s}}),{saveSettings:w.saveSettings,sendPromoSms:E.e,editPhoneNumber:E.c,resetSmsSendingError:E.d})(I)}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"B2cBanner",(function(){return T}));var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(5),l=n.n(c),d=n(7),f=n.n(d),h=n(1),p=n.n(h),m=n(0),v=n.n(m),g=n(25),y=n(440),b=n(12),_=n(11),O=n.n(_),w=n(19),E=n(45),S=(n(1598),n(171)),C=n(29);function x(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var k=function(){return O()()("b2c-1-banner")},T=(function(e){l()(n,e);var t=x(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onClose=r._onClose.bind(u()(r)),r._onAction=r._onAction.bind(u()(r)),r._metrikaCount=r._metrikaCount.bind(u()(r)),r.state={visible:!1},r}return a()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isNeedToResetB2cBannerShowDuration,n=e.hasServerTimeFromGetParameter,r=e.serverTime;this.isBannerShowDurationContinues()?(this.setState({visible:!0}),this._metrikaCount("show"),t||(this.props.saveSettings({key:"isNeedToResetB2cBannerShowDuration",value:"1",serverOnly:!0}),this.props.saveSettings({key:"timestampLastB2CBannerShow",value:n?String(r):String(Date.now()),serverOnly:!0}))):this._onClose()}},{key:"render",value:function(){return this.state.visible?v.a.createElement(y.a,{cls:k(),onClose:this._onClose},v.a.createElement("div",{className:k().e("background")}),v.a.createElement("div",{className:k().e("right-block")},v.a.createElement("h3",{className:k().e("header")},"Дополнительно 1 ТБ на Диске"),v.a.createElement("p",{className:k().e("description")},"Храните еще больше фото, видео и документов на Яндекс.Диске с подпиской на Яндекс 360"),v.a.createElement(g.Button,{className:k().e("button"),view:"action",size:"m",type:"link",url:"https://mail360.yandex.ru/?utm_source=disk&utm_medium=morda&utm_campaign=top_banner&utm_content=360_subscription&utm_term=30_space_left",target:"_blank",onClick:this._onAction},"Добавить место"))):null}},{key:"isBannerShowDurationContinues",value:function(){var e=this.props,t=e.timestampLastB2CBannerShow,n=e.serverTime;return Object(S.checkTimeIntervalCondition)(Number(t),C.B2C_BANNER_DURATION_SHOW_TIMEOUT,n,!0)}},{key:"_onClose",value:function(){var e=this;this.setState({visible:!1});var t=this.props,n=t.hasServerTimeFromGetParameter,r=t.serverTime;this.props.saveSettings({key:"isNeedToResetB2cBannerShowDuration",value:"0",serverOnly:!0}),this.props.saveSettings({key:"timestampLastClosedB2CBanner",value:n?String(r):String(Date.now()),serverOnly:!0}).then((function(){e._metrikaCount("close")})),this.props.saveSettings({key:"timestampLastB2CBannerShow",value:"0",serverOnly:!0})}},{key:"_onAction",value:function(){this._metrikaCount("click")}},{key:"_metrikaCount",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];b.default.count.apply(b.default,["interface elements","Disk","web_client","Top_banner","B2B_subscription"].concat(t))}}]),n})(m.Component);t.default=Object(w.connect)((function(e){return{timestampLastB2CBannerShow:e.settings.timestampLastB2CBannerShow,serverTime:e.environment.session.serverTime,hasServerTimeFromGetParameter:Boolean(e.page.originalNSParams.server_time),isNeedToResetB2cBannerShowDuration:Boolean(Number(e.settings.isNeedToResetB2cBannerShowDuration))}}),{saveSettings:E.saveSettings,updateSettings:E.updateSettings})(T)}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),s=i(n(0)),u=o(n(12)),c=o(n(54)),l=o(n(120)),d=n(43),f=n(45),h=n(38),p=n(29),m=n(25),v=n(60),g=o(n(734)),y=o(n(110)),b=n(302),_=n(301),O=function(e){return s.default.createElement(g.default,{iconSize:"m",cls:e})};n(1600);var w=o(n(11)),E=function(){return w.default()("overdraft-block")},S=n(151).I18N,C={updateSettings:f.updateSettings},x=a.connect((function(e){return{buttonText:d.getTuningButtonInfo(e).text,helpLink:e.config.links.help.diskPro+"#end",buyButtonUrl:c.default.addParams(h.getBuyButtonUrl(e),{from:"disk_overdraft_block"}),overdraftType:d.getOverdraftType(e),overdraftValue:l.default.formatSpace(d.getSpaceOverdraftValue(e)),blockOverdraftDate:d.getBlockOverdraftDate(e)}}),C);t.default=x((function(e){var t=e.buttonText,n=e.helpLink,i=e.buyButtonUrl,o=e.overdraftType,a=e.overdraftValue,c=e.blockOverdraftDate,l=e.updateSettings,d=s.useCallback((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o?u.default.count.apply(u.default,r(["interface elements","overdrafts",o,"overdraft_header"],e)):u.default.count.apply(u.default,r(["interface elements","overdraft_header"],e))}),[o]);s.useEffect((function(){d("show")}),[]);var f=s.useCallback((function(){d("close"),l({closedOverdraftBlock:!0})}),[l]),h=s.useCallback((function(){d(o?"buy_button":"buy")}),[o]);if(o){var g=c&&y.default(c,"D mmmm",["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]),w=o===p.OVERDRAFT_TYPES.LITE?"Ваш Диск переполнен на "+yr.externals.entityify(a)+". "+yr.externals.entityify(g)+" Диск заблокируется насовсем. Добавьте место или удалите лишнее.":"Ваш Диск будет заблокирован "+yr.externals.entityify(g)+". Файлы занимают на "+yr.externals.entityify(a)+" больше, чем у вас есть. Удалите лишнее или добавьте место.";return s.default.createElement("div",{className:E().m({new:!0}).mix(b.cnTheme(_.theme)),title:w},s.default.createElement("div",{className:E().e("icon-exclamation")}),o===p.OVERDRAFT_TYPES.LITE?s.default.createElement(S,{className:E().e("message-wrapper"),loc:yr.externals.entityify(S.$1_OPEN)+"Ваш Диск переполнен на "+yr.externals.entityify(a)+"."+yr.externals.entityify(S.$1_CLOSE)+" "+yr.externals.entityify(g)+" Диск заблокируется насовсем. Добавьте место или удалите лишнее."},s.default.createElement("b",{className:E().e("message-strong")})):s.default.createElement(S,{className:E().e("message-wrapper"),loc:yr.externals.entityify(S.$1_OPEN)+"Ваш Диск будет заблокирован "+yr.externals.entityify(g)+". Файлы занимают на "+yr.externals.entityify(a)+" больше, чем у вас есть."+yr.externals.entityify(S.$1_CLOSE)+" Удалите лишнее или добавьте место."},s.default.createElement("b",{className:E().e("message-strong")})),s.default.createElement(m.Button,{type:"link",url:i,className:E().e("button-add-space"),target:"_blank",size:"s",view:"raised",onClick:h},"Добавить место"))}return s.default.createElement("div",{className:E()},s.default.createElement(S,{className:E().e("message-wrapper"),loc:yr.externals.entityify(S.$1_OPEN)+"Доступ к Диску "+yr.externals.entityify(S.$2_OPEN)+"ограничен."+yr.externals.entityify(S.$2_CLOSE)+" Ваши файлы занимают больше места, чем у вас есть."+yr.externals.entityify(S.$1_CLOSE)+" Удалите лишнее или увеличьте объём Диска."},s.default.createElement("b",{className:E().e("message-strong")}),s.default.createElement(v.Link,{theme:"normal",className:E().e("help-link"),href:n})),s.default.createElement(m.Button,{type:"link",url:i,className:E().e("button"),target:"_blank",size:"s",view:"raised",onClick:h},t),s.default.createElement(m.Button,{className:E().e("close-button"),onClick:f,size:"s",view:"clear-inverse","aria-label":"Закрыть",icon:O}))}))}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(0)),l=n(19),d=n(1602);n(1606);var f=u(n(11)),h=n(1607),p=n(72),m=n(1609),v=u(n(12)),g=n(1735),y=n(301),b=n(394),_=n(1738),O=n(1754),w=n(1756),E=function(){return f.default()("sidebarWithWidgets")},S=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isClient:!1,isExpanded:t.props.isExpanded,expandedUpdateTimestamp:t.props.expandedUpdateTimestamp,isReady:!1},t.logger=new w.YaMetrikaLogger(function(e){return t.logMetric.apply(t,e)}),t.handleIsExpandedChange=function(e){t.setState({isExpanded:e,expandedUpdateTimestamp:Date.now()})},t.handleExpandedToggle=function(){t.setState((function(e){return{isExpanded:!e.isExpanded,expandedUpdateTimestamp:Date.now()}}))},t.handleReady=function(){t.setState({isReady:!0})},t.sendMetric=t.logger.logMetric.bind(t.logger),t}return r(t,e),t.prototype.componentDidMount=function(){this.setState({isClient:!0})},t.prototype.getTavernContent=function(){var e=this.state,t=e.isExpanded,n=e.expandedUpdateTimestamp,r=this.props.timezone;return c.default.createElement(c.default.Fragment,null,!this.state.isReady&&c.default.createElement(g.PSSidebarContainer,{theme:y.theme,isDark:!1,platform:b.Platform.WEB},c.default.createElement(_.PSSidebarPlaceholder,{isExpanded:t,expandedUpdateTimestamp:n,onToggle:this.handleExpandedToggle,getI18n:O.getI18n,sendMetric:this.sendMetric,timeZone:r})),this.state.isClient&&c.default.createElement(d.Tavern,i({},this.props,{className:E().e("tavern").m({hidden:!this.state.isReady}),isExpanded:this.state.isExpanded,expandedUpdateTimestamp:this.state.expandedUpdateTimestamp,onExpandedChange:this.handleIsExpandedChange,logMetric:this.sendMetric,onReady:this.handleReady})))},t.prototype.getContent=function(){var e=this.props,t=e.isTavern,n=o(e,["isTavern"]);return t?this.getTavernContent():this.state.isClient&&c.default.createElement(m.SidebarWithWidgets,i({},n,{onExpandedChange:this.handleIsExpandedChange,logMetric:this.logMetric}))},t.prototype.logMetric=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];v.default.count.apply(v.default,a(["Sidebar with widgets"],e))},t.prototype.render=function(){var e=this.state.isExpanded;return c.default.createElement("div",{className:E()},c.default.createElement("div",{className:E().e("wrap").m({isExpanded:e})},c.default.createElement("div",{className:E().e("widgets")},this.getContent())),e&&c.default.createElement("div",{className:E().e("placeholder")}))},t})(c.PureComponent);t.default=h.withTavernData(l.connect((function(e){return{isTavern:p.isTavernExperiment(e)}}))(S))}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(1812),s=n(1605),u=n(245),c=n(261),l=n(231),d=a.TavernURL.Prestable,f=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iframeRef=o.default.createRef(),t.onXivaMessage=function(e){var n;l.getXivaServices(l.getWidgetNames()).includes(e.service)&&(null===(n=t.sender)||void 0===n||n.sendEvent({name:"xiva",payload:e}))},t}return r(t,e),t.prototype.componentDidMount=function(){var e=this,t=a.createInterop(this.iframeRef.current,d),n=t.sender,r=t.receiver;this.sender=n,r.subscribe(a.TavernEvents.ChangeExpandState,(function(t){e.props.onExpandedChange(t)})),r.subscribe(a.TavernEvents.Ready,(function(){var t;e.props.onReady(),null===(t=e.sender)||void 0===t||t.sendEvent({name:a.TavernEvents.ChangeExpandState,payload:{isExpanded:e.props.isExpanded,expandedUpdateTimestamp:e.props.expandedUpdateTimestamp}})})),r.subscribe(a.TavernEvents.SendMetric,(function(t){e.props.logMetric(t)})),c.registerMessageCallback(this.onXivaMessage)},t.prototype.componentDidUpdate=function(e){var t;e.isExpanded!==this.props.isExpanded&&(null===(t=this.sender)||void 0===t||t.sendEvent({name:a.TavernEvents.ChangeExpandState,payload:{isExpanded:this.props.isExpanded,expandedUpdateTimestamp:this.props.expandedUpdateTimestamp}}),u.setPSSetting(this.props.cloudApiUrl,"yadisk_web","widgetsExpanded",[this.props.isExpanded,this.props.expandedUpdateTimestamp].join(",")))},t.prototype.componentWillUnmount=function(){c.removeMessageCallback(this.onXivaMessage)},t.prototype.render=function(){var e=this.props,t=e.diskSk,n=e.uid,r=e.timezone,i=e.isExpanded,s=e.expandedUpdateTimestamp;return o.default.createElement(a.TavernPortal,{className:this.props.className,src:d,iframeRef:this.iframeRef,host:a.Hosts.Disk,widgets:l.getWidgetNames(),expanded:i,expandedTimestamp:String(s),hasDisk:!0,diskSk:t,uid:n,timezone:r})},t})(o.Component);t.Tavern=s.withCheckXivaServices(f)}),(function(e,t,n){"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),i=Array.isArray(t),o=0;o<r.length;o++){var a=r[o],s=e[a];(i?-1!==t.indexOf(a):t(a,s,e))&&(n[a]=s)}return n}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(0)),s=n(231),u=n(261);t.withCheckXivaServices=function(e){return (function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r(n,t),n.prototype.componentDidMount=function(){u.getWasXivaConnected()&&!this.hasXivaSubscribe()&&u.resubscribe(0)},n.prototype.hasXivaSubscribe=function(){return s.getXivaServices(s.getWidgetNames()).every((function(e){return u.getCurrentXivaServices().includes(e)}))},n.prototype.render=function(){return a.default.createElement(e,i({},this.props))},n})(a.PureComponent)}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),i=n(1608);t.withTavernData=r.connect((function(e){var t=i.getWidgetsExpanded(e),n=t[0],r=t[1],o=e.config,a=o.urlsBase,s=o.sk,u=e.user,c=u.uid,l=u.timezone;return{isExpanded:n,expandedUpdateTimestamp:r,cloudApiUrl:a["cloud-api"],diskSk:s,uid:c,timezone:l}}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(59);t.getWidgetsExpanded=r.createSelector((function(e){return e.environment.session.psSettings}),(function(e){var t=e.widgetsExpanded?e.widgetsExpanded.split(","):[],n=[void 0,void 0];return"string"==typeof t[0]&&(n[0]="true"===t[0]),"string"==typeof t[1]&&(n[1]=Number(t[1])),n}))}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(0)),s=n(19),u=o(n(1610)),c=n(261),l=n(231),d="",f=u.withI18n(u.default),h=s.connect((function(e){var t=e.config,n=t.idClient,r=t.urlsBase;return{idClient:n,browserName:e.environment.agent.BrowserName,links:{Disk:r.disk,Telemost:r.telemost,Notes:r.notes,Mail:r.mail,Premium:r.mail360},apiUrl:r.mail}})),p=(function(e){function t(t){var n=e.call(this,t)||this;return n._setDatasyncData=function(){return Promise.resolve()},n.state={isExpanded:!1},n.handleToggle=n.handleToggle.bind(n),n.getWebApiCkey=n.getWebApiCkey.bind(n),n.setWebApiCkey=n.setWebApiCkey.bind(n),n}return r(t,e),t.prototype.componentDidMount=function(){var e=Boolean(u.getExpandedState(this.props.uid));this.setState({isExpanded:e}),this.props.onExpandedChange(e)},t.prototype.handleToggle=function(){var e=this;this.setState((function(e){return i(i({},e),{isExpanded:!e.isExpanded})}),(function(){e.props.onExpandedChange(e.state.isExpanded)}))},t.prototype.getWebApiCkey=function(){return d},t.prototype.setWebApiCkey=function(e){d=e},t.prototype.getWidgets=function(){return l.getWidgetNames().map((function(e){return{name:e,props:{}}}))},t.prototype.render=function(){var e=this.state.isExpanded;return a.default.createElement(f,{apiUrl:this.props.apiUrl+"/web-api/shared/models",xivaUrl:c.getXivaBaseUrl(),cloudApiUrl:this.props.cloudApiUrl,uid:this.props.uid,session:this.props.idClient,getCkey:this.getWebApiCkey,setCkey:this.setWebApiCkey,sk:this.props.diskSk,links:this.props.links,browserName:this.props.browserName,isExpanded:e,timeZone:this.props.timezone,onToggle:this.handleToggle,sendMetric:this.props.logMetric,widgets:this.getWidgets(),setDatasyncData:this._setDatasyncData})},t})(a.PureComponent);t.SidebarWithWidgets=h(p)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Widgets=t.getExpandedState=t.withI18n=void 0;const i=r(n(1611)),o=r(n(1732));t.withI18n=o.default;const a=n(639);Object.defineProperty(t,"getExpandedState",{enumerable:!0,get:function(){return a.getExpandedState}});const s=n(491);Object.defineProperty(t,"Widgets",{enumerable:!0,get:function(){return s.Widgets}}),t.default=i.default}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetsComponents=t.WidgetsNames=t.Service=t.sidebarClass=void 0;const s=o(n(0)),u=n(19),c=n(302),l=a(n(1612)),d=n(216);n(1628);const f=n(637),h=a(n(1629)),p=a(n(1678)),m=a(n(495)),v=a(n(1711)),g=a(n(1713)),y=a(n(1717)),b=n(635),_=n(28);n(1721);const O=n(636),w=n(155),E=n(491);Object.defineProperty(t,"WidgetsNames",{enumerable:!0,get:function(){return E.Widgets}});const S=n(641),C=n(136);Object.defineProperty(t,"Service",{enumerable:!0,get:function(){return C.Service}});const x=n(1722),k=n(115);t.sidebarClass=_.cn("PSSidebar"),t.WidgetsComponents={[E.Widgets.Disk]:m.default,[E.Widgets.Mail]:g.default,[E.Widgets.Notes]:v.default,[E.Widgets.Telemost]:p.default,[E.Widgets.Space]:x.SpaceWidget,[E.Widgets.Promo]:y.default};const T=({name:e,children:t,sendMetric:n})=>{const r=s.useCallback((...t)=>n(e,...t),[e,n]);return s.default.createElement(w.MetricContext.Provider,{value:r},t)};t.default=l.default(u.connect(e=>({isLoaded:b.isSidebarLoaded(e)}),{fetchSidebarData:b.fetchSidebarData,subscribe:O.subscribe})(({xivaUrl:e,apiUrl:n,cloudApiUrl:r,uid:i,getCkey:o,setCkey:a,sk:u,session:l,getI18n:p,links:m,browserName:v,isExpanded:g,timeZone:y,onToggle:b,sendMetric:_,isLoaded:O,fetchSidebarData:E,getDatasyncData:x,setDatasyncData:j,subscribe:R,widgets:P=[],theme:D})=>{d.createApiClient(n,i,o,a),f.createXivaClient(i,l,e),s.useEffect(()=>{O||(E({cloudApiUrl:r,uid:i,getCkey:o,setCkey:a,widgets:P.map(({name:e})=>e),getDatasyncData:x}),R())},[]);const I=s.useRef(null),A=s.useCallback((...e)=>{_(g?"Expanded":"Folded",...e)},[_,g]),M=s.useMemo(()=>({getI18n:p,sk:u,links:m,browserName:v,isExpanded:g,timeZone:y,onToggle:b,uid:i,setDatasyncData:j,theme:D}),[p,u,m,v,g,y,b,i,j,D]);return s.default.createElement(C.AppContext.Provider,{value:M},s.default.createElement("div",{className:k.classnames(t.sidebarClass(),c.cnTheme(D)),ref:I},O&&s.default.createElement(S.SidebarContext.Provider,{value:I},s.default.createElement(w.MetricContext.Provider,{value:A},s.default.createElement(h.default,null)),P.map(e=>{const n=t.WidgetsComponents[e.name],r=e.props;return s.default.createElement(T,{key:e.name,sendMetric:A,name:e.name},s.default.createElement(n,Object.assign({},r)))})),!O&&g&&s.default.createElement(s.default.Fragment,null,s.default.createElement(w.MetricContext.Provider,{value:A},s.default.createElement(h.default,null)),["l","m","s"].map(e=>s.default.createElement("div",{key:e,className:t.sidebarClass("Placeholder",{size:e})})))))}))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(19),a=n(1613);t.default=function(e){return function(t){return i.default.createElement(o.Provider,{context:a.storeContext,store:a.store},i.default.createElement(e,Object.assign({},t)))}}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.storeContext=t.store=void 0;const i=r(n(0)),o=n(86),a=r(n(635)),s=r(n(276)),u=r(n(489)),c=r(n(490)),l=r(n(492)),d=r(n(493)),f=n(636);t.store=o.configureStore({middleware:e=>e().concat(f.xivaMiddleware),reducer:{sidebar:a.default,diskWidget:s.default,notesWidget:u.default,mailWidget:c.default,spaceWidget:l.default,promoWidget:d.default}}),t.storeContext=i.default.createContext({store:t.store,storeState:t.store.getState()})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNotesFromTags=void 0;const r=e=>"tags"===e.collection_id,i=e=>"notes"===e.collection_id;t.getNotesFromTags=(e=>{const t=(e=>e.items.filter(r))(e);return(e=>e.items.filter(i))(e).map(e=>((e,t)=>e.fields.reduce((e,n)=>{switch(n.field_id){case"snippet":case"title":e[n.field_id]=(e=>e.string)(n.value);break;case"mtime":e[n.field_id]=(e=>e.datetime)(n.value);break;case"tags":e[n.field_id]=((e,t)=>e.list.reduce((e,n)=>{const r=n.list.filter(e=>"integer"===e.type)[0];return"integer"===r.type&&t[r.integer]&&(e[t[r.integer].fields.filter(e=>"type"===e.field_id)[0].value.string]=!0),e},{deleted:!1,trash:!1,pin:!1}))(n.value,t)}return e},{id:e.record_id}))(e,t)).filter(e=>!e.tags.deleted&&!e.tags.trash).sort((e,t)=>e.tags.pin!==t.tags.pin?t.tags.pin?1:-1:new Date(t.mtime).getTime()-new Date(e.mtime).getTime())})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1616);t.Api=r.Api;var i=n(1618);t.ModelsApi=i.ModelsApi;n(1620)}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(622)),c=s(n(1617)),l={min:100,max:500,factor:2,jitter:.1,maxAttempts:3},d=(function(){function e(e,t,n,r){void 0===r&&(r=l),this.baseUri=e,this.retryOptions=r,this.defaultOptions={mode:"cors",credentials:"include",headers:{Accept:"application/json"}},this.config=t,this.logger=n}return e.prototype.getHeaders=function(e){var t=r(r(r({},this.defaultOptions.headers),this.config.getAdditionalHeaders?this.config.getAdditionalHeaders():{}),e.headers);return this.isDefaultContentType(t)&&!e.autoContentType?r(r({},t),{"Content-Type":"application/json"}):t},e.prototype.isDefaultContentType=function(e){return e instanceof Headers?Boolean(!e.get("content-type")):Array.isArray(e)?Boolean(!e.find((function(e){return"content-type"===e[0].toLowerCase()}))):!e["Content-Type"]},e.prototype.getBody=function(e){if(e.body instanceof FormData)return e.body;var t=Object.assign({},this.config.getAdditionalBodyFields?this.config.getAdditionalBodyFields():{},e.body||{});return JSON.stringify(t)},e.prototype.request=function(e,t,n){return void 0===n&&(n={}),i(this,void 0,Promise,(function(){var i,s,l,d,f,h;return o(this,(function(o){switch(o.label){case 0:i=n.maxAttempts,s=a(n,["maxAttempts"]),l=new u.default(this.retryOptions),d=r(r(r({},this.defaultOptions),s),{headers:this.getHeaders(s),body:this.getBody(s),cache:"no-cache",method:e}),f=1,o.label=1;case 1:if(!(f<=(i||this.retryOptions.maxAttempts)))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,fetch(""+this.baseUri+t,d).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()}))];case 3:return[2,o.sent()];case 4:if(h=o.sent(),f>=this.retryOptions.maxAttempts)throw this.logger.logError(h,"request"),h;return[4,c.default(l.duration())];case 5:return o.sent(),[3,6];case 6:return f++,[3,1];case 7:return[2,Promise.reject()]}}))}))},e.prototype.post=function(e,t,n){return i(this,void 0,Promise,(function(){var r;return o(this,(function(i){return r=Object.assign({},{body:t},n),[2,this.request("POST",e,r)]}))}))},e})();t.Api=d}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t){return setTimeout(t,e)})}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(624)),u=a(n(625)),c=n(1619),l=(function(){function e(e,t,n){this.modelsQueryParameter=t.modelsQueryParameter,this.cache=new c.ApiCache,this.responseInterceptor=null===n||void 0===n?void 0:n.response,this.api=e}return e.prototype.postFormData=function(e,t,n,i){var o=this;return void 0===i&&(i={}),i.headers=r(r({},i.headers),{"x-yandex-header-params":JSON.stringify(n)}),i.autoContentType=!0,this.api.post("?"+this.modelsQueryParameter+"="+e,t,i).then((function(t){return o.handleMultiResponse([{name:e,params:n}],t,i)})).then((function(e){return e[0]}))},e.prototype.getModelKey=function(e){return this.cache.key(e.name,e.params)},e.prototype.requestModelsTuple=function(e,t){return i(this,void 0,Promise,(function(){return o(this,(function(n){return[2,this.getModelsResultImplementation(e,t)]}))}))},e.prototype.requestModelArray=function(e,t){return i(this,void 0,void 0,(function(){return o(this,(function(n){return[2,this.getModelsResultImplementation(e,t)]}))}))},e.prototype.getModelsResultImplementation=function(e,t){return i(this,void 0,Promise,(function(){var n,r,i,a,c,l,d,f,h,p=this;return o(this,(function(o){switch(o.label){case 0:return t||(t={}),n=e.reduce((function(e,t){return e[p.getModelKey(t)]=t,e}),{}),r=Object.keys(n),i={},t.cache&&Object.entries(n).reduce((function(e,t){var n=t[0],r=t[1];return p.cache.has(n,r.params)&&(e[p.getModelKey(r)]={data:p.cache.get(r.name,r.params)}),e}),i),r.length===Object.keys(i).length?[2,e.map((function(e){var t=p.getModelKey(e);return i[t]}))]:(a=u.default(n,s.default(r,Object.keys(i))),c=Object.values(a),l=c.map((function(e){return e.name})),[4,this.api.post("?"+this.modelsQueryParameter+"="+l.join(","),{models:c},t).then((function(e){return{modelResults:p.handleMultiResponse(c,e,t),response:e}}))]);case 1:return(d=o.sent()).modelResults.forEach((function(e,t){var n=c[t];i[p.getModelKey(n)]=e})),f=e.map((function(e){var t=p.getModelKey(e);return i[t]})),this.responseInterceptor?(h=e.reduce((function(e,t,n){var r={params:t,result:f[n]};return e.push(r),e}),[]),[4,this.responseInterceptor(h,this,d.response)]):[3,3];case 2:h=o.sent(),f=h.map((function(e){return e.result})),o.label=3;case 3:return[2,f]}}))}))},e.prototype.isModelRejected=function(e){return this.isNotNullObject(e)&&"error"in e},e.prototype.isModelResolved=function(e){return this.isNotNullObject(e)&&"data"in e},e.prototype.isNotNullObject=function(e){return"object"==typeof e&&null!==e},e.prototype.handleMultiResponse=function(e,t,n){for(var r=[],i=0;i<e.length;i++){var o=t.models[i],a=e[i],s=o;n.cache&&"data"in o&&this.cache.set(a.name,a.params,o.data),r.push(s)}return r},e})();t.ModelsApi=l}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(function(){function e(){this.cache={}}return e.prototype.set=function(e,t,n){var r=this.key(e,t);this.cache[r]=n},e.prototype.get=function(e,t){var n=this.key(e,t);return this.cache[n]},e.prototype.has=function(e,t){return this.key(e,t)in this.cache},e.prototype.key=function(e,t){return["url="+e].concat(Object.keys(t||{}).sort().map((function(e){return e+"="+JSON.stringify(t[e])}))).join("&")},e})();t.ApiCache=r}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var s={maxCount:3};t.makeRetryInterceptor=function(e,t,n){return function(u,c,l){return i(this,void 0,void 0,(function(){var i,d,f;return o(this,(function(o){switch(o.label){case 0:return n?[4,n(l)]:[3,2];case 1:o.sent(),o.label=2;case 2:return(i=u.reduce((function(n,i,o){if(c.isModelRejected(i.result)){var a=i.params;a.retryOptions=r(r(r({},s),t[i.params.name]),a.retryOptions),a.retryOptions.maxCount>=0&&e(i,c)&&(n.push({index:o,modelParams:i.params}),a.retryOptions.maxCount-=1)}return n}),[])).length?[4,c.requestModelArray(i.map((function(e){return e.modelParams})))]:[2,u];case 3:return d=o.sent(),f=a(u),d.forEach((function(e,t){var n=i[t].index;f[n].result=e})),[2,f]}}))}))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1623),i=n(1624);t.makePassportAuthRedirectInterceptor=function(e,t){return i.makeRedirectInterceptor((function(e,n){if(n.isModelRejected(e)){if("string"==typeof e.error)return e.error===t;if("code"in e.error)return e.error.code===t}return!1}),(function(){var t=window.location,n=t.origin,i=t.pathname,o=t.search,a=r.parse(o),s=encodeURIComponent(""+n+i+"?"+r.stringify(a)),u=new URL(e);return u.searchParams.set("retpath",s),u.toString()}))}}),(function(e,t,n){"use strict";const r=n(632),i=n(633),o=n(634);function a(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function u(e,t){return t.decode?i(e):e}function c(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function l(e){const t=(e=c(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function d(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function f(e,t){a((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=(function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const i="string"==typeof n&&n.includes(e.arrayFormatSeparator),o="string"==typeof n&&!i&&u(n,e).includes(e.arrayFormatSeparator);n=o?u(n,e):n;const a=i||o?n.split(e.arrayFormatSeparator).map(t=>u(t,e)):null===n?n:u(n,e);r[t]=a};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}})(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const i of e.split("&")){let[e,a]=o(t.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator"].includes(t.arrayFormat)?a:u(a,t),n(u(e,t),a,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=d(n[e],t);else r[e]=d(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=(function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t})(n):e[t]=n,e},Object.create(null))}t.extract=l,t.parse=f,t.stringify=((e,t)=>{if(!e)return"";a((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&(e=>null===e||void 0===e)(e[n])||t.skipEmptyString&&""===e[n],r=(function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[",i,"]"].join("")]:[...n,[s(t,e),"[",s(i,e),"]=",s(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[]"].join("")]:[...n,[s(t,e),"[]=",s(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null===r||void 0===r||0===r.length?n:0===n.length?[[s(t,e),"=",s(r,e)].join("")]:[[n,s(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,s(t,e)]:[...n,[s(t,e),"=",s(r,e)].join("")]}})(t),i={};for(const t of Object.keys(e))n(t)||(i[t]=e[t]);const o=Object.keys(i);return!1!==t.sort&&o.sort(t.sort),o.map(n=>{const i=e[n];return void 0===i?"":null===i?s(n,t):Array.isArray(i)?i.reduce(r(n),[]).join("&"):s(n,t)+"="+s(i,t)}).filter(e=>e.length>0).join("&")}),t.parseUrl=((e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=o(e,"#");return Object.assign({url:n.split("?")[0]||"",query:f(l(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:u(r,t)}:{})}),t.stringifyUrl=((e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=c(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),a=Object.assign(o,e.query);let u=t.stringify(a,n);u&&(u=`?${u}`);let l=(function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t})(e.url);return e.fragmentIdentifier&&(l=`#${s(e.fragmentIdentifier,n)}`),`${r}${u}${l}`})}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.makeRedirectInterceptor=function(e,t,n){return function(o,a){return r(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return o.some((function(t){return e(t.result,a)}))?n?[4,n()]:[3,2]:[3,3];case 1:r.sent(),r.label=2;case 2:window.location.href=t(),r.label=3;case 3:return[2,o]}}))}))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeLogErrorInterceptor=function(e){return function(t,n,r){return t.filter((function(e){return n.isModelRejected(e.result)})).forEach((function(t){e({reqid:r.reqid,time:r.timestamp,sver:r.version,name:t.params.name,error:t.result.error})})),Promise.resolve(t)}}}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.composeResponseInterceptors=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,n,o){return r(this,void 0,void 0,(function(){var r,a,s;return i(this,(function(i){switch(i.label){case 0:r=t,a=0,s=e,i.label=1;case 1:return a<s.length?[4,(0,s[a])(t,n,o)]:[3,4];case 2:r=i.sent(),i.label=3;case 3:return a++,[3,1];case 4:return[2,r]}}))}))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMockData=void 0,t.getMockData=(()=>{const e=new URL(document.location.href).searchParams.get("space"),t=1024*("warning"===e?8:"danger"===e?9:3)*1024*1024;return{space:{limit:10737418240,used:t,free:10737418240-t,files_count:0,filesize_limit:0,trash:0,uid:""},attachDirSize:{size:794568949.76,path:"/disk/Почтовые вложения",files_count:0},diskDirSize:{size:3006477107.2,path:"",files_count:0},items:[{product_id:"mail_pro_b2c_premium1000_new_year_2021",title:"Премиум 1 ТБ",best_offer:!0,product_type:"subscription",features:[{description:"Приоритетная поддержка",group:"mail_services",value:"",enabled:!0,code:"mail_priority_support"},{description:"Без рекламы",group:"mail_services",value:"",enabled:!0,code:"mail_ad_disabled"},{description:"Умная подборка писем для просмотра в первую очередь",group:"mail",value:"",enabled:!0,code:"mail_smart_enabled"},{description:"Дополнительное место",group:"disk",value:"+1 ТБ",enabled:!0,code:"mpfs_disk_space"},{description:"Безлимит для видео с телефона",group:"disk",value:"",enabled:!0,code:"mail_pro_b2c_unlim_mobile_video"},{description:"Расширенная история изменений",group:"disk",value:"",enabled:!0,code:"mail_pro_b2c_ext_history"},{description:"Автосохранение файлов в программе для Windows",group:"disk",value:"",enabled:!0,code:"mail_pro_b2c_autosave"},{description:"Неограниченное скачивание с публичных ссылок",group:"disk",value:"",enabled:!0,code:"mail_pro_b2c_unlim_public_download"}],prices:[{price_id:"PS_BILLING_mail_pro_b2c_premium1000_new_year_2021_year_subs",amount:1992,currency:"RUB",period:"year",discount_percent:20,original_amount:2490}]},{product_id:"mail_pro_b2c_premium3000",title:"Премиум 3 ТБ",best_offer:!1,product_type:"subscription",features:[{description:"Приоритетная поддержка",group:"mail_services",value:"",enabled:!0,code:"mail_priority_support"},{description:"Без рекламы",group:"mail_services",value:"",enabled:!0,code:"mail_ad_disabled"},{description:"Умная подборка писем для просмотра в первую очередь",group:"mail",value:"",enabled:!0,code:"mail_smart_enabled"},{description:"Дополнительное место",group:"disk",value:"+3 ТБ",enabled:!0,code:"mpfs_disk_space"},{description:"Безлимит для видео с телефона",group:"disk",value:"",enabled:!0,code:"mail_pro_b2c_unlim_mobile_video"},{description:"Расширенная история изменений",group:"disk",value:"",enabled:!0,code:"mail_pro_b2c_ext_history"},{description:"Автосохранение файлов в программе для Windows",group:"disk",value:"",enabled:!0,code:"mail_pro_b2c_autosave"},{description:"Неограниченное скачивание с публичных ссылок",group:"disk",value:"",enabled:!0,code:"mail_pro_b2c_unlim_public_download"}],prices:[{price_id:"PS_BILLING_mail_pro_b2c_premium3000_month_subs",amount:749,currency:"RUB",period:"month"},{price_id:"PS_BILLING_mail_pro_b2c_premium3000_year_subs",amount:7190,currency:"RUB",period:"year"}]},{product_id:"mail_pro_b2c_premium5000",title:"Премиум 5 ТБ",best_offer:!1,product_type:"subscription",features:[{description:"Приоритетная поддержка",group:"mail_services",value:"",enabled:!0,code:"mail_priority_support"},{description:"Без рекламы",group:"mail_services",value:"",enabled:!0,code:"mail_ad_disabled"},{description:"Умная подборка писем для просмотра в первую очередь",group:"mail",value:"",enabled:!0,code:"mail_smart_enabled"},{description:"Дополнительное место",group:"disk",value:"+5 ТБ",enabled:!0,code:"mpfs_disk_space"},{description:"Безлимит для видео с телефона",group:"disk",value:"",enabled:!0,code:"mail_pro_b2c_unlim_mobile_video"},{description:"Расширенная история изменений",group:"disk",value:"",enabled:!0,code:"mail_pro_b2c_ext_history"},{description:"Автосохранение файлов в программе для Windows",group:"disk",value:"",enabled:!0,code:"mail_pro_b2c_autosave"},{description:"Неограниченное скачивание с публичных ссылок",group:"disk",value:"",enabled:!0,code:"mail_pro_b2c_unlim_public_download"}],prices:[{price_id:"PS_BILLING_mail_pro_b2c_premium5000_month_subs",amount:1119,currency:"RUB",period:"month"},{price_id:"PS_BILLING_mail_pro_b2c_premium5000_year_subs",amount:11190,currency:"RUB",period:"year"}]}],available_until_date:"2021-04-01T00:00:00.000+0300",current_subscription:{service_id:"cca0f346-0d6f-4044-a264-2a2a9cb6009d",readonly:!1,creation_date:"2021-03-02T14:51:08.331+0300",subscription_until:"2021-04-02T12:24:49.000+0300",status:"ACTIVE",synchronization_status:"actual",billing_status:"paid",auto_prolong_enabled:!0,product:{product_id:"mail_pro_b2c_premium1000_new_year_2021",title:"Премиум 1 ТБ",best_offer:!0,product_type:"subscription",features:[{description:"Приоритетная поддержка",group:"mail_services",value:"",enabled:!0,code:"mail_priority_support"},{description:"Без рекламы",group:"mail_services",value:"",enabled:!0,code:"mail_ad_disabled"},{description:"Умная подборка писем для просмотра в первую очередь",group:"mail",value:"",enabled:!0,code:"mail_smart_enabled"},{description:"Дополнительное место",group:"disk",value:"+1 ТБ",enabled:!0,code:"mpfs_disk_space"},{description:"Безлимит для видео с телефона",group:"disk",value:"",enabled:!0,code:"mail_pro_b2c_unlim_mobile_video"},{description:"Расширенная история изменений",group:"disk",value:"",enabled:!0,code:"mail_pro_b2c_ext_history"},{description:"Автосохранение файлов в программе для Windows",group:"disk",value:"",enabled:!0,code:"mail_pro_b2c_autosave"},{description:"Неограниченное скачивание с публичных ссылок",group:"disk",value:"",enabled:!0,code:"mail_pro_b2c_unlim_public_download"}],price:{price_id:"PS_BILLING_mail_pro_b2c_premium1000_new_year_2021_month_subs",amount:239,currency:"RUB",period:"month",discount_percent:20,original_amount:299}}}}})}),(function(e,t){!(function(){if("undefined"==typeof window)return;window.Ya=window.Ya||{};let e={api:"wss://push.yandex.ru/v2/subscribe/websocket",reconnectMaxTimeout:2e3,reconnectCooldown:1e4,reconnectTimeoutIncrement:500},t=window.Ya.XIVA=function(t){this._params=t||{},this._params.urlParams=this._params.urlParams||{},Object.keys(e).forEach((function(t){this._params[t]=this._params[t]||e[t]}),this),this._eventer=document.createDocumentFragment(),this.addEventListener=this._eventer.addEventListener.bind(this._eventer),this.removeEventListener=this._eventer.removeEventListener.bind(this._eventer),this._setReconnectTimeout(),this._onOpen=this._onOpen.bind(this),this._onClose=this._onClose.bind(this),this._onMessage=this._onMessage.bind(this),this._onError=this._onError.bind(this),this._connect()};t.prototype.reconnect=function(e,t){e&&(t?this._params.urlParams=e:Object.keys(e).forEach((function(t){this._params.urlParams[t]=e[t]}),this),this._connect())},t.prototype.destruct=function(){let e=this._ws;this._destructing=!0,this._unbindeEvents(),e.close()},t.prototype.send=function(e){this._ws.send(e)},t.prototype._connect=function(){"function"==typeof WebSocket&&(this._unbindeEvents(),this._ws&&this._ws.close(),this._ws=new WebSocket(this._prepareUrl()),this._bindEvents())},t.prototype._prepareUrl=function(){let e=this._params.api,t=this._params.urlParams,n=[],r="?";return-1!==e.indexOf("?")&&(r="&"),Object.keys(t).forEach((function(e){t[e]&&n.push(e+"="+encodeURIComponent(t[e]))})),n.length?e+r+n.join("&"):e},t.prototype._unbindeEvents=function(){let e=this._ws;e&&(e.removeEventListener("open",this._onOpen),e.removeEventListener("close",this._onClose),e.removeEventListener("message",this._onMessage),e.removeEventListener("error",this._onError))},t.prototype._bindEvents=function(){let e=this._ws;e.addEventListener("open",this._onOpen),e.addEventListener("close",this._onClose),e.addEventListener("message",this._onMessage),e.addEventListener("error",this._onError)},t.prototype._onOpen=function(e){clearTimeout(this._reconnectCooldown),this._reconnectCooldown=setTimeout(function(){this._setReconnectTimeout()}.bind(this),this._params.reconnectCooldown),this._dispatch("open",e)},t.prototype._onClose=function(e){this._destructing||(setTimeout(this._connect.bind(this),this._reconnectTimeout),this._reconnectTimeout+=this._params.reconnectTimeoutIncrement),this._dispatch("close",e)},t.prototype._onMessage=function(e){let t;try{t=JSON.parse(e.data)}catch(e){return}this._dispatch("message",t)},t.prototype._onError=function(e){this._dispatch("error",e)},t.prototype._dispatch=function(e,t){let n=document.createEvent("CustomEvent");n.initCustomEvent(e,null,null,t),this._eventer.dispatchEvent(n)},t.prototype._setReconnectTimeout=function(){this._reconnectTimeout=Math.round(Math.random()*this._params.reconnectMaxTimeout)}})()}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.toggleWidgetClass=void 0;const s=o(n(0)),u=a(n(494)),c=n(115),l=n(28),d=n(193),f=a(n(638)),h=n(639),p=n(1674),m=n(155),v=n(136),g=n(1675);let y;n(1677),t.toggleWidgetClass=l.cn("ToggleWidget");const b=(e,t)=>{y&&window.clearTimeout(y);const n=p.getDateInTZ(t),r=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1),i=Number(r)-Number(n);y=window.setTimeout(()=>{e(),b(e,t)},i)};t.default=(()=>{const{getI18n:e,isExpanded:n,timeZone:r,onToggle:i,uid:o}=s.useContext(v.AppContext),[a,l]=s.useState(p.getAdjustedDayOfWeek(r)),[_,O]=s.useState(p.getDayOfMonth(r)),[w,E]=s.useState(p.getAdjustedMonth(r));s.useEffect(()=>{void 0===h.getExpandedState(o)&&h.setExpandedState(o,n)},[]),s.useEffect(()=>{const e=()=>{l(p.getAdjustedDayOfWeek(r)),O(p.getDayOfMonth(r)),E(p.getAdjustedMonth(r))};b(e,r);const t=()=>{e(),b(e,r)};return window.addEventListener("focus",t),()=>{window.clearTimeout(y),window.removeEventListener("focus",t)}},[r,a,l,O,_,w,E]);const S=s.useContext(m.MetricContext),C=s.useCallback(()=>{S("Expand"),i(!n),h.setExpandedState(o,!0)},[n,i,S,o]),x=s.useCallback(()=>{S("Fold"),i(!n),h.setExpandedState(o,!1)},[n,i,S,o]);return n?s.default.createElement("div",{className:c.classnames(t.toggleWidgetClass(),t.toggleWidgetClass("ExpandedContainer"))},s.default.createElement("div",{className:t.toggleWidgetClass("Button"),onClick:x},s.default.createElement(f.default,{view:"raised",size:"s",pin:"circle-circle",icon:e=>s.default.createElement(g.ToggleIcon,{className:c.classnames(e,t.toggleWidgetClass("CollapseIcon"))})})),s.default.createElement(u.default,{className:t.toggleWidgetClass("ExpandedTitle"),weight:"bold"},e("longDate",{dayOfWeek:a,dayOfMonth:_,month:w}))):s.default.createElement(d.CollapsedWidgetContainer,{className:t.toggleWidgetClass()},s.default.createElement("div",{className:t.toggleWidgetClass("Button"),onClick:C},s.default.createElement(f.default,{view:"raised",size:"s",pin:"circle-circle",icon:e=>s.default.createElement(g.ToggleIcon,{className:c.classnames(e,t.toggleWidgetClass("ExpandIcon"))})})),s.default.createElement("div",{className:t.toggleWidgetClass("CollapsedTitle")},s.default.createElement(u.default,{weight:"bold",className:t.toggleWidgetClass("DayOfMonth")},_),s.default.createElement("div",{className:t.toggleWidgetClass("ShortDayOfWeek")},e("shortDate",{dayOfWeek:a}))))})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.collapsedWidgetContainerClass=void 0;const i=r(n(0)),o=n(115),a=n(28);t.collapsedWidgetContainerClass=a.cn("CollapsedWidgetContainer"),n(1670);t.default=(({children:e,className:n})=>i.default.createElement("div",{className:o.classnames(t.collapsedWidgetContainerClass(),n)},e))}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.expandedWidgetContainerClass=void 0;const i=r(n(0)),o=n(28),a=n(115);t.expandedWidgetContainerClass=o.cn("ExpandedWidgetContainer"),n(1672);t.default=(({className:e,containerRef:n,children:r})=>i.default.createElement("div",{className:a.classnames(t.expandedWidgetContainerClass(),e),ref:n},r))}),(function(e,t,n){}),(function(e,t,n){e.exports=(function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}return (function t(n,r){function i(t,i,o){if("undefined"!=typeof document){"number"==typeof(o=e({},r,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var s in o)o[s]&&(a+="; "+s,!0!==o[s]&&(a+="="+o[s].split(";")[0]));return document.cookie=t+"="+n.write(i,t)+a}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],r={},i=0;i<t.length;i++){var o=t[i].split("="),a=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(r[s]=n.read(a,s),e===s)break}catch(e){}}return e?r[e]:r}},remove:function(t,n){i(t,"",e({},n,{expires:-1}))},withAttributes:function(n){return t(this.converter,e({},this.attributes,n))},withConverter:function(n){return t(e({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(n)}})})({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})})()}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAdjustedDayOfWeek=t.getAdjustedMonth=t.getDayOfMonth=t.getDateInTZ=void 0,t.getDateInTZ=(e=>{try{return new Date((new Date).toLocaleString("en-US",{timeZone:e}))}catch(e){return new Date}}),t.getDayOfMonth=(e=>t.getDateInTZ(e).getDate()),t.getAdjustedMonth=(e=>t.getDateInTZ(e).getMonth()+1),t.getAdjustedDayOfWeek=(e=>(t.getDateInTZ(e).getDay()+6)%7+1)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleIcon=void 0;const i=r(n(0)),o=n(84);t.ToggleIcon=(({width:e=16,height:t=16,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.32992 1.05053C7.93936 0.660239 7.30624 0.660207 6.91581 1.05063L2.67278 5.29367C2.28225 5.6842 2.28225 6.31736 2.67278 6.70788L6.91581 10.9509C7.30624 11.3413 7.93936 11.3413 8.32992 10.951C8.72068 10.5605 8.72094 9.92704 8.33031 9.53642L4.79467 6.00078L8.33031 2.46513C8.72093 2.07451 8.72068 1.44101 8.32992 1.05053Z",fill:"currentColor"}))))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(0)),u=a(n(273)),c=n(136),l=n(1679),d=["Chrome","Firefox","YandexBrowser"];t.default=(()=>{const{getI18n:e,browserName:t,links:n}=s.useContext(c.AppContext);if(!d.some(e=>e===t))return null;const r=u.default(n.Telemost).set("pathname","/browser-auto-create").toString(),i=e("createVideoMeeting");return s.default.createElement(l.Telemost,{url:r,text:i,link:n.Telemost})})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Telemost=t.telemostWidgetClass=void 0;const s=o(n(0)),u=n(28),c=n(217),l=n(391),d=a(n(173)),f=n(155),h=n(136),p=n(193),m=a(n(392)),v=n(393),g=n(640);n(1694),t.telemostWidgetClass=u.cn("TelemostWidget"),t.Telemost=(({link:e,url:n,text:r})=>{const{isExpanded:i,getI18n:o}=s.useContext(h.AppContext),a=s.useContext(f.MetricContext);s.useEffect(()=>{a("Show widget")},[]);const u=s.useCallback(()=>{a("Create meeting")},[a]),y=s.useCallback(()=>{a("Widget title click")},[a]);return i?s.default.createElement(p.ExpandedWidgetContainer,{className:t.telemostWidgetClass()},s.default.createElement(c.WidgetHeader,{title:s.default.createElement(l.WidgetTitle,{url:e,onClick:y},o("sidebarTelemost"))}),s.default.createElement(m.default,{url:n,text:r,onClick:u,iconLeft:e=>s.default.createElement(g.AddIcon,{className:e})})):s.default.createElement(p.CollapsedWidgetContainer,{className:t.telemostWidgetClass()},s.default.createElement(d.default,{href:n,title:r,target:"_blank",rel:"noopener noreferrer",onClick:u},s.default.createElement(v.CollapsedIcon,{icon:v.CollapsedIcons.Telemost})))})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotesCollapsedHoveredIcon=t.NotesCollapsedIcon=t.XlsxCollapsedHoveredIcon=t.XlsxCollapsedIcon=t.PptxCollapsedHoveredIcon=t.PptxCollapsedIcon=t.DocxCollapsedHoveredIcon=t.DocxCollapsedIcon=t.MailCollapsedHoveredIcon=t.MailCollapsedIcon=t.TelemostCollapsedHoveredIcon=t.TelemostCollapsedIcon=void 0;const r=n(1685);Object.defineProperty(t,"TelemostCollapsedHoveredIcon",{enumerable:!0,get:function(){return r.TelemostCollapsedHoveredIcon}}),Object.defineProperty(t,"TelemostCollapsedIcon",{enumerable:!0,get:function(){return r.TelemostCollapsedIcon}});const i=n(1686);Object.defineProperty(t,"MailCollapsedHoveredIcon",{enumerable:!0,get:function(){return i.MailCollapsedHoveredIcon}}),Object.defineProperty(t,"MailCollapsedIcon",{enumerable:!0,get:function(){return i.MailCollapsedIcon}});const o=n(1687);Object.defineProperty(t,"DocxCollapsedHoveredIcon",{enumerable:!0,get:function(){return o.DocxCollapsedHoveredIcon}}),Object.defineProperty(t,"DocxCollapsedIcon",{enumerable:!0,get:function(){return o.DocxCollapsedIcon}}),Object.defineProperty(t,"PptxCollapsedHoveredIcon",{enumerable:!0,get:function(){return o.PptxCollapsedHoveredIcon}}),Object.defineProperty(t,"PptxCollapsedIcon",{enumerable:!0,get:function(){return o.PptxCollapsedIcon}}),Object.defineProperty(t,"XlsxCollapsedHoveredIcon",{enumerable:!0,get:function(){return o.XlsxCollapsedHoveredIcon}}),Object.defineProperty(t,"XlsxCollapsedIcon",{enumerable:!0,get:function(){return o.XlsxCollapsedIcon}});const a=n(1688);Object.defineProperty(t,"NotesCollapsedHoveredIcon",{enumerable:!0,get:function(){return a.NotesCollapsedHoveredIcon}}),Object.defineProperty(t,"NotesCollapsedIcon",{enumerable:!0,get:function(){return a.NotesCollapsedIcon}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TelemostCollapsedHoveredIcon=t.TelemostCollapsedIcon=void 0;const i=r(n(0)),o=n(84);t.TelemostCollapsedIcon=(({width:e=18,height:t=18,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.533494 2.67257C0 3.71961 0 5.09027 0 7.83158V10.1684C0 12.9097 0 14.2804 0.533494 15.3274C1.00277 16.2484 1.75157 16.9972 2.67257 17.4665C3.71961 18 5.09027 18 7.83158 18H10.1684C12.9097 18 14.2804 18 15.3274 17.4665C16.2484 16.9972 16.9972 16.2484 17.4665 15.3274C18 14.2804 18 12.9097 18 10.1684V7.83158C18 5.09027 18 3.71961 17.4665 2.67257C16.9972 1.75157 16.2484 1.00277 15.3274 0.533494C14.2804 0 12.9097 0 10.1684 0H7.83158C5.09027 0 3.71961 0 2.67257 0.533494C1.75157 1.00277 1.00277 1.75157 0.533494 2.67257ZM8.25 8.5C8.66421 8.5 9 8.16421 9 7.75C9 7.33579 8.66421 7 8.25 7C7.83579 7 7.5 7.33579 7.5 7.75C7.5 8.16421 7.83579 8.5 8.25 8.5ZM7.00004 5.49993C5.06704 5.49993 3.50004 7.06693 3.50004 8.99993C3.50004 10.9329 5.06704 12.4999 7.00004 12.4999C8.93303 12.4999 10.5 10.9329 10.5 8.99993C10.5 7.06693 8.93303 5.49993 7.00004 5.49993ZM2.50004 8.99993C2.50004 6.51465 4.51476 4.49993 7.00004 4.49993C9.48532 4.49993 11.5 6.51465 11.5 8.99993C11.5 11.4852 9.48532 13.4999 7.00004 13.4999C4.51476 13.4999 2.50004 11.4852 2.50004 8.99993ZM14.5 10.5C15.3284 10.5 16 9.82843 16 9C16 8.17157 15.3284 7.5 14.5 7.5C13.6716 7.5 13 8.17157 13 9C13 9.82843 13.6716 10.5 14.5 10.5Z",fill:"#9397AD"})))),t.TelemostCollapsedHoveredIcon=(({width:e=24,height:t=24,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"4.89474",fill:"url(#paint0_linear_2561:114602)"}),i.default.createElement("circle",{opacity:"0.6",cx:"11.25",cy:"10.75",r:"0.75",fill:"white"}),i.default.createElement("circle",{cx:"10.0001",cy:"11.9999",r:"4",stroke:"white"}),i.default.createElement("ellipse",{cx:"17.5",cy:"12",rx:"1.5",ry:"1.5",fill:"#00FF00"}),i.default.createElement("path",{d:"M15.5 18H20.5",stroke:"white",strokeLinecap:"round"}),i.default.createElement("rect",{x:"14",y:"14",width:"9",height:"9",rx:"2",fill:"#31404E"}),i.default.createElement("path",{d:"M18.5 16V21",stroke:"white"}),i.default.createElement("path",{d:"M16 18.5H21",stroke:"white"}),i.default.createElement("defs",null,i.default.createElement("linearGradient",{id:"paint0_linear_2561:114602",x1:"1.15909",y1:"23.0455",x2:"21",y2:"3",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",null),i.default.createElement("stop",{offset:"1",stopColor:"#31404E"}))))))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MailCollapsedHoveredIcon=t.MailCollapsedIcon=void 0;const i=r(n(0)),o=n(84);t.MailCollapsedIcon=(({width:e=24,height:t=24,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 19C10.5748 19 9.60608 18.9989 8.85321 18.9475C8.1183 18.8974 7.73627 18.8061 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5.19389 16.2637 5.10259 15.8817 5.05245 15.1468C5.00108 14.3939 5 13.4252 5 12C5 10.6744 5.00094 9.74366 5.04241 9.01424L10.2397 13.3453C11.2595 14.1952 12.7408 14.1952 13.7606 13.3453L18.9576 9.0145C18.9991 9.74388 19 10.6745 19 12C19 13.4252 18.9989 14.3939 18.9475 15.1468C18.8974 15.8817 18.8061 16.2637 18.6955 16.5307C18.2895 17.5108 17.5108 18.2895 16.5307 18.6955C16.2637 18.8061 15.8817 18.8974 15.1468 18.9475C14.3939 18.9989 13.4252 19 12 19ZM20.7845 7.49207C21 8.49438 21 9.82362 21 12C21 14.7956 21 16.1935 20.5433 17.2961C19.9343 18.7663 18.7663 19.9343 17.2961 20.5433C16.1935 21 14.7956 21 12 21C9.20435 21 7.80653 21 6.7039 20.5433C5.23373 19.9343 4.06569 18.7663 3.45672 17.2961C3 16.1935 3 14.7956 3 12C3 9.20435 3 7.80653 3.45672 6.7039C4.06569 5.23373 5.23373 4.06569 6.7039 3.45672C7.73761 3.02855 9.03078 3.00178 11.4919 3.00011C11.656 3 11.8253 3 12 3C12 3 12.0001 3 12.0001 3C14.7958 3 16.1936 3 17.2962 3.45672C18.7664 4.06569 19.9345 5.23373 20.5434 6.7039C20.6446 6.94812 20.7233 7.20681 20.7846 7.49197L20.7845 7.49207Z",fill:"#9397AD"})))),t.MailCollapsedHoveredIcon=(({width:e=24,height:t=24,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("g",{clipPath:"url(#clip0_2561:114604)"},i.default.createElement("rect",{x:"3.00006",y:"3",width:"18",height:"18",fill:"#FFCA38"}),i.default.createElement("path",{d:"M21 17.8473V21H3V17.6415L11.001 10.9741C11.5082 10.5514 12.2449 10.5514 12.7521 10.9741L21 17.8473Z",fill:"#FFDC7C"}),i.default.createElement("path",{d:"M21 6.85471L12.9077 14.0604C12.39 14.5214 11.6093 14.5222 11.0907 14.0622L3 6.88695V3H21V6.85471Z",fill:"url(#paint0_linear_2561:114604)"}),i.default.createElement("path",{d:"M21 6.85471L12.9077 14.0604C12.39 14.5214 11.6093 14.5222 11.0907 14.0622L3 6.88695V3H21V6.85471Z",fill:"url(#paint1_linear_2561:114604)",fillOpacity:"0.5"})),i.default.createElement("path",{d:"M15.5 18H20.5",stroke:"white",strokeLinecap:"round"}),i.default.createElement("rect",{x:"14",y:"14",width:"9",height:"9",rx:"2",fill:"#31404E"}),i.default.createElement("path",{d:"M18.5 16V21",stroke:"white"}),i.default.createElement("path",{d:"M16 18.5H21",stroke:"white"}),i.default.createElement("defs",null,i.default.createElement("linearGradient",{id:"paint0_linear_2561:114604",x1:"25.2656",y1:"-8.35059",x2:"10.3369",y2:"11.6357",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#FFDA3E"}),i.default.createElement("stop",{offset:"1",stopColor:"#FC4714"})),i.default.createElement("linearGradient",{id:"paint1_linear_2561:114604",x1:"24.5074",y1:"1.59032",x2:"12.0303",y2:"12.8646",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"white"}),i.default.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),i.default.createElement("clipPath",{id:"clip0_2561:114604"},i.default.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"6",fill:"white"}))))))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PptxCollapsedHoveredIcon=t.PptxCollapsedIcon=t.XlsxCollapsedHoveredIcon=t.XlsxCollapsedIcon=t.DocxCollapsedHoveredIcon=t.DocxCollapsedIcon=void 0;const i=r(n(0)),o=n(84);t.DocxCollapsedIcon=(({width:e=24,height:t=24,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 3C4.34315 3 3 4.34315 3 6V18C3 19.6569 4.34315 21 6 21H18C19.6569 21 21 19.6569 21 18V6C21 4.34315 19.6569 3 18 3H6ZM6 8C6 7.44772 6.44772 7 7 7H17C17.5523 7 18 7.44772 18 8C18 8.55228 17.5523 9 17 9H7C6.44772 9 6 8.55228 6 8ZM7 11C6.44772 11 6 11.4477 6 12C6 12.5523 6.44772 13 7 13H14C14.5523 13 15 12.5523 15 12C15 11.4477 14.5523 11 14 11H7ZM7 15C6.44772 15 6 15.4477 6 16C6 16.5523 6.44772 17 7 17H15C15.5523 17 16 16.5523 16 16C16 15.4477 15.5523 15 15 15H7Z",fill:"#9397AD"})))),t.DocxCollapsedHoveredIcon=(({width:e=24,height:t=24,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 3C4.34315 3 3 4.34315 3 6V18C3 19.6569 4.34315 21 6 21H18C19.6569 21 21 19.6569 21 18V6C21 4.34315 19.6569 3 18 3H6ZM6 8C6 7.44772 6.44772 7 7 7H17C17.5523 7 18 7.44772 18 8C18 8.55228 17.5523 9 17 9H7C6.44772 9 6 8.55228 6 8ZM7 11C6.44772 11 6 11.4477 6 12C6 12.5523 6.44772 13 7 13H14C14.5523 13 15 12.5523 15 12C15 11.4477 14.5523 11 14 11H7ZM7 15C6.44772 15 6 15.4477 6 16C6 16.5523 6.44772 17 7 17H15C15.5523 17 16 16.5523 16 16C16 15.4477 15.5523 15 15 15H7Z",fill:"#367AFE"}),i.default.createElement("path",{d:"M15.5 18H20.5",stroke:"white",strokeLinecap:"round"}),i.default.createElement("rect",{x:"14",y:"14",width:"9",height:"9",rx:"2",fill:"#31404E"}),i.default.createElement("path",{d:"M18.5 16V21",stroke:"white"}),i.default.createElement("path",{d:"M16 18.5H21",stroke:"white"})))),t.XlsxCollapsedIcon=(({width:e=24,height:t=24,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 3C4.34315 3 3 4.34315 3 6V10.5C3 10.7761 3.22386 11 3.5 11H10.5C10.7761 11 11 10.7761 11 10.5V3.5C11 3.22386 10.7761 3 10.5 3H6ZM13.5 3C13.2239 3 13 3.22386 13 3.5V10.5C13 10.7761 13.2239 11 13.5 11H20.5C20.7761 11 21 10.7761 21 10.5V6C21 4.34315 19.6569 3 18 3H13.5ZM3 13.5C3 13.2239 3.22386 13 3.5 13H10.5C10.7761 13 11 13.2239 11 13.5V20.5C11 20.7761 10.7761 21 10.5 21H6C4.34315 21 3 19.6569 3 18V13.5ZM14.5 19.5V14.5H19.5V18C19.5 18.8284 18.8284 19.5 18 19.5H14.5ZM13 13.5C13 13.2239 13.2239 13 13.5 13H20.5C20.7761 13 21 13.2239 21 13.5V18C21 19.6569 19.6569 21 18 21H13.5C13.2239 21 13 20.7761 13 20.5V13.5Z",fill:"#9397AD"})))),t.XlsxCollapsedHoveredIcon=(({width:e=24,height:t=24,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 3C4.34315 3 3 4.34315 3 6V10.5C3 10.7761 3.22386 11 3.5 11H10.5C10.7761 11 11 10.7761 11 10.5V3.5C11 3.22386 10.7761 3 10.5 3H6ZM13.5 3C13.2239 3 13 3.22386 13 3.5V10.5C13 10.7761 13.2239 11 13.5 11H20.5C20.7761 11 21 10.7761 21 10.5V6C21 4.34315 19.6569 3 18 3H13.5ZM3 13.5C3 13.2239 3.22386 13 3.5 13H10.5C10.7761 13 11 13.2239 11 13.5V20.5C11 20.7761 10.7761 21 10.5 21H6C4.34315 21 3 19.6569 3 18V13.5ZM14.5 19.5V14.5H19.5V18C19.5 18.8284 18.8284 19.5 18 19.5H14.5ZM13 13.5C13 13.2239 13.2239 13 13.5 13H20.5C20.7761 13 21 13.2239 21 13.5V18C21 19.6569 19.6569 21 18 21H13.5C13.2239 21 13 20.7761 13 20.5V13.5Z",fill:"#6CD33C"}),i.default.createElement("path",{d:"M15.5 18H20.5",stroke:"white",strokeLinecap:"round"}),i.default.createElement("rect",{x:"14",y:"14",width:"9",height:"9",rx:"2",fill:"#31404E"}),i.default.createElement("path",{d:"M18.5 16V21",stroke:"white"}),i.default.createElement("path",{d:"M16 18.5H21",stroke:"white"})))),t.PptxCollapsedIcon=(({width:e=24,height:t=24,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.3146 8.55541C20.7669 9.64734 20.9997 10.8177 20.9997 11.9996H11.9997L11.9997 3C7.02926 3.00018 3 7.02955 3 12C3 16.9706 7.02944 21 12 21C16.9706 21 21 16.9706 21 12C21 9.66207 20.1086 7.53235 18.647 5.9322C19.3501 6.7025 19.9147 7.58995 20.3146 8.55541ZM17.9352 5.23427C16.5092 3.9823 14.6841 3.17399 12.6754 3.02496C13.6259 3.09653 14.5605 3.31877 15.4438 3.68464C16.3547 4.06193 17.1961 4.5858 17.9352 5.23427Z",fill:"#9397AD"}),i.default.createElement("circle",{cx:"12",cy:"12",r:"8.25",stroke:"#9397AD",strokeWidth:"1.5"})))),t.PptxCollapsedHoveredIcon=(({width:e=24,height:t=24,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.3146 8.55541C20.7669 9.64734 20.9997 10.8177 20.9997 11.9996H11.9997L11.9997 3C7.02926 3.00018 3 7.02955 3 12C3 16.9706 7.02944 21 12 21C16.9706 21 21 16.9706 21 12C21 9.66207 20.1086 7.53235 18.647 5.9322C19.3501 6.7025 19.9147 7.58995 20.3146 8.55541ZM17.9352 5.23427C16.5092 3.9823 14.6841 3.17399 12.6754 3.02496C13.6259 3.09653 14.5605 3.31877 15.4438 3.68464C16.3547 4.06193 17.1961 4.5858 17.9352 5.23427Z",fill:"#FFCC00"}),i.default.createElement("circle",{cx:"12",cy:"12",r:"8.25",stroke:"#FFCC00",strokeWidth:"1.5"}),i.default.createElement("path",{d:"M15.5 18H20.5",stroke:"white",strokeLinecap:"round"}),i.default.createElement("rect",{x:"14",y:"14",width:"9",height:"9",rx:"2",fill:"#31404E"}),i.default.createElement("path",{d:"M18.5 16V21",stroke:"white"}),i.default.createElement("path",{d:"M16 18.5H21",stroke:"white"}))))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotesCollapsedHoveredIcon=t.NotesCollapsedIcon=void 0;const i=r(n(0)),o=n(84);t.NotesCollapsedIcon=(({width:e=24,height:t=24,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.65009 6H13.8125C16.2978 6 18 7.45222 18 9.9375V20.35C19.0258 19.8087 19.8598 18.9633 20.3869 17.9287C21 16.7254 21 15.1503 21 12C21 8.8497 21 7.27456 20.3869 6.0713C19.8476 5.01289 18.9871 4.15238 17.9287 3.61309C16.7255 3 15.1503 3 12 3C8.84973 3 7.27458 3 6.07133 3.61309C5.03678 4.14021 4.19131 4.97424 3.65009 6Z",fill:"#9397AD"}),i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 9.5C7 9.22386 7.22386 9 7.5 9H14.5C14.7761 9 15 9.22386 15 9.5V10C15 10.2761 14.7761 10.5 14.5 10.5H7.5C7.22386 10.5 7 10.2761 7 10V9.5ZM7 12.5C7 12.2239 7.22386 12 7.5 12H9.875C10.1511 12 10.375 12.2239 10.375 12.5V13C10.375 13.2761 10.1511 13.5 9.875 13.5H7.5C7.22386 13.5 7 13.2761 7 13V12.5ZM7.5 15C7.22386 15 7 15.2239 7 15.5V16C7 16.2761 7.22386 16.5 7.5 16.5H12.5C12.7761 16.5 13 16.2761 13 16V15.5C13 15.2239 12.7761 15 12.5 15H7.5Z",fill:"#9397AD"}),i.default.createElement("path",{d:"M3.75 12C3.75 10.4125 3.75058 9.26694 3.82415 8.36659C3.89699 7.47499 4.03765 6.89007 4.28134 6.4118C4.74873 5.49451 5.49451 4.74873 6.4118 4.28134C6.89007 4.03765 7.47499 3.89699 8.36659 3.82415C9.26694 3.75058 10.4125 3.75 12 3.75C13.5875 3.75 14.7331 3.75058 15.6334 3.82415C16.525 3.89699 17.1099 4.03765 17.5882 4.28134C18.5055 4.74873 19.2513 5.49451 19.7187 6.4118C19.9624 6.89007 20.103 7.47499 20.1759 8.36659C20.2494 9.26694 20.25 10.4125 20.25 12C20.25 13.5875 20.2494 14.7331 20.1759 15.6334C20.103 16.525 19.9624 17.1099 19.7187 17.5882C19.2513 18.5055 18.5055 19.2513 17.5882 19.7187C17.1099 19.9624 16.525 20.103 15.6334 20.1759C14.7331 20.2494 13.5875 20.25 12 20.25C10.4125 20.25 9.26694 20.2494 8.36659 20.1759C7.47499 20.103 6.89007 19.9624 6.4118 19.7187C5.49451 19.2513 4.74873 18.5055 4.28134 17.5882C4.03765 17.1099 3.89699 16.525 3.82415 15.6334C3.75058 14.7331 3.75 13.5875 3.75 12Z",stroke:"#9397AD",strokeWidth:"1.5"})))),t.NotesCollapsedHoveredIcon=(({width:e=24,height:t=24,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{d:"M3 12C3 8.8497 3 7.27456 3.61309 6.0713C4.15238 5.01289 5.01289 4.15238 6.0713 3.61309C7.27456 3 8.8497 3 12 3C15.1503 3 16.7254 3 17.9287 3.61309C18.9871 4.15238 19.8476 5.01289 20.3869 6.0713C21 7.27456 21 8.8497 21 12C21 15.1503 21 16.7254 20.3869 17.9287C19.8476 18.9871 18.9871 19.8476 17.9287 20.3869C16.7254 21 15.1503 21 12 21C8.8497 21 7.27456 21 6.0713 20.3869C5.01289 19.8476 4.15238 18.9871 3.61309 17.9287C3 16.7254 3 15.1503 3 12Z",fill:"#FF3333"}),i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.61309 6.0713C3 7.27456 3 8.8497 3 12C3 15.1503 3 16.7254 3.61309 17.9287C4.15238 18.9871 5.01289 19.8476 6.0713 20.3869C7.27456 21 8.8497 21 12 21C15.1503 21 16.7254 21 17.9287 20.3869C18.314 20.1906 18.6731 19.9517 19 19.6762V8.9375C19 6.45222 17.2977 5 14.8125 5H4.32383C4.04831 5.32691 3.80941 5.68599 3.61309 6.0713Z",fill:"#FFCC00"}),i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 9.5C7 9.22386 7.22386 9 7.5 9H14.5C14.7761 9 15 9.22386 15 9.5V10C15 10.2761 14.7761 10.5 14.5 10.5H7.5C7.22386 10.5 7 10.2761 7 10V9.5ZM7 12.5C7 12.2239 7.22386 12 7.5 12H9.875C10.1511 12 10.375 12.2239 10.375 12.5V13C10.375 13.2761 10.1511 13.5 9.875 13.5H7.5C7.22386 13.5 7 13.2761 7 13V12.5ZM7.5 15C7.22386 15 7 15.2239 7 15.5V16C7 16.2761 7.22386 16.5 7.5 16.5H12.5C12.7761 16.5 13 16.2761 13 16V15.5C13 15.2239 12.7761 15 12.5 15H7.5Z",fill:"#332900"}),i.default.createElement("path",{d:"M15.5 18H20.5",stroke:"white",strokeLinecap:"round"}),i.default.createElement("rect",{x:"14",y:"14",width:"9",height:"9",rx:"2",fill:"#31404E"}),i.default.createElement("path",{d:"M18.5 16V21",stroke:"white"}),i.default.createElement("path",{d:"M16 18.5H21",stroke:"white"}))))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotesCollapsedHoveredIcon=t.NotesCollapsedIcon=t.XlsxCollapsedHoveredIcon=t.XlsxCollapsedIcon=t.PptxCollapsedHoveredIcon=t.PptxCollapsedIcon=t.DocxCollapsedHoveredIcon=t.DocxCollapsedIcon=t.MailCollapsedHoveredIcon=t.MailCollapsedIcon=t.TelemostCollapsedHoveredIcon=t.TelemostCollapsedIcon=void 0;const r=n(1690);Object.defineProperty(t,"TelemostCollapsedHoveredIcon",{enumerable:!0,get:function(){return r.TelemostCollapsedHoveredIcon}}),Object.defineProperty(t,"TelemostCollapsedIcon",{enumerable:!0,get:function(){return r.TelemostCollapsedIcon}});const i=n(1691);Object.defineProperty(t,"MailCollapsedHoveredIcon",{enumerable:!0,get:function(){return i.MailCollapsedHoveredIcon}}),Object.defineProperty(t,"MailCollapsedIcon",{enumerable:!0,get:function(){return i.MailCollapsedIcon}});const o=n(1692);Object.defineProperty(t,"DocxCollapsedHoveredIcon",{enumerable:!0,get:function(){return o.DocxCollapsedHoveredIcon}}),Object.defineProperty(t,"DocxCollapsedIcon",{enumerable:!0,get:function(){return o.DocxCollapsedIcon}}),Object.defineProperty(t,"PptxCollapsedHoveredIcon",{enumerable:!0,get:function(){return o.PptxCollapsedHoveredIcon}}),Object.defineProperty(t,"PptxCollapsedIcon",{enumerable:!0,get:function(){return o.PptxCollapsedIcon}}),Object.defineProperty(t,"XlsxCollapsedHoveredIcon",{enumerable:!0,get:function(){return o.XlsxCollapsedHoveredIcon}}),Object.defineProperty(t,"XlsxCollapsedIcon",{enumerable:!0,get:function(){return o.XlsxCollapsedIcon}});const a=n(1693);Object.defineProperty(t,"NotesCollapsedHoveredIcon",{enumerable:!0,get:function(){return a.NotesCollapsedHoveredIcon}}),Object.defineProperty(t,"NotesCollapsedIcon",{enumerable:!0,get:function(){return a.NotesCollapsedIcon}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TelemostCollapsedHoveredIcon=t.TelemostCollapsedIcon=void 0;const i=r(n(0)),o=n(84);t.TelemostCollapsedIcon=(({width:e=24,height:t=24,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.53349 5.67257C3 6.71961 3 8.09027 3 10.8316V13.1684C3 15.9097 3 17.2804 3.53349 18.3274C4.00277 19.2484 4.75157 19.9972 5.67257 20.4665C6.71961 21 8.09027 21 10.8316 21H13.1684C15.9097 21 17.2804 21 18.3274 20.4665C19.2484 19.9972 19.9972 19.2484 20.4665 18.3274C21 17.2804 21 15.9097 21 13.1684V10.8316C21 8.09027 21 6.71961 20.4665 5.67257C19.9972 4.75157 19.2484 4.00277 18.3274 3.53349C17.2804 3 15.9097 3 13.1684 3H10.8316C8.09027 3 6.71961 3 5.67257 3.53349C4.75157 4.00277 4.00277 4.75157 3.53349 5.67257ZM11.25 11.5C11.6642 11.5 12 11.1642 12 10.75C12 10.3358 11.6642 10 11.25 10C10.8358 10 10.5 10.3358 10.5 10.75C10.5 11.1642 10.8358 11.5 11.25 11.5ZM10 8.49993C8.06704 8.49993 6.50004 10.0669 6.50004 11.9999C6.50004 13.9329 8.06704 15.4999 10 15.4999C11.933 15.4999 13.5 13.9329 13.5 11.9999C13.5 10.0669 11.933 8.49993 10 8.49993ZM5.50004 11.9999C5.50004 9.51465 7.51476 7.49993 10 7.49993C12.4853 7.49993 14.5 9.51465 14.5 11.9999C14.5 14.4852 12.4853 16.4999 10 16.4999C7.51476 16.4999 5.50004 14.4852 5.50004 11.9999ZM17.5 13.5C18.3284 13.5 19 12.8284 19 12C19 11.1716 18.3284 10.5 17.5 10.5C16.6716 10.5 16 11.1716 16 12C16 12.8284 16.6716 13.5 17.5 13.5Z",fill:"#F7F7FF",fillOpacity:"0.5"})))),t.TelemostCollapsedHoveredIcon=(({width:e=24,height:t=24,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass({dark:!0})},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 10.8316C3 8.09027 3 6.71961 3.53349 5.67257C4.00277 4.75157 4.75157 4.00277 5.67257 3.53349C6.71961 3 8.09027 3 10.8316 3H13.1684C15.9097 3 17.2804 3 18.3274 3.53349C19.2484 4.00277 19.9972 4.75157 20.4665 5.67257C21 6.71961 21 8.09027 21 10.8316V13.1684C21 13.5248 21 13.858 20.9988 14.1703C20.6864 14.06 20.3502 14 20 14H17C15.3431 14 14 15.3431 14 17V20C14 20.3502 14.06 20.6864 14.1703 20.9988C13.858 21 13.5248 21 13.1684 21H10.8316C8.09027 21 6.71961 21 5.67257 20.4665C4.75157 19.9972 4.00277 19.2484 3.53349 18.3274C3 17.2804 3 15.9097 3 13.1684V10.8316ZM11.25 11.5C11.6642 11.5 12 11.1642 12 10.75C12 10.3358 11.6642 10 11.25 10C10.8358 10 10.5 10.3358 10.5 10.75C10.5 11.1642 10.8358 11.5 11.25 11.5ZM10 8.49993C8.06704 8.49993 6.50004 10.0669 6.50004 11.9999C6.50004 13.9329 8.06704 15.4999 10 15.4999C11.933 15.4999 13.5 13.9329 13.5 11.9999C13.5 10.0669 11.933 8.49993 10 8.49993ZM5.50004 11.9999C5.50004 9.51465 7.51476 7.49993 10 7.49993C12.4853 7.49993 14.5 9.51465 14.5 11.9999C14.5 14.4852 12.4853 16.4999 10 16.4999C7.51476 16.4999 5.50004 14.4852 5.50004 11.9999ZM17.5 13.5C18.3284 13.5 19 12.8284 19 12C19 11.1716 18.3284 10.5 17.5 10.5C16.6716 10.5 16 11.1716 16 12C16 12.8284 16.6716 13.5 17.5 13.5Z",fill:"#F7F7FF",fillOpacity:"0.9"}),i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 15C15.8954 15 15 15.8954 15 17V20C15 21.1046 15.8954 22 17 22H20C21.1046 22 22 21.1046 22 20V17C22 15.8954 21.1046 15 20 15H17ZM18 16.5V18H16.5C16.2239 18 16 18.2239 16 18.5C16 18.7761 16.2239 19 16.5 19H18V20.5C18 20.7761 18.2239 21 18.5 21C18.7761 21 19 20.7761 19 20.5V19H20.5C20.7761 19 21 18.7761 21 18.5C21 18.2239 20.7761 18 20.5 18H19V16.5C19 16.2239 18.7761 16 18.5 16C18.2239 16 18 16.2239 18 16.5Z",fill:"#F7F7FF",fillOpacity:"0.9"}))))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MailCollapsedHoveredIcon=t.MailCollapsedIcon=void 0;const i=r(n(0)),o=n(84);t.MailCollapsedIcon=(({width:e=24,height:t=24,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 19C10.5748 19 9.60608 18.9989 8.85321 18.9475C8.1183 18.8974 7.73627 18.8061 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5.19389 16.2637 5.10259 15.8817 5.05245 15.1468C5.00108 14.3939 5 13.4252 5 12C5 10.6744 5.00094 9.74366 5.04241 9.01424L10.2397 13.3453C11.2595 14.1952 12.7408 14.1952 13.7606 13.3453L18.9576 9.0145C18.9991 9.74388 19 10.6745 19 12C19 13.4252 18.9989 14.3939 18.9475 15.1468C18.8974 15.8817 18.8061 16.2637 18.6955 16.5307C18.2895 17.5108 17.5108 18.2895 16.5307 18.6955C16.2637 18.8061 15.8817 18.8974 15.1468 18.9475C14.3939 18.9989 13.4252 19 12 19ZM20.7845 7.49207C21 8.49438 21 9.82362 21 12C21 14.7956 21 16.1935 20.5433 17.2961C19.9343 18.7663 18.7663 19.9343 17.2961 20.5433C16.1935 21 14.7956 21 12 21C9.20435 21 7.80653 21 6.7039 20.5433C5.23373 19.9343 4.06569 18.7663 3.45672 17.2961C3 16.1935 3 14.7956 3 12C3 9.20435 3 7.80653 3.45672 6.7039C4.06569 5.23373 5.23373 4.06569 6.7039 3.45672C7.73761 3.02855 9.03078 3.00178 11.4919 3.00011C11.656 3 11.8253 3 12 3C12 3 12.0001 3 12.0001 3C14.7958 3 16.1936 3 17.2962 3.45672C18.7664 4.06569 19.9345 5.23373 20.5434 6.7039C20.6446 6.94812 20.7233 7.20681 20.7846 7.49197L20.7845 7.49207Z",fill:"#F7F7FF",fillOpacity:"0.5"})))),t.MailCollapsedHoveredIcon=(({width:e=24,height:t=24,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.85321 18.9475C9.60608 18.9989 10.5748 19 12 19C12.7947 19 13.4474 18.9997 14 18.9905V20C14 20.346 14.0586 20.6784 14.1664 20.9877C13.55 21 12.8378 21 12 21C9.20435 21 7.80653 21 6.7039 20.5433C5.23373 19.9343 4.06569 18.7663 3.45672 17.2961C3 16.1935 3 14.7956 3 12C3 9.20435 3 7.80653 3.45672 6.7039C4.06569 5.23373 5.23373 4.06569 6.7039 3.45672C7.73761 3.02855 9.03078 3.00178 11.4919 3.00011L12 3H12.0001C14.7958 3 16.1936 3 17.2962 3.45672C18.7664 4.06569 19.9345 5.23373 20.5434 6.7039C20.6446 6.94812 20.7233 7.20681 20.7846 7.49197L20.7845 7.49207C21 8.49438 21 9.82362 21 12C21 12.8378 21 13.55 20.9877 14.1664C20.6784 14.0586 20.346 14 20 14H18.9905C18.9997 13.4474 19 12.7947 19 12C19 10.6745 18.9991 9.74388 18.9576 9.0145L13.7606 13.3453C12.7408 14.1952 11.2595 14.1952 10.2397 13.3453L5.04241 9.01424C5.00094 9.74366 5 10.6744 5 12C5 13.4252 5.00108 14.3939 5.05245 15.1468C5.10259 15.8817 5.19389 16.2637 5.30448 16.5307C5.71046 17.5108 6.48915 18.2895 7.46927 18.6955C7.73627 18.8061 8.1183 18.8974 8.85321 18.9475Z",fill:"#F7F7FF",fillOpacity:"0.9"}),i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 15C15.8954 15 15 15.8954 15 17V20C15 21.1046 15.8954 22 17 22H20C21.1046 22 22 21.1046 22 20V17C22 15.8954 21.1046 15 20 15H17ZM18 16.5V18H16.5C16.2239 18 16 18.2239 16 18.5C16 18.7761 16.2239 19 16.5 19H18V20.5C18 20.7761 18.2239 21 18.5 21C18.7761 21 19 20.7761 19 20.5V19H20.5C20.7761 19 21 18.7761 21 18.5C21 18.2239 20.7761 18 20.5 18H19V16.5C19 16.2239 18.7761 16 18.5 16C18.2239 16 18 16.2239 18 16.5Z",fill:"#F7F7FF",fillOpacity:"0.9"}))))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PptxCollapsedHoveredIcon=t.PptxCollapsedIcon=t.XlsxCollapsedHoveredIcon=t.XlsxCollapsedIcon=t.DocxCollapsedHoveredIcon=t.DocxCollapsedIcon=void 0;const i=r(n(0)),o=n(84);t.DocxCollapsedIcon=(({width:e=24,height:t=24,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 3C4.34315 3 3 4.34315 3 6V18C3 19.6569 4.34315 21 6 21H18C19.6569 21 21 19.6569 21 18V6C21 4.34315 19.6569 3 18 3H6ZM6 8C6 7.44772 6.44772 7 7 7H17C17.5523 7 18 7.44772 18 8C18 8.55228 17.5523 9 17 9H7C6.44772 9 6 8.55228 6 8ZM7 11C6.44772 11 6 11.4477 6 12C6 12.5523 6.44772 13 7 13H14C14.5523 13 15 12.5523 15 12C15 11.4477 14.5523 11 14 11H7ZM7 15C6.44772 15 6 15.4477 6 16C6 16.5523 6.44772 17 7 17H15C15.5523 17 16 16.5523 16 16C16 15.4477 15.5523 15 15 15H7Z",fill:"#F7F7FF",fillOpacity:"0.5"})))),t.DocxCollapsedHoveredIcon=(({width:e=24,height:t=24,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6C3 4.34315 4.34315 3 6 3H18C19.6569 3 21 4.34315 21 6V14.1707C20.6872 14.0602 20.3506 14 20 14H17C16.1115 14 15.3132 14.3863 14.7639 15H7C6.44772 15 6 15.4477 6 16C6 16.5523 6.44772 17 7 17H14V20C14 20.3506 14.0602 20.6872 14.1707 21H6C4.34315 21 3 19.6569 3 18V6ZM7 7C6.44772 7 6 7.44772 6 8C6 8.55228 6.44772 9 7 9H17C17.5523 9 18 8.55228 18 8C18 7.44772 17.5523 7 17 7H7ZM6 12C6 11.4477 6.44772 11 7 11H14C14.5523 11 15 11.4477 15 12C15 12.5523 14.5523 13 14 13H7C6.44772 13 6 12.5523 6 12Z",fill:"#F7F7FF",fillOpacity:"0.9"}),i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 15C15.8954 15 15 15.8954 15 17V20C15 21.1046 15.8954 22 17 22H20C21.1046 22 22 21.1046 22 20V17C22 15.8954 21.1046 15 20 15H17ZM18 16.5V18H16.5C16.2239 18 16 18.2239 16 18.5C16 18.7761 16.2239 19 16.5 19H18V20.5C18 20.7761 18.2239 21 18.5 21C18.7761 21 19 20.7761 19 20.5V19H20.5C20.7761 19 21 18.7761 21 18.5C21 18.2239 20.7761 18 20.5 18H19V16.5C19 16.2239 18.7761 16 18.5 16C18.2239 16 18 16.2239 18 16.5Z",fill:"#F7F7FF",fillOpacity:"0.9"})))),t.XlsxCollapsedIcon=(({width:e=24,height:t=24,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 3C4.34315 3 3 4.34315 3 6V10.5C3 10.7761 3.22386 11 3.5 11H10.5C10.7761 11 11 10.7761 11 10.5V3.5C11 3.22386 10.7761 3 10.5 3H6ZM13.5 3C13.2239 3 13 3.22386 13 3.5V10.5C13 10.7761 13.2239 11 13.5 11H20.5C20.7761 11 21 10.7761 21 10.5V6C21 4.34315 19.6569 3 18 3H13.5ZM3 13.5C3 13.2239 3.22386 13 3.5 13H10.5C10.7761 13 11 13.2239 11 13.5V20.5C11 20.7761 10.7761 21 10.5 21H6C4.34315 21 3 19.6569 3 18V13.5ZM14.5 19.5V14.5H19.5V18C19.5 18.8284 18.8284 19.5 18 19.5H14.5ZM13 13.5C13 13.2239 13.2239 13 13.5 13H20.5C20.7761 13 21 13.2239 21 13.5V18C21 19.6569 19.6569 21 18 21H13.5C13.2239 21 13 20.7761 13 20.5V13.5Z",fill:"#F7F7FF",fillOpacity:"0.5"})))),t.XlsxCollapsedHoveredIcon=(({width:e=24,height:t=24,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6C3 4.34315 4.34315 3 6 3H10.5C10.7761 3 11 3.22386 11 3.5V10.5C11 10.7761 10.7761 11 10.5 11H3.5C3.22386 11 3 10.7761 3 10.5V6ZM13 3.5C13 3.22386 13.2239 3 13.5 3H18C19.6569 3 21 4.34315 21 6V10.5C21 10.7761 20.7761 11 20.5 11H13.5C13.2239 11 13 10.7761 13 10.5V3.5ZM3.5 13C3.22386 13 3 13.2239 3 13.5V18C3 19.6569 4.34315 21 6 21H10.5C10.7761 21 11 20.7761 11 20.5V13.5C11 13.2239 10.7761 13 10.5 13H3.5Z",fill:"#F7F7FF",fillOpacity:"0.9"}),i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 15C15.8954 15 15 15.8954 15 17V20C15 21.1046 15.8954 22 17 22H20C21.1046 22 22 21.1046 22 20V17C22 15.8954 21.1046 15 20 15H17ZM18 16.5V18H16.5C16.2239 18 16 18.2239 16 18.5C16 18.7761 16.2239 19 16.5 19H18V20.5C18 20.7761 18.2239 21 18.5 21C18.7761 21 19 20.7761 19 20.5V19H20.5C20.7761 19 21 18.7761 21 18.5C21 18.2239 20.7761 18 20.5 18H19V16.5C19 16.2239 18.7761 16 18.5 16C18.2239 16 18 16.2239 18 16.5Z",fill:"#F7F7FF",fillOpacity:"0.9"}),i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5 13C13.2239 13 13 13.2239 13 13.5V20.5C13 20.7761 13.2239 21 13.5 21H14.1707C14.0602 20.6872 14 20.3506 14 20V17C14 15.3431 15.3431 14 17 14H20C20.3506 14 20.6872 14.0602 21 14.1707V13.5C21 13.2239 20.7761 13 20.5 13H13.5Z",fill:"#F7F7FF",fillOpacity:"0.9"})))),t.PptxCollapsedIcon=(({width:e=24,height:t=24,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM12 4.5L11.9998 12H19.5C19.5 7.85786 16.1421 4.5 12 4.5C12 4.5 12 4.5 12 4.5Z",fill:"#F7F7FF",fillOpacity:"0.5"})))),t.PptxCollapsedHoveredIcon=(({width:e=24,height:t=24,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.7547 14.0957C20.9151 13.4233 21 12.7216 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21C12.7216 21 13.4233 20.9151 14.0957 20.7547C14.0332 20.5136 14 20.2607 14 20V17C14 15.3431 15.3431 14 17 14H20C20.2607 14 20.5136 14.0332 20.7547 14.0957ZM11.9998 12L12 4.5H12C16.1421 4.5 19.5 7.85786 19.5 12H11.9998Z",fill:"#F7F7FF",fillOpacity:"0.9"}),i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 15C15.8954 15 15 15.8954 15 17V20C15 21.1046 15.8954 22 17 22H20C21.1046 22 22 21.1046 22 20V17C22 15.8954 21.1046 15 20 15H17ZM18 16.5V18H16.5C16.2239 18 16 18.2239 16 18.5C16 18.7761 16.2239 19 16.5 19H18V20.5C18 20.7761 18.2239 21 18.5 21C18.7761 21 19 20.7761 19 20.5V19H20.5C20.7761 19 21 18.7761 21 18.5C21 18.2239 20.7761 18 20.5 18H19V16.5C19 16.2239 18.7761 16 18.5 16C18.2239 16 18 16.2239 18 16.5Z",fill:"#F7F7FF",fillOpacity:"0.9"}))))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotesCollapsedHoveredIcon=t.NotesCollapsedIcon=void 0;const i=r(n(0)),o=n(84);t.NotesCollapsedIcon=(({width:e=24,height:t=24,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 19.5C10.4001 19.5 9.29039 19.4988 8.42766 19.4283C7.58244 19.3593 7.10721 19.2312 6.75229 19.0504C5.97612 18.6549 5.34508 18.0239 4.9496 17.2477C4.76875 16.8928 4.64071 16.4176 4.57165 15.5723C4.50117 14.7096 4.5 13.5999 4.5 12C4.5 10.4001 4.50117 9.29039 4.57165 8.42766C4.64071 7.58244 4.76875 7.10721 4.9496 6.75229C5.08693 6.48276 5.25266 6.23074 5.44302 6H13.8124C16.2977 6 17.9999 7.45222 17.9999 9.9375V18.557C17.7692 18.7474 17.5172 18.9131 17.2477 19.0504C16.8928 19.2312 16.4176 19.3593 15.5723 19.4283C14.7096 19.4988 13.5999 19.5 12 19.5ZM17.9999 20.35C19.0257 19.8087 19.8598 18.9633 20.3869 17.9287C21 16.7254 21 15.1503 21 12C21 8.8497 21 7.27456 20.3869 6.0713C19.8476 5.01289 18.9871 4.15238 17.9287 3.61309C16.7254 3 15.1503 3 12 3C8.8497 3 7.27456 3 6.0713 3.61309C5.07904 4.11867 4.26071 4.90658 3.71794 5.8752C3.69481 5.91647 3.67218 5.95808 3.65006 6C3.63758 6.02367 3.62525 6.04743 3.61309 6.0713C3 7.27456 3 8.8497 3 12C3 15.1503 3 16.7254 3.61309 17.9287C4.15238 18.9871 5.01289 19.8476 6.0713 20.3869C7.27456 21 8.8497 21 12 21C15.1503 21 16.7254 21 17.9287 20.3869C17.9525 20.3748 17.9763 20.3624 17.9999 20.35ZM7 9.5C7 9.22386 7.22386 9 7.5 9H14.5C14.7761 9 15 9.22386 15 9.5V10C15 10.2761 14.7761 10.5 14.5 10.5H7.5C7.22386 10.5 7 10.2761 7 10V9.5ZM7 12.5C7 12.2239 7.22386 12 7.5 12H9.875C10.1511 12 10.375 12.2239 10.375 12.5V13C10.375 13.2761 10.1511 13.5 9.875 13.5H7.5C7.22386 13.5 7 13.2761 7 13V12.5ZM7.5 15C7.22386 15 7 15.2239 7 15.5V16C7 16.2761 7.22386 16.5 7.5 16.5H12.5C12.7761 16.5 13 16.2761 13 16V15.5C13 15.2239 12.7761 15 12.5 15H7.5Z",fill:"#F7F7FF",fillOpacity:"0.5"})))),t.NotesCollapsedHoveredIcon=(({width:e=24,height:t=24,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.42766 19.4283C9.29039 19.4988 10.4001 19.5 12 19.5C12.7716 19.5 13.4292 19.4997 14 19.4915V20C14 20.3466 14.0588 20.6794 14.1669 20.9891C13.5377 21 12.8225 21 12 21C8.8497 21 7.27456 21 6.0713 20.3869C5.01289 19.8476 4.15238 18.9871 3.61309 17.9287C3 16.7254 3 15.1503 3 12C3 8.8497 3 7.27456 3.61309 6.0713C3.62525 6.04743 3.63758 6.02367 3.65006 6C3.67218 5.95808 3.69481 5.91647 3.71794 5.8752C4.26071 4.90658 5.07904 4.11867 6.0713 3.61309C7.27456 3 8.8497 3 12 3C15.1503 3 16.7254 3 17.9287 3.61309C18.9871 4.15238 19.8476 5.01289 20.3869 6.0713C21 7.27456 21 8.8497 21 12C21 12.8225 21 13.5377 20.9891 14.1669C20.6794 14.0588 20.3466 14 20 14H17.9999V9.9375C17.9999 7.45222 16.2977 6 13.8124 6H5.44302C5.25266 6.23074 5.08693 6.48276 4.9496 6.75229C4.76875 7.10721 4.64071 7.58244 4.57165 8.42766C4.50117 9.29039 4.5 10.4001 4.5 12C4.5 13.5999 4.50117 14.7096 4.57165 15.5723C4.64071 16.4176 4.76875 16.8928 4.9496 17.2477C5.34508 18.0239 5.97612 18.6549 6.75229 19.0504C7.10721 19.2312 7.58244 19.3593 8.42766 19.4283ZM7.5 9C7.22386 9 7 9.22386 7 9.5V10C7 10.2761 7.22386 10.5 7.5 10.5H14.5C14.7761 10.5 15 10.2761 15 10V9.5C15 9.22386 14.7761 9 14.5 9H7.5ZM7.5 12C7.22386 12 7 12.2239 7 12.5V13C7 13.2761 7.22386 13.5 7.5 13.5H9.875C10.1511 13.5 10.375 13.2761 10.375 13V12.5C10.375 12.2239 10.1511 12 9.875 12H7.5ZM7 15.5C7 15.2239 7.22386 15 7.5 15H12.5C12.7761 15 13 15.2239 13 15.5V16C13 16.2761 12.7761 16.5 12.5 16.5H7.5C7.22386 16.5 7 16.2761 7 16V15.5Z",fill:"#F7F7FF",fillOpacity:"0.9"}),i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 15C15.8954 15 15 15.8954 15 17V20C15 21.1046 15.8954 22 17 22H20C21.1046 22 22 21.1046 22 20V17C22 15.8954 21.1046 15 20 15H17ZM18 16.5V18H16.5C16.2239 18 16 18.2239 16 18.5C16 18.7761 16.2239 19 16.5 19H18V20.5C18 20.7761 18.2239 21 18.5 21C18.7761 21 19 20.7761 19 20.5V19H20.5C20.7761 19 21 18.7761 21 18.5C21 18.2239 20.7761 18 20.5 18H19V16.5C19 16.2239 18.7761 16 18.5 16C18.2239 16 18 16.2239 18 16.5Z",fill:"#F7F7FF",fillOpacity:"0.9"}))))}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const u=o(n(0)),c=s(n(273)),l=s(n(173)),d=s(n(1696)),f=n(155),h=n(136),p=n(495),m=n(216),v=n(1698),g=n(1699),y=n(1700);n(1702);t.default=(({file:e})=>{var t,n;const{getI18n:r,links:i}=u.useContext(h.AppContext),o=u.useContext(f.MetricContext),[s,b]=u.useState(!1),_=u.useRef(null),O=y.getExtension(e.name),w=y.getFileIconPostfix(O,null===(t=e.meta)||void 0===t?void 0:t.mediatype),E=u.useCallback(()=>{o("File click")},[o]);return u.default.createElement(l.default,{key:e.path,className:p.DiskWidgetClass("File"),theme:"black",href:(function(e,t){return c.default(e).set("pathname","/client/recent").set("query",{idApp:"client",selectResource:t}).toString()})(i.Disk,e.path),title:e.name,target:"_blank",rel:"noopener noreferrer",onClick:E},u.default.createElement("div",{className:p.DiskWidgetClass("FileIconContainer")},u.default.createElement("div",{className:p.DiskWidgetClass("FileIcon",{[w]:!0})})),u.default.createElement("div",{className:p.DiskWidgetClass("FileName")},u.default.createElement("div",{className:p.DiskWidgetClass("FileNameText")},y.removeExtension(e.name))),u.default.createElement("div",{className:p.DiskWidgetClass("FileActions")},(null===(n=e.meta)||void 0===n?void 0:n.public)&&u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:p.DiskWidgetClass("FileActionIcon",{share:!0}),ref:_,title:r("copyLink"),onClick:t=>{var n;t.preventDefault(),t.stopPropagation(),o("Copy file"),(function(e,t){a(this,void 0,void 0,(function*(){y.copyTextToClipboard(e)&&(t(!0),yield new Promise(e=>setTimeout(e,2e3)),t(!1))}))})(null===(n=e.meta)||void 0===n?void 0:n.short_url,b)}},u.default.createElement(g.CopyIcon,null)),u.default.createElement(d.default,{className:p.DiskWidgetClass("FileActionTooltip"),view:"default",size:"s",anchor:_,visible:s,direction:"left",hasTail:!0},r("copied"))),u.default.createElement("div",{className:p.DiskWidgetClass("FileActionIcon",{download:!0}),title:r("downloadFile"),onClick:t=>{t.preventDefault(),t.stopPropagation(),o("Save file"),(function(e){a(this,void 0,void 0,(function*(){const t=yield m.getApiClient().requestModelsTuple([{name:"do-get-download-url",params:{path:e.path}}]);if(m.getApiClient().isModelResolved(t[0])){const n=t[0].data.file,r=document.createElement("a");r.href=n,r.download=e.name,document.body.appendChild(r),r.click(),document.body.removeChild(r)}}))})(e)}},u.default.createElement(v.DownloadIcon,null))))})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1697);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),i=n(660),o=r.compose(i.withViewDefault,r.composeU(i.withSizeS,i.withSizeL))(i.Tooltip);t.default=o}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadIcon=void 0;const i=r(n(0)),o=n(84);t.DownloadIcon=(({width:e=16,height:t=16,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 16 16",fill:"none",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0C7.44772 0 7 0.447715 7 1V7.78932C7 8.26251 7.03359 8.7351 7.1005 9.20354L7.2375 10.1625L7.19145 10.2085L6.72702 9.46673C6.32679 8.82746 5.85552 8.23552 5.32221 7.70221L4.90969 7.28969C4.51946 6.89946 3.88679 6.89946 3.49656 7.28969C3.10634 7.67991 3.10634 8.31259 3.49656 8.70281L7.29613 12.5024C7.68685 12.8931 8.32041 12.8929 8.71085 12.5019L12.5042 8.70307C12.8941 8.31262 12.8939 7.68011 12.5037 7.28994C12.1133 6.89958 11.4804 6.89958 11.0901 7.28994L10.6828 7.69722C10.151 8.22899 9.68093 8.81904 9.28144 9.45619L8.80927 10.2093L8.7625 10.1625L8.8995 9.20354C8.96641 8.7351 9 8.26251 9 7.78932V1C9 0.447715 8.55228 0 8 0ZM2 15C2 14.4477 2.44772 14 3 14H13C13.5523 14 14 14.4477 14 15C14 15.5523 13.5523 16 13 16H3C2.44772 16 2 15.5523 2 15Z",fill:"currentColor"}))))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CopyIcon=void 0;const i=r(n(0)),o=n(84);t.CopyIcon=(({width:e=16,height:t=16,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 16 16",fill:"none",className:o.widgetIconClass()},i.default.createElement("path",{d:"M7.07489 8.44911C7.39469 8.89938 7.28892 9.52365 6.83865 9.84345C6.38838 10.1633 5.76411 10.0575 5.44431 9.60722C4.32168 8.02659 4.49452 5.85021 5.8795 4.46522L8.88471 1.46002C10.4468 -0.102078 12.9795 -0.102079 14.5416 1.46002C16.1037 3.02212 16.1037 5.55478 14.5416 7.11687L13.8345 7.82398C13.4439 8.2145 12.8108 8.2145 12.4202 7.82398C12.0297 7.43346 12.0297 6.80029 12.4202 6.40977L13.1273 5.70266C13.9084 4.92161 13.9084 3.65528 13.1273 2.87423C12.3463 2.09318 11.08 2.09318 10.2989 2.87423L7.29372 5.87944C6.60142 6.57173 6.51494 7.66072 7.07489 8.44911ZM8.92315 7.5476C8.60198 7.0983 8.70585 6.47371 9.15515 6.15254C9.60445 5.83137 10.229 5.93525 10.5502 6.38455C11.6803 7.96557 11.5102 10.1483 10.122 11.5364L7.11683 14.5416C5.55473 16.1037 3.02207 16.1037 1.45998 14.5416C-0.102121 12.9795 -0.102121 10.4468 1.45998 8.88475L2.16708 8.17764C2.55761 7.78712 3.19077 7.78712 3.5813 8.17764C3.97182 8.56817 3.97182 9.20133 3.5813 9.59186L2.87419 10.299C2.09314 11.08 2.09314 12.3463 2.87419 13.1274C3.65524 13.9084 4.92157 13.9084 5.70262 13.1274L8.70782 10.1222C9.40169 9.42832 9.48684 8.33617 8.92315 7.5476Z",fill:"currentColor"}))))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.copyTextToClipboard=t.removeExtension=t.getExtension=t.getFileIconPostfix=void 0;const i=r(n(1701));t.getFileIconPostfix=function(e,t){return"."!==(e=e?e.toLowerCase():"")[0]&&(e="."+e),t=t?t.toLowerCase():"",i.default.extnames[e]||i.default.mediatypes[t]||i.default.default},t.getExtension=function(e){return-1===e.lastIndexOf(".")?"":e.split(".").pop()},t.removeExtension=function(e){const t=e.lastIndexOf(".");return-1===t?e:e.substr(0,t)},t.copyTextToClipboard=function(e){const t=document.createElement("textarea");t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="2em",t.style.height="2em",t.style.padding="0",t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.focus(),t.select();let n=!1;try{n=Boolean(document.execCommand("copy"))}catch(e){}return document.body.removeChild(t),n}}),(function(e,t){e.exports={default:"blank",virus:"virus",folderDefault:"dir",folderTypes:["dir_plus","dir_back","dir_gray","dir_root","dir_screenshots","dir_shared","dir_trash","dir_trash-full","dir_yateamnda"],mediatypes:{image:"image",audio:"audio",video:"video",archive:"archive",text:"text",book:"book",development:"development",executable:"executable",font:"font",mail:"mail",compressed:"archive"},extnames:{".7z":"7z",".cab":"archive",".gz":"archive",".gzip":"archive",".rar":"rar",".tar":"archive",".zip":"zip",".zipx":"zip",".aud":"audio",".flac":"audio",".iff":"audio",".m3u":"audio",".m3u8":"audio",".m4a":"audio",".m4b":"audio",".m4r":"audio",".mp3":"audio",".pls":"audio",".ogg":"audio",".wav":"audio",".wma":"audio",".asf":"video",".avi":"video",".flv":"video",".mov":"video",".mp4":"video",".mpeg":"video",".mkv":"video",".mpg":"video",".srt":"video",".swf":"video",".vob":"video",".wmv":"video",".ai":"ai",".cur":"image",".bmp":"image",".dng":"image",".djvu":"djvu",".ico":"image",".gif":"image",".jpg":"image",".jpeg":"image",".png":"image",".psd":"psd",".pcx":"image",".mng":"image",".sketch":"sketch",".tif":"image",".tiff":"image",".xcf":"image",".epub":"epub",".fb2":"fb2",".csv":"table",".doc":"doc",".docx":"doc",".dot":"doc",".dotx":"doc",".indd":"text",".key":"text",".odt":"odt",".odp":"odp",".pdf":"pdf",".pps":"text",".ppsm":"text",".ppsx":"text",".ppt":"ppt",".pptx":"ppt",".ods":"ods",".rtf":"rtf",".txt":"txt",".xls":"xls",".xlsb":"xls",".xlsx":"xls",".xltm":"xls",".xltx":"xls",".xps":"text",".css":"css",".htm":"html",".html":"html",".js":"js",".xhtml":"html",".ini":"ini",".xml":"xml",".exe":"exe",".dll":"dll",".vcf":"vcf"}}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CollapsedCreateDocumentButtons=t.ExpandedCreateDocumentButtons=void 0;const s=o(n(0)),u=a(n(273)),c=n(19),l=a(n(173)),d=n(276),f=n(495);n(1704);const h=n(155),p=n(136),m=n(393);var v;!(function(e){e.Docx="docx",e.Xlsx="xlsx",e.Pptx="pptx"})(v||(v={}));const g={[v.Docx]:m.CollapsedIcons.Docx,[v.Xlsx]:m.CollapsedIcons.Xlsx,[v.Pptx]:m.CollapsedIcons.Pptx},y={[v.Docx]:"Document",[v.Xlsx]:"Table",[v.Pptx]:"Presentation"};function b(e,t,n){return u.default(e).set("pathname",`/editnew/${t}/disk`).set("query",{sk:n}).toString()}const _=c.connect(e=>({numberOfFiles:d.selectNumberOfFiles(e)}))(({numberOfFiles:e})=>{const{getI18n:t,links:n,sk:r}=s.useContext(p.AppContext),i=s.useContext(h.MetricContext),o=s.useCallback(e=>()=>i("Create",y[e]),[i]);return s.default.createElement("div",{className:f.DiskWidgetClass("CreateDocumentButtons",{size:e.toString()}),style:{minHeight:36*e}},Object.values(v).map(e=>s.default.createElement(l.default,{key:e,className:f.DiskWidgetClass("CreateDocumentButton"),theme:"black",href:b(n.Disk,e,r),title:t(`${e}ButtonHover`),target:"_blank",rel:"noopener noreferrer",onClick:o(e)},s.default.createElement("div",{className:f.DiskWidgetClass("Icon",{[e]:!0})}),s.default.createElement("div",{className:f.DiskWidgetClass("CreateDocumentButtonText")},t(`${e}Button`)))))});t.ExpandedCreateDocumentButtons=_,t.CollapsedCreateDocumentButtons=(()=>{const{getI18n:e,links:t,sk:n}=s.useContext(p.AppContext),r=s.useContext(h.MetricContext),i=s.useCallback(e=>()=>r("Create",y[e]),[r]);return s.default.createElement(s.default.Fragment,null,Object.values(v).map(r=>s.default.createElement(l.default,{key:r,href:b(t.Disk,r,n),title:e(`${r}ButtonHover`),target:"_blank",rel:"noopener noreferrer",onClick:i(r)},s.default.createElement(m.CollapsedIcon,{icon:g[r]}))))})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PlusIcon=void 0;const i=r(n(0)),o=n(84);t.PlusIcon=(({width:e=12,height:t=12,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 0C5.44772 0 5 0.447715 5 1V5H1C0.447715 5 0 5.44771 0 6C0 6.55228 0.447715 7 1 7H5V11C5 11.5523 5.44772 12 6 12C6.55228 12 7 11.5523 7 11V7H11C11.5523 7 12 6.55228 12 6C12 5.44772 11.5523 5 11 5H7V1C7 0.447715 6.55228 0 6 0Z",fill:"currentColor"}))))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CloseIcon=void 0;const i=r(n(0)),o=n(84);t.CloseIcon=(({width:e=16,height:t=16,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 16 16",fill:"none",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 8C0 12.4183 3.58172 16 8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8ZM14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8ZM9.69706 4.88873C10.0876 4.49821 10.7207 4.49821 11.1113 4.88873C11.5018 5.27925 11.5018 5.91242 11.1113 6.30294L9.41421 8L11.1113 9.69706C11.5018 10.0876 11.5018 10.7207 11.1113 11.1113C10.7207 11.5018 10.0876 11.5018 9.69706 11.1113L8 9.41421L6.30294 11.1113C5.91242 11.5018 5.27925 11.5018 4.88873 11.1113C4.49821 10.7207 4.49821 10.0876 4.88873 9.69706L6.58579 8L4.88873 6.30294C4.49821 5.91242 4.49821 5.27925 4.88873 4.88873C5.27925 4.49821 5.91242 4.49821 6.30294 4.88873L8 6.58579L9.69706 4.88873Z",fill:"currentColor"}))))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DownIcon=void 0;const i=r(n(0)),o=n(84);t.DownIcon=(({width:e=16,height:t=16,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 14 14",fill:"none",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 0a7 7 0 0 1 0 14A7 7 0 0 1 7 0zM3.29289 5.29289C3.68342 4.90237 4.31658 4.90237 4.70711 5.29289L7 7.58579L9.29289 5.29289C9.68342 4.90237 10.3166 4.90237 10.7071 5.29289C11.0976 5.68342 11.0976 6.31658 10.7071 6.70711L7.70711 9.70711C7.31658 10.0976 6.68342 10.0976 6.29289 9.70711L3.29289 6.70711C2.90237 6.31658 2.90237 5.68342 3.29289 5.29289Z",fill:"currentColor"}))))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UpIcon=void 0;const i=r(n(0)),o=n(84);t.UpIcon=(({width:e=16,height:t=16,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 14 14",fill:"none",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 0a7 7 0 0 1 0 14A7 7 0 0 1 7 0zM3.29289 8.70711C3.68342 9.09763 4.31658 9.09763 4.70711 8.70711L7 6.41421L9.29289 8.70711C9.68342 9.09763 10.3166 9.09763 10.7071 8.70711C11.0976 8.31658 11.0976 7.68342 10.7071 7.29289L7.70711 4.29289C7.31658 3.90237 6.68342 3.90237 6.29289 4.29289L3.29289 7.29289C2.90237 7.68342 2.90237 8.31658 3.29289 8.70711Z",fill:"currentColor"}))))}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.notesWidgetClass=void 0;const s=n(19),u=o(n(0)),c=n(489),l=a(n(173)),d=n(193),f=o(n(277)),h=n(391),p=n(217),m=a(n(392)),v=n(155),g=n(641),y=n(136),b=n(393),_=n(28),O=n(640);n(1712),t.notesWidgetClass=_.cn("NotesWidget");const w=s.connect(e=>({route:c.selectRoute(e)}),{changeRoute:c.changeRoute})(({route:e,changeRoute:t})=>{const{getI18n:n}=u.useContext(y.AppContext),r=u.useContext(v.MetricContext),i=u.useCallback(()=>{r("Show all"),t("/all")},[r,t]),o=u.useCallback(()=>{r("Hide"),t("/default")},[r,t]),a={onClick:i,text:n("showMore")};return"/all"===e&&(a.onClick=o,a.text=n("showLess")),u.default.createElement(m.default,Object.assign({},a))});t.default=s.connect(e=>({notes:c.selectNotes(e),currentRoute:c.selectRoute(e),diskSecretKey:c.selectDiskSecretKey(e)}),{changeRoute:c.changeRoute})(({notes:e,currentRoute:n,diskSecretKey:r,changeRoute:i})=>{const{getI18n:o,isExpanded:a,links:s,onToggle:c}=u.useContext(y.AppContext),_=u.useContext(v.MetricContext),E=u.useContext(g.SidebarContext);u.useEffect(()=>{_("Show widget")},[]);const S=u.useCallback(()=>{_("Create note")},[_]),C=u.useCallback(()=>{_("Widget title click")},[_]),x=u.useCallback(()=>{_("Note click")},[_]);u.useEffect(()=>{a||"/default"===n||i("/default")},[i,a,n]);const k="/all"===n?e.length:5,T=!e.length,j=u.useRef(null),R=e.length>5,P=u.useCallback(()=>{_("Widget click"),c(!a),setTimeout(()=>{var e,t;j.current&&(null===(t=null===(e=E.current)||void 0===e?void 0:e.parentElement)||void 0===t||t.scrollTo({top:j.current.scrollHeight,behavior:"smooth"}))},200)},[j,E,c,a,_]);if(!a)return u.default.createElement(d.CollapsedWidgetContainer,{className:t.notesWidgetClass()},u.default.createElement(l.default,{title:o("notes"),onClick:P},u.default.createElement(b.CollapsedIcon,{icon:b.CollapsedIcons.Notes})));const D=r?`${s.Notes}/create?sk=${r}`:void 0,I={title:u.default.createElement(h.WidgetTitle,{url:s.Notes,onClick:C},o("notes"))};return!T&&D&&(I.action=u.default.createElement(f.default,{href:D,icon:f.ACTION_ICONS.PLUS,onClick:S})),u.default.createElement(d.ExpandedWidgetContainer,{className:t.notesWidgetClass(),containerRef:j},u.default.createElement(p.WidgetHeader,Object.assign({},I)),T?D&&u.default.createElement(m.default,{url:D,text:o("createNote"),onClick:S,iconLeft:e=>u.default.createElement(O.AddIcon,{className:e})}):u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:t.notesWidgetClass("List",{noButton:!R})},e.slice(0,k).map(e=>u.default.createElement(l.default,{key:e.mtime,className:t.notesWidgetClass("NoteTitle"),theme:"black",href:`${s.Notes}/${e.id}`,title:o("notes"),target:"_blank",rel:"noopener noreferrer",onClick:x},e.title||e.snippet||o("emptyNote")))),R&&u.default.createElement(w,null)))})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1714);t.default=r.MailWidget}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MailWidget=t.MailWidgetClass=void 0;const s=o(n(0)),u=n(28),c=n(155),l=n(136),d=n(19),f=n(193),h=a(n(173)),p=a(n(392)),m=o(n(277)),v=n(217),g=n(391),y=n(393),b=n(1715);n(1716),t.MailWidgetClass=u.cn("MailWidget");const _=e=>e<100?`${e}`:"99+",O=e=>{if("none"===e.recipient.type)return s.default.createElement("div",{className:t.MailWidgetClass("Avatar",{type:"monogram"}),style:{background:e.recipient.color}},e.recipient.mono);const n="icon"===e.recipient.type?`//yastatic.net/mail/socialavatars/socialavatars/v4/${e.recipient.url}.svg`:e.recipient.url;return s.default.createElement("div",{className:t.MailWidgetClass("Avatar",{type:"image"}),style:{backgroundImage:`url(${n}`}})},w=e=>s.default.createElement("div",{className:t.MailWidgetClass("AvatarList")},e.recipients.map(e=>s.default.createElement(O,{key:(e=>`${e.displayName} <${e.local}@${e.domain}>`)(e),recipient:e}))),E=({recipients:e,fresh:n,onOpenUnread:r})=>{const{getI18n:i,links:o,uid:a}=s.useContext(l.AppContext);return s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:t.MailWidgetClass("ContentContainer")},s.default.createElement(w,{recipients:e}),s.default.createElement("p",{className:t.MailWidgetClass("Title")},i("unreadMails",{count:n>99?99:n,formatted:_(n)})),s.default.createElement("p",{className:t.MailWidgetClass("RecipientList")},e.map(e=>e.displayName).join(", "))),s.default.createElement(p.default,{url:`${o.Mail}?uid=${a}#unread`,text:i("showMails"),onClick:r}))},S=d.connect(e=>{const t={recipients:e.mailWidget.recipients};return null!==e.mailWidget.counters&&(t.fresh=e.mailWidget.counters.fresh),t})(e=>{const{getI18n:n,isExpanded:r,links:i,uid:o}=s.useContext(l.AppContext),a=s.useContext(c.MetricContext),u=s.useMemo(()=>Object.values(e.recipients),[e.recipients]),d=Boolean(e.fresh),O=`${i.Mail}/compose?uid=${o}`;s.useEffect(()=>{a("Show widget")},[]);const w=s.useCallback(()=>{a("Compose")},[a]),S=s.useCallback(()=>{a("Title click")},[a]),C=s.useCallback(()=>{a("Open unread")},[a]);if(r){const r={title:s.default.createElement(g.WidgetTitle,{url:`${i.Mail}?uid=${o}`,onClick:S},n("mail"))};return d&&(r.action=s.default.createElement(m.default,{icon:m.ACTION_ICONS.PLUS,href:O,onClick:w})),s.default.createElement(f.ExpandedWidgetContainer,{className:t.MailWidgetClass()},s.default.createElement(v.WidgetHeader,Object.assign({},r)),d&&"number"==typeof e.fresh?s.default.createElement(E,{recipients:u,fresh:e.fresh,onOpenUnread:C}):s.default.createElement(p.default,{url:O,text:n("writeMail"),onClick:w,iconLeft:e=>s.default.createElement(b.WriteIcon,{className:e})}))}return s.default.createElement(f.CollapsedWidgetContainer,{className:t.MailWidgetClass({withCounter:d})},s.default.createElement(h.default,{href:`${i.Mail}?uid=${o}#unread`,target:"_blank",title:n("showUnreadMails"),onClick:C,theme:"ghost",className:y.collapsedLinkClassName},s.default.createElement(y.CollapsedIcon,{icon:y.CollapsedIcons.Mail}),d&&"number"==typeof e.fresh&&s.default.createElement("span",{className:t.MailWidgetClass("Counter")},_(e.fresh))))});t.MailWidget=S}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WriteIcon=void 0;const i=r(n(0)),o=n(84);t.WriteIcon=(({width:e=17,height:t=16,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{d:"M14.5 7.99715C15.0523 7.99715 15.5 8.44487 15.5 8.99715V13.4972C15.5 14.3256 14.8284 14.9972 14 14.9972H3C2.17157 14.9972 1.5 14.3256 1.5 13.4972V2.49715C1.5 1.66872 2.17157 0.997151 3 0.997151H7.5C8.05228 0.997151 8.5 1.44487 8.5 1.99715C8.5 2.54944 8.05228 2.99715 7.5 2.99715H3.5V12.9972H13.5V8.99715C13.5 8.44487 13.9477 7.99715 14.5 7.99715ZM6.63193 10.3271C6.45514 10.4052 6.24845 10.3253 6.17027 10.1485C6.1304 10.0584 6.1304 9.95557 6.17027 9.86541L6.87903 8.26277C6.98389 8.02565 7.13176 7.80999 7.31516 7.62672L14.1927 0.753665C14.6224 0.3242 15.3189 0.324314 15.7485 0.753918C16.178 1.18337 16.178 1.87964 15.7485 2.30909L8.87027 9.18287C8.6872 9.36583 8.47189 9.51336 8.23519 9.61804L6.63193 10.3271Z",fill:"currentColor"}))))}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const a=o(n(0)),s=n(1718),u=n(493),c=n(19);t.default=c.connect(e=>({showPromo:u.showPromo(e)}))(({showPromo:e,onPromo:t})=>{a.useEffect(()=>{t&&t(e)},[e,t]);const[n,r]=a.useState(!1),i=a.useCallback(()=>{r(!0)},[r]);return e&&!n?a.default.createElement(s.PromoWidget,{onClose:i}):null})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromoWidget=t.PromoWidgetClass=void 0;const s=o(n(0)),u=n(28),c=n(136),l=n(155),d=n(193),f=n(1719),h=a(n(494));n(1720);const p=n(217),m=o(n(277));t.PromoWidgetClass=u.cn("PromoWidget"),t.PromoWidget=(({onClose:e})=>{const{isExpanded:n,setDatasyncData:r,getI18n:i}=s.useContext(c.AppContext),o=s.useContext(l.MetricContext),[a,u]=s.useState(!1),[v,g]=s.useState(!1),[y,b]=s.useState(!1);s.useEffect(()=>{o("Show widget"),r("widgetsPromoShown",String(Date.now()))},[o,r]),s.useEffect(()=>{n&&!v&&setTimeout(()=>{u(!0),g(!0)},0)},[v,n]);const _=s.useCallback(()=>{b(!0)},[b]),O=s.useCallback(()=>{o("Close widget"),e()},[e,o]);return n?s.default.createElement(d.ExpandedWidgetContainer,{className:t.PromoWidgetClass({isExpandedContainer:a})},s.default.createElement(p.WidgetHeader,{action:s.default.createElement(m.default,{icon:m.ACTION_ICONS.CLOSE,className:t.PromoWidgetClass("CloseButton",{visible:y}),onClick:O}),className:t.PromoWidgetClass("Header")}),s.default.createElement("div",{className:t.PromoWidgetClass("Container")},s.default.createElement("div",{className:t.PromoWidgetClass("IconContainer")},s.default.createElement(f.InfoIcon,{outerCircleClassName:t.PromoWidgetClass("Icon",{isExpandedContainer:a}),onOuterCircleAnimationEnd:_})),s.default.createElement(h.default,{className:t.PromoWidgetClass("Text")},i("promoText")))):null})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InfoIcon=void 0;const i=r(n(0)),o=n(84);t.InfoIcon=(({width:e=16,height:t=16,className:n,outerCircleClassName:r,onOuterCircleAnimationEnd:a})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("circle",{cx:"10.5545",cy:"10.5553",r:"5.37563",fill:"transparent"}),i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.8579 3.88056C15.6798 5.24883 16.0706 6.82637 15.9896 8.40903C15.9681 8.82884 15.5774 9.11653 15.1616 9.05525C14.746 8.99403 14.4632 8.60734 14.4752 8.18751C14.477 8.12523 14.4778 8.06273 14.4778 8.00001C14.4778 4.42331 11.5784 1.52383 8.00166 1.52383C4.42496 1.52383 1.52547 4.42331 1.52547 8.00001C1.52547 11.5767 4.42496 14.4762 8.00166 14.4762C9.17624 14.4762 10.2778 14.1635 11.2276 13.6168C11.592 13.4071 12.0671 13.4728 12.3179 13.8103C12.5686 14.1476 12.4999 14.6278 12.1403 14.8453C10.7843 15.6655 9.20953 16.0675 7.61518 15.9907C5.76648 15.9017 4.00585 15.1744 2.63327 13.9328C1.26068 12.6912 0.361081 11.012 0.0877395 9.18148C-0.185602 7.35093 0.18423 5.48224 1.13422 3.8938C2.08421 2.30536 3.55558 1.09546 5.29763 0.470252C7.03967 -0.15496 8.94461 -0.156798 10.6879 0.46505C12.4311 1.0869 13.9048 2.29396 14.8579 3.88056Z",fill:"url(#paint0_linear_476_116578)",className:r,onAnimationEnd:a}),i.default.createElement("circle",{cx:"8.00028",cy:"7.99982",r:"6.47619",transform:"rotate(-175.196 8.00028 7.99982)",fill:"transparent"}),i.default.createElement("path",{d:"M7.59472 12.2919C6.7714 12.2919 6.50105 11.7881 6.50105 11.3211C6.50105 11.1245 6.56249 10.8296 6.61165 10.6576L7.47184 6.95345H6.67567C6.43865 6.95345 6.26346 6.73265 6.31733 6.50184C6.35082 6.35836 6.46666 6.2487 6.61175 6.22311L8.20389 5.94228C8.78651 5.83952 9.28341 6.36782 9.14518 6.94307L8.14034 11.1246C8.12324 11.1958 8.15937 11.269 8.22623 11.2987C8.2887 11.3265 8.36203 11.309 8.4053 11.2561L9.34076 10.1116C9.4241 10.0097 9.57076 9.98665 9.68132 10.0582C9.80372 10.1374 9.83644 10.3021 9.7536 10.4221L9.19221 11.2351C8.60237 12.0953 8.06168 12.2919 7.59472 12.2919Z",fill:"#FF0000"}),i.default.createElement("path",{d:"M7.59472 12.2919C6.7714 12.2919 6.50105 11.7881 6.50105 11.3211C6.50105 11.1245 6.56249 10.8296 6.61165 10.6576L7.47184 6.95345H6.67567C6.43865 6.95345 6.26346 6.73265 6.31733 6.50184C6.35082 6.35836 6.46666 6.2487 6.61175 6.22311L8.20389 5.94228C8.78651 5.83952 9.28341 6.36782 9.14518 6.94307L8.14034 11.1246C8.12324 11.1958 8.15937 11.269 8.22623 11.2987C8.2887 11.3265 8.36203 11.309 8.4053 11.2561L9.34076 10.1116C9.4241 10.0097 9.57076 9.98665 9.68132 10.0582C9.80372 10.1374 9.83644 10.3021 9.7536 10.4221L9.19221 11.2351C8.60237 12.0953 8.06168 12.2919 7.59472 12.2919Z",fill:"url(#paint1_linear_476_116578)"}),i.default.createElement("path",{d:"M8.75073 5.12109C8.18547 5.12109 7.86597 4.77702 7.86597 4.3715C7.86597 4.28548 7.87826 4.17489 7.90283 4.07658C8.02572 3.58504 8.44352 3.27783 8.98421 3.27783C9.54948 3.27783 9.86898 3.62191 9.86898 4.02742C9.86898 4.11344 9.85669 4.22404 9.83211 4.32235C9.70923 4.81388 9.30371 5.12109 8.75073 5.12109Z",fill:"#FF0000"}),i.default.createElement("path",{d:"M8.75073 5.12109C8.18547 5.12109 7.86597 4.77702 7.86597 4.3715C7.86597 4.28548 7.87826 4.17489 7.90283 4.07658C8.02572 3.58504 8.44352 3.27783 8.98421 3.27783C9.54948 3.27783 9.86898 3.62191 9.86898 4.02742C9.86898 4.11344 9.85669 4.22404 9.83211 4.32235C9.70923 4.81388 9.30371 5.12109 8.75073 5.12109Z",fill:"url(#paint2_linear_476_116578)"}),i.default.createElement("defs",null,i.default.createElement("linearGradient",{id:"paint0_linear_476_116578",x1:"7.9747",y1:"0",x2:"7.9747",y2:"16",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{offset:"0.346995",stopColor:"#58C800"}),i.default.createElement("stop",{offset:"1",stopColor:"#00B649"})),i.default.createElement("linearGradient",{id:"paint1_linear_476_116578",x1:"8.03182",y1:"5.82502",x2:"8.03182",y2:"12.2921",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{offset:"0.346995",stopColor:"#58C800"}),i.default.createElement("stop",{offset:"1",stopColor:"#00B649"})),i.default.createElement("linearGradient",{id:"paint2_linear_476_116578",x1:"8.86549",y1:"3.27783",x2:"8.86549",y2:"5.12109",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{offset:"0.346995",stopColor:"#58C800"}),i.default.createElement("stop",{offset:"1",stopColor:"#00B649"}))))))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SpaceWidget=void 0;const s=o(n(0)),u=n(19),c=n(155),l=n(136),d=n(193),f=o(n(277)),h=n(217),p=n(492),m=n(1723),v=n(1725),g=n(496),y=a(n(392)),b=n(1728);n(1729);const _=n(1730),O=n(1731),w=u.connect(e=>Object.assign(Object.assign({},e.spaceWidget),{upgradeValue:p.selectUpgradeValue(e)}))(({spaceLimit:e,usedSpace:t,attachSize:n,diskSize:r,attachPath:i,upgradeValue:o})=>{const{isExpanded:a,links:u,onToggle:p,getI18n:w}=s.useContext(l.AppContext),E=s.useContext(c.MetricContext);s.useEffect(()=>{E("Show widget")},[]);const S=s.useMemo(()=>new b.SpaceFormatter(e,w("diskSpaceUnits").split("|"),w("numberSeparator")),[w,e]),C=s.useCallback(()=>{E("Widget click"),p(!a)},[a,p,E]);let x=t/e*100;x<0?x=0:x>100&&(x=100);let k=m.SpaceBarView.normal;x>=90?k=m.SpaceBarView.danger:x>=75&&(k=m.SpaceBarView.warning);const T=S.getValueWithUnit(t),j=w("spaceWidgetTitle",{used:S.getValue(t),limit:S.getValueWithUnit(e,0)}),[R,P]=s.useState(!1),D=s.useCallback(()=>P(e=>!e),[]),I=R?f.ACTION_ICONS.UP:f.ACTION_ICONS.DOWN,A=`${u.Disk}/client/disk`,M=`${u.Disk}/client${i}`,N=r-n;return a?s.default.createElement(d.ExpandedWidgetContainer,{className:g.SpaceWidgetClass()},s.default.createElement(h.WidgetHeader,{title:s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:g.SpaceWidgetClass("ExpandedLabel")},j),s.default.createElement(m.SpaceBar,{value:x,view:k})),action:s.default.createElement(f.default,{icon:I,onClick:D})}),R&&s.default.createElement(s.default.Fragment,null,s.default.createElement(v.ListItem,{size:S.getValueWithUnit(N),icon:s.default.createElement(_.FileIcon,null),href:A},w("spaceWidgetFiles")),s.default.createElement(v.ListItem,{size:S.getValueWithUnit(n),icon:s.default.createElement(O.FolderIcon,null),href:M},w("spaceWidgetAttachments")),s.default.createElement(y.default,{url:u.Pro,text:w("spaceWidgetButton",{value:o}),className:g.SpaceWidgetClass("Button",{danger:k===m.SpaceBarView.danger})}))):s.default.createElement(d.CollapsedWidgetContainer,{className:g.SpaceWidgetClass()},s.default.createElement("div",{className:g.SpaceWidgetClass("Collapsed"),onClick:C},s.default.createElement(m.SpaceBar,{value:x,view:k}),s.default.createElement("div",{className:g.SpaceWidgetClass("CollapsedLabel")},T)))});t.SpaceWidget=w}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SpaceBar=t.SpaceBarView=void 0;const i=r(n(0)),o=n(496);var a;n(1724),(function(e){e.normal="normal",e.warning="warning",e.danger="danger"})(a=t.SpaceBarView||(t.SpaceBarView={})),t.SpaceBar=(({value:e,view:t=a.normal})=>i.default.createElement("div",{className:o.SpaceWidgetClass("Bar")},Boolean(e)&&i.default.createElement("div",{className:o.SpaceWidgetClass("Indicator",{[t]:!0}),style:{width:`${e}%`}})))}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ListItem=void 0;const i=r(n(0)),o=r(n(173)),a=n(496),s=n(1726);n(1727),t.ListItem=(({href:e,icon:t,children:n,size:r})=>i.default.createElement(o.default,{theme:"black",href:e,className:a.ListItemClass()},i.default.createElement("div",{className:a.ListItemClass("Icon")},t),i.default.createElement("div",{className:a.ListItemClass("Label")},n),i.default.createElement("div",{className:a.ListItemClass("Size")},r),i.default.createElement("div",{className:a.ListItemClass("Chevron")},i.default.createElement(s.ChevronRightIcon,null))))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChevronRightIcon=void 0;const i=r(n(0)),o=n(84);t.ChevronRightIcon=(({width:e=12,height:t=12,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{d:"M4.29436 2.29289C3.90383 2.68342 3.90383 3.31658 4.29436 3.70711L6.58725 6L4.29436 8.29289C3.90383 8.68342 3.90383 9.31658 4.29436 9.70711C4.68488 10.0976 5.31805 10.0976 5.70857 9.70711L8.70857 6.70711C9.0991 6.31658 9.0991 5.68342 8.70857 5.29289L5.70857 2.29289C5.31805 1.90237 4.68488 1.90237 4.29436 2.29289Z",fill:"currentColor"}))))}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpaceFormatter=void 0;const r=1073741824,i=[1,1024,1048576,r,1099511627776],o=e=>{for(let t=i.length;t>=0;t--)if(e>=i[t])return t;return 0};t.SpaceFormatter=class{constructor(e,t,n){this.separator=n;const r=o(e);this.base=i[r],this.unit=t[r]}getValue(e,t=2){let n=(e/this.base).toFixed(t);return e&&/0\.0+$/.test(n)&&(n=n.replace(/0$/,"1")),n.replace(".",this.separator)}getValueWithUnit(e,t=2){return`${this.getValue(e,t)} ${this.unit}`}}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FileIcon=void 0;const i=r(n(0)),o=n(84);t.FileIcon=(({width:e=16,height:t=16,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{d:"M3.5 0C2.67157 0 2 0.671573 2 1.5V14.5C2 15.3284 2.67157 16 3.5 16H12.5C13.3284 16 14 15.3284 14\n            14.5V5.94975C14 5.02149 13.6313 4.13125 12.9749 3.47487L10.5251 1.02513C9.86875 0.368749 8.97851\n            0 8.05025 0H3.5ZM7 2.5C7 2.22386 7.22386 2 7.5 2H8.05025C8.44808 2 8.82961 2.15804 9.11091\n            2.43934L11.5607 4.88909C11.842 5.17039 12 5.55192 12 5.94975V6.5C12 6.77614 11.7761 7 11.5 7H8C7.44772\n            7 7 6.55228 7 6V2.5Z",fill:"currentColor"}))))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FolderIcon=void 0;const i=r(n(0)),o=n(84);t.FolderIcon=(({width:e=16,height:t=16,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{d:"M0 2.5C0 1.67157 0.671573 1 1.5 1L5.5 1C6.12951 1 6.72229 1.29639 7.1 1.8L8 3H14.5C15.3284 3\n                16 3.67157 16 4.5V12.5C16 13.3284 15.3284 14 14.5 14H1.5C0.671573 14 0 13.3284 0 12.5L0 2.5Z",fill:"currentColor"}))))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(642);o.setTankerProjectId("mail-liza"),o.addTranslation("ru",n(1734));const a=(e,t)=>o.i18n("ru","ps-sidebar",e,t);t.default=function(e){return class extends i.default.PureComponent{render(){return i.default.createElement(e,Object.assign({},this.props,{getI18n:a}))}}}}),(function(e,t,n){"use strict";var r=n(0),i=n(643);function o(e,t,n){var i="string"==typeof e?r.createElement:r.cloneElement;return n?i(e,t,n):i(e,t)}var a={"&nbsp;":String.fromCharCode(160),"&mdash;":String.fromCharCode(8212),"&#8209;":String.fromCharCode(8209)},s=Object.keys(a).join("|");function u(e){var t=new RegExp("(?:"+s+")","g");return e.replace(t,(function(e){return a[e]}))}e.exports=function(e){var t=i.getKey(e.lang,e.keyset,e.loc,e),n={};r.Children.forEach(e.children,(function(e){var t=e.props["data-ref"]||e.ref;"string"==typeof t&&(n[t]=e)}));var a=(function e(t,n,r){for(var i=/<(x-([\w-]+)|br)(?:(?:\/>)|>(.*?)<\/\1>)/g,a=[],s=void 0,c=0;s=i.exec(r);){s.index>c&&a.push(u(r.slice(c,s.index))),c=i.lastIndex;var l=s[1],d=s[2],f=s[3],h=d?n[d]:l;if(!h)throw console.error("LOC keyset `%s` key `%s` child `%s` not found",t.keyset,t.loc,d),"LOC child "+d+" not found";var p=f?e(t,n,f):null;a.push(o(h,{key:c},p))}return c<r.length&&a.push(u(r.slice(c))),a})(e,n,t);if(!e.tag&&1===a.length&&r.isValidElement(a[0]))return a[0];var s=e.tag||"span",c=e.className?{className:e.className}:null;return r.createElement(s,c,a)}}),(function(e,t,n){(function(e){!(function(){var t;(t=t||{})["mail-liza"]=t["mail-liza"]||{},t["mail-liza"]["ps-sidebar"]={copied:function(e){return"Скопировано"},copyLink:function(e){return"Скопировать ссылку"},create:function(e){return"Создать"},createDocument:function(e){return"Создать документ"},createNote:function(e){return"Создать заметку"},createVideoMeeting:function(e){return"Создать видеовстречу"},disk:function(e){return"Диск"},diskSpaceUnits:function(e){return"байт|Кб|Мб|Гб|Тб"},docxButton:function(e){return"Документ"},docxButtonHover:function(e){return"Создать документ"},downloadFile:function(e){return"Скачать файл"},emptyNote:function(e){return"Без названия"},longDate:function(e){return t.tanker.days.name({day:e.dayOfWeek})+", "+e.dayOfMonth+" "+t.tanker.months.name({month:e.month,case:"g",lowercase:"1"})},mail:function(e){return"Почта"},noMessages:function(e){return"У вас нет новых писем"},notes:function(e){return"Заметки"},numberSeparator:function(e){return","},pptxButton:function(e){return"Презентацию"},pptxButtonHover:function(e){return"Создать презентацию"},promoText:function(e){return"Теперь здесь виджеты! С ними легко создавать встречи, писать заметки и просматривать документы"},shortDate:function(e){return t.tanker.days.name({day:e.dayOfWeek,short:"1"})},showLess:function(e){return"Скрыть"},showMails:function(e){return"Читать"},showMore:function(e){return"Показать все"},showUnreadMails:function(e){return"Показать непрочитанные"},sidebarTelemost:function(e){return"Телемост"},spaceWidgetAttachments:function(e){return"Почтовые вложения"},spaceWidgetButton:function(e){return"Увеличить до "+e.value},spaceWidgetFiles:function(e){return"Файлы"},spaceWidgetTitle:function(e){return"Место "+e.used+" / "+e.limit},unreadMails:function(e){return t.tanker.dynamic.plural_adv({count:e.count,one:"У вас новое письмо",some:"У вас "+e.formatted+" новых письма",many:"У вас "+e.formatted+" новых писем",none:""})},writeMail:function(e){return"Написать письмо"},xlsxButton:function(e){return"Таблицу"},xlsxButtonHover:function(e){return"Создать таблицу"}},(t=t||{}).tanker=t.tanker||{},t.tanker.days={acc1:function(e){return"в понедельник"},acc2:function(e){return"во вторник"},acc3:function(e){return"в среду"},acc4:function(e){return"в четверг"},acc5:function(e){return"в пятницу"},acc6:function(e){return"в субботу"},acc7:function(e){return"в воскресенье"},n1:function(e){return"понедельник"},n2:function(e){return"вторник"},n3:function(e){return"среда"},n4:function(e){return"четверг"},n5:function(e){return"пятница"},n6:function(e){return"суббота"},n7:function(e){return"воскресенье"},name:function(e){return (function(e){return t.tanker.days[(e.short?"short":"n")+e.day]()})(e)},short1:function(e){return"пн"},short2:function(e){return"вт"},short3:function(e){return"ср"},short4:function(e){return"чт"},short5:function(e){return"пт"},short6:function(e){return"сб"},short7:function(e){return"вс"},today:function(e){return"сегодня"},tomorrow:function(e){return"завтра"},yesterday:function(e){return"вчера"}},(t=t||{}).tanker=t.tanker||{},t.tanker.dynamic={gender:function(e){return (function(e){return e[e.gender]})(e)},plural:function(e){return (function(e){var t=isNaN(parseInt(e.count))?0:e.count,n=t%10,r=t%100;return 1==n&&11!=r?e.one:n>1&&n<5&&(r<10||r>20)?e.some:e.many})(e)},plural_adv:function(e){return (function(e){return 0===(isNaN(parseInt(e.count))?0:e.count)?e.none:t.tanker.dynamic.plural({count:e.count,one:e.one,some:e.some,many:e.many})})(e)},toggle:function(e){return (function(e){return Boolean(e.condition)?e.true:e.false})(e)}},(t=t||{}).tanker=t.tanker||{},t.tanker.months={g1:function(e){return"Января"},g10:function(e){return"Октября"},g11:function(e){return"Ноября"},g12:function(e){return"Декабря"},g2:function(e){return"Февраля"},g3:function(e){return"Марта"},g4:function(e){return"Апреля"},g5:function(e){return"Мая"},g6:function(e){return"Июня"},g7:function(e){return"Июля"},g8:function(e){return"Августа"},g9:function(e){return"Сентября"},n1:function(e){return"Январь"},n10:function(e){return"Октябрь"},n11:function(e){return"Ноябрь"},n12:function(e){return"Декабрь"},n2:function(e){return"Февраль"},n3:function(e){return"Март"},n4:function(e){return"Апрель"},n5:function(e){return"Май"},n6:function(e){return"Июнь"},n7:function(e){return"Июль"},n8:function(e){return"Август"},n9:function(e){return"Сентябрь"},name:function(e){return (function(e){var n=t.tanker.months[(e.case||"n")+e.month]();return Boolean(e.lowercase)?n.toLowerCase():n})(e)},short1:function(e){return"янв"},short10:function(e){return"окт"},short11:function(e){return"ноя"},short12:function(e){return"дек"},short2:function(e){return"фев"},short3:function(e){return"мар"},short4:function(e){return"апр"},short5:function(e){return"май"},short6:function(e){return"июн"},short7:function(e){return"июл"},short8:function(e){return"авг"},short9:function(e){return"сен"}},e&&e.exports?e.exports=t:(window.i18n=window.i18n||{},window.i18n.ru=t)})()}).call(this,n(145)(e))}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PSSidebarContainer=t.sidebarClass=void 0;const a=o(n(0)),s=n(302),u=n(28),c=n(115),l=n(1736),d=n(497),f=n(394);n(1737);const h=n(644),p=n(645);t.sidebarClass=u.cn("PSSidebarContainer"),t.PSSidebarContainer=(({theme:e,isDark:n,children:r,className:i,containerRef:o,platform:u=f.Platform.WEB})=>{const m=a.useRef(null),v=p.getIsMobile(u),g=o||m;return a.default.createElement(d.ThemeContext.Provider,{value:{theme:e,isDark:n}},a.default.createElement(h.PlatformContext.Provider,{value:u},a.default.createElement("div",{className:c.classnames(t.sidebarClass({isMobile:v}),s.cnTheme(e),i),ref:g},a.default.createElement(l.SidebarContext.Provider,{value:g},r))))})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SidebarContext=void 0;const r=n(0);t.SidebarContext=r.createContext({current:null})}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PSSidebarPlaceholder=t.Placeholder=t.placeholderClass=void 0;const s=o(n(0)),u=n(646),c=a(n(1739)),l=n(28);n(1753);const d=n(647),f=n(649),h=n(648);t.placeholderClass=l.cn("SidebarPlaceholder"),t.Placeholder=(({isExpanded:e})=>{const n=e?["l","m","s"]:["s","l","s"];return s.default.createElement(s.default.Fragment,null,n.map((n,r)=>s.default.createElement("div",{key:`${n}-${r}`,className:t.placeholderClass("Item",{size:n,isExpanded:e})})))}),t.PSSidebarPlaceholder=(({sendMetric:e,isExpanded:n,expandedUpdateTimestamp:r,getI18n:i,timeZone:o,onToggle:a})=>{const l=s.useCallback(({event:t,payload:r})=>{e({event:t,payload:Object.assign(Object.assign({},r),{expandedPanel:n})})},[e,n]),p=s.useMemo(()=>({isExpanded:n,expandedUpdateTimestamp:r,onToggle:a}),[n,r,a]);return s.default.createElement(s.default.Fragment,null,s.default.createElement(d.LangContext.Provider,{value:i},s.default.createElement(f.TimezoneContext.Provider,{value:o},s.default.createElement(h.ExpandContext.Provider,{value:p},s.default.createElement(u.MetricContext.Provider,{value:l},s.default.createElement(c.default,null))))),s.default.createElement(t.Placeholder,{isExpanded:n}))})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.toggleWidgetClass=void 0;const s=o(n(0)),u=a(n(1740)),c=n(115),l=n(28),d=n(1741),f=a(n(1747)),h=n(1748),p=n(646),m=n(1749),v=n(647),g=n(648),y=n(649),b=n(650);let _;n(1752),t.toggleWidgetClass=l.cn("ToggleWidget");const O=(e,t)=>{_&&window.clearTimeout(_);const n=h.getDateInTZ(t),r=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1),i=Number(r)-Number(n);_=window.setTimeout(()=>{e(),O(e,t)},i)};t.default=(()=>{const e=s.useContext(y.TimezoneContext),n=s.useContext(v.LangContext),{isExpanded:r,onToggle:i}=s.useContext(g.ExpandContext),[o,a]=s.useState(h.getAdjustedDayOfWeek(e)),[l,w]=s.useState(h.getDayOfMonth(e)),[E,S]=s.useState(h.getAdjustedMonth(e));s.useEffect(()=>{const t=()=>{a(h.getAdjustedDayOfWeek(e)),w(h.getDayOfMonth(e)),S(h.getAdjustedMonth(e))};O(t,e);const n=()=>{t(),O(t,e)};return window.addEventListener("focus",n),()=>{window.clearTimeout(_),window.removeEventListener("focus",n)}},[e,o,a,w,l,E,S]);const C=s.useContext(p.MetricContext),x=s.useCallback(()=>{C({event:b.MetricEvents.ToggleWidgetsExpand}),i(!r)},[r,i,C]),k=s.useCallback(()=>{C({event:b.MetricEvents.ToggleWidgetsFold}),i(!r)},[r,i,C]);return r?s.default.createElement("div",{className:c.classnames(t.toggleWidgetClass(),t.toggleWidgetClass("ExpandedContainer"))},s.default.createElement("div",{className:t.toggleWidgetClass("Button"),onClick:k},s.default.createElement(f.default,{view:"raised",size:"s",pin:"circle-circle",icon:e=>s.default.createElement(m.ToggleIcon,{className:c.classnames(e,t.toggleWidgetClass("CollapseIcon"))})})),s.default.createElement(u.default,{className:t.toggleWidgetClass("ExpandedTitle"),weight:"bold"},n("longDate",{dayOfWeek:o,dayOfMonth:l,month:E}))):s.default.createElement(d.CollapsedWidgetContainer,{className:t.toggleWidgetClass()},s.default.createElement("div",{className:t.toggleWidgetClass("Button"),onClick:x},s.default.createElement(f.default,{view:"raised",size:"s",pin:"circle-circle",icon:e=>s.default.createElement(m.ToggleIcon,{className:c.classnames(e,t.toggleWidgetClass("ExpandIcon"))})})),s.default.createElement("div",{className:t.toggleWidgetClass("CollapsedTitle")},s.default.createElement(u.default,{weight:"bold",className:t.toggleWidgetClass("DayOfMonth")},l),s.default.createElement("div",{className:t.toggleWidgetClass("ShortDayOfWeek")},n("shortDate",{dayOfWeek:o}))))})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),i=n(655),o=r.compose(r.composeU(i.withWeightBold,i.withWeightMedium),r.composeU(i.withTypographyDisplayM,i.withTypographyDisplayL,i.withTypographyCaptionM,i.withTypographySubheaderS,i.withTypographyBodyShortL,i.withTypographyBodyShortM))(i.Text);t.default=o}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.expandedWidgetContainerClass=t.collapsedWidgetContainerClass=t.ExpandedWidgetContainer=t.CollapsedWidgetContainer=void 0;const a=o(n(1742));t.CollapsedWidgetContainer=a.default,Object.defineProperty(t,"collapsedWidgetContainerClass",{enumerable:!0,get:function(){return a.collapsedWidgetContainerClass}});const s=o(n(1744));t.ExpandedWidgetContainer=s.default,Object.defineProperty(t,"expandedWidgetContainerClass",{enumerable:!0,get:function(){return s.expandedWidgetContainerClass}})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.collapsedWidgetContainerClass=void 0;const a=o(n(0)),s=n(115),u=n(28),c=n(497);t.collapsedWidgetContainerClass=u.cn("CollapsedWidgetContainer"),n(1743);t.default=(({children:e,className:n})=>{const{isDark:r}=a.useContext(c.ThemeContext);return a.default.createElement("div",{className:s.classnames(t.collapsedWidgetContainerClass({isDark:r}),n)},e)})}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.expandedWidgetContainerClass=void 0;const s=o(n(0)),u=n(28),c=n(115),l=n(1745);t.expandedWidgetContainerClass=u.cn("ExpandedWidgetContainer"),n(1746);const d=n(497);t.default=(e=>{var{className:n,containerRef:r,children:i}=e,o=a(e,["className","containerRef","children"]);const{isMobile:u}=l.usePlatform(),{isDark:f}=s.useContext(d.ThemeContext);return s.default.createElement("div",Object.assign({},o,{className:c.classnames(t.expandedWidgetContainerClass({isMobile:u,isDark:f}),n),ref:r}),i)})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePlatform=void 0;const r=n(0),i=n(644),o=n(645);t.usePlatform=(()=>{const e=r.useContext(i.PlatformContext);return{isMobile:o.getIsMobile(e),platform:e}})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),i=n(109),o=r.compose(r.composeU(i.withSizeS,i.withSizeM),r.composeU(i.withViewAction,i.withViewRaised,i.withViewDefault),r.composeU(i.withPinCircleCircle),i.withWidthMax,i.withTypeLink)(i.Button);t.default=o}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAdjustedDayOfWeek=t.getAdjustedMonth=t.getDayOfMonth=t.getDateInTZ=void 0;const r=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})([+-](\d{2}):(\d{2}))?$/;t.getDateInTZ=(e=>{try{const t=(()=>{let e=new URLSearchParams(document.location.search).get("debugClientPromoDate");return e?(e=e.replace(" ","+"),r.test(e)?e:null):null})();return new Date(t||(new Date).toLocaleString("en-US",{timeZone:e}))}catch(e){return new Date}}),t.getDayOfMonth=(e=>t.getDateInTZ(e).getDate()),t.getAdjustedMonth=(e=>t.getDateInTZ(e).getMonth()+1),t.getAdjustedDayOfWeek=(e=>(t.getDateInTZ(e).getDay()+6)%7+1)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleIcon=void 0;const i=r(n(0)),o=n(1750);t.ToggleIcon=(({width:e=16,height:t=16,className:n})=>i.default.createElement("div",{className:n},i.default.createElement("svg",{width:e,height:t,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o.widgetIconClass()},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.32992 1.05053C7.93936 0.660239 7.30624 0.660207 6.91581 1.05063L2.67278 5.29367C2.28225 5.6842 2.28225 6.31736 2.67278 6.70788L6.91581 10.9509C7.30624 11.3413 7.93936 11.3413 8.32992 10.951C8.72068 10.5605 8.72094 9.92704 8.33031 9.53642L4.79467 6.00078L8.33031 2.46513C8.72093 2.07451 8.72068 1.44101 8.32992 1.05053Z",fill:"currentColor"}))))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.widgetIconClass=void 0;const r=n(28);n(1751),t.widgetIconClass=r.cn("WidgetIcon")}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getI18n=void 0;const r=n(642);r.setTankerProjectId("mail-liza"),r.addTranslation("ru",n(1755)),t.getI18n=((e,t)=>r.i18n("ru","ps-sidebar",e,t))}),(function(e,t,n){(function(e){!(function(){var t;(t=t||{})["mail-liza"]=t["mail-liza"]||{},t["mail-liza"]["ps-sidebar"]={copied:function(e){return"Скопировано"},copyLink:function(e){return"Скопировать ссылку"},create:function(e){return"Создать"},createDocument:function(e){return"Создать документ"},createNote:function(e){return"Создать заметку"},createVideoMeeting:function(e){return"Создать видеовстречу"},disk:function(e){return"Диск"},diskSpaceUnits:function(e){return"байт|Кб|Мб|Гб|Тб"},docxButton:function(e){return"Документ"},docxButtonHover:function(e){return"Создать документ"},downloadFile:function(e){return"Скачать файл"},emptyNote:function(e){return"Без названия"},longDate:function(e){return t.tanker.days.name({day:e.dayOfWeek})+", "+e.dayOfMonth+" "+t.tanker.months.name({month:e.month,case:"g",lowercase:"1"})},mail:function(e){return"Почта"},memories:function(e){return"Воспоминания"},noMessages:function(e){return"У вас нет новых писем"},notes:function(e){return"Заметки"},numberSeparator:function(e){return","},pptxButton:function(e){return"Презентацию"},pptxButtonHover:function(e){return"Создать презентацию"},promoText:function(e){return"Теперь здесь виджеты! С ними легко создавать встречи, писать заметки и просматривать документы"},serviceCalendar:function(e){return"Календарь"},serviceContacts:function(e){return"Контакты"},serviceDisk:function(e){return"Диск"},serviceDocs:function(e){return"Документы"},serviceMail:function(e){return"Почта"},serviceNotes:function(e){return"Заметки"},servicePro:function(e){return"Подписка"},serviceQ:function(e){return"Мессенджер"},serviceScanner:function(e){return"Сканер"},serviceTelemost:function(e){return"Телемост"},shortDate:function(e){return t.tanker.days.name({day:e.dayOfWeek,short:"1"})},showLess:function(e){return"Скрыть"},showMails:function(e){return"Читать"},showMore:function(e){return"Показать все"},showUnreadMails:function(e){return"Показать непрочитанные"},sidebarStories:function(e){return"Что умеет Почта"},sidebarTelemost:function(e){return"Телемост"},spaceWidgetAttachments:function(e){return"Почтовые вложения"},spaceWidgetButton:function(e){return e.value+" за "+e.price+" рублей"},spaceWidgetButtonPaid:function(e){return"Добавить место"},spaceWidgetFiles:function(e){return"Файлы"},spaceWidgetPromoText:function(e){return"Используйте "+e.limit+" для файлов и почтовых вложений"},spaceWidgetTitle:function(e){return"Место"},spaceWidgetTitleSpaceOver:function(e){return"Место закончилось"},spaceWidgetUsed:function(e){return e.used+" из "+e.limit},unreadMails:function(e){return t.tanker.dynamic.plural_adv({count:e.count,one:"У вас новое письмо",some:"У вас "+e.formatted+" новых письма",many:"У вас "+e.formatted+" новых писем",none:""})},writeMail:function(e){return"Написать письмо"},xlsxButton:function(e){return"Таблицу"},xlsxButtonHover:function(e){return"Создать таблицу"}},(t=t||{}).tanker=t.tanker||{},t.tanker.days={acc1:function(e){return"в понедельник"},acc2:function(e){return"во вторник"},acc3:function(e){return"в среду"},acc4:function(e){return"в четверг"},acc5:function(e){return"в пятницу"},acc6:function(e){return"в субботу"},acc7:function(e){return"в воскресенье"},n1:function(e){return"понедельник"},n2:function(e){return"вторник"},n3:function(e){return"среда"},n4:function(e){return"четверг"},n5:function(e){return"пятница"},n6:function(e){return"суббота"},n7:function(e){return"воскресенье"},name:function(e){return (function(e){return t.tanker.days[(e.short?"short":"n")+e.day]()})(e)},short1:function(e){return"пн"},short2:function(e){return"вт"},short3:function(e){return"ср"},short4:function(e){return"чт"},short5:function(e){return"пт"},short6:function(e){return"сб"},short7:function(e){return"вс"},today:function(e){return"сегодня"},tomorrow:function(e){return"завтра"},yesterday:function(e){return"вчера"}},(t=t||{}).tanker=t.tanker||{},t.tanker.dynamic={gender:function(e){return (function(e){return e[e.gender]})(e)},plural:function(e){return (function(e){var t=isNaN(parseInt(e.count))?0:e.count,n=t%10,r=t%100;return 1==n&&11!=r?e.one:n>1&&n<5&&(r<10||r>20)?e.some:e.many})(e)},plural_adv:function(e){return (function(e){return 0===(isNaN(parseInt(e.count))?0:e.count)?e.none:t.tanker.dynamic.plural({count:e.count,one:e.one,some:e.some,many:e.many})})(e)},toggle:function(e){return (function(e){return Boolean(e.condition)?e.true:e.false})(e)}},(t=t||{}).tanker=t.tanker||{},t.tanker.months={g1:function(e){return"Января"},g10:function(e){return"Октября"},g11:function(e){return"Ноября"},g12:function(e){return"Декабря"},g2:function(e){return"Февраля"},g3:function(e){return"Марта"},g4:function(e){return"Апреля"},g5:function(e){return"Мая"},g6:function(e){return"Июня"},g7:function(e){return"Июля"},g8:function(e){return"Августа"},g9:function(e){return"Сентября"},n1:function(e){return"Январь"},n10:function(e){return"Октябрь"},n11:function(e){return"Ноябрь"},n12:function(e){return"Декабрь"},n2:function(e){return"Февраль"},n3:function(e){return"Март"},n4:function(e){return"Апрель"},n5:function(e){return"Май"},n6:function(e){return"Июнь"},n7:function(e){return"Июль"},n8:function(e){return"Август"},n9:function(e){return"Сентябрь"},name:function(e){return (function(e){var n=t.tanker.months[(e.case||"n")+e.month]();return Boolean(e.lowercase)?n.toLowerCase():n})(e)},short1:function(e){return"янв"},short10:function(e){return"окт"},short11:function(e){return"ноя"},short12:function(e){return"дек"},short2:function(e){return"фев"},short3:function(e){return"мар"},short4:function(e){return"апр"},short5:function(e){return"май"},short6:function(e){return"июн"},short7:function(e){return"июл"},short8:function(e){return"авг"},short9:function(e){return"сен"}},e&&e.exports?e.exports=t:(window.i18n=window.i18n||{},window.i18n.ru=t)})()}).call(this,n(145)(e))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YaMetrikaLogger=void 0;const r=n(651),i=n(650);t.YaMetrikaLogger=class{constructor(e,t){this.logger=e,this.context=t,this.mappings={[i.MetricEvents.WidgetShow]:["Show widget"],[i.MetricEvents.WidgetShowPimple]:["Show pimple"],[i.MetricEvents.WidgetClose]:["Close widget"],[i.MetricEvents.WidgetTitleClick]:["Widget title click"],[i.MetricEvents.WidgetClick]:["Widget click"],[i.MetricEvents.WidgetCollapse]:["Collapse widget"],[i.MetricEvents.WidgetExpand]:["Expand widget"],[i.MetricEvents.ToggleWidgetsExpand]:["Expand"],[i.MetricEvents.ToggleWidgetsFold]:["Fold"],[i.MetricEvents.DiskWidgetShowCreateButtons]:["Create","Show create buttons"],[i.MetricEvents.DiskWidgetHideCreateButtons]:["Create","Hide create buttons"],[i.MetricEvents.DiskWidgetFileClick]:["File click"],[i.MetricEvents.DiskWidgetCopyFileClick]:["Copy file"],[i.MetricEvents.DiskWidgetSaveFileClick]:["Save file"],[i.MetricEvents.DiskWidgetCreateNewEntity]:e=>["Create",e.entity],[i.MetricEvents.MailWidgetComposeClick]:["Compose"],[i.MetricEvents.MailWidgetOpenUnread]:["Open unread"],[i.MetricEvents.MemoriesWidgetContentClick]:["Content click"],[i.MetricEvents.NotesWidgetShowAllClick]:["Show all"],[i.MetricEvents.NotesWidgetHideExtraClick]:["Hide"],[i.MetricEvents.NotesWidgetCreateNewClick]:["Create note"],[i.MetricEvents.NotesWidgetNoteClick]:["Note click"],[i.MetricEvents.ServicesWidgetItemClick]:e=>[`${e.service} click`],[i.MetricEvents.StoriesWidgetItemClick]:["Story click"],[i.MetricEvents.TelemostWidgetCreateMeetingClick]:["Create meeting"],[r.SpaceWidgetEvents.SpaceWidgetShow]:e=>["Show",e.state],[r.SpaceWidgetEvents.SpaceWidgetClick]:e=>["Click",e.target],[r.SpaceWidgetEvents.SpaceWidgetStatus]:["UserStatus",this.context&&this.context.user.isPaid?"Paid":"Free"]}}logMetric(e){const t=this.mappings[e.event],n="function"==typeof t?t(e.payload):t;this.processEvent(n,e.payload)}processEvent(e,t){t&&"widget"in t&&t.widget&&(e=[t.widget,...e]),t&&"expandedPanel"in t&&(e=[t.expandedPanel?"Expanded":"Folded",...e]),this.logger(["Sidebar with widgets",...e])}}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){n(190).define("stateTree",{methods:{preprocessData:function(e){return e.selected=this.DEFAULT_FOLDER,e},select:function(e){this.set(".selected",e)},deselect:function(){this.select(this.DEFAULT_FOLDER)},DEFAULT_FOLDER:"/disk"}})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=o(n(342)),u=o(n(121)),c=n(28).cn("LimitUploadDialog"),l=n(537),d=o(n(1831)),f=o(n(1778)),h=o(n(1780));n(1785);t.default=function(e){var t=e.lang,n=e.files,i=e.limitSize,o=e.onClose,p=e.onBuy,m=e.countMetrikaFn,v=e.visible,g=e.zIndexGroupLevel,y=void 0===g?1:g,b=e.useDrawer,_=e.className,O=e.dialogTitle,w=e.dialogText,E=e.buyButtonText,S=e.cancelButtonText;a.useEffect((function(){v&&m("open")}),[v,m]);var C=a.useCallback((function(){o(),m("close")}),[o,m]),x=a.useCallback((function(){p(),m("buy")}),[p,m]),k=a.useCallback((function(){o(),m("cancel")}),[o,m]),T=r({visible:v,onClose:C,closeI18n:f.default(t,"close"),className:c({touch:b},[_]),zIndexGroupLevel:y},b?{useDrawer:!0,noCloseButton:!0}:null),j=a.useMemo((function(){return n.length}),[n]),R=a.useMemo((function(){return 1===j}),[j]),P=a.useMemo((function(){var e=n.reduce((function(e,t){return e+t.size}),0);return l.getSpaceString(e,f.default(t,"spaceUnits").split("|"),f.default(t,"fractionSeparator"))}),[n,t]),D=a.useMemo((function(){return R&&n[0].name||f.default(t,"nFiles",{count:String(j)})}),[n,t,j,R]);return a.default.createElement(s.default,r({},T),a.default.createElement("div",{className:c("Image")}),a.default.createElement("div",{className:c("Title")},O||f.default(t,R?"titleSingle":"titleMulti")),a.default.createElement("div",{className:c("Text")},w||f.default(t,"text",{size:l.getSpaceString(i,f.default(t,"spaceUnits").split("|"),f.default(t,"fractionSeparator"))})),a.default.createElement("div",{className:c("Files")},a.default.createElement(h.default,{className:c("Files-Icon"),name:R?"file":"files",small:b}),a.default.createElement("div",{className:c("Files-Name"),title:R?D:""},R?a.default.createElement(d.default,{text:D,width:b?200:290}):D),a.default.createElement("div",{className:c("Files-Size")},"("+P+")")),a.default.createElement("div",{className:c("Buttons-Wrapper")},a.default.createElement(u.default,{className:c("Button-Buy"),view:"action",size:b?"xl":"xxl",onClick:x},E||f.default(t,"chooseTariff")),a.default.createElement(u.default,{className:c("Button-Cancel"),view:b?"clear":"default",size:b?"xl":"xxl",onClick:k},S||f.default(t,"close"))))}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(267),i={};i.ru=n(1779);t.default=function(e,t,n){return r.getComponentI18n(i,"ps-limit-upload-dialog",e,t,n,"mail-liza")}}),(function(e,t,n){(function(e){!(function(){var t;(t=t||{})["mail-liza"]=t["mail-liza"]||{},t["mail-liza"]["ps-limit-upload-dialog"]={chooseTariff:function(e){return"Выбрать тариф"},close:function(e){return"Закрыть"},fractionSeparator:function(e){return","},nFiles:function(e){return e.count+" "+t.tanker.dynamic.plural({count:"        \n        "+e.count+"     \n    ",one:"файл",some:"файла",many:"файлов"})},spaceUnits:function(e){return"байт|КБ|МБ|ГБ|ТБ"},text:function(e){return"Подключите Яндекс 360 Премиум, чтобы загружать файлы размером от "+e.size},titleMulti:function(e){return"Слишком большие файлы"},titleSingle:function(e){return"Слишком большой файл"}},(t=t||{}).tanker=t.tanker||{},t.tanker.dynamic={gender:function(e){return (function(e){return e[e.gender]})(e)},plural:function(e){return (function(e){var t=isNaN(parseInt(e.count))?0:e.count,n=t%10,r=t%100;return 1==n&&11!=r?e.one:n>1&&n<5&&(r<10||r>20)?e.some:e.many})(e)},plural_adv:function(e){return (function(e){return 0===(isNaN(parseInt(e.count))?0:e.count)?e.none:t.tanker.dynamic.plural({count:e.count,one:e.one,some:e.some,many:e.many})})(e)},toggle:function(e){return (function(e){return Boolean(e.condition)?e.true:e.false})(e)}},e&&e.exports?e.exports=t:(window.i18n=window.i18n||{},window.i18n.ru=t)})()}).call(this,n(145)(e))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=r(n(1781)),a=r(n(1782)),s=r(n(1783)),u=r(n(1784)),c={file:o.default,files:s.default,fileSmall:a.default,filesSmall:u.default};t.default=function(e){var t=e.name,n=e.className,r=e.small;return i.default.createElement("div",{className:n,dangerouslySetInnerHTML:{__html:c[t+(r?"Small":"")]}})}}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.205 2h3.786c.775 0 1.043.028 1.34.096.297.069.56.178.818.34.258.161.468.33 1.015.878l2.522 2.522c.547.547.717.757.879 1.015.161.258.27.521.338.818.069.297.097.565.097 1.34v9.786c0 1.114-.116 1.519-.334 1.926a2.272 2.272 0 0 1-.945.945c-.407.218-.811.334-1.926.334h-7.59c-1.115 0-1.519-.116-1.926-.334a2.272 2.272 0 0 1-.945-.945C5.116 20.314 5 19.91 5 18.795V5.205c0-1.115.116-1.519.334-1.926.218-.407.538-.727.945-.945C6.686 2.116 7.09 2 8.205 2zm0 2c-.427 0-.694.019-.849.049a.353.353 0 0 0-.134.049.275.275 0 0 0-.124.124.353.353 0 0 0-.049.134c-.03.155-.049.422-.049.849v13.59c0 .427.019.694.049.849.012.06.017.074.049.134a.275.275 0 0 0 .124.125c.06.031.073.036.134.048.155.03.422.049.849.049h7.59c.427 0 .694-.019.849-.049a.353.353 0 0 0 .134-.049.275.275 0 0 0 .125-.124.353.353 0 0 0 .048-.134c.03-.155.049-.422.049-.849V10h-2.795c-1.114 0-1.519-.116-1.926-.334a2.272 2.272 0 0 1-.945-.945C11.116 8.314 11 7.91 11 6.795V4H8.205zM13 4.083v2.712c0 .427.019.694.049.849.012.06.017.074.049.134a.275.275 0 0 0 .124.124c.06.032.073.037.134.049.155.03.422.049.849.049h2.711a.676.676 0 0 0-.047-.088c-.079-.126-.18-.245-.598-.662l-2.52-2.521c-.418-.417-.537-.52-.662-.598A.69.69 0 0 0 13 4.083z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="21" height="20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 2h4.757a3 3 0 0 1 2.122.879L14 4l1.621 1.621a3 3 0 0 1 .879 2.122V16.5A1.5 1.5 0 0 1 15 18H6a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 6 2zm4.5 2v3a1 1 0 0 0 1 1h3v8h-8V4h4z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.205 1h3.786c.775 0 1.043.028 1.34.097.297.068.56.177.818.338.258.162.468.332 1.015.88l2.522 2.52c.547.548.717.758.879 1.016.161.258.27.521.338.818.069.297.097.565.097 1.34v8.786c0 1.114-.116 1.519-.334 1.926a2.272 2.272 0 0 1-.945.945c-.407.218-.811.334-1.926.334h-7.59c-1.115 0-1.519-.116-1.926-.334a2.272 2.272 0 0 1-.945-.945C6.116 18.314 6 17.91 6 16.795V4.205c0-1.115.116-1.519.334-1.926.218-.407.538-.727.945-.945C7.686 1.116 8.09 1 9.205 1zm0 2c-.427 0-.694.019-.849.049a.353.353 0 0 0-.134.049.275.275 0 0 0-.124.124.353.353 0 0 0-.049.134c-.03.155-.049.422-.049.849v12.59c0 .427.019.694.049.849.012.06.017.074.049.134a.275.275 0 0 0 .124.125c.06.031.073.036.134.048.155.03.422.049.849.049h7.59c.427 0 .694-.019.849-.049a.353.353 0 0 0 .134-.049.275.275 0 0 0 .125-.124.353.353 0 0 0 .048-.134c.03-.155.049-.422.049-.849V9h-2.795c-1.114 0-1.519-.116-1.926-.334a2.272 2.272 0 0 1-.945-.945C12.116 7.314 12 6.91 12 5.795V3H9.205zM14 3.083v2.712c0 .427.019.694.049.849.012.06.017.074.049.134a.275.275 0 0 0 .124.124c.06.032.073.037.134.049.155.03.422.049.849.049h2.711a.676.676 0 0 0-.047-.088c-.079-.126-.18-.245-.598-.662l-2.52-2.521c-.418-.417-.537-.52-.662-.598A.69.69 0 0 0 14 3.083z" fill="currentColor"></path><path d="M6 6v0a2 2 0 0 0-2 2v11a3 3 0 0 0 3 3h7a2 2 0 0 0 2-2v0" stroke="currentColor" stroke-width="2"></path></svg>'}),(function(e,t){e.exports='<svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13 16.997a1 1 0 0 0-1-1H5.5a.5.5 0 0 1-.5-.5V7a1 1 0 1 0-2 0v8.497a2.5 2.5 0 0 0 2.5 2.5H12a1 1 0 0 0 1-1zM14.5 15h-7A1.5 1.5 0 0 1 6 13.5v-10A1.5 1.5 0 0 1 7.5 2h4c1 0 2.195.695 3 1.5.805.805 1.5 2 1.5 3v7a1.5 1.5 0 0 1-1.5 1.5zm-.5-2V4H8v9h6z" fill="currentColor"></path><path d="M11 3h1.6l1.2.8L15 5.4V7h-3a1 1 0 0 1-1-1V3z" fill="currentColor"></path></svg>'}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);var r=n(21),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),d=n(5),f=n.n(d),h=n(7),p=n.n(h),m=n(1),v=n.n(m),g=n(0),y=n.n(g),b=n(19),_=n(98),O=n(25),w=n(23),E=n(45),S=n(54),C=n.n(S),x=n(12),k=n(11),T=n.n(k);n(1787);function j(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var R=n(151).I18N,P=function(){return T()()("welcome")},D=(function(e){f()(n,e);var t=j(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onDialogClose=r._onDialogClose.bind(l()(r)),r._onDownloadButtonClick=r._onDownloadButtonClick.bind(l()(r)),r}return u()(n,[{key:"componentDidMount",value:function(){x.default.count.apply(x.default,i()(this._getMetrikaPath()).concat(["show",this._getMetrikaOS()])),this._timeDisplayed=Date.now()}},{key:"_onDialogClose",value:function(){var e=this;x.default.count.apply(x.default,i()(this._getMetrikaPath()).concat(["x-close",this._getMetrikaOS()])),this.props.saveSettings({key:"timestampLastDisplayedDialogWelcome",value:this._timeDisplayed}).then((function(){return e.props.saveSettings({key:"countDisplaysDialogWelcome",value:parseInt(e.props.settings.countDisplaysDialogWelcome,10)+1})})),this.props.closeDialog("welcome")}},{key:"_getMetrikaOS",value:function(){return"MacOS"===this.props.OSFamily?"mac":"linux"===this.props.OSFamily?"linux":"win"}},{key:"_getMetrikaPath",value:function(){return["interface elements",this.props.justInitialized?"greeting welcome":"greeting save time"]}},{key:"_onDownloadButtonClick",value:function(){x.default.count.apply(x.default,i()(this._getMetrikaPath()).concat(["download",this._getMetrikaOS()]))}},{key:"render",value:function(){var e,t,n=this.props,r=n.justInitialized,i=n.locale,o=n.OSFamily,a=n.links,s=n.sourcesDownloadApp,u="Загружайте файлы в облако, просто перетаскивая их"+yr.externals.entityify(R.$1)+"в окно программы";return"MacOS"===o?(e=a.downloadApp.mac,t="Скачать Диск для macOS"):"Linux"===o?(e=a.downloadApp.linux,t="Скачать Диск для Linux",u="Загружайте файлы в облако, просто копируя их в папку"+yr.externals.entityify(R.$1)+"«Яндекс.Диск» на вашем компьютере."):(e=a.downloadApp.win,t="Скачать Диск для Windows"),e=C.a.addParams(e,{src:r?s.welcome:s.saveTime}),y.a.createElement(_.default,{visible:this.props.visible,onClose:this._onDialogClose,closeButtonAriaLabel:"Закрыть",cls:P(),preventCloseOnOutsideClick:!0},y.a.createElement("div",{className:P().e("title")},r?"Добро пожаловать в Яндекс.Диск!":"Экономьте время!"),y.a.createElement("div",{className:P().e("screen").m({lang:i,os:o.toLowerCase()})}),y.a.createElement("div",{className:P().e("subtitle")},"Установите Яндекс.Диск на ваш компьютер"),y.a.createElement("div",{className:P().e("description")},y.a.createElement(R,{loc:u},y.a.createElement("br",null))),y.a.createElement(O.Button,{className:P().e("button"),size:"m",view:"action",onClick:this._onDownloadButtonClick,type:"link",url:e,target:"_blank"},t))}}]),n})(g.Component),I=Object(b.connect)((function(e,t){var n=e.user.justInitialized,r=e.environment,i=r.agent.OSFamily,o=r.session.locale,a=e.config,s=a.links,u=a.sourcesDownloadApp,c=e.settings;return{visible:t.dialog.state===w.STATE.OPENED,OSFamily:i,locale:o,links:s,sourcesDownloadApp:u,justInitialized:n,settings:c}}),{closeDialog:w.closeDialog,saveSettings:E.saveSettings})(D);I.dialogName="welcome",t.default=I}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(5),l=n.n(c),d=n(7),f=n.n(d),h=n(1),p=n.n(h),m=n(19),v=n(0),g=n.n(v),y=n(98),b=n(23),_=n(16),O=n(9),w=n.n(O),E=n(11),S=n.n(E),C=n(41),x=(n(1789),n(81));function k(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var T=Object(x.default)({loader:function(){return n.e(2).then(n.bind(null,1854))},isDialog:!0}),j=(function(e){l()(n,e);var t=k(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onDialogClose=r._onDialogClose.bind(u()(r)),r}return a()(n,[{key:"componentDidMount",value:function(){this.maybeFetchFolder()}},{key:"componentDidUpdate",value:function(e){e.resourceId!==this.props.resourceId&&this.props.visible&&this.maybeFetchFolder(),e.resourceId!==this.props.resourceId||this.props.resource||this._onDialogClose()}},{key:"maybeFetchFolder",value:function(){var e=this;if(!this.props.resource){var t=this.props.resourceId;this.props.fetchSingleResource(t).then((function(t){(0===w.a.get(t,"meta.group.is_owned")||w.a.get(t,"state.hidden"))&&e._onDialogClose()})).catch((function(){e._onDialogClose()}))}}},{key:"_onDialogClose",value:function(){this.props.visible&&this.props.closeDialog("access-folder")}},{key:"render",value:function(){return this.props.resource?g.a.createElement(y.default,{cls:S()()("access-folder-dialog").mix(C.LISTING_PREVENT_DESELECT_CLASS),onClose:this._onDialogClose,closeButtonAriaLabel:"Закрыть",visible:this.props.visible},this.props.visible?g.a.createElement(T,null):null):null}}]),n})(v.Component),R=Object(m.connect)((function(e,t){var n=t.dialog,r=w.a.get(e,"page.originalNSParams.idDialog");return{visible:n&&n.state===b.STATE.OPENED,resourceId:r,resource:r&&e.resources[r]}}),{closeDialog:b.closeDialog,fetchSingleResource:_.fetchSingleResource})(j);R.dialogName="access-folder",t.default=R}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=n(19),u=o(n(1791)),c=o(n(12)),l=o(n(54)),d=n(38),f=n(23),h={closeDialog:f.closeDialog},p=s.connect((function(e,t){return{visible:t.dialog.state===f.STATE.OPENED,tuningUrl:l.default.addParams(d.getBuyButtonUrl(e),{from:"disk_videotheme_congratulation_popup"})}}),h)((function(e){var t=e.visible,n=e.tuningUrl,i=e.closeDialog,o=a.useCallback((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c.default.count.apply(c.default,r(["interface elements","videotheme congratulation popup"],e))}),[]),s=a.useCallback((function(){i("videotheme-congratulation")}),[i]),l=a.useCallback((function(){window.open(n,"_blank")}),[n]);return a.default.createElement(u.default,{visible:t,title:"Попробуйте Яндекс 360 Премиум",text:"Со всеми возможностями единого пространства легко сохранять продуктивность и не отвлекаться на мелочи.",buyButtonText:"Подключить",onClose:s,onBuy:l,countMetrikaFn:o})}));p.dialogName="videotheme-congratulation",t.default=p}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=n(28),s=i(n(1792));n(1794);var u=a.cn("Videotheme-Congratulation-Popup");t.default=function(e){var t=e.visible,n=e.title,i=e.text,a=e.buyButtonText,c=e.className,l=e.zIndexGroupLevel,d=void 0===l?1:l,f=e.onClose,h=e.onBuy,p=e.countMetrikaFn;o.useEffect((function(){p("show")}),[p]);var m=o.useCallback((function(e){"click"!==e&&(p("close"),f())}),[f,p]),v=o.useCallback((function(){p("buy"),h(),f()}),[h,f,p]),g={visible:t,onClose:m,className:u({},[c]),zIndexGroupLevel:d};return o.default.createElement(s.Popup,r({},g),o.default.createElement(s.Image,null),o.default.createElement(s.Title,null,n),o.default.createElement(s.Text,null,i),o.default.createElement(s.PromoButton,{onClick:v},a))}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(0)),s=n(28),u=o(n(342)),c=o(n(121));n(1793);var l=s.cn("Congratulation-Popup");t.Title=function(e){return a.default.createElement("div",r({},e,{className:l("Title",[e.className])}))},t.Text=function(e){return a.default.createElement("div",r({},e,{className:l("Text",[e.className])}))},t.Image=function(e){return a.default.createElement("div",r({},e,{className:l("Image",[e.className])}))};t.PromoButton=function(e){var t=e.children,n=e.className,o=i(e,["children","className"]);return a.default.createElement(c.default,r({},o,{className:l("Promo-Button",[n]),view:"action",size:"l"}),t)},t.Popup=function(e){var t=e.children,n=e.className,o=i(e,["children","className"]);return a.default.createElement(u.default,r({},o,{className:l("",[n])}),t)}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(1796)),s=o(n(1797)),u=o(n(1798)),c=o(n(1799)),l=o(n(1800)),d=o(n(1801)),f=o(n(1802)),h=o(n(1803)),p=o(n(1804)),m=o(n(1805)),v=[{size:24,url:a.default},{size:32,url:s.default},{size:64,url:u.default},{size:72,url:c.default},{size:120,url:l.default},{size:152,url:d.default},{size:167,url:f.default},{size:180,url:h.default},{size:192,url:p.default},{size:512,url:m.default}];t.default=i(v.map((function(e){return r(r({},e),{rel:"icon"})})),v.map((function(e){return r(r({},e),{rel:"apple-touch-icon"})})))}),(function(e,t){e.exports="/s3/disk/_/_dLiDw0Ops4o7TpmL59j2LxNpCTj.png"}),(function(e,t){e.exports="/s3/disk/_/_2onFaQAK8wbPguoNvUo365LChdc.png"}),(function(e,t){e.exports="/s3/disk/_/_e5Lih-IUDMdP8msksc1dFYQqtLL.png"}),(function(e,t){e.exports="/s3/disk/_/_1oXby-5uE6PMd_65Tw7yFLe2sN5.png"}),(function(e,t){e.exports="/s3/disk/_/_9MX6afd-pJtBPSHep5WXi8iLycD.png"}),(function(e,t){e.exports="/s3/disk/_/_46WE4LTx01WFhtbq75mfhvArswE.png"}),(function(e,t){e.exports="/s3/disk/_/_bhdoV4ugtta7q9O-a5yXF9-cspc.png"}),(function(e,t){e.exports="/s3/disk/_/_DFML0rcO3JNoIzdkP3UxjpU0gq.png"}),(function(e,t){e.exports="/s3/disk/_/_bknTExFJzyUb8T26iO8p42qIVCX.png"}),(function(e,t){e.exports="/s3/disk/_/_4zn7edgAovua6xlZ_g_2tmhGwgf.png"}),(function(e,t,n){var r=n(9),i=n(22),o=n(54),a=n(29);e.exports=function(e){var t=e.ns,s=e.defaultFolders,u=e.settings,c=e.config,l=e.environment,d=["docx","xlsx","pptx"];r.extend(t.router.regexps,{dialog:["dropzone","upload","welcome","slider","access-folder","import-social","export-social","select"].join("|"),page:["docs","tuning","payment"].join("|"),service:["vkontakte","facebook","odnoklassniki"].join("|"),slice:"\\/(?:"+["albums","photo","journal","error"].join("|")+")",action:["add-to-album","create-album"].join("|"),recent:"/recent",doctype:d.join("|")});var f=function(e){if(c.isDocsHost)return"/docs?type=docx"+(e["test-id"]?"&test-id="+e["test-id"]:"");var r=t.params2query(e);return r=r?"?"+r:"","/feed"===u.lastContext?"/client/disk"+r:("undefined"!=typeof window&&n(12).count("navigation","via redirect",u.lastContext.slice(1)),"/client"+u.lastContext+r)};return{redirect:{"/":f,"/client":f,"/docs":function(e){return c.isDocsHost?e.type&&d.includes(e.type)?void 0:"/docs?type=docx"+(e["test-id"]?"&test-id="+e["test-id"]:""):"/client/disk"},"/docs/{type:doctype}":function(e){return o.addParams("/docs",e)},"/client/feed":function(e){return"item"!==e.feedType?e.notifications_open?"/client/recent?notifications_open=1":"/client/recent":"/client/published"},"/auth":"/client/disk","/client{slash:slashOptional}":"/client/disk","/client/hidden":"/client/disk","/client/hidden{path:path}":"/client/disk","/client/share":"/client/disk","/client/share{path:path}":"/client/disk","/client/camera":"/client"+s.folders.photostream,"/client/downloads":"/client"+s.folders.downloads,"/client/screenshots":"/client"+s.folders.screenshots,"/client/social":"/client"+s.folders.social,"/client/yavideo":"/client/disk","/client/yavideo{path:any}":"/client/disk","/client/journal{path:path}":"/client/journal","/folder":"/client/disk","/search-app":"/client/photo","/gift":function(e){return"/tuning?reduxDialog=promo&dialogData=".concat(JSON.stringify({code:e.code}))},"/payment":"/tuning","/payment{path:any}":function(e){return"/tuning".concat(i.escape(e.path))},"/pay{path:any}":"/tuning","/tuning/gift":function(e){return"/tuning?reduxDialog=promo&dialogData=".concat(JSON.stringify({code:e.code}))},"/tuning-soft":"/tuning","/client/search":function(e){if(!Object.values(a.SEARCH_SCOPES).includes(e.scopeSearch))return"/client/disk"},"/{path:any}":function(e){return(!c.isDocsHost||["scans","view"].includes(e.idPage)||["","docs","docs/scans","docs/view","client/error"].includes(e.path))&&(!c.isDocsHost||"view"!==e.idPage||e.url&&!l.agent.isMobile)?void 0:"/docs?type=docx"}},route:{"/notes":"notes","/client/albums/{albumId:any}":"client-dualPane","/client{idContext:slice}{slash:slashOptional}{separator:pipe}{dialog:dialog}{slash:slashOptional}{service:service}":"client-dualPane","/client{idContext:slice}{slash:slashOptional}{separator:pipe}{dialog:dialog}{idDialog:path}":"client-dualPane","/client{idContext:slice}{slash:slashOptional}{separator:pipe}{dialog:dialog}":"client-dualPane","/client{idContext:slice}":"client-dualPane","/client{idContext:slice}{separator:pipe}{action:action}":"client-dualPane","/client{idContext:slice}{separator:pipe}{action:action}{idAlbum:path}":"client-dualPane","/client{idContext:path}{slash:slashOptional}{separator:pipe}{dialog:dialog}{slash:slashOptional}{service:service}":"client-dualPane","/client{idContext:path}{slash:slashOptional}{separator:pipe}{dialog:dialog}{idDialog:path}":"client-dualPane","/client{idContext:path}{slash:slashOptional}{separator:pipe}{dialog:dialog}":"client-dualPane","/{page:page}/{idPage:any}":"client-dualPane","/client{idContext:path}":"client-dualPane","/client/search":"client-dualPane","/{page:page}/{idPage:any}{separator:pipe}{dialog:dialog}":"client-dualPane","/{page:page}{separator:pipe}{dialog:dialog}":"client-dualPane","/{page:page}":"client-dualPane"},rewriteParams:{notes:function(){if("undefined"!=typeof window){var e=n(14).default,t=n(1807),r=t.goToNotes;e().dispatch(r())}},client:h,"client-dualPane":h}};function h(e){if(e.idApp="client",e.albumId)return (function(e){return e.idContext="/album/"+e.albumId,e})(e);if("/journal"===e.idContext)return (function(e){delete e.separator;var t=Number(e.startEventTimestamp);return t?e.startEventTimestamp=t:delete e.startEventTimestamp,e.scopeSearch=a.SEARCH_SCOPES.JOURNAL,e})(e);if(delete e.slash,delete e.separator,e.querySearch&&e.scopeSearch&&(e.idContext="/search/"+(e.typeSearch?e.typeSearch+"/":"")+e.querySearch+e.scopeSearch),"select"===e.dialog&&(e.selectResource=e.idDialog,delete e.dialog,delete e.idDialog),"access-folder"===e.dialog&&(e.reduxDialog=e.dialog,delete e.dialog),e.idApp="client","undefined"!=typeof window){var t=(0,n(14).default)().getState();if("scans"===e.idPage){var r=n(122).getScansPath;e.idContext=r(t)}if(e.idContext){var i=(0,n(113).getStatesContext)(t,e.idContext);i.dialog&&(e.dialog=i.dialog)}}return e}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"goToNotes",(function(){return i}));var r=n(12),i=function(){return function(){r.default.count(["interface elements","header","promo notes","click link"]),location.assign("/notes")}}}),(function(e,t,n){"use strict";n.r(t);n(769);var r=n(499),i=n.n(r);window.yr=i.a;n(770);var o=n(669),a=n.n(o);window.nb=a.a;n(771);var s=n(670),u=n.n(s);window.Vow=u.a;n(773);var c=n(397),l=n.n(c);n(533),n(774);window.no=l.a;n(775),n(802),n(803),n(804),n(805),n(806),n(807),n(808),n(809),n(810),n(301),n(398);var d,f=n(9),h=n.n(f),p=n(21),m=n.n(p),v=n(10),g=n.n(v),y=n(9),b=n(93),_=n(29),O=n(22),w=n(120),E=n(92),S=n(34).default,C=n(211),x=n(54),k=n(1136),T=n(228),j=n(722),R=n(1137),P=n(51),D=n(69).getPreloadedData,I=n(189);y.pluck=function(e,t){return y.map(e,(function(e){return e[t]}))};var A=(d={entityify:ns.entityify,deentityify:ns.deentityify,encodeURIComponent:encodeURIComponent,escapePath:O.escape,isParent:O.isParent,dirname:O.dirname,basename:O.basename,extname:O.extname,getAlias:S.getAlias,capitalize:E.capitalize,trim:$.trim,round:Math.round.bind(Math),range:function(){return y.range.apply(y,arguments).map((function(e){return{data:e}}))},getConfig:function(){return[{data:b}]},getEnvironment:no.value(D("environment")),getConsts:no.value(_),makeUrlRelative:x.makeRelative,isYateamNDA:S.isYateamNDA,replaceParam:x.replaceParam,stringCrop:E.crop,breakNumber:E.breakNumber,substring:function(e,t,n){return(e=e||"").substr(t,n)},stringLength:function(e){return e.length},json:function(e){return JSON.stringify(e[0].data)},parseJSON:function(e){return[{data:JSON.parse(e[0].data)}]},timestampToDate:C.timestampToDate,timestampCurrent:function(){return(new Date).getTime()/1e3},getTimestamp:function(e){return new Date(e).getTime()/1e3},reverse:function(e){return y.clone(e).reverse()},last:function(e){return[y.last(e)]},contains:function(e,t){return e.some((function(e){return e.data===t}))},formatSpace:w.format,breakLongWords:function(e,t){void 0===t&&(t=12);var n=new RegExp(".{1,"+t+"}","g");return y.map(e.split(" "),(function(e){return y.map(e.match(n)||[],ns.entityify).join("<wbr />")})).join(" ")},sum:function(e){return y.reduce(y.pluck(e,"data"),(function(e,t){return e+t}),0)},now:function(){return Math.round(Date.now()/1e3)},modernizr:function(e){return I[e]},split:function(e,t,n){var r=e.split(t,n),i=[];return $.each(r,(function(e,t){i.push({data:t})})),i},split2Nodeset:function(e,t){return yr.array2nodeset(e.split(t||","))},join:function(e,t){return y.pluck(y.pluck(e,"data"),"item")[0].join(t||",")},toLowerCase:function(e){return e.toLowerCase()},maxAmongItems:function(e){var t=yr.nodeset2data(e);return e.length<2?t:y.max(t)},getFullYear:function(){return(new Date).getFullYear()}},g()(d,"nb-extend",(function(e,t){if(t&&t[0])if("string"==typeof t)e[0].data.content=t;else{var n=e[0].data,r=t[0].data,i=y.extend({},n,r);e[0].data=i}return e})),g()(d,"nb-wrap",(function(e,t){var n={};return t&&t.length&&(n[e]=1===t.length?t[0].data:y.pluck(t,"data")),[{data:n,name:"",parent:null,doc:t[0].doc}]})),g()(d,"nb-uniq",T),g()(d,"isUrlWebClient",(function(e){return 0===e.indexOf(b.links.disk+"/client")})),g()(d,"getTitleSocial",j.getTitleSocial),g()(d,"getMessageError",j.getMessageError),g()(d,"getPeriodsPhoto",(function(e){var t=yr.nodeset2data(e),n=[{data:{year:t[0].year,months:[]},name:"",parent:null}];return y.each(t,(function(e){if(!e.isEmpty){var t=n[n.length-1].data,r={name:e.month,id:e.id};e.year!==t.year?n.push({data:{year:e.year,months:[r]},name:"",parent:null}):t.months.push(r)}})),n})),g()(d,"toLowerCase",(function(e){return e.toLowerCase()})),g()(d,"getNameContextMetrika",k.getNameContext),g()(d,"getViewportWidth",(function(){return R.deviceWidth})),g()(d,"getViewportHeight",(function(){return R.deviceHeight})),g()(d,"addParamsUrl",x.addParams),g()(d,"getHost",x.getHost),g()(d,"createIdFromString",E.createId),g()(d,"isFeedContext",P.isFeedContext),g()(d,"getIconByService",n(1138)),g()(d,"canPlayAudio",n(200).default),d);"undefined"!=typeof i18n&&(A.i18n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i18n.apply(void 0,[e].concat(m()(n.map(ns.entityify))))},A.i18n_unsafe=i18n);var M=A,N=(n(539),n(677)),L=n.n(N),F=n(12),B=n(261),U=n(34),z=n(51),V=n.n(z),H=n(124),W={listing:function(e){var t=e.params;return!t.dialog&&(/^\/disk/.test(t.idContext)||["/trash","/shared","/published","/recent"].includes(t.idContext))},slider:function(e){return"slider"===e.params.dialog},photo:function(e){var t=e.params;return!t.dialog&&"/photo"===t.idContext},albums:function(e){return"/albums"===e.params.idContext},album:function(e){return"client-album"===e.page&&/^[^/]+$/.test(e.params.url)},journal:function(e){return"/journal"===e.params.idContext},remember:function(e){return e.params.idContext&&e.params.idContext.startsWith("/remember/")}},G=n(93),q=n.n(G),Y=n(20),K=n(17),X=n(14),Z=n(18),J=n(26),Q=n(282),ee=n(23),te=n(68),ne=n(53),re=n(75),ie=n(33),oe=n(122),ae=n(197),se=n(566),ue=n(29),ce=n.n(ue),le=n(64);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}n(97),n(1145),n(1146),n(1147),n(1149),n(1150),n(1152),n(1153),n(1155),n(1157),n(723),n(1160),n(1164);var fe=n(9),he=n(93),pe=n(51),me=n(22),ve=n(83);n(1165),n(1172),n(1173),ns.action.define("listing.openFolder",(function(e,t){return!!(t.id!==ns.page.current.params.idContext||"/journal"===t.id||"/photo"===t.id&&ns.page.current.params.filter||ns.page.current.params.idDialog)&&(t.from&&F.default.countNavigation(t.id,t.from),pe.go("/client"+me.escape(t.id)),!0)})),ns.action.define("selected.create-operation",(function(e,t){ns.action.run(t.actionName,{idsResources:Object(X.default)().getState().statesContext.selected})})),ns.action.define("resource.restore",(function(e,t){var n=function(e){return e.idsResources?ve.create("restore",fe.map(e.idsResources,(function(e){return{idSrc:e}}))):(ve.create("restore",{idSrc:e.id}),pe.isSearch()&&F.default.count("about search","actions","restore")),!0};return Object(X.default)().getState().environment.agent.isMobile?(fe.defer(n,t),!1):n(t)})),ns.action.define("resource.upload",(function(e,t){var n,r,i=(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e})({},t),o=i.folderDst||ns.page.current.params.idContext,a=Object(X.default)().getState();if(Object(ie.isDocsPage)(a)&&(i.files=Array.isArray(i.files)?i.files.filter(ae.filterDocsFiles):Object.values(i.files).filter(ae.filterDocsFiles),i.folders&&(i.folders=[]),t.files.length===i.files.length&&(null===(n=t.folders)||void 0===n?void 0:n.length)===(null===(r=i.folders)||void 0===r?void 0:r.length)||Object(X.default)().dispatch(Object(re.showNotAllowedExtNotification)()),0===i.files.length))return Vow.resolve();var s=Object(K.collectEntriesStats)([].concat(m()(i.files||[]),m()(i.folders||[])),a.environment.session.requestId),u=function(){var e=Object.assign({statsId:s},i);i.dropzone?setTimeout((function(){Object(X.default)().dispatch(Object(te.l)(o,e))}),50):Object(X.default)().dispatch(Object(te.l)(o,e)),Object(X.default)().dispatch(Object(re.redirectToDocsPageOnLoadFiles)(i.files))};return i.folderDst||(/^\/disk(?:$|\/)/.test(o)||Object(le.getIsInsideVirtualDisk)(o))&&Object(Z.isExistsResource)(a,o)&&!Object(Z.getResourceData)(a,o,"meta.group.readonly")&&!Object(oe.isScansPage)(a)?(u(),Vow.resolve()):(ns.Model.get("stateTree").set(".selected","/disk"),new Promise(function(e,t){Object(X.default)().dispatch(Object(ne.add)("select-folder",{dialogParams:{type:"upload",title:"Куда загрузить?",submitButtonText:"Загрузить"},onSubmit:function(t){var n=t.folderId;o=n,u(),e()},onReject:function(){t()}}))}))})),ns.action.define("resource.delete",(function(e,t){var n=Object(X.default)().getState(),r=function(e){return Object(Z.getResourceData)(n,e)},i={delete:[],leaveFolder:[]};(Array.isArray(t.idsResources)&&t.idsResources.map(r)||[r(t.id)]).filter(Boolean).forEach((function(e){fe.get(e,"meta.group.is_root")&&!fe.get(e,"meta.group.is_owned")?i.leaveFolder.push(e):i.delete.push(e)}));var o=function(e){e.on("ns-model-changed.status",(function(){if("done"===e.get(".status")){var t=ns.page.current.params.idContext,n=e.get(".idSrc");n&&(me.isParent(n,t)||t===n)&&pe.go("/client"+me.escape(me.dirname(n)))}}))};return fe.defer((function(){var e=[];Object.keys(i).forEach((function(t){var n=i[t].map((function(e){return (function(e,t){me.isParent("/attach/yaruarchive",e)&&F.default.count("interface elements","yaru","actions","delete"),me.isParent("/attach/YaFotki",e)&&F.default.count("interface elements","yafotki","actions","delete"),pe.isSearch()&&F.default.count("about search","actions","delete"),"leaveFolder"===t&&F.default.count("actions","shared folders","leave folder","by deleting")})(e.id,t),{idSrc:e.id}}));n=1===n.length?n[0]:n,e=e.concat(ve.create(t,n))})),e.forEach(o)})),Object(X.default)().getState().environment.agent.isMobile})),ns.action.define("resource.copy",(function(e,t){return t.idsResources?ve.create("copy",fe.map(t.idsResources,(function(e){return{idSrc:e}}))):(function(e){me.isParent("/attach/yaruarchive",e)?F.default.count("interface elements","yaru","actions","copy"):me.isParent("/attach",e)&&F.default.count("interface elements","mail attachments","/attach","actions","copy"),pe.isSearch()&&F.default.count("about search","actions","copy")}(t.id),ve.create("copy",{idSrc:t.id}))})),ns.action.define("resource.move",(function(e,t){var n;t.idsResources?n=ve.create("move",fe.map(t.idsResources,(function(e){return{idSrc:e,idFolderDst:t.idFolderDst}}))):(t.id,pe.isSearch()&&F.default.count("about search","actions","move"),n=ve.create("move",{idSrc:t.id,idFolderDst:t.idFolderDst}));var r=function(e){e.on("ns-model-changed.status",(function(){if("done"===e.get(".status")){var t=ns.page.current.params.idContext,n=e.get(".idSrc"),r=e.get(".idDst");n&&r&&(me.isParent(n,t)||t===n)&&pe.go("/client"+me.escape(t.replace(new RegExp("^"+n),r)))}}))};return fe.isArray(n)?fe.each(n,r):r(n),n})),ns.action.define("resource.rename",(function(e,t){var n=t.id,r=ve.create("rename",{idSrc:n,nameProposed:t.name});return r.on("ns-model-changed.status",(function(){var e=ns.page.current.params.idContext,t=r.get(".idSrc"),n=r.get(".idDst");if("done"===r.get(".status")&&t&&n&&(me.isParent(t,e)||e===t)){var i="/client"+e.replace(new RegExp("^"+$.ui.autocomplete.escapeRegex(t)),n);pe.go(me.escape(i))}})),r})),ns.action.define("folder.create",(function(){return ve.create("createFolder",{idFolderDst:ns.page.current.params.idContext})})),ns.action.define("dialog-create-shared-folder.open",(function(){var e=ve.create("createFolder",{idFolderDst:"/shared",creatingSharedFolder:!0});e.on("status.done",(function(){ns.action.run("dialog-access-folder.open",{id:e.get(".idDst")})}))})),ns.action.define("dialog-access-folder.open",(function(e,t){var n=t.id,r=ns.Model.get("inviteesFolder",{idFolder:n});r.isValid()?(r.syncDataLinked(),r.syncOrder()):r.fetch();var i=ns.router.generateUrl(ns.page.current.page,Object.assign({},ns.page.current.params,{reduxDialog:"access-folder",idDialog:n}));return pe.go(i)})),ns.action.define("resource.unshare",(function(e,t){return Object(X.default)().dispatch(Object(ee.closeDialog)("access-folder")),F.default.count("interface elements","folder access dialog","revoke access for all"),ve.create("unshare",{idSrc:t.id})})),ns.action.define("form-invite-folder.invite",(function(e,t){if(!Object(X.default)().dispatch(Object(J.maybeBlockActionOverdraft)({forLite:!0}))){var n=t.id,r=ns.Model.get("stateFormInviteFolder",{id:n}),i=r.get(".userid"),o={idSrc:n,userid:r.get(".userid"),rights:r.get(".rights")||660};if(o.userid){var a=ns.Model.get("inviteesFolder",{idFolder:n}).getItemByEmail(i);a||(a=ns.Model.get("contact",{userid:i})),o.service=a.get(".service")}ve.create("inviteFolder",o),r.reset(),F.default.accumulate("interface elements","folder access dialog","invite")}})),ns.action.define("user-access-folder.invite",(function(e,t){var n=Object(X.default)();if(!n.dispatch(Object(J.maybeBlockActionOverdraft)({forLite:!0}))){var r=n.getState(),i=t.idSrc;ve.create("inviteFolder",fe.extend(t,{idSrc:i})),F.default.accumulate("interface elements","folder access dialog","invite"),Object(Z.isExistsResource)(r,i)&&!Object(Z.getResourceData)(r,i,"meta.group.gid")&&F.default.count("actions","shared folders","share folder (first invite)","640"===String(t.rights)?"ro":"rw")}})),ns.action.define("user-access-folder.resend",(function(e,t){Object(X.default)().dispatch(Object(J.maybeBlockActionOverdraft)({forLite:!0}))||(ve.create("inviteFolder",fe.extend(t,{idSrc:t.idSrc})),F.default.count("actions","shared folders","invite user","resend invite"))})),ns.action.define("user-access-folder.change-rights",(function(e,t,n){var r=$(n).closest(".js-user-folder-rights")[0],i=t.idFolder,o=ns.Model.get("inviteeFolder",{id:t.idInvitee,idFolder:i}),a=ns.Model.get("stateInviteeFolder",{id:t.idInvitee,idFolder:i});if(r){var s=String(se.a[nb.block(r).getState().value]);if("approved"!==o.get(".status")&&("0"!==s||"contact"===o.get(".status")))return void a.set(".rights",s);if(s===o.get(".rights"))return;"0"===s?(F.default.count("actions","shared folders","revoke access"),F.default.count("interface elements","folder access dialog","revoke access")):(F.default.count("actions","shared folders","change access rights","640"===s?"ro":"rw"),F.default.count("interface elements","folder access dialog","change access rights","640"===s?"ro":"rw")),ve.create("accessFolder",{idSrc:i,rights:s,idInvitee:t.idInvitee})}return!0})),ns.action.define("trash.clean",(function(){return setTimeout((function(){Object(X.default)().dispatch(Object(Q.doCleanTrash)())}),100),!0})),ns.action.define("app.search",(function(e,t){return t.scopeSearch===ue.SEARCH_SCOPES.JOURNAL?ns.action.run("journal.search",t):ns.action.run("app.search-disk",t)})),ns.action.define("app.search-disk",(function(e,t){return ns.Model.invalidate("resources",(function(e){return e.params.querySearch&&e.params.scopeSearch})),pe.go(pe.getUrlBase({querySearch:t.querySearch,scopeSearch:t.scopeSearch,typeSearch:t.typeSearch})),!0})),ns.action.define("editor.open",(function(e,t){var n=function(e){var n=he.links.disk+"/editnew/"+t.extension+me.escape(e)+"?sk="+he.skExternal;t.source&&(n+="&source=".concat(t.source)),t.filename&&(n+="&filename=".concat(encodeURIComponent(t.filename))),window.open(n,"_blank")},r=t.idContext,i=Object(X.default)().getState();r&&Object(Z.isExistsResource)(i,r)&&Object(Y.can)(Y.CREATE_INSIDE,Object(Z.getResourceData)(i,r))?n(r):Object(X.default)().dispatch(Object(ne.add)("select-folder",{dialogParams:{type:"create-document",title:"Выберите место для нового документа"},onSubmit:function(e){var t=e.folderId;n(t)}}))}));var ge=n(232),ye=n(9),be=n(83),_e=["copy","move","trash"],Oe=new ge.a("/check-online");ns.Model.define("operationsActive",{events:{"ns-model-init":"oninit"},methods:{oninit:function(){var e=this;Oe.addOnlineEventListener((function(){e.revive()}))},preprocessData:function(e){return ye.filter(e,(function(e){return ye.includes(_e,e.type)}))},revive:function(){return ns.request([this]).then(this.createOperations.bind(this))},createOperations:function(){var e=this.getData();ye.each(e,(function(e){be.catchUp(e)}))}}});var we,Ee=n(3),Se=n.n(Ee),Ce=n(4),xe=n.n(Ce),ke=n(8),Te=n.n(ke),je=n(5),Re=n.n(je),Pe=n(7),De=n.n(Pe),Ie=n(1),Ae=n.n(Ie),Me=(n(1177),n(19)),Ne=n(0),Le=n.n(Ne);n(1179);we=n(1817).default;var Fe=function(){return Le.a.createElement(Le.a.Fragment,null,Le.a.createElement(we,null))},Be=n(505),Ue=(n(1361),n(137)),ze=n(37),Ve=n(41),He=n(70),We=n(32),Ge=n.n(We),qe=n(125),$e=n.n(qe),Ye=n(198),Ke=n.n(Ye),Xe=n(158);var Ze=function(e,t){Object.keys(t).forEach((function(n){"x"!==n&&"y"!==n&&"scale"!==n&&(e.style[n]=t[n])}));var n="";void 0===t.x&&void 0===t.y||(n+="translate3d(".concat(t.x||0,"px, ").concat(t.y||0,"px, 0)")),void 0!==t.scale&&(n+=" scale(".concat(t.scale,")")),n&&(e.style.webkitTransform=e.style.transform=n)},Je=(function(){function e(t,n,r){Se()(this,e),this._viewportSize=t,this._elements=n,this._elementsSize=r}return xe()(e,[{key:"start",value:function(e,t){this._initialData=t,this._currentData=this._extractTransformData(e),this._toggleElementsTransform(!0)}},{key:"move",value:function(e){this._currentData=this._extractTransformData(e),this._onMove(),this._applyChangesToElements(this._currentData)}},{key:"end",value:function(){var e=this,t=this._isTransformComplete(),n=t?this._getCompleteTransformValues():this._getInitialTransformValues(),r=Object.keys(this._currentData).some((function(t){return e._currentData[t]!==n[t]}))?200:void 0;return Promise.resolve(this._applyChangesToElements(n,r)).then((function(){return e._finishTransform(),t?e._getTransformResult():Promise.reject(!1)}))}},{key:"_onMove",value:function(){}},{key:"_extractTransformData",value:function(e){}},{key:"isExternalFinishTransform",value:function(){return!1}},{key:"_finishTransform",value:function(){this.isExternalFinishTransform()||this._toggleElementsTransform(!1)}},{key:"finishTransform",value:function(){this._toggleElementsTransform(!1)}},{key:"_getCompleteTransformValues",value:function(){}},{key:"_getInitialTransformValues",value:function(){return{}}},{key:"_getTransformResult",value:function(){}},{key:"_isTransformComplete",value:function(){return!1}},{key:"_calculateElementStyles",value:function(e){}},{key:"_applyChangesToElements",value:function(e,t){var n=this,r=[];if(this._eachElement((function(i){var o=n._setStylesToElement(i,n._calculateElementStyles(e),t);t&&r.push(o)})),t)return Promise.all(r)}},{key:"_setStylesToElement",value:function(e,t,n){if(n)return new Promise(function(r){var i=function t(){r(),e.removeEventListener("transitionend",t),e.removeEventListener("webkitTransitionEnd",t),Ze(e,{transition:""})},o=Object.assign({},t,{transition:"".concat(n,"ms ease")});e.addEventListener("transitionend",i),e.addEventListener("webkitTransitionEnd",i),Ze(e,o)});Ze(e,t)}},{key:"_toggleElementsTransform",value:function(e){this._eachElement((function(t){t.classList.toggle("new-composite-layer",e),e||(t.style.transform="",t.style.opacity="")}))}},{key:"_eachElement",value:function(e){var t=this;this._elements instanceof Element?e.call(this,this._elements):Object.keys(this._elements).forEach((function(n){t._elements[n]&&e.call(t,t._elements[n],n)}))}}]),e})();function Qe(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var et=(function(e){Re()(n,e);var t=Qe(n);function n(e,r){var i;return Se()(this,n),(i=t.call(this,e,r))._elements=r,i._neighbourName="",i}return xe()(n,[{key:"isExternalFinishTransform",value:function(){return!0}},{key:"_extractTransformData",value:function(e){return{deltaX:e.deltaX}}},{key:"_isTransformComplete",value:function(){var e=Math.abs(this._currentData.deltaX)/this._viewportSize.width;return Boolean(e>.3&&this._elements[this._neighbourName])}},{key:"_getCompleteTransformValues",value:function(){return{deltaX:this._viewportSize.width*Math.sign(this._currentData.deltaX)}}},{key:"_getInitialTransformValues",value:function(){return{deltaX:0}}},{key:"_onMove",value:function(){this._neighbourName=this._currentData.deltaX<0?"next":"prev"}},{key:"_applyChangesToElements",value:function(e,t){var n=[this._setStylesToElement(this._elements.current,this._calculateMainItemStyles(e),t)];if(this._elements[this._neighbourName]){var r=this._setStylesToElement(this._elements[this._neighbourName],this._calculateNeighbourItemStyles(e),t);n.push(r)}return Promise.all(n)}},{key:"_getTransformResult",value:function(){return-Math.sign(this._currentData.deltaX)}},{key:"_calculateMainItemStyles",value:function(e){var t=Math.abs(e.deltaX)/this._viewportSize.width;return 0===e.deltaX?{x:0,opacity:1,scale:1}:e.deltaX<0?{x:e.deltaX,opacity:1-t,scale:1}:{x:0,opacity:1-t,scale:1-.2*t}}},{key:"_calculateNeighbourItemStyles",value:function(e){var t=Math.abs(e.deltaX)/this._viewportSize.width;return{x:"prev"===this._neighbourName?e.deltaX-this._viewportSize.width:0,opacity:t,scale:.8+.2*t}}}]),n})(Je);function tt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var nt=(function(e){Re()(n,e);var t=tt(n);function n(){return Se()(this,n),t.apply(this,arguments)}return xe()(n,[{key:"isExternalFinishTransform",value:function(){return!0}},{key:"_extractTransformData",value:function(e){return{deltaY:e.deltaY}}},{key:"_getTransformResult",value:function(){return!0}},{key:"_getInitialTransformValues",value:function(){return{deltaY:0}}},{key:"_getCompleteTransformValues",value:function(){return{deltaY:Math.sign(this._currentData.deltaY)*this._viewportSize.height}}},{key:"_isTransformComplete",value:function(){return Math.abs(this._currentData.deltaY/this._viewportSize.height)>.2}},{key:"_calculateElementStyles",value:function(e){var t=Math.abs(e.deltaY/this._viewportSize.height);return{y:e.deltaY,opacity:1-t}}}]),n})(Je);function rt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var it=function(e,t,n,r,i){return(Math.min(Math.max(r,e),t)-e-n/2)*i},ot=function(e,t,n,r,i){return(Math.min(Math.max(r,e),t)-e-n/2)*i},at=(function(e){Re()(n,e);var t=rt(n);function n(e,r,i){var o;return Se()(this,n),(o=t.call(this,e,r,i))._elementsSize=i,o}return xe()(n,[{key:"_extractTransformData",value:function(e){var t=this._currentData||this._initialData;this.dx=this.dx||0,this.dy=this.dy||0;var n=Math.min(e.scale*this._initialData.scale,10),r=n/t.scale-1,i=t.scale/this._initialData.scale,o=i*this._elementsSize.width,a=i*this._elementsSize.height,s=this._elementsSize.left+(this._elementsSize.width-o)/2-this.dx,u=this._elementsSize.top+(this._elementsSize.height-a)/2-this.dy,c=it(s,s+o,o,e.center.x,r),l=ot(u,u+a,a,e.center.y,r);return this.dx+=c,this.dy+=l,{scale:n,x:t.x-c,y:t.y-l}}},{key:"_calculateElementStyles",value:function(e){return e}}]),n})(Je);function st(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var ut=(function(e){Re()(n,e);var t=st(n);function n(){return Se()(this,n),t.apply(this,arguments)}return xe()(n,[{key:"_extractTransformData",value:function(e){return{velocityX:e.velocityX,velocityY:e.velocityY,x:this._initialData.x+e.deltaX,y:this._initialData.y+e.deltaY,scale:this._initialData.scale}}},{key:"_calculateElementStyles",value:function(e){return e}}]),n})(Je);function ct(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var lt=(function(e){Re()(n,e);var t=ct(n);function n(){return Se()(this,n),t.apply(this,arguments)}return xe()(n,[{key:"start",value:function(e,t){this._reset=t.scale>1,t.scale>1?this._currentData={x:0,y:0,scale:1}:(e=Object.assign({},e,{scale:5}),$e()(Ae()(n.prototype),"start",this).call(this,e,t))}},{key:"end",value:function(){var e=this,t=this._applyChangesToElements(this._currentData,200);return t?t.then((function(){return e._currentData})):Promise.reject()}}]),n})(at);var dt=n(91);n(1363);function ft(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var ht=null;function pt(e){e instanceof Error&&setTimeout((function(){throw e}),0)}"undefined"!=typeof window&&(ht=n(1362));var mt={SWIPE_TO_CLOSE:"SWIPE_TO_CLOSE",SWIPE_TO_CHANGE:"SWIPE_TO_CHANGE",DOUBLE_TAP_TO_ZOOM:"DOUBLE_TAP_TO_ZOOM",PINCH_TO_ZOOM:"PINCH_TO_ZOOM",MOVE_ZOOMED:"MOVE_ZOOMED",WHEEL_TO_ZOOM:"WHEEL_TO_ZOOM"},vt=Object.assign({GESTURE:"gesture"},Xe.b.ACTION_SOURCE),gt=(function(e){Re()(n,e);var t=ft(n);function n(e){var r,i;return Se()(this,n),(i=t.call(this,e)).state={isZoomed:!1,toolbarVisible:!0},i._onPanH=i._onPanH.bind(Te()(i)),i._onPanV=i._onPanV.bind(Te()(i)),i._onPinch=i._onPinch.bind(Te()(i)),i._onPan=i._onPan.bind(Te()(i)),i._onDbTap=i._onDbTap.bind(Te()(i)),i._onTap=i._onTap.bind(Te()(i)),i._onWheel=i._onWheel.bind(Te()(i)),i._setZoomedState=i._setZoomedState.bind(Te()(i)),i._setToolbarVisible=i._setToolbarVisible.bind(Te()(i)),i._setRef=i._setRef.bind(Te()(i)),i._setContainerRef=i._setContainerRef.bind(Te()(i)),i._setItemsContainerRef=i._setItemsContainerRef.bind(Te()(i)),i.sliderApi={setToolbarVisible:i._setToolbarVisible},i._gesturesToRecognizers=(r={},g()(r,mt.SWIPE_TO_CLOSE,"verticalPan"),g()(r,mt.SWIPE_TO_CHANGE,"horizontalPan"),g()(r,mt.DOUBLE_TAP_TO_ZOOM,"dbtap"),g()(r,mt.PINCH_TO_ZOOM,"pinch"),g()(r,mt.MOVE_ZOOMED,"pan"),r),i}return xe()(n,[{key:"setState",value:function(e,t){var r=this.state.toolbarVisible;$e()(Ae()(n.prototype),"setState",this).call(this,e,t),"boolean"==typeof e.toolbarVisible&&e.toolbarVisible!==r&&this.props.onToolbarVisibilityChange(e.toolbarVisible)}},{key:"componentDidMount",value:function(){this._mountTimestamp=Date.now(),this._bindGestures(),this._resetZoomedState()}},{key:"componentWillUnmount",value:function(){this._unbindGestures()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!this.state.toolbarVisible&&e.activeResource&&this.props.activeResource&&e.activeResource.id!==this.props.activeResource.id&&e.shouldSetToolbarVisible&&this.setState({toolbarVisible:!0})}},{key:"componentDidUpdate",value:function(e){var t=this.props.activeResource||{},n=e.activeResource||{},r=t.id!==n.id,i=this._getItemsRefs().current;r&&(this._toggleZoomGestures(!this.props.activeResource.content),this._currentTransform&&this._currentTransform.isExternalFinishTransform()&&(this._currentTransform._elements.next===i||this._currentTransform._elements.prev===i)&&this._currentTransform.finishTransform())}},{key:"_getItemsRefs",value:function(){return this._sliderBaseRef.getItemsRefs()}},{key:"_getActiveImageRef",value:function(){return this._getItemsRefs().current.querySelector("img")}},{key:"_bindGestures",value:function(){this._hammerManager=new ht.Manager(this._itemsContainerRef,{cssProps:Ke()(ht.defaults,["touchCallout"])}),this._hammerRecognisers={horizontalPan:new ht.Pan({event:"panh",direction:ht.DIRECTION_HORIZONTAL}),verticalPan:new ht.Pan({event:"panv",threshold:20,direction:ht.DIRECTION_VERTICAL}),pinch:new ht.Pinch,pan:new ht.Pan({enable:!1}),dbtap:new ht.Tap({event:"dbtap",taps:2,threshold:20,posThreshold:20}),tap:new ht.Tap},this._hammerManager.add([this._hammerRecognisers.pinch,this._hammerRecognisers.horizontalPan,this._hammerRecognisers.verticalPan,this._hammerRecognisers.pan,this._hammerRecognisers.dbtap,this._hammerRecognisers.tap]),this._hammerRecognisers.verticalPan.requireFailure(this._hammerRecognisers.pinch),this._hammerRecognisers.horizontalPan.requireFailure(this._hammerRecognisers.pinch),this._hammerManager.on("panhstart panhmove panhend panhcancel",this._onPanH),this._hammerManager.on("panvstart panvmove panvend panvcancel",this._onPanV),this._hammerManager.on("pinchstart pinchmove pinchend pinchcancel",this._onPinch),this._hammerManager.on("panstart panmove panend pancancel",this._onPan),this._hammerManager.on("dbtap",this._onDbTap),this._hammerRecognisers.tap.requireFailure(this._hammerRecognisers.dbtap),this._hammerManager.on("tap",this._onTap),this._toggleGestures(Object.values(mt),!0),this._toggleZoomGestures(!this.props.activeResource.content),this._itemsContainerRef&&this._itemsContainerRef.addEventListener("dragstart",dt.b)}},{key:"_unbindGestures",value:function(){this._hammerManager.destroy(),this._itemsContainerRef&&(this._itemsContainerRef.removeEventListener("touchend",dt.b),this._itemsContainerRef.removeEventListener("wheel",this._onWheel),this._itemsContainerRef.removeEventListener("dragstart",dt.b))}},{key:"_onWheel",value:function(e){var t=this;Object(dt.b)(e);var n=e.wheelDeltaY||e.wheelDelta||-120*Math.sign(e.deltaY)||0;if(0!==n){var r=n/1e3,i=this._getActiveImageRef();if(i){var o=i.getBoundingClientRect(),a=this._zoomedValues.scale,s=a+r;s=Math.max(s,1);var u=(s=Math.min(s,10))/a-1,c=it(o.left,o.right,o.width,e.clientX,u),l=ot(o.top,o.bottom,o.height,e.clientY,u);this._setZoomedState({scale:s,x:this._zoomedValues.x-c,y:this._zoomedValues.y-l}),Ze(i,this._zoomedValues),this._timer&&clearTimeout(this._timer),this._timer=setTimeout((function(){return t._resetImagePosition()}),200)}}}},{key:"_resetImagePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._getActiveImageRef();if(t){if(this._zoomedValues.scale>1&&!e){var n=t.getBoundingClientRect(),r=window.innerHeight-n.bottom,i=window.innerWidth-n.right,o=!0;if(n.height<innerHeight?this._zoomedValues.y=0:n.top>0?this._zoomedValues.y-=n.top:r>0?this._zoomedValues.y+=r:o=!1,n.width<innerWidth?(this._zoomedValues.x=0,o=!0):n.left>0?(this._zoomedValues.x-=n.left,o=!0):i>0&&(this._zoomedValues.x+=i,o=!0),!o)return}else this._resetZoomedState();!(function(e,t,n){if(n)return new Promise(function(r){var i=function t(){r(),e.removeEventListener("transitionend",t),e.removeEventListener("webkitTransitionEnd",t),Ze(e,{transition:"all 0s ease 0s"})},o=Object.assign({},t,{transition:"".concat(n,"ms ease")});e.addEventListener("transitionend",i),e.addEventListener("webkitTransitionEnd",i),Ze(e,o)});Ze(e,t)})(t,this._zoomedValues,200)}}},{key:"_toggleZoomGestures",value:function(e){if(this._toggleGestures([mt.PINCH_TO_ZOOM,mt.DOUBLE_TAP_TO_ZOOM],e),this._toggleGestures([mt.MOVE_ZOOMED],this.state.isZoomed&&e),this._itemsContainerRef){var t=this.props.enabledGestures.includes(mt.WHEEL_TO_ZOOM);e?(this._itemsContainerRef.addEventListener("touchend",dt.b),t&&this._itemsContainerRef.addEventListener("wheel",this._onWheel)):(this._itemsContainerRef.removeEventListener("touchend",dt.b),t&&this._itemsContainerRef.removeEventListener("wheel",this._onWheel))}}},{key:"_onActiveResourceChange",value:function(e,t,n){if(this._sliderBaseRef){var r=this._sliderBaseRef.isCurrentResourceAnImage(),i=e&&!e.content;r!==i&&this._toggleZoomGestures(i),t<0?this._sliderBaseRef.switchToPrevious(n):this._sliderBaseRef.switchToNext(n)}}},{key:"_toggleGestures",value:function(e,t){var n=this;e.forEach((function(e){var r=n._gesturesToRecognizers[e];if(r&&n._hammerRecognisers){var i=n.props.enabledGestures.includes(e);n._hammerRecognisers[r].set({enable:t&&i})}}))}},{key:"_setZoomedState",value:function(e){this.props.onZoomStateChange(e),this._zoomedValues=e;var t=e.scale>1;this._toggleIsZoomed(t),this.setState({toolbarVisible:!t}),this._toggleGestures([mt.SWIPE_TO_CHANGE,mt.SWIPE_TO_CLOSE],!t),this._toggleGestures([mt.MOVE_ZOOMED],t)}},{key:"_resetZoomedState",value:function(){this._setZoomedState({scale:1,x:0,y:0})}},{key:"_toggleIsZoomed",value:function(e){e=void 0===e?!this.state.isZoomed:e,this.setState({isZoomed:e})}},{key:"_onPanH",value:function(e){var t=this;if("panhstart"===e.type||this._currentTransform instanceof et){var n=Object(dt.a)(Object(Xe.c)(this.props));"panhstart"===e.type?(this._currentTransform=new et(this.props.viewportSize,this._getItemsRefs()),this._currentTransform.start(e)):"panhmove"===e.type||"panhcancel"===e.type?this._currentTransform&&this._currentTransform.move(e):"panhend"===e.type&&this._currentTransform&&this._currentTransform.end().then((function(e){t._onActiveResourceChange(t.props.resources[n+e],e,vt.GESTURE)})).catch(pt)}}},{key:"_onPanV",value:function(e){var t=this;if("panvstart"===e.type||this._currentTransform instanceof nt)switch(e.type){case"panvstart":this._container&&(this._currentTransform=new nt(this.props.viewportSize,this._container),this._currentTransform.start(e));break;case"panvmove":this._currentTransform&&this._currentTransform.move(e);break;case"panvend":case"panvcancel":this._currentTransform&&this._currentTransform.end().then((function(){t.props.onClose(vt.GESTURE)})).catch(pt)}}},{key:"_onPinch",value:function(e){switch(e.type){case"pinchstart":var t=this._getActiveImageRef();if(!t)return;var n=t.getBoundingClientRect();this._currentTransform=new at(this.props.viewportSize,t,n),this._currentTransform.start(e,this._zoomedValues),this._setZoomedState(this._currentTransform._extractTransformData(e));break;case"pinchmove":this._currentTransform&&this._currentTransform.move(e);break;case"pinchend":case"pinchcancel":this._currentTransform&&(this._setZoomedState(this._currentTransform._currentData),this._resetImagePosition())}}},{key:"_onPan",value:function(e){switch(e.type){case"panstart":var t=this._getActiveImageRef();if(t){var n=t.getBoundingClientRect();this._currentTransform=new ut(this.props.viewportSize,t,{width:n.width,height:n.height}),this._currentTransform.start(e,this._zoomedValues)}break;case"panmove":this._currentTransform&&this._currentTransform.move(e);break;case"panend":case"pancancel":this._currentTransform&&(this._setZoomedState(this._currentTransform._currentData),this._resetImagePosition())}}},{key:"_onDbTap",value:function(e){var t=this._getActiveImageRef();if(t){var n=t.getBoundingClientRect();this._currentTransform=new lt(this.props.viewportSize,t,n),this._currentTransform.start(e,this._zoomedValues),this._currentTransform.end(),this._setZoomedState(this._currentTransform._currentData)}}},{key:"_setToolbarVisible",value:function(e){this.setState({toolbarVisible:e})}},{key:"_shouldHandleTap",value:function(e){var t=e.target;return!(!this._mountTimestamp||e.timeStamp-this._mountTimestamp<300)&&(!e.target.closest("video")&&(!(!this._container||!this._container.contains(t))&&(!this.props.disableTapOnSelectors.length||!this.props.disableTapOnSelectors.some((function(e){return t.closest(e)})))))}},{key:"_onTap",value:function(e){this._shouldHandleTap(e)&&this._setToolbarVisible(!this.state.toolbarVisible)}},{key:"_setRef",value:function(e){this._sliderBaseRef=e}},{key:"_setContainerRef",value:function(e){this._container=e}},{key:"_setItemsContainerRef",value:function(e){this._itemsContainerRef=e}},{key:"render",value:function(){return Le.a.createElement(Xe.b,Ge()({},this.props,{toolbarVisible:this.state.toolbarVisible,sliderApi:this.sliderApi,ref:this._setRef,containerRef:this._setContainerRef,itemsContainerRef:this._setItemsContainerRef}))}}]),n})(Ne.Component),yt=function(){};gt.defaultProps=Object.assign({enabledGestures:[mt.SWIPE_TO_CLOSE,mt.SWIPE_TO_CHANGE,mt.DOUBLE_TAP_TO_ZOOM,mt.PINCH_TO_ZOOM,mt.MOVE_ZOOMED,mt.WHEEL_TO_ZOOM],onZoomStateChange:yt,onToolbarVisibilityChange:yt,onToolbarAnimationEnd:yt,disableTapOnSelectors:[],shouldSetToolbarVisible:!1},Xe.b.defaultProps),gt.ToolbarLeft=Xe.b.ToolbarLeft,gt.ToolbarRight=Xe.b.ToolbarRight;var bt=gt,_t=n(443),Ot=n(101),wt=n(444),Et=n(60),St=n(25),Ct=n(11),xt=n.n(Ct);n(1364);function kt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var Tt=function(){return xt()()("resource-preview")},jt=(function(e){Re()(n,e);var t=kt(n);function n(){return Se()(this,n),t.apply(this,arguments)}return xe()(n,[{key:"_getImageOrIcon",value:function(){var e=this.props,t=e.resource,n=t.defaultPreview,r=t.meta,i=r.mediatype,o=r.previewLoadFailed,a=t.ext,s=t.virus,u=e.iconSize,c=e.imageSize,l=e.nonce,d=e.onImageLoadError,f=e.onImageLoadSuccess,h="undefined"==typeof window,p=function(){return Le.a.createElement(wt.a,{key:"image",cls:Tt().e("image"),onError:d,onLoad:f,src:"".concat(n,"&size=").concat(c,"x").concat(c)})};return!n||o||s?Le.a.createElement(Ot.a,{ext:a,mediatype:i,shadow:!0,size:u,type:s?"virus":""}):h&&l?[p(),Le.a.createElement("script",{key:"script",nonce:l,dangerouslySetInnerHTML:{__html:(function(e){return"\nvar preview = document.querySelector('.resource-preview__image');\nif (preview) {\n  var drp = Math.max(window.devicePixelRatio || 1, 1);\n  var imageSize = Math.min(document.documentElement.clientWidth - 80, document.documentElement.clientHeight);\n  preview.src = '".concat(e,"&' + 'size={{imageSize}}x{{imageSize}}'.replace('{{imageSize}}', imageSize).replace('{{imageSize}}', imageSize);\n}")})(n)}})]:p()}},{key:"render",value:function(){var e=this._getImageOrIcon();return this.props.openWith&&(e=Le.a.createElement(Et.Link,Ge()({theme:"normal"},this.props.openWith),e),this.props.openButtonPosition&&(e=Le.a.createElement("div",{className:Tt().m({"button-position":this.props.openButtonPosition,"button-visible":this.props.openButtonVisible})},e,Le.a.createElement("div",{className:Tt().e("overlay")}),Le.a.createElement("div",{className:Tt().e("button-wrap")},Le.a.createElement(St.Button,Ge()({view:"raised",size:"m",pin:"circle-circle",className:Tt().e("open-button")},this.props.openWith),this.props.openButtonText))))),e}}]),n})(Ne.PureComponent);jt.defaultProps={iconSize:"l",imageSize:400};var Rt=jt,Pt=(n(1365),function(e){var t=e.name,n=e.cls;return Le.a.createElement("div",{className:xt()()("resource-name").mix(n)},t)}),Dt=n(246),It=(n(1368),n(15));function At(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var Mt=(function(e){Re()(n,e);var t=At(n);function n(){return Se()(this,n),t.apply(this,arguments)}return xe()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return Le.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M6 2l17 10L6 22z"})}}]),n})(It.default),Nt=Object(It.iconProvider)(Mt);function Lt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var Ft=(function(e){Re()(n,e);var t=Lt(n);function n(){return Se()(this,n),t.apply(this,arguments)}return xe()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return Le.a.createElement("path",{fill:"currentColor",d:"M4 2h5v20H4V2zm11 0h5v20h-5V2z"})}}]),n})(It.default),Bt=Object(It.iconProvider)(Ft),Ut=n(409),zt=n.n(Ut),Vt=n(200),Ht=n(386);n(1369);function Wt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var Gt=function(){return xt()()("audio-player")},qt=null,$t=(function(e){Re()(n,e);var t=Wt(n);function n(e){var r;return Se()(this,n),(r=t.call(this,e)).state={isPlaying:!1,requestingUrl:!1,isReady:!1,error:!1,hidePlayButton:!1,canPlay:!r.props.detectPlayability,currentTime:0},r._onPlayPauseButtonClick=r._onPlayPauseButtonClick.bind(Te()(r)),r._onAudioCanPlay=r._onAudioCanPlay.bind(Te()(r)),r._onAudioTimeUpdate=r._onAudioTimeUpdate.bind(Te()(r)),r._onAudioEnded=r._onAudioEnded.bind(Te()(r)),r._onProgressDown=r._onProgressDown.bind(Te()(r)),r._onProgressMove=r._onProgressMove.bind(Te()(r)),r._onError=r._onError.bind(Te()(r)),r}return xe()(n,[{key:"componentDidMount",value:function(){if(this.props.detectPlayability){var e=Boolean(Object(Vt.default)(this.props.mimetype));if(this.setState({canPlay:e}),!e)return}this._audioElement=document.createElement("audio"),this._audioElement.className=Gt().e("audio-element"),document.body.appendChild(this._audioElement),this._audioElement.addEventListener("canplay",this._onAudioCanPlay),this._audioElement.addEventListener("timeupdate",this._onAudioTimeUpdate),this._audioElement.addEventListener("ended",this._onAudioEnded),this._audioElement.addEventListener("error",this._onError),this._documentPointerListener=Object(Ht.a)({isTouch:this.props.isTouch,scope:this._progress,onBeforeStart:this._onProgressDown,onMove:this._onProgressMove}),this.props.autoplay?this._requestAndPlay():this.props.preloadMeta&&(this._audioElement.preload="metadata",this._updateUrl())}},{key:"componentDidUpdate",value:function(e){this.state.isPlaying||(this.props.autoplay&&!e.autoplay?this._requestAndPlay():this.props.preloadMeta&&!e.preloadMeta&&this._audioElement&&(this._audioElement.preload="metadata",this._updateUrl()))}},{key:"componentWillUnmount",value:function(){this._audioElement&&(this._pause(),document.body.removeChild(this._audioElement),this._documentPointerListener&&this._documentPointerListener.clearListeners(),this._audioElement.removeEventListener("canplay",this._onAudioCanPlay),this._audioElement.removeEventListener("timeupdate",this._onAudioTimeUpdate),this._audioElement.removeEventListener("ended",this._onAudioEnded),this._audioElement.removeEventListener("error",this._onError))}},{key:"toggleIsPlaying",value:function(e){void 0===e&&(e=!this.state.isPlaying),this.state.isPlaying!==e&&(this.props.onPlayStateChange({isPlaying:e}),e?this._audioUrl?this._play():this._requestAndPlay():(this._pause(),this._playOnReady=!1))}},{key:"maybeResetCurrentTime",value:function(){this._audioElement&&isFinite(this._audioElement.duration)&&(this._audioElement.currentTime=0,this.setState({currentTime:0}))}},{key:"_setCurrentTimeFromPoint",value:function(e){if(this._progressRect&&this._audioElement){var t=Math.max(this._progressRect.left,e.clientX||0);t=Math.min(this._progressRect.right,t);var n=(t-=this._progressRect.left)/this._progressRect.width*this._audioElement.duration;this._audioElement.currentTime=n,this.setState({currentTime:n})}}},{key:"_onProgressDown",value:function(e){this._progressRect=this._progress&&this._progress.getBoundingClientRect(),this._setCurrentTimeFromPoint(e)}},{key:"_onProgressMove",value:function(e,t){this._setCurrentTimeFromPoint(t)}},{key:"_onAudioCanPlay",value:function(){this.setState({isReady:!0,requestingUrl:!1}),this._playOnReady&&this.toggleIsPlaying(!0)}},{key:"_onAudioTimeUpdate",value:function(){this._audioElement&&this.setState({currentTime:this._audioElement.currentTime})}},{key:"_onAudioEnded",value:function(){this.setState({isPlaying:!1}),this.props.onAudioEnded()}},{key:"_onError",value:function(){this.setState({error:!0}),this.props.preloadMeta||(this.setState({isPlaying:!1,canPlay:!1,hidePlayButton:!0}),this.props.onPlayError())}},{key:"_updateUrl",value:function(){var e=this;return this.props.requestAudioUrl().then((function(t){e._audioUrl=t,e._audioElement&&(e._audioElement.src=t)})).catch((function(){e.setState({isPlaying:!1,requestingUrl:!1})}))}},{key:"_requestAndPlay",value:function(){var e=this;this.setState({requestingUrl:!0}),this._updateUrl().then((function(){e._audioElement&&e._audioElement.load(),e._playOnReady=!0}))}},{key:"_onPlayPauseButtonClick",value:function(){this.state.hidePlayButton||this.toggleIsPlaying(!this.state.isPlaying)}},{key:"_play",value:function(){if(this.state.error)return this.setState({isPlaying:!1,canPlay:!1,hidePlayButton:!0}),void this.props.onPlayError();this.setState({isPlaying:!0}),qt&&qt!==this&&qt.toggleIsPlaying(!1),qt=this,this._audioElement&&this._audioElement.play()}},{key:"_pause",value:function(){this.setState({isPlaying:!1}),this._audioElement&&this._audioElement.pause(),qt===this&&(qt=null)}},{key:"_getTimeLine",value:function(){var e=this,t=this._audioElement&&isFinite(this._audioElement.duration),n=0,r=null;return this._audioElement&&t&&(n=this.state.currentTime/this._audioElement.duration*100,r=zt()(Math.round(this._audioElement.duration))),Le.a.createElement("div",{className:Gt().e("time-line")},Le.a.createElement("div",{className:Gt().e("time").m({current:!0})},zt()(Math.round(this.state.currentTime))),Le.a.createElement("div",{className:Gt().e("progress"),ref:function(t){e._progress=t}},Le.a.createElement("div",{className:Gt().e("progress-percent"),style:{width:n.toFixed(2)+"%"}})),Le.a.createElement("div",{className:Gt().e("time").m({duration:!0})},r))}},{key:"render",value:function(){return Le.a.createElement("div",{className:Gt().m({ready:this.state.isReady,play:this.state.isPlaying,preload:this.props.preloadMeta,"hide-play":this.state.hidePlayButton,"detect-playability":this.props.detectPlayability,"can-play":this.state.canPlay,theme:this.props.theme})},Le.a.createElement("div",{className:Gt().e("resource"),onClick:this._onPlayPauseButtonClick},Le.a.createElement(Ot.a,{cls:Gt().e("resource-icon"),size:"l",mediatype:"audio",shadow:!0}),Le.a.createElement(St.Button,{view:"dark",pin:"circle-circle",size:"xxl",className:Gt().e("play-pause-button"),icon:this.state.isPlaying||this.state.requestingUrl?Bt:Nt})),Le.a.createElement(Pt,{name:this.props.resourceName,cls:Gt().e("resource-name")}),this._getTimeLine())}}]),n})(Ne.Component),Yt=function(){};$t.defaultProps={isTouch:!1,theme:"light",preloadMeta:!1,onPlayStateChange:Yt,onPlayError:Yt,onAudioEnded:Yt};var Kt=$t,Xt=n(45),Zt=n(16),Jt=n(285),Qt=n(43);function en(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var tn=(function(e){Re()(n,e);var t=en(n);function n(e){var r;return Se()(this,n),(r=t.call(this,e))._playerStoppedByResourceChange=!1,r._requestAudioUrl=r._requestAudioUrl.bind(Te()(r)),r._onPlayStateChange=r._onPlayStateChange.bind(Te()(r)),r._onAudioEnded=r._onAudioEnded.bind(Te()(r)),r}return xe()(n,[{key:"_stopPlayerOnResourceChange",value:function(){this._playerStoppedByResourceChange=!0,this._player&&this._player.toggleIsPlaying(!1)}},{key:"componentDidUpdate",value:function(e){"slider"===e.dialog&&!this.props.dialog&&this._player&&this._player.toggleIsPlaying(!1),e.idDialog!==this.props.idDialog&&e.idDialog===this.props.resourceId&&this._stopPlayerOnResourceChange(),"slider"===this.props.dialog&&this.props.autoplay&&e.idDialog!==this.props.idDialog&&this.props.idDialog===this.props.resourceId&&this._player&&(this._player.maybeResetCurrentTime(),this._player.toggleIsPlaying(!0))}},{key:"_onPlayStateChange",value:function(e){var t=e.isPlaying;this._playerStoppedByResourceChange?this._playerStoppedByResourceChange=!1:this.props.idDialog===this.props.resourceId&&this.props.updateSettings({autoplayAudio:t})}},{key:"_onAudioEnded",value:function(){this.props.playNextAudio()}},{key:"_requestAudioUrl",value:function(){return this.props.maybeBlockActionOverdraft()?Promise.reject():Object(Zt.fetchResourceUrl)(this.props.resourceId)}},{key:"render",value:function(){var e=this;return Le.a.createElement(Kt,{ref:function(t){e._player=t},theme:"dark",autoplay:this.props.autoplay&&this.props.idDialog===this.props.resourceId,isTouch:this.props.isMobile,resourceName:this.props.resourceName,requestAudioUrl:this._requestAudioUrl,onPlayStateChange:this._onPlayStateChange,onAudioEnded:this._onAudioEnded})}}]),n})(Ne.Component),nn=Object(Me.connect)((function(e,t){var n=t.resourceId,r=e.resources,i=e.page,o=i.idDialog,a=i.dialog,s=e.environment.agent.isMobile,u=e.settings.autoplayAudio,c=r[n]||{};return{dialog:a,idDialog:o,resourceId:c.id,resourceName:c.name||"",isMobile:s,autoplay:u&&!Object(Qt.getOverdraftType)(e)}}),{playNextAudio:Jt.d,updateSettings:Xt.updateSettings,maybeBlockActionOverdraft:J.maybeBlockActionOverdraft})(tn),rn=n(131),on=n.n(rn),an=function(e){return new Promise(function(t,n){var r=document.createElement("script");r.type="text/javascript",r.onload=t,r.onerror=n,r.async=!0,r.src=e,document.head.appendChild(r)})},sn=n(112);n(1370);function un(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var cn,ln=function(){return xt()()("video-player")},dn={BUFFERING:"buffering",PLAY:"play",PAUSE:"pause"},fn=!1,hn=(function(e){Re()(n,e);var t=un(n);function n(e){var r;return Se()(this,n),(r=t.call(this,e))._waitPlayerReadyToPlay=!1,r.state={videosReady:Boolean(r.props.videos),apiReady:fn,isPlaybackInProgress:!1,isPlayerSkinSeeking:!1,hidePreview:!1,width:void 0,height:void 0},r._onPlayerReady=r._onPlayerReady.bind(Te()(r)),r._onPlayerStateChange=r._onPlayerStateChange.bind(Te()(r)),r._onPlayerSkinSeeking=r._onPlayerSkinSeeking.bind(Te()(r)),r._onPlayerSkinSeeked=r._onPlayerSkinSeeked.bind(Te()(r)),r._onWindowResize=r._onWindowResize.bind(Te()(r)),r._onOverlayClicked=r._onOverlayClicked.bind(Te()(r)),r._nodeRef=r._nodeRef.bind(Te()(r)),r._videoContainerRef=r._videoContainerRef.bind(Te()(r)),r._onKeyDown=r._onKeyDown.bind(Te()(r)),r._onPointerEvent=r._onPointerEvent.bind(Te()(r)),r._aspectRatio=0,r}return xe()(n,[{key:"componentDidMount",value:function(){var e=this;cn||(cn=an(this.props.iframeApiURL)).catch((function(t){e.props.onError(t)})),fn||cn.then((function(){fn=!0,e.setState({apiReady:!0})})),this.state.videosReady&&this._startKeepAspectRatioHandling(this.props.videos)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._onWindowResize),this._onResizeRequest&&cancelAnimationFrame(this._onResizeRequest)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!this.state.videosReady&&e.videos&&e.videos.length&&(this._startKeepAspectRatioHandling(e.videos),this.setState({videosReady:!0})),e.forceDestroyPlayer&&this._playerInited&&this._destroyStreamPlayer()}},{key:"componentDidUpdate",value:function(e,t){var n;(t.width===this.state.width&&t.height===this.state.height||this.props.onPlayerResize(),!this._playerInited&&this.state.apiReady&&this.state.videosReady&&this.props.initPlayer&&!this.props.forceDestroyPlayer&&(this._onWindowResize(),this._initPlayer(),this.props.onPlayerResize()),this._isPlayerReady&&this.props.autoplay&&!e.autoplay)&&(this._streamPlayer.play(),null===(n=this._streamPlayer.skin)||void 0===n||n.focus())}},{key:"_initPlayer",value:function(){var e,t=this;this._playerInited=!0;var n=this.props.videos.find((function(e){return"adaptive"===e.dimension}));n&&(e=n.url),this._isPlayerReady=!1;var r={useFriendlyFrame:!0,version:this.props.videoPlayerVersion,source:{additionalParams:{from:"disk"},streams:[{url:e}],preview:this._getPreviewUrl()},element:this._videoContainer,autoplay:this.props.autoplay&&"preview"!==this.props.displayType,autoQuality:!1,size:{width:"100%",height:"100%"},skinParams:{skinConfig:{focusOnInit:!0,useVideoHeightAsName:!0}}};this._streamPlayer=window.Ya.playerApi.init(r),this._streamPlayer.on("Ready",this._onPlayerReady),this._streamPlayer.on("PlayingStateChange",this._onPlayerStateChange),this.props.autoplay&&this._onPlayerStateChange({playingState:dn.PLAY}),this._streamPlayer.on("SkinReady",(function(){var n=t._streamPlayer.skin;n&&(n.on("Seeking",t._onPlayerSkinSeeking),n.on("Seeked",t._onPlayerSkinSeeked),t.props.addExternalConfig&&n.updateExternalPlayerConfig({player_item_id:e,player_id:"disk"}))}))}},{key:"_onKeyDown",value:function(e){var t=[sn.Keys.SPACE,sn.Keys.LEFT,sn.Keys.UP,sn.Keys.RIGHT,sn.Keys.DOWN];return!(this._isPlayerReady&&this._streamPlayer&&"started"===this._streamPlayer.getState().startStage&&t.includes(e.keyCode))||(e.stopPropagation(),!1)}},{key:"_onPointerEvent",value:function(e){return!this._isPlayerReady||!this._streamPlayer||"started"!==this._streamPlayer.getState().startStage||(e.stopPropagation(),!1)}},{key:"_getPreviewUrl",value:function(){if(this._previewUrl)return this._previewUrl;if(this.props.previewBase){var e=this.props.videos.reduce((function(e,t){var n=t.size;return n&&(!e.height||e.height<n.height)?n:e}),{});return this._previewUrl=this.props.previewBase+"&size=".concat(e.width,"x").concat(e.height),this._previewUrl}}},{key:"_onOverlayClicked",value:function(){var e;this.props.preventOverlayClick&&this.props.preventOverlayClick()||("preview"===this.props.displayType&&this.setState({hidePreview:!0}),this._isPlayerReady?(this._streamPlayer.play(),null===(e=this._streamPlayer.skin)||void 0===e||e.focus(),this.setState({isPlaybackInProgress:!0})):this._waitPlayerReadyToPlay=!0)}},{key:"_onPlayerReady",value:function(){var e;(this._isPlayerReady=!0,this.props.onPlayerReady(),this._waitPlayerReadyToPlay)&&(this._waitPlayerReadyToPlay=!1,this._streamPlayer.play(),null===(e=this._streamPlayer.skin)||void 0===e||e.focus());this._videoContainer&&(this._videoContainer.addEventListener("pointerdown",this._onPointerEvent),this._videoContainer.addEventListener("pointerup",this._onPointerEvent),this._videoContainer.addEventListener("pointermove",this._onPointerEvent),this._videoContainer.addEventListener("pointercancel",this._onPointerEvent),this._videoContainer.addEventListener("keydown",this._onKeyDown))}},{key:"_destroyStreamPlayer",value:function(){this._streamPlayer.destroy(),this._streamPlayer=null,this._playerInited=!1,this._isPlayerReady=!1,this.setState({hidePreview:!1,isPlaybackInProgress:!1}),this._videoContainer&&(this._videoContainer.removeEventListener("pointerdown",this._onPointerEvent),this._videoContainer.removeEventListener("pointerup",this._onPointerEvent),this._videoContainer.removeEventListener("pointermove",this._onPointerEvent),this._videoContainer.removeEventListener("pointercancel",this._onPointerEvent),this._videoContainer.removeEventListener("keydown",this._onKeyDown))}},{key:"_onPlayerStateChange",value:function(e){var t=e&&e.playingState,n=[dn.PLAY,dn.BUFFERING].includes(t),r=n!==this.state.isPlaybackInProgress;r&&this.setState({isPlaybackInProgress:n}),!this.state.isPlayerSkinSeeking&&r&&this.props.onPlayChange(n)}},{key:"_onPlayerSkinSeeking",value:function(){!this.state.isPlayerSkinSeeking&&this.setState({isPlayerSkinSeeking:!0})}},{key:"_onPlayerSkinSeeked",value:function(){this.state.isPlayerSkinSeeking&&this.setState({isPlayerSkinSeeking:!1})}},{key:"_hasOverlay",value:function(){var e=this.props.isMobile||!this.state.hidePreview;return("preview"===this.props.displayType||this.props.isMobile)&&!this.state.isPlaybackInProgress&&!this.state.isPlayerSkinSeeking&&e}},{key:"_getOverlay",value:function(){if(this._hasOverlay()){var e=this.props.isMobile;return Le.a.createElement("div",{className:ln().e("touch-overlay"),onClick:this._onOverlayClicked},this.state.hidePreview||"preview"!==this.props.displayType?null:Le.a.createElement("button",{className:ln().e("touch-overlay-button").m({mobile:e})},Le.a.createElement(Mt,{iconSize:e?"xxl":"xxxl"})))}return null}},{key:"_startKeepAspectRatioHandling",value:function(e){var t=e[0].size;this._aspectRatio=t.width/t.height,window.addEventListener("resize",this._onWindowResize),this._onWindowResize()}},{key:"_onWindowResize",value:function(){var e=this;this._onResizeRequest=requestAnimationFrame((function(){if(e._node){var t,n;if("width"===e.props.fitTo)t=(n=e._node.offsetWidth)/e._aspectRatio;else{var r=getComputedStyle(e._node).maxHeight;(n=(t=Math.max(parseInt(r,10)||0,e._node.offsetHeight))*e._aspectRatio)>e._node.offsetWidth&&(t=(n=e._node.offsetWidth)/e._aspectRatio)}e.setState({width:n,height:t})}}))}},{key:"_nodeRef",value:function(e){this._node=e}},{key:"_videoContainerRef",value:function(e){this._videoContainer=e}},{key:"render",value:function(){var e,t=!1;if(this.state.apiReady&&this.state.videosReady){var n={};this.state.width&&(n={width:this.state.width+"px",height:this.state.height+"px"});var r=null,i=this._getPreviewUrl();"preview"!==this.props.displayType||this.state.hidePreview||(t=!0,i&&(t=!0,r=Le.a.createElement("div",{className:ln().e("preview"),style:{backgroundImage:"url(".concat(i,")")}}))),e=Le.a.createElement("div",{className:ln().e("container"),style:n},Le.a.createElement("div",{className:ln().e("player"),ref:this._videoContainerRef}),this._getOverlay(),r,this.props.toolbar||null)}else e=this.props.error?this.props.error:Le.a.createElement(He.Spin,{view:"default",size:"l",progress:!0,className:ln().e("spin")});return Le.a.createElement("div",{className:ln().m({"has-overlay":this._hasOverlay(),"preview-visible":t}).mix(this.props.cls),ref:this._nodeRef},e)}}]),n})(Ne.Component);hn.defaultProps={initPlayer:!0,autoplay:!1,displayType:"player",fitTo:"width",onStateChange:on.a,onPlayChange:on.a,onPlayerResize:on.a,onPlayerReady:on.a,onError:on.a,addExternalConfig:!1};var pn=hn;function mn(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var vn=(function(e){Re()(n,e);var t=mn(n);function n(e){var r;return Se()(this,n),(r=t.call(this,e))._preventOverlayClick=r._preventOverlayClick.bind(Te()(r)),r}return xe()(n,[{key:"componentDidMount",value:function(){this.props.fetchVideoInfo(this.props.resourceId),F.default.count("interface elements","video","show")}},{key:"componentDidUpdate",value:function(e){this.props.forceDestroyPlayer&&!e.forceDestroyPlayer&&this.props.autoplay&&this.props.updateSettings({videoAutoPlayId:null})}},{key:"_preventOverlayClick",value:function(){return this.props.maybeBlockActionOverdraft()}},{key:"render",value:function(){var e=this.props,t=e.resourceId,n=e.resources[t],r=n.defaultPreview,i=n.meta,o=i.videoInfo,a=i.videoInfoLoadFailed,s=o||{},u=s.streamId,c=s.videos,l=h.a.omit(this.props,["resourceId","resources"]);return Le.a.createElement(pn,Ge()({},l,{displayType:l.autoplay?"player":"preview",previewBase:r,streamId:u,videos:c,error:a&&"Ошибка",addExternalConfig:!0,preventOverlayClick:this._preventOverlayClick}))}}]),n})(Ne.PureComponent),gn=Object(Me.connect)((function(e,t){var n=t.resourceId,r=t.forceDestroyPlayer,i=e.config,o=i.links.videoPlayerIframeApi,a=i.videoPlayerVersion,s=e.settings.videoAutoPlayId;return{resources:e.resources,iframeApiURL:o,videoPlayerVersion:a,autoplay:s===n&&!Object(Qt.getOverdraftType)(e),forceDestroyPlayer:r}}),{fetchVideoInfo:Zt.fetchVideoInfo,updateSettings:Xt.updateSettings,maybeBlockActionOverdraft:J.maybeBlockActionOverdraft})(vn),yn=n(235),bn=(n(1376),n(180)),_n=n(117),On=n(74),wn=n(166);n(1377);function En(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var Sn=function(){return xt()()("resources-info-dropdown")},Cn=(function(e){Re()(n,e);var t=En(n);function n(e){var r;return Se()(this,n),(r=t.call(this,e))._onTogglePopup=r._onTogglePopup.bind(Te()(r)),r._popupAnchor=Le.a.createRef(),r._containerRef=Le.a.createRef(),r}return xe()(n,[{key:"_onTogglePopup",value:function(){this.props.visible?this.props.onClose():this.props.onOpen()}},{key:"_getButton",value:function(){return Le.a.createElement(St.Button,{innerRef:this._popupAnchor,onClick:this._onTogglePopup,view:"clear-inverse","aria-label":this.props.buttonName,size:"m",icon:function(e){return Le.a.createElement(bn.a,{cls:Sn().e("icon").mix(e)})}})}},{key:"_getButtonWithTooltip",value:function(){return Le.a.createElement("div",{className:Sn().e("icon-wrap")},Le.a.createElement(wn.default,{text:this.props.buttonName,direction:["bottom","right"],disabled:this.props.isMobile||!this.props.buttonName||this.props.visible},this._getButton()))}},{key:"render",value:function(){return Le.a.createElement("div",{className:Sn(),ref:this._containerRef},this.props.name&&this._getButtonWithTooltip()||this._getButton(),this.props.isMobile?Le.a.createElement(_n.Drawer,{className:Ve.LISTING_PREVENT_DESELECT_CLASS,onClose:this.props.onClose,view:"default",visible:this.props.visible},this.props.children):Le.a.createElement(On.Popup,{view:"default",className:Ve.LISTING_PREVENT_DESELECT_CLASS,visible:this.props.visible,target:"anchor",anchor:this._popupAnchor,onClose:this.props.onClose,direction:this.props.direction,scope:this._containerRef},Le.a.createElement("div",{className:Sn().e("popup")},this.props.children)),this.props.name&&Le.a.createElement("div",{className:Sn().e("text-wrap")},Le.a.createElement(wn.default,{text:this.props.fullName,direction:["bottom","right"],disabled:this.props.isMobile},Le.a.createElement("span",{className:Sn().e("name")},this.props.name))))}}]),n})(Ne.PureComponent),xn=(function(e){Re()(n,e);var t=En(n);function n(e){var r;return Se()(this,n),(r=t.call(this,e)).state={visible:!1},r._onOpen=r._onOpen.bind(Te()(r)),r._onClose=r._onClose.bind(Te()(r)),r.maybeClose=r.maybeClose.bind(Te()(r)),r}return xe()(n,[{key:"_onOpen",value:function(){this.setState({visible:!0}),this.props.onOpen()}},{key:"_onClose",value:function(){this.setState({visible:!1}),this.props.onClose()}},{key:"maybeClose",value:function(){this.state.visible&&this._onClose()}},{key:"render",value:function(){return Le.a.createElement(Cn,Ge()({},this.props,{visible:this.state.visible,onOpen:this._onOpen,onClose:this._onClose}))}}]),n})(Ne.PureComponent);Cn.Content=xn.Content=function(e){var t=e.cls,n=e.content,r=(Array.isArray(n)?n:[n]).filter(Boolean).map((function(e,t){return Le.a.createElement("div",{key:t,className:Sn().e("row")},e)}));return Le.a.createElement("div",{className:Sn().e("content").mix(t)},r)},Cn.Footer=xn.Footer=function(e){var t=e.cls,n=e.children;return Le.a.createElement("div",{className:Sn().e("footer").mix(t)},n)},xn.defaultProps={name:"",onClose:function(){},onOpen:function(){}};var kn=n(256),Tn=n(183),jn=n(407);function Rn(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var Pn=function(){return xt()()("shared-folder-participants")},Dn=(function(e){Re()(n,e);var t=Rn(n);function n(){return Se()(this,n),t.apply(this,arguments)}return xe()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.resourceId,n=e.gid;this.props.fetchSharedFolderUsers(t,n)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.gid===e.gid&&this.props.resourceId===e.resourceId||this.props.fetchSharedFolderUsers(e.resourceId,e.gid)}},{key:"_getUsers",value:function(){var e=this.props.users.map((function(e){return Le.a.createElement("div",{className:Pn().e("user"),key:e.id},Le.a.createElement(Et.Link,{view:"default",href:"mailto:".concat(e.id),title:"Написать письмо"},e.name))}));return Le.a.createElement("div",{className:Pn().e("users")},e)}},{key:"render",value:function(){return Le.a.createElement("div",{className:Pn()},Le.a.createElement("div",{className:Pn().e("title")},"Участники:"),this.props.isLoading?Le.a.createElement(He.Spin,{view:"default",progress:!0,size:"xs"}):this._getUsers())}}]),n})(Ne.Component),In=Object(Me.connect)((function(e,t){var n=e.sharedFoldersUsers[t.gid]||{};return{isLoading:n.isLoading,users:n.users||[]}}),{fetchSharedFolderUsers:jn.a})(Dn),An=n(85),Mn=n(120),Nn=n.n(Mn),Ln=n(211),Fn=n.n(Ln);function Bn(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var Un=function(){return xt()()("ufo-resource-info-dropdown")},zn=n(22),Vn=(function(e){Re()(n,e);var t=Bn(n);function n(e){var r;return Se()(this,n),(r=t.call(this,e)).state={visible:!1},r._onOpen=r._onOpen.bind(Te()(r)),r._onClose=r._onClose.bind(Te()(r)),r._onGoToLinkClick=r._onGoToLinkClick.bind(Te()(r)),r._onOriginalParentNameClick=r._onOriginalParentNameClick.bind(Te()(r)),r}return xe()(n,[{key:"componentDidMount",value:function(){this._toggleDropdownForVirusOrBlocked({}),this.props.createRef&&this.props.createRef(this)}},{key:"componentDidUpdate",value:function(e){this._toggleDropdownForVirusOrBlocked(e)}},{key:"closeDropdown",value:function(){this.state.visible&&this.setState({visible:!1})}},{key:"_toggleDropdownForVirusOrBlocked",value:function(e){var t=this,n=this.props.resource,r=e.resource||{};if(n&&n.id!==r.id){this._showTimerId&&clearTimeout(this._showTimerId);var i=2===n.meta.drweb||n.meta.blocked;!this.state.visible&&i?this._showTimerId=setTimeout((function(){t.setState({visible:!0})}),300):this.state.visible&&!i&&this.setState({visible:!1})}}},{key:"_onOpen",value:function(){this.props.onVisible&&this.props.onVisible(),this.setState({visible:!0});var e=["interface elements"].concat(m()(this.props.metrikaContext));"/recent"===this.props.idContext&&e.push("recent files"),F.default.count.apply(F.default,m()(e).concat(["show info"],m()(this.props.metrikaTail)))}},{key:"_onClose",value:function(){this.setState({visible:!1})}},{key:"_getSharedFolderInfo",value:function(){var e,t=this.props.savedResource,n=t.meta.group;return e=n.is_owned?"Я владелец":Le.a.createElement("span",null,"".concat("Владелец","  — "),Le.a.createElement(Et.Link,{view:"default",href:"mailto:".concat(n.owner.email),title:"Написать письмо"},n.owner.username)),Le.a.createElement("div",{className:Un().e("shared-folder-info")},e,Le.a.createElement("br",null),!n.is_owned&&n.readonly?"Папка доступна только на просмотр.":null,Le.a.createElement(In,{resourceId:t.id,gid:n.gid}))}},{key:"_getVirusInfo",value:function(){return Le.a.createElement("div",{className:Un().e("warning")},"Файл заражён вирусом.")}},{key:"_getBlockedInfo",value:function(){return Le.a.createElement("div",{className:Un().e("warning")},"Файл заблокирован за нарушение условий размещения пользовательского контента на сервисах Яндекса."," ",Le.a.createElement(Et.Link,{view:"default",href:this.props.blockedInfoLink,target:"_blank"},"Подробности"))}},{key:"_getNDAInfo",value:function(){return Le.a.createElement(Le.a.Fragment,null,"Рабочая папка для сотрудников Яндекса. Публичные ссылки доступны только из внутренней сети.",Le.a.createElement("br",null),Le.a.createElement(Et.Link,{view:"default",href:this.props.yateamNDALink},"Подробнее читайте на Вики"))}},{key:"_onOriginalParentNameClick",value:function(){this.setState({visible:!1})}},{key:"_getOriginalParentName",value:function(){var e=this.props.originalParent;return Le.a.createElement("div",{className:Un().e("original-parent-name-wrapper")},"Удален из папки ",Le.a.createElement(Et.Link,{href:zn.getFolderUrl(e.id),view:"default",onClick:this._onOriginalParentNameClick,className:Un().e("original-parent-name")},zn.filename(e.name)))}},{key:"_getContentRow",value:function(e){var t=e.title,n=e.value,r=e.cls;return Le.a.createElement("div",{className:r},Le.a.createElement("span",{className:Un().e("title")},t),Le.a.createElement("span",{className:Un().e("value")},n))}},{key:"_getContent",value:function(){var e=[],t=this.props.savedResource;return e.push(Le.a.createElement("span",{className:Un().e("header")},"dir"===this.props.savedResource.type?"Информация о папке":"Информация о файле")),e.push(this._getContentRow({cls:Un().e("name"),title:"".concat("Имя",": "),value:t.name})),isFinite(t.meta.size)&&e.push(this._getContentRow({cls:Un().e("size"),title:"Размер: ",value:Nn.a.format(t.meta.size)})),isFinite(t.meta.files_count)&&e.push(this._getContentRow({title:"Количество файлов: ",value:t.meta.files_count})),t.mtime&&e.push(this._getContentRow({title:"Изменён: ",value:Fn.a.timestampToDate(t.mtime,"DD.MM.YYYY HH:mm")})),U.default.isYateamNDA(t.id,this.props.defaultFolders)&&e.push(this._getNDAInfo()),2===t.meta.drweb&&e.push(this._getVirusInfo()),t.meta.blocked&&e.push(this._getBlockedInfo()),this.props.originalParent&&e.push(this._getOriginalParentName()),t.meta.group&&t.meta.group.is_root&&e.push(this._getSharedFolderInfo()),t.meta.public&&(e.push(this._getContentRow({cls:Un().e("views"),title:"Просмотров: ",value:t.meta.views_counter||0})),e.push(this._getContentRow({cls:Un().e("downloads"),title:"Скачиваний: ",value:t.meta.download_counter||0}))),e}},{key:"_onGoToLinkClick",value:function(){this.props.goToResource(this.props.resource.id),this.setState({visible:!1})}},{key:"_getFooter",value:function(){var e,t=this.props,n=t.canGoToFile,r=t.canGoToFolder;if(n)e=Object(Y.getTitle)(Y.GO_TO_FILE);else{if(!r)return null;e=Object(Y.getTitle)(Y.GO_TO_FOLDER)}return Le.a.createElement(Cn.Footer,null,Le.a.createElement(Et.Link,{className:Un().e("go-to-link").m({"mobile-pane":this.props.isMobile}),view:"default",href:void 0,onClick:this._onGoToLinkClick},e))}},{key:"render",value:function(){return Le.a.createElement(Cn,{theme:this.props.theme,name:this.props.iconOnly?null:Le.a.createElement(kn.a,{text:this.props.savedResource.name,font:'18px "YS Text"',width:183}),fullName:this.props.savedResource.name,buttonName:"Информация",visible:this.state.visible,onOpen:this._onOpen,onClose:this._onClose,isIosSafari:this.props.isIosSafari,isMobile:this.props.isMobile,direction:["bottom-start","bottom","bottom-end"]},Le.a.createElement(Cn.Content,{cls:Un().m({"mobile-pane":this.props.isMobile}),content:this._getContent()}),this._getFooter())}}]),n})(Ne.Component);Vn.defaultProps={metrikaTail:[]};var Hn=Object(Tn.a)(Vn,"resource",(function(e){return e.resource})),Wn=Object(Me.connect)((function(e,t){var n,r=t.resource,i=e.page.idContext,o=e.resources,a=e.config.links,s=a.termsOfUse,u=a.help.yateamnda,c=e.environment.agent.isMobile,l=e.defaultFolders.folders,d=e.space;if(r&&r.isInTrash){var f=zn.normalize(r.meta.original_parent_id),h=o[f="/lnarod"===f?"/narod":f];h&&!h.name||(n={id:f,name:h?h.name:zn.filename(f)})}return{idContext:i,resource:r,originalParent:n,blockedInfoLink:s,yateamNDALink:u,isIosSafari:Object(An.isIosSafariSelector)(e),isMobile:c,defaultFolders:l,space:d,canGoToFile:Object(Y.can)(Y.GO_TO_FILE,r,e),canGoToFolder:Object(Y.can)(Y.GO_TO_FOLDER,r,e)}}),{goToResource:Zt.goToResource})(Hn),Gn=n(255),qn=n(176),$n=n(126),Yn=n(184),Kn=n(177),Xn=n(185),Zn=n(247),Jn=n(248),Qn=n(186),er=n(187),tr=n(188),nr=n(148),rr=n(144);function ir(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var or=(function(e){Re()(n,e);var t=ir(n);function n(){return Se()(this,n),t.apply(this,arguments)}return xe()(n,[{key:"getContentSVG",value:function(){return null}}]),n})(It.default),ar=Object(It.iconProvider)(or);function sr(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var ur=(function(e){Re()(n,e);var t=sr(n);function n(){return Se()(this,n),t.apply(this,arguments)}return xe()(n,[{key:"getContentSVG",value:function(){return Le.a.createElement("path",{d:"M2 4v10H0V2h5v2H2zm10 10H0v2h14v-5h-2v3zm2-10.737V8h2V0H8v2h4.435L6 8.435l1.414 1.414L14 3.262v.001z",fill:"currentColor"})}}]),n})(It.default),cr=Object(It.iconProvider)(ur),lr=n(249),dr=n(30),fr=n(128),hr=n(100),pr=n(170),mr=n(73),vr=n(432);function gr(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var br=(function(e){Re()(n,e);var t=gr(n);function n(){return Se()(this,n),t.apply(this,arguments)}return xe()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return Le.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.021 17.174a600.2 600.2 0 002.19-2.165l.315-.315c.95-.955 1.706-1.729 2.317-2.374 1.493-1.58 1.537-3.872.162-5.32-1.273-1.339-3.281-1.333-4.547.014L12 8.564l-.728-.775-.73-.775C9.278 5.667 7.27 5.66 5.997 7c-1.376 1.447-1.33 3.74.161 5.318.647.683 1.422 1.477 2.317 2.374l.317.317c.364.364.961.955 2.183 2.16l.003.002L12 18.182l1.021-1.008zm6.433-11.551c2.121 2.231 2.053 5.732-.158 8.071-.624.66-1.391 1.445-2.354 2.413l-.317.317c-.366.365-.953.945-2.197 2.172l-1.724 1.702-.704.696-.703-.696-1.724-1.702-.003-.002c-1.227-1.21-1.825-1.8-2.194-2.17l-.317-.318a131.464 131.464 0 01-2.354-2.412c-2.211-2.339-2.28-5.84-.159-8.07C6.61 3.45 9.948 3.46 12 5.643c2.053-2.184 5.39-2.193 7.454-.021z",fill:"currentColor"})}}]),n})(It.default),_r=Object(It.iconProvider)(br),Or=n(36),wr=n(13),Er=n(48),Sr=n(149),Cr=n(42),xr=function(e,t,n){return function(r){r(Object(Zt.setResourceData)(e,{state:t,itemId:n},"favorite"))}},kr=function(){return function(e,t){var n=t().personalAlbums;return n.favoriteAlbumId?Promise.resolve(n.favoriteAlbumId):Object(Or.a)("createFavoriteAlbum").then((function(t){return t?(e({type:wr.FETCH_ALBUM_SUCCESS,payload:{album:t}}),t.id):Promise.reject(null)}))}},Tr=function(e){return e.favorite&&e.favorite.state},jr=Object(Me.connect)(null,{updateFavoritesInfo:function(e){return function(t,n){var r=Object(fr.d)(n()).sliderResources.filter((function(e){return void 0===e.favorite&&Object(Y.can)(Y.ADD_TO_ALBUM,e,n())}));if(r.length>100){var i=r.findIndex((function(t){return t.id===e.id}));r.splice(i+100),r.splice(0,r.length-100)}return t(Object(Zt.batchSetResourceData)(r.map((function(e){return[e.id,{state:!1},"favorite"]})))),t(function(e){return function(t,n){var r=n().resources,i=Object(Sr.a)(e).map((function(e){return r[e].meta.resource_id}));return i.length?Object(Or.a)("albumFindInFavorites",{resourceIds:JSON.stringify(i)}):Promise.resolve([])}}(r.map((function(e){return e.id})))).then((function(e){var n=r.reduce((function(t,n){var r=e.find((function(e){return e.resource_id===n.meta.resource_id}));return r&&t.push([n.id,{state:!0,itemId:r.item_id},"favorite"]),t}),[]);t(Object(Zt.batchSetResourceData)(n))}))}},toggleFavorite:function(e){return function(t){if(!t(Object(J.maybeBlockActionOverdraft)())){if(e.favorite&&e.favorite.state){var n=e.favorite.itemId;if(!n)return;return t(xr(e.id,!1,e.favorite.itemId)),Object(Or.a)("do-remove-resource-album",{itemId:n}).then((function(n){n.error?t(xr(e.id,!0,e.favorite.itemId)):t(kr()).then((function(n){t(Object(Er.removeItemsFromAlbum)(n,[e.id]))}))})).catch((function(n){n&&"HTTP_404"===n.id?t(xr(e.id,!1)):(t(xr(e.id,!0,e.favorite.itemId)),t(Object(Cr.notify)({operation:"removeResourceAlbum",status:"failed"})))}))}return t(xr(e.id,!0)),t(kr()).then((function(n){t(Object(Er.addToAlbum)(e.id,n,{shouldShowNotification:!1})).then((function(n){n||t(xr(e.id,!1))}))})).catch((function(){t(Object(Cr.notify)({operation:"addToAlbum",status:"failed",count:1,dst:{title:"Избранные"}})),t(xr(e.id,!1))}))}}}})(Le.a.memo((function(e){var t=e.resource,n=e.updateFavoritesInfo,r=e.toggleFavorite,i=e.metrikaContext,o=e.className;Object(Ne.useEffect)((function(){"slider"===i&&F.default.count("favorite","show",i,t.meta.mediatype)}),[t.id,t.meta.mediatype,i]),Object(Ne.useEffect)((function(){void 0===t.favorite&&n(t)}),[t.id]);var a=Tr(t);return Le.a.createElement(St.Button,{view:"clear-inverse",size:"m",onClick:function(){F.default.count("favorite",Tr(t)?"remove":"add",i),r(t)},disabled:(function(e){return e.favorite&&(e.favorite.state&&!e.favorite.itemId||!e.favorite.state&&Boolean(e.favorite.itemId))})(t),className:xt()()("favorite-button").m({state:a?"on":"off"}).mix(o),"aria-label":a?"Убрать из избранного":"Добавить в избранное",icon:a?vr.b:_r})}))),Rr=n(31);function Pr(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var Dr=function(){return xt()()("slider")},Ir=[{id:Y.PUBLISH,group:1,hidePriority:3},{id:Y.EDIT,icon:Xn.b,group:1},{id:Y.TOGGLE_FAVORITES,group:1,hidePriority:3},{id:Y.DOWNLOAD,icon:Kn.b,group:1,hidePriority:1},{id:Y.EXCLUDE_FROM_ALBUM,icon:rr.a,group:1,hidePriority:2},{id:Y.EXCLUDE_FROM_GEO_ALBUM,icon:rr.a,group:1,hidePriority:2},{id:Y.EXCLUDE_FROM_PERSONAL_ALBUM,icon:rr.a,group:1,hidePriority:2},{id:Y.DELETE,icon:nr.b,group:1},{id:Y.COPY,icon:Yn.a,group:2,hidden:!0},{id:Y.MOVE,icon:Qn.b,group:2,hidden:!0},{id:Y.RENAME,icon:er.a,group:2,hidden:!0},{id:Y.UNPUBLISH,icon:tr.a,group:3,hidden:!0},{id:Y.GO_TO_FILE,icon:Zn.a,group:2,hidden:!0},{id:Y.SET_AS_COVER,group:4,icon:lr.a,hidden:!0},{id:Y.SHOW_FULLSIZE,group:4,icon:cr,hidden:!0},{id:Y.ADD_TO_ALBUM,icon:qn.a,group:4,hidden:!0},{id:Y.FOTKI_INFO,group:10,icon:ar,hidden:!0},{id:Y.VERSIONS,icon:Jn.a,group:6,hidden:!0}].map((function(e){return Object.assign({iconOnly:!0,text:Y.titles[e.id]},e)})),Ar=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},Mr=(function(e){Re()(n,e);var t=Pr(n);function n(e){var r;return Se()(this,n),(r=t.call(this,e)).state={viewport:Ar(),shouldSetToolbarVisible:!1},r._updateViewport=function(){var e=Ar();r.setState({viewport:e})},r._updateViewportDebounced=h.a.debounce(r._updateViewport,250),r._closeSlider=r._closeSlider.bind(Te()(r)),r._onCloseButtonClick=r._onCloseButtonClick.bind(Te()(r)),r._handleActiveResourceChange=r._handleActiveResourceChange.bind(Te()(r)),r._onActionButtonClick=r._onActionButtonClick.bind(Te()(r)),r._onMoreButtonClick=r._onMoreButtonClick.bind(Te()(r)),r._getToolbarChildren=r._getToolbarChildren.bind(Te()(r)),r._dropdownRefs={},r._closeAllDropdowns=r._closeAllDropdowns.bind(Te()(r)),r}return xe()(n,[{key:"_onSliderOpenedChange",value:function(e){e?(this._updateViewport(),window.addEventListener("orientationchange",this._updateViewportDebounced),window.addEventListener("resize",this._updateViewportDebounced),this.props.isIosSafari&&window.addEventListener("orientationchange",this._closeAllDropdowns)):(window.removeEventListener("orientationchange",this._updateViewportDebounced),window.removeEventListener("resize",this._updateViewportDebounced),this.props.isIosSafari&&window.removeEventListener("orientationchange",this._closeAllDropdowns))}},{key:"componentDidMount",value:function(){this.props.sliderOpened&&(this._onSliderOpenedChange(!0),this._fetchSliderResource())}},{key:"componentDidUpdate",value:function(e){!e.sliderOpened&&this.props.sliderOpened&&(H.a.reachBlockAndFinishCollectTimings("slider"),this._fetchSliderResource())}},{key:"componentWillUnmount",value:function(){this.props.sliderOpened&&this._onSliderOpenedChange(!1)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.currentSliderResource&&e.currentSliderResource.id,n=this.props.currentSliderResource&&this.props.currentSliderResource.id,r=e.currentSliderResource?e.currentSliderResource.meta.mediatype:"unknown";t&&t!==n&&(this._countMetrika("show",r),this._closeAllDropdowns());var i=t!==n&&e.sliderResourceView===ze.RESOURCE_VIEWS.VIDEO;i!==this.state.shouldSetToolbarVisible&&this.setState({shouldSetToolbarVisible:i}),e.sliderOpened!==this.props.sliderOpened&&(this._onSliderOpenedChange(e.sliderOpened),e.sliderOpened&&e.currentSliderResource&&this._countMetrika("open",r))}},{key:"_fetchSliderResource",value:function(){var e=this;this.props.currentSliderResource||this.props.fetchSliderResourceIfNeed().then((function(){e.props.currentSliderResource&&e._countMetrika("open",e.props.currentSliderResource.meta.mediatype)}))}},{key:"_getMetrikaBranch",value:function(){var e=this.props,t=e.idContext,n=e.photoMetrikaSection,r=e.currentAlbumType;return"/photo"===t?n:0===t.indexOf("/album/")?["album",r]:0===t.indexOf("/remember/")?["photo block"]:["files"]}},{key:"_countMetrika",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];F.default.count.apply(F.default,["interface elements","slider"].concat(m()(this._getMetrikaBranch()),t))}},{key:"_closeSlider",value:function(e){var t=this.props.currentSliderResource&&this.props.currentSliderResource.id;this.props.closeNsDialog("slider"),this._countMetrika("close",e),this.props.updateSettings({autoplayAudio:!1}),this.props.shouldScrollToResource.shouldScroll&&t&&this.props.setScrollToResource(t,this.props.shouldScrollToResource.shouldSelect)}},{key:"_onCloseButtonClick",value:function(){this._closeSlider(vt.BUTTON)}},{key:"_getCloseButton",value:function(){return Le.a.createElement(St.Button,{className:Dr().e("button").m({close:!0}),onClick:this._onCloseButtonClick,size:"m",view:"clear-inverse","aria-label":"Закрыть",icon:$n.close2IconProvider})}},{key:"_handleActiveResourceChange",value:function(e,t,n){this.props.moveSlider(t),this._countMetrika(t>0?"next image":"previous image",n)}},{key:"_getPublishButton",value:function(){var e=this.props.currentSliderResource;return Le.a.createElement(yn.a,{onlyIcon:!0,onlyIconButtonProps:{view:"clear-inverse"},key:Y.PUBLISH,objectIds:[e.id],metrikaContext:["slider"].concat(m()(this._getMetrikaBranch())),dropdownRef:this._setDropdownRef.bind(this,"publish"),direction:["bottom-end","bottom-start"]})}},{key:"_onActionButtonClick",value:function(e){this.props.onAction(e),this._countMetrika(e,this.props.currentSliderResource.meta.mediatype)}},{key:"_onMoreButtonClick",value:function(){this.props.isIosSafari&&window.dispatchEvent(new Event("resize")),this._countMetrika("actions dropdown","show")}},{key:"_getActions",value:function(){var e=this,t=this.props,n=t.currentSliderResource,r=t.actions,i=t.isMobile,o=t.isIosSafari;if(!n)return null;var a=Ir.filter((function(e){return Boolean(r[e.id])}));return a.length&&a.unshift({content:Le.a.createElement(Wn,{theme:"clear-inverse",metrikaContext:["slider"].concat(m()(this._getMetrikaBranch())),resource:n,isIosSafari:o,iconOnly:!0,createRef:this._setDropdownRef.bind(this,"info")}),iconOnly:!0,group:1,hidePriority:3,id:"info",text:"Информация"}),a=a.map((function(t){return Object.assign({},t,r[t.id],t.id===Y.PUBLISH?{content:function(t){return!t&&e._getPublishButton()}}:null,t.id===Y.TOGGLE_FAVORITES?{content:function(e){return!e&&Le.a.createElement(jr,{resource:n,metrikaContext:"slider",className:Dr().e("favorite-button")})}}:null,r[t.id]&&!r[t.id].text?{text:Object(Y.getTitle)(t.id,[n])}:null)})),Le.a.createElement(Dt.a,{view:"clear-inverse",ref:this._setDropdownRef.bind(this,"groupable"),key:"groupable-buttons",buttons:a,onMoreOpen:this._onMoreButtonClick,onButtonClick:this._onActionButtonClick,moreButtonsText:"Ещё",isMobile:i,isIosSafari:o,useMobilePane:i,collapsible:!0})}},{key:"_getSliderResource",value:function(e){var t=this,n=e.id,r=e.name,i=e.meta,o=i.mediatype,a=i.sizes,s=Object(Ue.resourceView)(e),u={id:n,name:r,mediatype:o},c=this.props,l=c.setNsLoadPreviewError,d=c.editResource,f=c.openDv,h=c.currentSliderResource.id===n;switch(s){case ze.RESOURCE_VIEWS.IMAGE:u.previewBaseUrl=e.defaultPreview,u.originalUrl=e.xxxlPreview,this.props.useSrcSet&&(u.srcSet=Object(pr.b)(a),u.srcSetFallback=Object(pr.a)(a,"L")),this.props.fitToWidthPreviews&&(u.fitToWidth=!0);break;case ze.RESOURCE_VIEWS.VIDEO:u.content=function(e){var r=e.setToolbarVisible;return Le.a.createElement(gn,{initPlayer:h,forceDestroyPlayer:!h,fitTo:"height",resourceId:n,isMobile:t.props.isMobile,onPlayChange:function(e){r(!e)}})};break;case ze.RESOURCE_VIEWS.AUDIO:u.content=Le.a.createElement(nn,{resourceId:n});break;default:var p={imageSize:Math.min(this.state.viewport.width-80,this.state.viewport.height),resource:e,onImageLoadError:function(){return l(n)}},m=this.props.canViewResource(e),v=this.props.canEditResource(e);(m||v)&&Object.assign(p,{openWith:{onClick:function(){v?(d(e.id),t._countMetrika("edit from preview",o)):(f(n),t._countMetrika("view in DV",o))}},openButtonPosition:"bottom",openButtonVisible:!0,openButtonText:v?"Редактировать":"Просмотреть"}),u.content=Le.a.createElement("div",{className:Dr().e("default-content")},Le.a.createElement(Rt,p),Le.a.createElement(Pt,{name:r}))}return u}},{key:"_setDropdownRef",value:function(e,t){this._dropdownRefs[e]=t}},{key:"_closeAllDropdowns",value:function(){var e=this;Object.keys(this._dropdownRefs).forEach((function(t){return e._dropdownRefs[t]&&e._dropdownRefs[t].closeDropdown()}))}},{key:"_getToolbarChildren",value:function(e){return[Le.a.createElement(bt.ToolbarRight,{key:"right"},e?null:this._getActions(),this._getCloseButton())]}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentSliderResource,r=t.isMobile,i=t.sliderOpened,o=t.sliderResources,a=t.hasOpenedDialogs,s=t.possiblyHasPrevious,u=t.possiblyHasNext,c=t.fetchSliderResources,l=t.useSrcSet;if(!i)return null;var d={content:Le.a.createElement(He.Spin,{view:"default",size:"l",progress:!0})},f=[];return n&&0!==o.length?o.forEach((function(t){var r=e._getSliderResource(t);t.id===n.id&&(d=r),f.push(r)})):f.push(d),Le.a.createElement(bt,{cls:Dr().mix([Ve.LISTING_PREVENT_DESELECT_CLASS,_t.a]),activeResource:d,onClose:this._closeSlider,resources:f,possiblyHasPrevious:s,possiblyHasNext:u,fetchResources:c,arrowLabels:{left:"Предыдущий файл",right:"Следующий файл"},shouldSetToolbarVisible:this.state.shouldSetToolbarVisible,onActiveResourceChange:this._handleActiveResourceChange,showSwitchArrows:!r,showBackgroundWhileLoadNext:!r,enableKeyboardControl:!a,enabledGestures:r?[mt.SWIPE_TO_CLOSE,mt.SWIPE_TO_CHANGE,mt.DOUBLE_TAP_TO_ZOOM,mt.PINCH_TO_ZOOM,mt.MOVE_ZOOMED]:[mt.MOVE_ZOOMED,mt.WHEEL_TO_ZOOM],toolbarChildren:this._getToolbarChildren,viewportSize:this.state.viewport,onZoomStateChange:this._closeAllDropdowns,useSrcSet:l,disableTapOnSelectors:[".video-player__touch-overlay"]})}}]),n})(Ne.Component),Nr=Object(Gn.a)(Object(Me.connect)((function(e){var t=Object(dr.getCurrentSliderResource)(e),n=e.environment.agent,r=Object(fr.d)(e),i=r.sliderResources,o=r.possiblyHasPrevious,a=r.possiblyHasNext;return{filter:e.page.filter,idContext:e.page.idContext,currentSliderResource:t,isIosSafari:"iOS"===n.OSFamily&&"Safari"===n.BrowserBase,isMobile:n.isMobile,shouldScrollToResource:Object(dr.shouldScrollToResource)(e),sliderOpened:Object(dr.getSliderStateOpened)(e),sliderResourceView:Object(Ue.resourceView)(t),sliderResources:i,possiblyHasPrevious:o,possiblyHasNext:a,currentResource:Object(dr.getCurrentResource)(e),hasOpenedDialogs:Object(hr.hasOpenedDialogs)(e),photoMetrikaSection:Object(mr.c)(e),canViewResource:function(t){return Object(Y.can)(Y.VIEW,t,e)},canEditResource:function(t){return Object(Y.can)(Y.EDIT,t,e)},currentAlbumType:Object(Rr.n)(e)}}),{closeNsDialog:J.closeNsDialog,moveSlider:Jt.c,setNsLoadPreviewError:Zt.setNsLoadPreviewError,setScrollToResource:Zt.setScrollToResource,openDv:Zt.openDv,editResource:Zt.editResource,fetchSliderResourceIfNeed:Zt.fetchSliderResourceIfNeed,fetchSliderResources:Jt.a,updateSettings:Xt.updateSettings})(Mr),(function(e){var t=Object(dr.getCurrentSliderResource)(e);return t?[t]:[]})),Lr=(n(1379),n(113)),Fr=n(38),Br=n(433);function Ur(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var zr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return (function(n){Re()(i,n);var r=Ur(i);function i(e){var t;return Se()(this,i),(t=r.call(this,e))._onClick=t._onClick.bind(Te()(t)),t.state={isTimer:!1},t}return xe()(i,[{key:"componentWillUnmount",value:function(){this._timerId&&clearTimeout(this._timerId)}},{key:"_onClick",value:function(){var e,n=this;this.setState({isTimer:!0}),this._timerId=setTimeout((function(){n.setState({isTimer:!1})}),t),(e=this.props).onClick.apply(e,arguments)}},{key:"render",value:function(){var t=this.state.isTimer||this.props.disabled;return Le.a.createElement(e,Ge()({},this.props,{disabled:t,onClick:this._onClick}))}}]),i})(Ne.Component)},Vr=n(668),Hr=n(387),Wr=n(250),Gr=n(251),qr=n(434),$r=n(411),Yr=n(104),Kr=n(72);function Xr(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var Zr=function(){return xt()()("ufo-resources-action-bar")},Jr=[{id:Y.PUBLISH},{id:Y.DOWNLOAD,icon:Kn.b},{id:Y.CLEAN_TRASH,icon:Wr.a},{id:Y.RESTORE,icon:Gr.b},{id:Y.DELETE_FROM_TRASH,icon:Wr.a}],Qr=[{id:Y.EDIT,icon:Xn.b,hidePriority:3},{id:Y.RENAME,icon:er.a,hidePriority:1},{id:Y.ADD_TO_ALBUM,icon:qn.a,hidePriority:4},{id:Y.MOVE,icon:Qn.b,hidePriority:2},{id:Y.EXCLUDE_FROM_ALBUM,icon:rr.a,hidePriority:4},{id:Y.EXCLUDE_FROM_GEO_ALBUM,icon:rr.a,hidePriority:4},{id:Y.EXCLUDE_FROM_PERSONAL_ALBUM,icon:rr.a,hidePriority:4},{id:Y.DELETE,icon:nr.b,hidePriority:4},{id:Y.COPY,icon:Yn.a,hidePriority:0},{id:Y.UNPUBLISH,icon:tr.a,hidePriority:0,group:1,hidden:!0},{id:Y.GO_TO_FOLDER,icon:qr.a,group:2,hidden:!0},{id:Y.GO_TO_FILE,icon:Zn.a,group:2,hidden:!0},{id:Y.SHARE_ACCESS,icon:$r.a,group:2,hidden:!0},{id:Y.VERSIONS,icon:Jn.a,group:5,hidden:!0},{id:Y.SET_AS_COVER,icon:lr.a,group:3,hidden:!0},{id:Y.SHOW_FULLSIZE,icon:cr,group:3,hidden:!0},{id:Y.FOTKI_INFO,icon:ar,group:10,hidden:!0}].map((function(e){return Object.assign({text:Y.titles[e.id],iconOnly:!1},e)})),ei=m()(Qr),ti=ei.findIndex((function(e){return e.id===Y.ADD_TO_ALBUM})),ni=Object.assign({},ei[ti],{group:2,hidden:!0});delete ni.hidePriority,ei.splice(ti,1),ei.splice(ei.findIndex((function(e){return e.id===Y.SHOW_FULLSIZE}))+1,0,ni);var ri=zr(St.Button,3e4),ii=(function(e){Re()(n,e);var t=Xr(n);function n(e){var r;return Se()(this,n),(r=t.call(this,e))._onClose=r._onClose.bind(Te()(r)),r._onButtonClick=r._onButtonClick.bind(Te()(r)),r._onMoreButtonClick=r._onMoreButtonClick.bind(Te()(r)),r._dropdownRefs={},r._closeAllDropdowns=r._closeAllDropdowns.bind(Te()(r)),r._setRef=r._setRef.bind(Te()(r)),r._updateOutdatedDirStats=r._updateOutdatedDirStats.bind(Te()(r)),r}return xe()(n,[{key:"_onClose",value:function(){this.props.deselectAllStatesContext()}},{key:"shouldComponentUpdate",value:function(e){return this._isVisible(e)||this._isVisible(this.props)&&!this._isVisible(e)}},{key:"componentDidUpdate",value:function(e){this._updateDirStats(e),this._isVisible(this.props)!==this._isVisible(e)&&this._closeAllDropdowns()}},{key:"componentDidMount",value:function(){this._updateDirStats(),this.props.isIosSafari&&window.addEventListener("orientationchange",this._closeAllDropdowns)}},{key:"componentWillUnmount",value:function(){this.props.isIosSafari&&window.removeEventListener("orientationchange",this._closeAllDropdowns)}},{key:"_updateDirStats",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props,r=n.savedResources,i=n.getDirSize;if(1===r.length&&"dir"===r[0].type){var o=r[0],a=!e||1!==e.savedResources.length||1!==e.resources.length||e.savedResources[0].id!==o.id,s=!isFinite(o.meta.size),u=t&&(!o.meta.lastSizeUpdatedTS||Date.now()-o.meta.lastSizeUpdatedTS>5e3);(a&&s||u)&&i(r[0].id)}}},{key:"_updateOutdatedDirStats",value:function(){this._updateDirStats(null,!0)}},{key:"_getSelectedCount",value:function(e){return e.isPhotoslice?e.savedTotalSelectedCount:e.savedResources.length}},{key:"_getResourcesInfo",value:function(){var e=this.props,t=e.savedResources,n=e.isIosSafari,r=e.isPhotoslice,i=e.isPersonalAlbum,o=e.missingSelectedCount,a=e.isSelectingPhotos,s=this._getSelectedCount(this.props);return 1===t.length?Le.a.createElement(Wn,{theme:"clear-inverse",resource:t[0],metrikaContext:["topbar"],metrikaTail:this._getMetrikaTail(),isIosSafari:n,createRef:this._setDropdownRef.bind(this,"info"),onVisible:this._updateOutdatedDirStats}):Le.a.createElement(Vr.a,{visible:this._isVisible(this.props),selectedCount:s,isPhotoslice:r,isPersonalAlbum:i,isSelectingPhotos:a,missingSelectedCount:o,actionBarRef:this._ref})}},{key:"_getMetrikaTail",value:function(){var e=this.props,t=e.isPhotoslice,n=e.isPersonalAlbum,r=e.photoMetrikaSection,i=e.currentAlbumType;return t?r:n?["album",i]:["listing"]}},{key:"_onButtonClick",value:function(e){this.props.onAction(e),F.default.count.apply(F.default,["interface elements","topbar",e].concat(m()(this._getMetrikaTail())))}},{key:"_onMoreButtonClick",value:function(){F.default.count("interface elements","topbar","actions dropdown","show")}},{key:"_getButtons",value:function(){var e=this,t=this.props,n=t.isPhotoslice,r=t.isPersonalAlbum,i=t.totalSelectedCount,o=t.missingSelectedCount,a=t.isSelectingPhotos,s=t.isDvInDocsTouchExp,u=Boolean(a||i>ce.a.MAX_ACTIONABLE_SELECTION||n&&o||r&&this._getSelectedCount(this.props)>ce.a.MAX_ACTIONABLE_SELECTION),c=Jr.filter((function(t){return e.props.availableActions.includes(t.id)})).reduce((function(t,n){if(n.id===Y.PUBLISH)t.push(Le.a.createElement(yn.a,{buttonProps:{view:"transparent",className:Zr().e("primary-button").m({desktop:!0,action:n.id})},onlyIconButtonProps:{view:"clear-inverse",className:Zr().e("primary-button").m({mobile:!0,action:n.id})},key:Y.PUBLISH,objectIds:e.props.savedResources.map((function(e){return e.id})),metrikaContext:["topbar"],metrikaTail:e._getMetrikaTail(),dropdownRef:e._setDropdownRef.bind(e,"publish"),disabled:u}));else{var r,i={size:"m",onClick:e._onButtonClick.bind(e,n.id)},o={view:"transparent",key:n.id,className:Zr().e("primary-button").m({desktop:!0,action:n.id}),disabled:u},a=Object.assign(o,i),s={view:"clear-inverse",key:n.id+"narrow",className:Zr().e("primary-button").m({mobile:!0,action:n.id}),disabled:u},c=Object.assign(s,i);if(n.id===Y.DOWNLOAD&&(e.props.resources.length>1||"dir"===e.props.resources[0].type)){var l="".concat(e.props.resources.length,"-").concat(e.props.resources[0].id);e.props.resources.length>1?r=ri:(r=St.Button,e.props.resources[0].state.downloadLimited&&(a.disabled=!0)),a.key+=l,c.key+=l}else r=St.Button;var d=Y.titles[n.id]||Object(Y.getTitle)(n.id,e.props.resources);t.push(Le.a.createElement(r,Ge()({},a,{iconLeft:n.icon}),d)),t.push(Le.a.createElement(r,Ge()({},c,{icon:n.icon})))}return t}),[]),l=(r?ei:[].concat(m()(s?[{id:Y.VIEW,icon:Hr.b,hidePriority:-1}]:[]),m()(Qr))).filter((function(t){return!!e.props.actions[t.id]})).map((function(t){return Object.assign({},t,e.props.actions[t.id],e.props.actions[t.id].text?null:{text:Object(Y.getTitle)(t.id,e.props.resources)})}));return l&&c.push(Le.a.createElement(Dt.a,{view:"clear-inverse",buttons:l,disabled:u,collapsible:!0,isIosSafari:this.props.isIosSafari,isMobile:this.props.isMobile,useMobilePane:this.props.isMobile,key:"groupable-buttons",moreButtonsText:"Ещё",onMoreOpen:this._onMoreButtonClick,onButtonClick:this._onButtonClick,ref:this._setDropdownRef.bind(this,"groupable")})),c}},{key:"_setDropdownRef",value:function(e,t){this._dropdownRefs[e]=t}},{key:"_closeAllDropdowns",value:function(){var e=this;Object.keys(this._dropdownRefs).forEach((function(t){return e._dropdownRefs[t]&&e._dropdownRefs[t].closeDropdown()}))}},{key:"_isVisible",value:function(e){return e.resources.length>0&&!e.sliderOpened&&!e.action}},{key:"_shouldRenderControls",value:function(){return this._isVisible(this.props)||this.props.savedResources.length>0}},{key:"_setRef",value:function(e){this._ref={current:e}}},{key:"render",value:function(){var e=this.props.savedResources.some((function(e){return 2===e.meta.drweb}));return Le.a.createElement(Br.a,{setRef:this._setRef,cls:Zr().m({warning:e}),theme:"black",fixed:!0,delay:1===this.props.resources.length,visible:this._isVisible(this.props),onClose:this._onClose,closeButtonText:"Отменить выделение",isMobile:this.props.isMobile},Le.a.createElement(Br.a.Left,null,this._shouldRenderControls()?this._getResourcesInfo():null),Le.a.createElement(Br.a.Right,null,this._shouldRenderControls()?this._getButtons():null))}}]),n})(Ne.Component),oi=Object(Tn.a)(ii,["resources","totalSelectedCount"],(function(e){return e.resources.length}),[[],0]),ai=Object(Gn.a)(Object(Me.connect)((function(e){var t=e.photoslice,n=e.environment.agent,r=e.page,i=r.dialog,o=r.action,a=Object(An.isIosSafariSelector)(e),s="photo"===Object(Fr.getPage)(e);return{action:o,isPhotoslice:s,isPersonalAlbum:"album"===Object(Fr.getPage)(e),isSelectingPhotos:e.personalAlbums.isSelectingPhotos,currentAlbumType:Object(Rr.n)(e),isMobile:n.isMobile,isIosSafari:a,isAndroid:"Android"===n.OSFamily,sliderOpened:"slider"===i,totalSelectedCount:s&&t&&t.totalSelected||0,missingSelectedCount:s&&t&&t.missingSelected||0,photoMetrikaSection:Object(mr.c)(e),isDvInDocsTouchExp:Object(Kr.isDvInDocsTouchExp)(e)}}),{deselectAllStatesContext:Yr.deselectAllStatesContext,getDirSize:Zt.getDirSize})(oi),Lr.getSelectedResources,!0),si=n(388),ui=(n(1386),n(92));n(459);var ci,li=function(e,t){if(e.recordId)return!0;var n=t.docs.lists;return Object.keys(n).some((function(t){return n[t].items.includes(e.id)}))},di=["delete","publish","officeAccessTypeChange","docsError","copyPublicLink","getPublicLinkSettings","changePublicLinkSettings"];function fi(e){var t=Object(X.default)().getState(),n=Object(ie.isDocsPage)(t)?t.config.urlsBase.disk:"";return $(ns.renderNode({notification:e.getData(),trash:t.space.trash,linksHost:n},"notification","common"))}function hi(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}ns.View.define("notifications",{models:{queueNotifications:{"ns-model-changed":"keepValid"}},events:{"ns-view-init":function(){this.models.queueNotifications.on("processing",this.add.bind(this))},"ns-view-show":"updateWidth",click:"closeNext",mouseover:"stopTimer",mouseout:"startTimer"},methods:{timeClose:5e3,timeMove:400,add:function(e,t){var n=this;if(function(e){var t=Object(X.default)().getState();if(!Object(ie.isDocsPage)(t)||"docsError"===e.operation)return!0;var n=e.src,r=e.dst,i=e.operation;return!(!Object(ie.isDocsView)(t)||"publish"!==e.operation||Object(ie.getViewFileDetails)(t).fileId!==n.id)||di.includes(i)&&(n&&li(n,t)||r&&li(r,t))}(t.item.getData())){var r=t.item;this.timeClose=r.get(".closeTime")||5e3;var i=t.promise,o=fi(r);if(o.text()){if(r.get(".operation")){var a=r.get(".operation");r.get(".reverse")&&(a="un"+Object(ui.capitalize)(a)),F.default.count("notifications","operation "+a,r.get(".status"))}var s=function(){o.html(fi(r).html()).find(".js-message").css("width",""),n.updateWidth()};r.on("ns-model-changed",s),i.always(r.off.bind(r,"ns-model-changed",s)),this.$node.append(o),setTimeout((function(){o.addClass("notifications__item_moved"),n.updateWidth()}),100),this.promises=this.promises||[],this.promises.unshift(i),this.timer||this.startTimer()}else i.fulfill()}},updateWidth:function(){var e=this.getChildren(),t=this.getChildNext().children(".notifications__text").width();e.width(Number(t))},closeNext:function(){var e=this,t=this.getChildNext();t.removeClass("notifications__item_moved"),this.updateWidth(),t.length?setTimeout((function(){t.remove(),e.startTimer(),e.promises.pop().fulfill()}),this.timeMove):this.stopTimer()},getChildren:function(){return $(this.node).children(".notifications__item_moved")},getChildNext:function(){return this.getChildren().eq(0)},startTimer:function(){var e=this;this.timer&&this.stopTimer(),this.timer=setTimeout((function(){e.closeNext()}),this.timeClose)},stopTimer:function(){clearTimeout(this.timer),this.timer=null}}}),n(1387),ci=n(1389),ns.View.define("widgetsWrap"),ns.layout.define("react-widgets",{widgetsWrap:{"widgets@":function(e){var t={notifications:!0};return e.isOpenedDropzone?(t.dropzone=!0,t):t}}});var pi=(function(e){Re()(n,e);var t=hi(n);function n(){return Se()(this,n),t.apply(this,arguments)}return xe()(n,[{key:"componentDidMount",value:function(){ci.bindDragEvents()}},{key:"componentWillUnmount",value:function(){ci.unBindDragEvents()}},{key:"render",value:function(){return Le.a.createElement(si.a,{overrideParams:this.props,viewName:"widgetsWrap",layoutName:"react-widgets"})}}]),n})(Ne.Component),mi=Object(Me.connect)((function(e){return{isOpenedDropzone:Object(hr.isDialogOpened)(e,"dropzone"),isDocsPage:Object(ie.isDocsPage)(e)}}))(pi),vi=n(244);function gi(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var yi=(function(){if("undefined"==typeof document||!Boolean(document.addEventListener))return null;for(var e=[{hidden:"hidden",visible:"visible",event:"visibilitychange",state:"visibilityState"},{hidden:"webkitHidden",visible:"webkitVisible",event:"webkitvisibilitychange",state:"webkitVisibilityState"},{hidden:"mozHidden",visible:"mozVisible",event:"mozvisibilitychange",state:"mozVisibilityState"},{hidden:"msHidden",visible:"msVisible",event:"msvisibilitychange",state:"msVisibilityState"},{hidden:"oHidden",visible:"oVisible",event:"ovisibilitychange",state:"oVisibilityState"}],t=0;t<e.length;t++)if(e[t].hidden in document)return e[t];return null})(),bi=[],_i=null;if(yi){var Oi=function(){_i=document[yi.state]===yi.visible};document.addEventListener(yi.event,(function(){Oi(),bi.forEach((function(e){return e(_i)}))}),!1),Oi()}var wi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"isPageVisible";return (function(n){Re()(i,n);var r=gi(i);function i(e){var n;return Se()(this,i),(n=r.call(this,e)).state=g()({},t,_i),n.onVisibilityChange=n.onVisibilityChange.bind(Te()(n)),n}return xe()(i,[{key:"componentDidMount",value:function(){!(function(e){bi.push(e)})(this.onVisibilityChange)}},{key:"componentWillUnmount",value:function(){!(function(e){var t=bi.indexOf(e);t>-1&&bi.splice(t,1)})(this.onVisibilityChange)}},{key:"onVisibilityChange",value:function(e){this.setState(g()({},t,e))}},{key:"render",value:function(){var t=Object.assign({},this.props,this.state);return Le.a.createElement(e,t)}}]),i})(Ne.Component)},Ei=n(103);function Si(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var Ci=(function(e){Re()(n,e);var t=Si(n);function n(){return Se()(this,n),t.apply(this,arguments)}return xe()(n,[{key:"render",value:function(){return Le.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"101",height:"88"},Le.a.createElement("defs",null,Le.a.createElement("linearGradient",{id:"a",x1:"7.91285636%",x2:"19.323764%",y1:"5.96768665%",y2:"37.378348%"},Le.a.createElement("stop",{offset:"0%",stopColor:"#FFF",stopOpacity:".30160213"}),Le.a.createElement("stop",{offset:"100%",stopColor:"#FFF",stopOpacity:"0"}))),Le.a.createElement("g",{fill:"none",fillRule:"evenodd"},Le.a.createElement("path",{fill:"#000",d:"M66.0950093 3.7752728c-3.5951604-.165629-6.1344334-1.2260828-9.1572337-2.1704476-7.012081-2.1937769-15.6925849-2.0681655-23.6420228 1.6241027-6.8745537 3.1898224-11.9793487 8.4796555-14.9759955 14.1817064-2.0578284 3.9152526-3.8152809 8.4311953-6.329411 11.3437533C2.7014051 38.092174-1.5332371 47.8140998 1.3948557 54.105092c.3327871.7149913 1.1102732 2.2372362 1.5855492 2.5770793 12.2449341 8.7556649 99.6730239-33.282169 91.09553008-45.5233941C90.41384606 5.932489 79.6752172 2.7898876 66.0950151 3.7752724z"}),Le.a.createElement("path",{fill:"#07F",d:"M58.0776401 53.6846998c25.617831-11.8932402 40.90603793-32.8143291 36.75056736-41.3696458C90.6727369 3.7597373 65.7015445 5.2917105 40.0837135 17.1867272S-2.0958268 46.8329855 2.0596438 55.3883021c4.1554705 8.5553167 30.4019823 10.1914144 56.0179963-1.7036023z"}),Le.a.createElement("path",{fill:"#FFF",d:"M57.4433159 49.8569977c12.116876-5.6259763 20.3449876-13.4669597 18.3797953-17.514832-1.9651922-4.0461031-13.3817649-2.7652205-25.4986409 2.8607559-12.116876 5.6259763-20.3449876 13.4669597-18.3797953 17.5130629 1.9651922 4.0461031 13.3817649 2.7669896 25.4986409-2.8589868z"}),Le.a.createElement("path",{fill:"url(#a)",d:"M32.1422222 67.8105207V162l147.8392838-20.804688L75.2879365 46.9043144z",opacity:".4938058",transform:"translate(0 -15)"})))}}]),n})(Ne.PureComponent);n(1390);function xi(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var ki=function(){return xt()()("promo-notification")},Ti=(function(e){Re()(n,e);var t=xi(n);function n(){return Se()(this,n),t.apply(this,arguments)}return xe()(n,[{key:"render",value:function(){return Le.a.createElement("div",{onClick:this.props.onSubmit},Le.a.createElement(Ei.MessageBox,{className:ki().e("message-box"),size:"l",view:"default",actions:this._getButtons(),corner:Le.a.createElement(Ei.Corner,{side:"top-left",width:50,height:60},Le.a.createElement(Ci,null))},Le.a.createElement(Ei.Wrapper,{align:"left"},this._getText())))}},{key:"_getText",value:function(){var e=this.props,t=e.icon,n=e.title,r=e.text,i=e.isMobile;return Le.a.createElement("div",{className:ki().m({"has-icon":t,mobile:i})},n&&Le.a.createElement("h1",{className:ki().e("title")},n),r)}},{key:"_getButtons",value:function(){var e=this.props,t=e.link,n=e.onClose,r=e.onSubmit;return[Le.a.createElement(St.Button,{key:"button-close",size:"m",view:"clear-inverse",onClick:n,className:ki().e("close")},"Не сейчас"),Le.a.createElement(St.Button,{key:"button-action",size:"m",view:"action",onClick:r,className:ki().e("submit")},t)]}}]),n})(Ne.Component);Ti.defaultProps={icon:!1,newWindow:!1};var ji=Ti;n(1391);function Ri(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var Pi=function(){return xt()()("notifications")},Di=(function(e){Re()(n,e);var t=Ri(n);function n(e){var r;return Se()(this,n),(r=t.call(this,e))._onNotificationSubmit=r._onNotificationSubmit.bind(Te()(r)),r._onNotificationClose=r._onNotificationClose.bind(Te()(r)),r}return xe()(n,[{key:"componentDidMount",value:function(){this.props.listenServiceNotificationsQueue(),this.props.fetchPromoNotifications()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.savedNotification;e.isPageVisible&&t&&!t.show_date&&this.props.markPromoNotificationAsShown(t)}},{key:"render",value:function(){var e=this.props,t=e.isPhone,n=e.savedNotification,r=e.notification,i=e.hasServiceNotifications;return Le.a.createElement(On.Popup,{className:Pi().e("popup").m({mobile:t}),view:"default",visible:Boolean(r),style:{position:"fixed",left:t?0:"auto",top:"auto",bottom:t&&i?72:t?16:36,right:t?0:36},nonvisual:!0},n&&Le.a.createElement(ji,{cls:Pi().e("body"),isMobile:t,title:n.title,link:n.link_text,text:n.text,onSubmit:this._onNotificationSubmit,onClose:this._onNotificationClose,icon:!0}))}},{key:"_onNotificationSubmit",value:function(e){e.stopPropagation();var t=this.props.savedNotification,n=t.link;t.link_new_window?window.open(n):location.href=n,this.props.hidePromoNotification(this.props.savedNotification,!0)}},{key:"_onNotificationClose",value:function(e){e.stopPropagation(),this.props.hidePromoNotification(this.props.savedNotification)}}]),n})(Ne.Component),Ii=Object(Me.connect)((function(e){var t=e.environment.agent,n=t.isMobile,r=t.isTablet,i=e.notifications.service.count,o=Object(vi.b)(e);return{isPhone:n&&!r,notification:o,hasServiceNotifications:Boolean(i)}}),{fetchPromoNotifications:Cr.fetchPromoNotifications,hidePromoNotification:Cr.hidePromoNotification,markPromoNotificationAsShown:Cr.markPromoNotificationAsShown,listenServiceNotificationsQueue:Cr.listenServiceNotificationsQueue})(wi(Object(Tn.a)(Di,"notification",(function(e){return e.notification})))),Ai=n(22),Mi=n.n(Ai),Ni=function(e){return"leaveFolder"===e.type?"delete":"removeResourceAlbum"===e.type?"excludeFromAlbum":e.type},Li=function(e){var t=e.type,n=e.data,r=n.status,i=n.isRemote,o=n.idFolderDst;return["copy","move"].includes(t)?Boolean(r&&!i&&o&&"exists"!==r):!!["cleanTrash","createAlbum","mergeAlbums","addToAlbum","removeResourceAlbum","excludeFromAlbum"].includes(t)||Boolean(r&&!i)},Fi=function(e){return["canceled","rejected"].includes(e.data.status)},Bi=function(e){return["canceled","failed","done","rejected"].includes(e.data.status)},Ui=function(e){var t=e.type,n=e.data.status;return"move"===t?"moving"===n:!!["rename","cleanTrash","createAlbum","mergeAlbums","addToAlbum","removeResourceAlbum","excludeFromAlbum"].includes(t)||["progressing"].includes(n)},zi=function(e){var t=e.page.idContext,n=Object.keys(e.operations).reduce((function(n,r){var i=e.operations[r],o=(function(e){var t=e.type,n=e.data,r=n.idSrc,i=n.idFolderDst,o=n.srcContextId;switch(t){case"copy":case"move":return i;case"delete":case"leaveFolder":return Mi.a.dirname(r);case"restore":return"/trash";case"rename":return o||Mi.a.dirname(r);case"cleanTrash":return"/trash";case"removeResourceAlbum":case"excludeFromAlbum":case"addToAlbum":case"mergeAlbums":return o;default:return null}})(i),a=Bi(i),s=Ni(i);return!Ui(i)&&!Bi(i)||Fi(i)||o&&o!==t||(n.total++,n.finished+=a?1:0,n.type=!n.type||"multi"!==n.type&&n.type===s?s:"multi"),n}),{total:0,finished:0,type:null});return n.type&&n.total!==n.finished?n:null},Vi=function(e){return Boolean(Object.keys(e.operations).some((function(t){return (function(e){var t=e.type,n=e.data.status;return"copy"===t?["determined","forced"].includes(n):"move"===t?["started","forced"].includes(n):Li(e)&&!Ui(e)&&!Bi(e)})(e.operations[t])})))};n(1392);function Hi(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var Wi=function(){return xt()()("operations-progress")},Gi={copy:Yn.b,move:Qn.a,delete:nr.a,restore:Gr.a},qi={wait:{multi:"Идет подготовка. Пожалуйста, подождите",copy:"Подготовка к копированию. Пожалуйста, подождите",move:"Подготовка к перемещению. Пожалуйста, подождите",delete:"Подготовка к удалению. Пожалуйста, подождите",restore:"Подготовка к восстановлению. Пожалуйста, подождите"},start:{multi:"Операции начались",copy:"Копирование началось",move:"Перемещение началось",delete:"Удаление началось",restore:"Восстановление началось"},progress:{multi:function(e,t){return"Обработано "+yr.externals.entityify(t)+" из "+yr.externals.entityify(e)},createAlbum:function(){return"Создается альбом"},addToAlbum:function(){return"Файлы добавляются в альбом"},mergeAlbums:function(){return"Альбомы объединяются"},cleanTrash:function(){return"Очистка Корзины"},copy:function(e,t){return 1===e?"Копируется":"Скопировано "+yr.externals.entityify(t)+" из "+yr.externals.entityify(e)},move:function(e,t){return 1===e?"Перемещается":"Перемещено "+yr.externals.entityify(t)+" из "+yr.externals.entityify(e)},delete:function(e,t){return 1===e?"Удаляется":"Удалено "+yr.externals.entityify(t)+" из "+yr.externals.entityify(e)},restore:function(e,t){return 1===e?"Восстановление":"Восстановлено  "+yr.externals.entityify(t)+" из "+yr.externals.entityify(e)},rename:function(e,t){return 1===e?"Переименовывается":"Переименовано "+yr.externals.entityify(t)+" из "+yr.externals.entityify(e)},excludeFromAlbum:function(e,t){return 1===e?"Скрыто 1 фото":"Скрыто "+__i18n__.i18n.convert([yr.externals.entityify(t)+" фото",yr.externals.entityify(t)+" фото",yr.externals.entityify(t)+" фото",yr.externals.entityify(t)+" фото"],yr.externals.entityify(t))+" из "+yr.externals.entityify(e)}}},$i=(function(e){Re()(n,e);var t=Hi(n);function n(e){var r;return Se()(this,n),(r=t.call(this,e))._closeTimer=null,r.state={allOperationsRequested:!1,typeRequestedOperations:null},r._resetStartedState=r._resetStartedState.bind(Te()(r)),r}return xe()(n,[{key:"componentDidUpdate",value:function(e){var t=this;e.hasStartingOperations&&!this.props.hasStartingOperations&&qi.start[this.props.activeOperationsType]&&!this.props.contextOperationsData&&(this.setState({allOperationsRequested:!0,typeRequestedOperations:this.props.activeOperationsType}),this._closeTimer=setTimeout((function(){t._resetStartedState()}),5e3)),this._closeTimer&&(this.props.contextOperationsData||this.props.hasStartingOperations)&&this._resetStartedState()}},{key:"_resetStartedState",value:function(){this.setState({allOperationsRequested:!1,typeRequestedOperations:null}),this._closeTimer&&clearTimeout(this._closeTimer),this._closeTimer=null}},{key:"_getIcon",value:function(){var e=Gi[this.state.typeRequestedOperations||this.props.activeOperationsType];return e?Le.a.createElement("div",{className:Wi().e("icon")},Le.a.createElement(e,null)):null}},{key:"_getContent",value:function(){var e,t=this.props,n=t.hasStartingOperations,r=t.activeOperationsType,i=t.contextOperationsData;if(n)e=qi.wait[r];else if(i){var o=i.total,a=i.finished,s=i.type;e=qi.progress[s]&&qi.progress[s](o,a)}else this.state.allOperationsRequested&&(e=qi.start[this.state.typeRequestedOperations]);return Le.a.createElement("div",{className:Wi().e("content")},this.state.allOperationsRequested&&!i?this._getIcon():Le.a.createElement(He.Spin,{className:Wi().e("spin"),size:"xxs",view:"dark",progress:!0}),Le.a.createElement("div",{className:Wi().e("text")},e))}},{key:"render",value:function(){var e=this.props,t=e.isMobile,n=e.hasStartingOperations,r=e.activeOperationsType,i=e.contextOperationsData;return r&&(n||this.state.allOperationsRequested||i)?Le.a.createElement("div",{className:Wi().m({mobile:t})},Le.a.createElement(Ei.MessageBox,{view:"default",size:"l",onClose:this.state.allOperationsRequested&&!i?this._resetStartedState:void 0},Le.a.createElement(Ei.Wrapper,{align:"left"},this._getContent()))):null}}]),n})(Ne.Component),Yi=Object(Me.connect)((function(e){return{isMobile:e.environment.agent.isMobile,hasStartingOperations:Vi(e),activeOperationsType:(function(e){return Object.keys(e.operations).reduce((function(t,n){var r=e.operations[n];if(Li(r)&&!Fi(r)){var i=Ni(r);t?t!==i&&(t="multi"):t=i}return t}),"")})(e),contextOperationsData:zi(e)}}))($i),Ki=n(658),Xi=n(689),Zi=n.n(Xi),Ji=n(81),Qi=Object(Ji.default)({loader:function(){return n.e(11).then(n.bind(null,1850))},webpack:function(){return[1850]},modules:["./listing"]}),eo=(n(1418),n(54)),to=n.n(eo),ro=n(99),io=n(105),oo=n(95);function ao(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var so=function(){return xt()()("direct")},uo=(function(e){Re()(n,e);var t=ao(n);function n(e){var r;return Se()(this,n),(r=t.call(this,e)).state={blockId:null,renderIframe:!1},r._onReceiveMessage=r._onReceiveMessage.bind(Te()(r)),r._checkDirectVisibilityDebounced=h.a.debounce(r._checkDirectVisibility.bind(Te()(r)),250),r._updatedAt=0,r}return xe()(n,[{key:"_setUpdateTime",value:function(){this._updatedAt=Date.now()}},{key:"_onReceiveMessage",value:function(e){var t=e.data||{},n=t.id,r=t.type;n===this._getSearchParams()&&this._iframe&&"click"===r&&this._iframe.click()}},{key:"_getSearchParams",value:function(){var e=this.props,t=e.nonce,n=e.isDark;return"?"+[t&&"nonce="+t,this.state.blockId&&"type="+this.state.blockId,n&&"dark=1"].filter(Boolean).join("&")}},{key:"_checkDirectVisibility",value:function(){var e=Boolean(this._container&&this._container.offsetParent);if(e&&this._container){var t=this._getBlockId();t&&(this.setState({blockId:t,renderIframe:!0}),window.removeEventListener("resize",this._checkDirectVisibilityDebounced))}return e}},{key:"_getBlockId",value:function(){var e=this.props.topAdExp;return e?e.blockId:this._container?this._getBlockTypeByWidth(this._container.getBoundingClientRect().width):null}},{key:"_getBlockTypeByWidth",value:function(e){var t=this.props.isDark;return e<1030?t?"R-I-104220-183":"R-I-104220-182":e<1350?t?"R-I-104220-164":"R-I-104220-163":t?"R-I-104220-167":"R-I-104220-166"}},{key:"componentDidMount",value:function(){window.addEventListener("message",this._onReceiveMessage),this._checkDirectVisibility()||window.addEventListener("resize",this._checkDirectVisibilityDebounced),this._setUpdateTime()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this._onReceiveMessage),this._checkDirectVisibilityDebounced.cancel()}},{key:"componentDidUpdate",value:function(){if(Date.now()-this._updatedAt>3e4&&this._iframe&&this._iframe.contentWindow)try{this._iframe.contentWindow.location.reload(!0),this._setUpdateTime()}catch(e){Object(ro.log)({event:"directFrameReloadCatch",error:e.message,iframeSrc:this._iframe.getAttribute("src")})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.cls,r=t.position,i=t.tuningUrl;return Le.a.createElement("div",{className:so().m({position:r}).mix(n),ref:function(t){e._container=t}},this.state.renderIframe?[Le.a.createElement("iframe",{key:"iframe",className:so().e("iframe"),ref:function(t){e._iframe=t},scrolling:"no",src:"/direct.html".concat(this._getSearchParams())}),"top"===r?null:Le.a.createElement("div",{className:so().e("remove-ads"),key:"remove-ads"},Le.a.createElement(Et.Link,{href:"".concat(to.a.addParams(i,{from:"disk_direct"})),onClick:function(){F.default.count("interface elements","disable ad")},view:"default"},"Отключить рекламу"))]:null)}}]),n})(Ne.Component),co=Object(Me.connect)((function(e){return{topAdExp:Object(Kr.getTopAdExp)(e),isDark:Object(io.isContentDark)(Object(oo.getThemeName)(e))}}))(uo),lo=Object(Ji.default)({loader:function(){return n.e(14).then(n.bind(null,1848))},webpack:function(){return[1848]},modules:["./tuning-page"]}),fo=Object(Ji.default)({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(12)]).then(n.bind(null,1851))},webpack:function(){return[1851]},modules:["./photo2"]}),ho=Object(Ji.default)({loader:function(){return n.e(4).then(n.bind(null,1855))},webpack:function(){return[1855]},modules:["./albums2"]}),po=Object(Ji.default)({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(3)]).then(n.bind(null,1852))},webpack:function(){return[1852]},modules:["./album2"]}),mo=n(260),vo=n(234);function go(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var yo=function(){return xt()()("albums2")},bo=(function(e){Re()(n,e);var t=go(n);function n(){return Se()(this,n),t.apply(this,arguments)}return xe()(n,[{key:"componentDidMount",value:function(){F.default.count("interface elements","geo meta-album","show")}},{key:"render",value:function(){var e=this.props.isMobile;return Le.a.createElement("div",{className:yo().m({mobile:e,desktop:!e,geo:!0})},Le.a.createElement(mo.default,{cls:yo().e("header"),title:"Места и поездки",backUrl:"/client/albums",mode:"normal"}),Le.a.createElement(vo.a,{albumType:"geo"}))}}]),n})(Ne.Component),_o=Object(Me.connect)((function(e){return{isMobile:e.environment.agent.isMobile}}))(bo),Oo=n(163),wo=n(57),Eo=n(90);function So(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var Co=function(){return xt()()("albums2")},xo=(function(e){Re()(n,e);var t=So(n);function n(e){var r;return Se()(this,n),(r=t.call(this,e)).state={menuOpened:!1},r._toggleMenu=r._toggleMenu.bind(Te()(r)),r._onHideFacesClick=r._onHideFacesClick.bind(Te()(r)),r._buttonRef=Le.a.createRef(),r._onMenuItemClick=r._onMenuItemClick.bind(Te()(r)),r}return xe()(n,[{key:"componentDidMount",value:function(){F.default.count("interface elements","faces meta-album","show")}},{key:"_toggleMenu",value:function(){this.setState({menuOpened:!this.state.menuOpened})}},{key:"_onHideFacesClick",value:function(){this._toggleMenu(),this.props.refuseAlbumsFaces()}},{key:"_onMenuItemClick",value:function(e){"hide-faces"===e.target.value&&this._onHideFacesClick()}},{key:"_getMenu",value:function(){return Le.a.createElement(wo.Menu,{view:"default",size:"m",wide:!0,onChange:this._onMenuItemClick},Le.a.createElement(wo.Item,{key:"hide-faces",value:"hide-faces"},"Отключить группировку фото по людям"))}},{key:"_getControls",value:function(){return this.props.canShowAlbumsFaces?Le.a.createElement("div",{className:Co().e("controls")},Le.a.createElement(St.Button,{innerRef:this._buttonRef,size:"s",view:"clear",className:Co().e("button"),"aria-label":"Ещё",onClick:this._toggleMenu,icon:Oo.moreIconProvider}),Le.a.createElement(On.Popup,{view:"default",visible:this.state.menuOpened,anchor:this._buttonRef,direction:["bottom-end"],onClose:this._toggleMenu,target:"anchor"},this._getMenu())):null}},{key:"render",value:function(){var e=this.props.isMobile;return Le.a.createElement("div",{className:Co().m({mobile:e,desktop:!e,faces:!0})},Le.a.createElement(mo.default,{cls:Co().e("header"),title:"Люди на фото",backUrl:"/client/albums",mode:"normal"},this._getControls()),Le.a.createElement(vo.a,{albumType:"faces"}))}}]),n})(Ne.Component),ko=Object(Me.connect)((function(e){var t=e.environment.agent.isMobile;return{canShowAlbumsFaces:Object(Rr.a)(e),isMobile:t}}),{refuseAlbumsFaces:Eo.f})(xo),To=Object(Ji.default)({loader:function(){return n.e(10).then(n.bind(null,1849))},webpack:function(){return[1849]},modules:["./journal"]});n(1429);function jo(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var Ro,Po=n(151).I18N,Do=(function(e){Re()(n,e);var t=jo(n);function n(){return Se()(this,n),t.apply(this,arguments)}return xe()(n,[{key:"componentDidMount",value:function(){F.default.count("interface elements","error page",this.props.reason||"unknown reason")}},{key:"_onReloadClick",value:function(){window.location.reload()}},{key:"render",value:function(){return Le.a.createElement("div",{className:xt()()("error").m({mobile:this.props.isMobile})},Le.a.createElement(Po,{loc:"Сервер временно недоступен, попробуйте "+yr.externals.entityify(Po.$1)},Le.a.createElement(Et.Link,{view:"default",onClick:this._onReloadClick},"обновить страницу")))}}]),n})(Ne.Component),Io=Object(Me.connect)((function(e){return{isMobile:e.environment.agent.isMobile,reason:e.page.originalNSParams.reason}}))(Do),Ao=n(690),Mo=n.n(Ao),No=n(691),Lo=n.n(No),Fo=n(692),Bo=n.n(Fo),Uo=n(693),zo=n.n(Uo),Vo=Object(Ji.default)({loader:function(){return Promise.all([n.e(0),n.e(13)]).then(n.bind(null,1853))},webpack:function(){return[1853]},modules:["./remember-block"]}),Ho=n(506),Wo=n.n(Ho),Go=n(123),qo=(n(1505),n(507)),$o=n.n(qo),Yo=function(){return xt()()("overdraft-screen")},Ko=Object(Me.connect)((function(e){return{isMobile:e.environment.agent.isSmartphone,buttonText:Object(Qt.getTuningButtonInfo)(e).text,helpLink:e.config.links.help.diskPro+"#end",buyButtonUrl:to.a.addParams(Object(Fr.getBuyButtonUrl)(e),{from:"disk_overdraft_screen"}),overdraftType:Object(Qt.getOverdraftType)(e)}}),{updateSettings:Xt.updateSettings,goToUrl:J.goToUrl})((function(e){var t=e.isMobile,n=e.buttonText,r=e.helpLink,i=e.buyButtonUrl,o=e.overdraftType,a=e.updateSettings,s=e.goToUrl;Object(Ne.useEffect)((function(){o||F.default.count("interface elements","overdraft_block","show")}),[o]);var u=Object(Ne.useCallback)((function(){F.default.count("interface elements","overdraft_block","more")}),[]),c=Object(Ne.useCallback)((function(){F.default.count("interface elements","overdraft_block","remove-excess"),a({closedOverdraftScreen:!0}),s("/client/disk")}),[a,s]),l=Object(Ne.useCallback)((function(){o||F.default.count("interface elements","overdraft_block","close"),a({closedOverdraftScreen:!0})}),[a,o]),d=Object(Ne.useCallback)((function(){F.default.count("interface elements","overdraft_block","buy")}),[]);return o?Le.a.createElement("div",{className:t?"overdraft-screen-new-mobile":"overdraft-screen-new"},Le.a.createElement(Wo.a,{from:"disk_overdraft-screen",onClose:l})):Le.a.createElement("div",{className:Yo()},Le.a.createElement("header",{className:Yo().e("header")},Le.a.createElement($o.a,{cls:Yo().e("logo")}),Le.a.createElement(St.Button,{className:Yo().e("close-button"),onClick:l,size:"m",view:"clear-black","aria-label":"Закрыть",icon:function(e){return Le.a.createElement(Go.default,{iconSize:"xl",cls:e})}})),Le.a.createElement("main",{className:Yo().e("main")},Le.a.createElement("div",{className:Yo().e("image")}),Le.a.createElement("div",{className:Yo().e("title")},"Доступ к диску ограничен."),Le.a.createElement("div",{className:Yo().e("text")},"Файлы занимают больше места, чем у вас есть.\nУдалите лишнее или увеличьте объём диска."),Le.a.createElement(St.Button,{className:Yo().e("tuning-button"),size:"l",view:"action",onClick:d,type:"link",url:i,target:"_blank"},n),Le.a.createElement(Et.Link,{className:Yo().e("delete-link"),onClick:c,theme:"black"},"Удалить лишнее")),Le.a.createElement("footer",{className:Yo().e("footer")},Le.a.createElement(Et.Link,{className:Yo().e("help-link"),href:r,target:"_blank",theme:"ghost",onClick:u},"Подробнее об ограничениях")))})),Xo=n(694),Zo=n.n(Xo),Jo=n(80),Qo=n(171),ea=n(79),ta=n(519),na=n(98);n(1513);function ra(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}Ro=n(507).default;var ia=function(){return xt()()("onboarding-base")},oa=(function(e){Re()(n,e);var t=ra(n);function n(e){var r;return Se()(this,n),(r=t.call(this,e)).state={closed:!1},r._saveSettings=r._saveSettings.bind(Te()(r)),r._onMainButtonClick=r._onMainButtonClick.bind(Te()(r)),r._onClose=r._onClose.bind(Te()(r)),r}return xe()(n,[{key:"_countMetrika",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];F.default.count.apply(F.default,m()(this.props.metrikaPath).concat([this.props.metrikaContext],t))}},{key:"componentDidMount",value:function(){this._countMetrika("show")}},{key:"_saveSettings",value:function(){var e=this;this.setState({closed:!0}),setTimeout((function(){e.props.saveSettings({key:e.props.settingName,value:"1"})}),500)}},{key:"_onMainButtonClick",value:function(){this._countMetrika("click"),this.props.noCloseOnButtonClick||this._saveSettings(),this.props.onButtonClick()}},{key:"_onClose",value:function(){this._countMetrika("close"),this._saveSettings(),this.props.updateSettings({wasShownOnboardingInSession:!0}),this.props.onClose()}},{key:"render",value:function(){if(this.state.closed)return null;var e=this.props,t=e.children,n=e.isSmartphone,r=e.cls,i=e.titleContent,o=e.textContent,a=e.buttonContent,s=e.buttonProgress;return Le.a.createElement(na.default,{cls:ia().m({touch:n}).mix(r),visible:!0,noCloseButton:!0,hasAnimation:!1},Le.a.createElement(Ro,{theme:"light",cls:ia().e("logo"),isMonochrome:!0,notClickable:!0}),Le.a.createElement(St.Button,{view:"clear-inverse",size:"l","aria-label":"Закрыть",className:ia().e("close"),onClick:this._onClose,icon:function(e){return Le.a.createElement(Go.default,{iconSize:n?"l":"xl",cls:e})}}),t,i?Le.a.createElement("div",{className:ia().e("title")},i):null,o?Le.a.createElement("div",{className:ia().e("text")},o):null,Le.a.createElement("div",{className:ia().e("button-wrapper")},Le.a.createElement(St.Button,{view:"action",size:"ufo-xxl",progress:s,onClick:this._onMainButtonClick},Le.a.createElement("span",{className:ia().e("button-text")},a))))}}]),n})(Ne.Component),aa=function(){return null};oa.defaultProps={onButtonClick:aa,onClose:aa};var sa=Object(Me.connect)((function(e){return{isSmartphone:e.environment.agent.isSmartphone,isIosSafari:Object(An.isIosSafariSelector)(e)}}),{saveSettings:Xt.saveSettings,updateSettings:Xt.updateSettings})(oa),ua=["interface elements","albums2 block"],ca=n(695),la=n.n(ca),da=n(696),fa=n.n(da),ha=n(697),pa=n.n(ha),ma={image:la.a,image2x:fa.a,image3x:pa.a};n(1514);function va(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var ga=n(151).I18N,ya=function(){return xt()()("albums2-onboarding-geo")},ba=(function(e){Re()(n,e);var t=va(n);function n(e){var r;return Se()(this,n),(r=t.call(this,e))._onGoToAlbumsClick=r._onGoToAlbumsClick.bind(Te()(r)),r}return xe()(n,[{key:"_onGoToAlbumsClick",value:function(){this.props.goToUrl("/client/albums/geo")}},{key:"render",value:function(){var e=this.props.isSmartphone;return Le.a.createElement(sa,{cls:ya().m({touch:e}).stringify(),titleContent:"Альбом"+yr.externals.entityify(e?"\n":" ")+"«Места и поездки»",textContent:Le.a.createElement(ga,{loc:"Все фото из ваших путешествий в"+yr.externals.entityify(ga.$1)+"новом альбоме."},Le.a.createElement("span",null," ")),buttonContent:"Перейти в Альбомы",metrikaPath:ua,metrikaContext:"geo albums onboarding",settingName:"geoAlbumsOnboardingClosed",onButtonClick:this._onGoToAlbumsClick},Le.a.createElement("div",{className:ya().e("image-wrapper")},Le.a.createElement("img",{className:ya().e("image"),src:"".concat(this.props.staticHost).concat(ma.image),srcSet:"".concat(this.props.staticHost).concat(ma.image2x," 2x, ").concat(this.props.staticHost).concat(ma.image3x," 3x")})))}}]),n})(Ne.Component),_a=Object(Me.connect)((function(e){var t=e.config.links.static.host;return{isSmartphone:e.environment.agent.isSmartphone,staticHost:t}}),{goToUrl:J.goToUrl})(ba),Oa=n(698),wa={image:n.n(Oa).a};n(1515);function Ea(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var Sa=function(){return xt()()("albums2-onboarding-faces")},Ca=(function(e){Re()(n,e);var t=Ea(n);function n(e){var r;return Se()(this,n),(r=t.call(this,e))._onGoToAlbumsClick=r._onGoToAlbumsClick.bind(Te()(r)),r}return xe()(n,[{key:"_onGoToAlbumsClick",value:function(){this.props.goToUrl("/client/albums/faces")}},{key:"render",value:function(){var e=this.props.isSmartphone;return Le.a.createElement(sa,{cls:Sa().m({touch:e}).stringify(),titleContent:"Альбом"+yr.externals.entityify(e?"\n":" ")+"«"+yr.externals.entityify("Люди на фото")+"»",textContent:"Диск теперь узнает ваших друзей в лицо \nи раскладывает фото по альбомам.",buttonContent:"Посмотреть",metrikaPath:ua,metrikaContext:"faces albums onboarding",settingName:"facesAlbumsOnboardingClosed",onButtonClick:this._onGoToAlbumsClick},Le.a.createElement("div",{className:Sa().e("image-wrapper")},Le.a.createElement("img",{className:Sa().e("image"),src:"".concat(this.props.staticHost).concat(wa.image)})))}}]),n})(Ne.Component),xa=Object(Me.connect)((function(e){var t=e.config.links.static.host;return{isSmartphone:e.environment.agent.isSmartphone,staticHost:t}}),{goToUrl:J.goToUrl})(Ca),ka=n(699),Ta=n.n(ka),ja=n(700),Ra=n.n(ja),Pa=n(701),Da=n.n(Pa),Ia=n(702),Aa=n.n(Ia),Ma={ru:Ta.a,en:Ra.a,tr:Da.a,uk:Aa.a};n(1516);function Na(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var La=function(){return xt()()("onboarding-shareedit")},Fa=(function(e){Re()(n,e);var t=Na(n);function n(e){var r;return Se()(this,n),(r=t.call(this,e)).state={buttonProgress:!1},r._onClose=r._onClose.bind(Te()(r)),r._onButtonClick=r._onButtonClick.bind(Te()(r)),r}return xe()(n,[{key:"_onButtonClick",value:function(){this.setState({buttonProgress:!0}),this.props.createAndShareEditDocument()}},{key:"_onClose",value:function(){this.props.closeShareEditOnboarding()}},{key:"render",value:function(){return Le.a.createElement(sa,{cls:La().stringify(),titleContent:"Совместное редактирование  документов",textContent:"Теперь можно поделиться ссылкой на документ  и редактировать его вместе с коллегами",buttonContent:"Попробовать",buttonProgress:this.state.buttonProgress,metrikaPath:["interface elements","share edit"],metrikaContext:"share edit onboarding",settingName:"shareEditOnboardingClosed",onClose:this._onClose,onButtonClick:this._onButtonClick,noCloseOnButtonClick:!0},Le.a.createElement("div",{className:La().e("image-wrapper")},Le.a.createElement("img",{className:La().e("image").m(g()({},"ru",!0)),src:"".concat(this.props.staticHost).concat(Ma.ru)}),Le.a.createElement("div",{className:La().e("avatars")})))}}]),n})(Ne.Component),Ba=Object(Me.connect)((function(e){return{staticHost:e.config.links.static.host}}),{goToUrl:J.goToUrl,createAndShareEditDocument:Zt.createAndShareEditDocument,closeShareEditOnboarding:Zt.closeShareEditOnboarding})(Fa),Ua=n(703),za=n.n(Ua);n(1517);function Va(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var Ha=function(){return xt()()("personal-albums-onboarding")},Wa=(function(e){Re()(n,e);var t=Va(n);function n(e){var r;return Se()(this,n),(r=t.call(this,e))._onGoToAlbumsClick=r._onGoToAlbumsClick.bind(Te()(r)),r}return xe()(n,[{key:"_onGoToAlbumsClick",value:function(){this.props.setAlbumsScroll(Er.ALBUMS_SCROLL.SCROLL),this.props.goToUrl("/client/albums")}},{key:"render",value:function(){var e=this.props,t=e.isSmartphone,n=e.staticHost;return Le.a.createElement(sa,{cls:Ha().m({touch:t}).stringify(),titleContent:"Новые личные альбомы",textContent:"Новые — они как старые, только новые. Еще удобнее, красивее и быстрее.",buttonContent:"Перейти в Альбомы",metrikaPath:ua,metrikaContext:"personal albums onboarding",settingName:"personalAlbumsOnboardingClosed",onButtonClick:this._onGoToAlbumsClick},Le.a.createElement("img",{className:Ha().e("image"),src:n+za.a}))}}]),n})(Ne.Component),Ga=Object(Me.connect)((function(e){return{isSmartphone:e.environment.agent.isSmartphone,staticHost:e.config.links.static.host}}),{goToUrl:J.goToUrl,setAlbumsScroll:Er.setAlbumsScroll})(Wa),qa=n(704),$a=n.n(qa),Ya=n(705),Ka=n.n(Ya),Xa=n(518),Za=(n(714),n(395),n(631)),Ja=n(290);function Qa(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De()(this,n)}}var es,ts,rs,is,os,as,ss,us=function(){return xt()()("root")};es=n(1560).default,ts=n(1816).default,rs=n(1592).default,is=n(1828).default,os=n(1597).default,as=n(1599).default,ss=n(1601).default;var cs=[];cs=n(1811).default;var ls=Date.now(),ds=(function(e){Re()(n,e);var t=Qa(n);function n(e,r){var i;return Se()(this,n),(i=t.call(this,e,r)).state={contextMenuCreatePosition:null},i._directMetrikaCounted=!1,i._onContextMenu=i._onContextMenu.bind(Te()(i)),i._onContextMenuCreatePopupClose=i._onContextMenuCreatePopupClose.bind(Te()(i)),i._setRef=i._setRef.bind(Te()(i)),i.getRef=i.getRef.bind(Te()(i)),i._ref=null,i}return xe()(n,[{key:"_setRef",value:function(e){this._ref=e}},{key:"getRef",value:function(){return this._ref}},{key:"componentDidCatch",value:function(e){"error"!==this.props.page&&V.a.go("/client/error","preserve",{reason:"react_catch",error:e}),setTimeout((function(){throw e}))}},{key:"_maybeSaveScroll",value:function(e,t){(!e.isUploaderOpenedInTouch&&t.isUploaderOpenedInTouch||!e.isSuggestOpenedInTouch&&t.isSuggestOpenedInTouch||!e.isOverdraftScreenOpenedInTouch&&t.isOverdraftScreenOpenedInTouch)&&(this._savedScroll=window.pageYOffset)}},{key:"_maybeRestoreScroll",value:function(e,t){(e.isUploaderOpenedInTouch&&!t.isUploaderOpenedInTouch||e.isSuggestOpenedInTouch&&!t.isSuggestOpenedInTouch||e.isOverdraftScreenOpenedInTouch&&!t.isOverdraftScreenOpenedInTouch)&&Object(ta.c)(this._savedScroll||0,{silent:!0})}},{key:"UNSAFE_componentWillUpdate",value:function(e){this._maybeSaveScroll(this.props,e)}},{key:"componentDidUpdate",value:function(e){!this._directMetrikaCounted&&this.props.idContext&&this.props.canShowWebClientAds&&(this.props.showWebClientAds?F.default.count("stat","ad","direct"):F.default.count("stat","ad","disable"),this._directMetrikaCounted=!0),this._maybeRestoreScroll(e,this.props)}},{key:"_onContextMenu",value:function(e){var t=".".concat(Ve.LISTING_ITEM_CLASS,", .").concat(ue.PREVENT_CUSTOM_CONTEXT_MENU_CLASS,", .popup2, .modal, .Popup2, .Modal");this.props.showContextMenu&&!e.target.closest(t)&&(e&&e.target&&e.target.dispatchEvent(new Event("click",{bubbles:!1})),e.preventDefault(),this.setState({contextMenuCreatePosition:{x:e.pageX,y:e.pageY}}),F.default.count("context menu","empty","show"))}},{key:"_onContextMenuCreatePopupClose",value:function(){this.setState({contextMenuCreatePosition:null})}},{key:"_getDefaultContent",value:function(){var e=this.props,t=e.page,n=e.whiteInnerContent,r=e.promoBannerType,i=e.hideFooter,o=e.noBorderRadius,a=e.nonce,s=e.isWidgetsVisible,u=e.topAdExp,c=e.tuningUrl,l=e.shouldShowOverdraftBlock,d=e.isReadOnlyActive,f=e.readOnlyType,h=e.isMobile,p=e.readOnlyUrl,m=("listing"===t||["photo","albums","album","journal","faces","geo"].includes(t)&&u)&&this.props.canShowWebClientAds&&this.props.showWebClientAds,v=u&&m&&!l&&(u.showInsteadOfPromo||!r);return Le.a.createElement("div",{key:"content",className:us().e("content").m({"has-top-ad":v,"has-bottom-ad":m&&!v,page:t,"has-promo-banner":Boolean(r),"with-widgets":s})},Le.a.createElement(es,null),Le.a.createElement("div",{className:us().e("content-wrap")},d&&Le.a.createElement(Zi.a,{type:f,isMobile:h,url:p}),l?Le.a.createElement(as,null):null,v?Le.a.createElement(co,{cls:us().e("top-ad"),nonce:a,position:"top",tuningUrl:c}):this._getPromoBanner(),Le.a.createElement("div",{className:us().e("content-inner").m({white:n,"no-border-radius":o,page:t})},Le.a.createElement("div",{className:us().e("content-container"),onContextMenu:"listing"===t?this._onContextMenu:void 0},this._getPageComponent())),m&&!u?Le.a.createElement(co,{cls:us().e("bottom-ad"),nonce:a,tuningUrl:c}):null,"listing"!==t?null:Le.a.createElement(ts,{onClose:this._onContextMenuCreatePopupClose,visible:!!this.state.contextMenuCreatePosition,position:this.state.contextMenuCreatePosition}),i?null:Le.a.createElement(Be.default,{cls:us().e("footer")})),s&&Le.a.createElement(ss,null))}},{key:"_getPageComponent",value:function(){switch(this.props.page){case"album":return Le.a.createElement(po,null);case"albums":return Le.a.createElement(ho,null);case"geo":return Le.a.createElement(_o,null);case"faces":return Le.a.createElement(ko,null);case"photo":return Le.a.createElement(fo,null);case"journal":return Le.a.createElement(To,null);case"remember-block":return Le.a.createElement(Vo,null);case"docs":return this.props.isDocsView?Le.a.createElement(Lo.a,{getRootRef:this.getRef}):Le.a.createElement(Mo.a,null);case"error":return Le.a.createElement(Io,null);case"listing":return Le.a.createElement(Qi,{closeContextMenu:this._onContextMenuCreatePopupClose});default:return null}}},{key:"_getPromoBanner",value:function(){switch(this.props.promoBannerType){case"desktop":return Le.a.createElement(is,null);case"mobile":return Le.a.createElement(rs,null);case"b2c-1":return Le.a.createElement(os,null);default:return null}}},{key:"_getNavigation",value:function(){return this.props.isUploaderOpenedInTouch,null}},{key:"render",value:function(){var e,t=this.props,n=t.page,r=t.mobileAppHeader,i=t.diskThreeTariffsExperiment,o=t.shouldShowOverdraftScreen,a=t.shouldShowOverdraftBlock,s=t.shouldMountUploader,u=t.isUploaderOpenedInTouch,c=t.isSuggestOpenedInTouch,l=t.isOverdraftScreenOpenedInTouch,d=t.isShareEditOnboardingVisible,f=t.isFacesAlbumsOnboardingVisible,h=t.isGeoAlbumsOnboardingVisible,p=t.isPersonalAlbumsOboardingVisible,m=t.isSubscriptionOnboardingVisible,v=t.isVideoThemeOnboardingVisible,y=t.isDocsPage,b=t.overdraftType,_=t.isMobile,O=t.isSidebarWithWidgetsExperiment,w=t.isDocsView,E=t.isCoverLayerEnabled,S=t.idContext,C=Object(le.getIsVirtualDiskList)(String(S)),x=[Le.a.createElement(Bo.a,{key:"a11y"}),Le.a.createElement(Fe,{key:"header"})],k=l||u||c;switch(n){case"tuning":x.push(Le.a.createElement(lo,{key:"tuning-page"}),Le.a.createElement(Ii,{key:"notifications"}));break;default:o?x.push(Le.a.createElement(Ko,{key:"overdraft-screen"})):x.push(C?null:Le.a.createElement(ai,{key:"resources-action-bar"}),Le.a.createElement(Nr,{key:"slider"}),this._getNavigation(),k?null:this._getDefaultContent(),Le.a.createElement(Za.a,{key:"dialogs",components:cs}),Le.a.createElement(mi,{key:"widgets"}),y?null:Le.a.createElement(Ii,{key:"notifications"}),Le.a.createElement(Yi,{key:"operations-progress"}),s?Le.a.createElement(Ki.b,{key:"uploader"}):null)}return Le.a.createElement(Le.a.Fragment,null,Le.a.createElement(zo.a,null),Le.a.createElement("div",{className:us().m((e={page:n,"docs-view":w,"mobile-app-header":r,"three-tariffs":i&&"tuning"===n,"overdraft-screen":o&&(!b||_),"overdraft-block":a},g()(e,"overdraft-"+b,a&&Boolean(b)),g()(e,"uploader-mobile",u),g()(e,"ps-header",!0),g()(e,"with-widgets-exp",O),g()(e,"with-cover-layer",E),e))},E?Le.a.createElement(Zo.a,null):null,Le.a.createElement("div",{className:us().e("wrapper"),ref:this._setRef},x,d&&Le.a.createElement(Ba,null),f&&Le.a.createElement(xa,null),h&&Le.a.createElement(_a,null),p&&Le.a.createElement(Ga,null),m&&Le.a.createElement($a.a,null),v&&Le.a.createElement(Ka.a,null))))}}]),n})(Ne.Component),fs=Object(Me.connect)((function(e){var t=e.page.idContext,n=e.environment,r=n.agent,i=r.isMobile,o=r.isInMobileApp,a=r.BrowserName,s=r.BrowserVersion,u=n.session.nonce,c=e.uploader,l=c.visible,d=c.opened,f=e.settings,h=f.closedOverdraftScreen,p=f.closedOverdraftBlock,m=e.config.urlsBase.support,v=Object(Fr.getPage)(e),g=Object(Qt.shouldNotifyOverdraft)(e),y=Object(Fr.isFooterHidden)(e),b=Object(Qt.getOverdraftType)(e),_=g&&!h,O=Object(Kr.getTopAdExp)(e),w=Object(Fr.isWidgetsVisible)(e)||Object(Fr.isTavernVisible)(e),E=O&&O.showInsteadOfPromo&&!(function(e){return"photo"===Object(dr.getListingStubId)(e)&&Object(mr.k)(e)||"/albums"===e.page.idContext&&Object(Rr.r)(e)||Object(dr.getListingStubId)(e)&&Object(dr.isEmptyResource)(e)||!["/trash","/journal","/album/faces","/album/geo"].includes(e.page.idContext)&&"photo_filter"!==Object(dr.getListingStubId)(e)&&!Object(Rr.x)(e)&&!Object(dr.getListingStubId)(e)||e.environment.agent.isMobile})(e);return{isMobile:i,idContext:t,whiteInnerContent:["listing","photo","albums","album","remember-block","geo","faces","docs"].includes(v)&&!1,canShowWebClientAds:O?(function(e){return(["/trash","/journal","/album/faces","/album/geo"].includes(e.page.idContext)||Object(Rr.x)(e)||"photo"===Object(dr.getListingStubId)(e)&&!Object(mr.k)(e)||"photo_filter"===Object(dr.getListingStubId)(e)||"/albums"===e.page.idContext&&!Object(Rr.r)(e)||!Object(dr.getListingStubId)(e)||Object(dr.isNotEmptyResource)(e))&&!e.environment.agent.isMobile})(e):(function(e){return!(Object(dr.getListingStubId)(e)&&Object(dr.isEmptyResource)(e)||"/trash"===e.page.idContext&&Object(dr.isEmptyResource)(e)||"recent"===Object(dr.getListingStubId)(e)||e.environment.agent.isMobile)})(e),hideFooter:y,showWebClientAds:(function(e){var t,n;return null===(t=e.user.features)||void 0===t?void 0:null===(n=t.advertising)||void 0===n?void 0:n.enabled})(e),showContextMenu:(function(e){var t=e.page.idContext,n=e.environment.agent.isMobile,r=Object(dr.isEmptyResource)(e)&&Boolean(Object(dr.getListingStubId)(e));return!n&&"/trash"!==t&&!Object(le.getIsVirtualDiskList)(t)&&t.indexOf("/attach/YaFotki")<0&&!r})(e),promoBannerType:E?void 0:(function(e){var t=e.settings,n=t.showWelcomePopupInSession,r=t.timestampLastClosedMobilePromo,i=t.timestampLastClosedDesktopPromo,o=t.timestampLastDownloadedDesktopPromo,a=t.timestampLastClosedB2CBanner,s=e.environment.session,u=s.shouldShowMobileAppPromoBanner,c=s.shouldShowDesktopSoftPromoBanner,l=s.shouldShowB2cBanner,d=s.experiment,f=d.diskWebClientMobileTest,h=d.diskWebDisableAppPromoExp,p=s.serverTime,m=Object(Fr.getPage)(e);if("photo"!==m&&["listing","albums"].includes(m)&&!n){if(l&&Object(Qo.checkTimeIntervalCondition)(Number(a),ue.B2C_BANNER_TIMEOUT_DEFAULT,p))return"b2c-1";if(u)return Object(Qo.checkTimeIntervalCondition)(Number(r),f.closedBannerTimeout)?"mobile":void 0;if(c)return!h&&Object(Qo.checkTimeIntervalCondition)(Number(i),ue.DESKTOP_APP_CLOSED_BANNER_TIMEOUT)&&Object(Qo.checkTimeIntervalCondition)(Number(o),ue.DESKTOP_APP_DOWNLOAD_ACTIVITY_TIMEOUT)?"desktop":void 0}})(e),nonce:u,page:v,isReadOnlyActive:Object(Ja.isReadOnlyActive)(e),readOnlyType:Object(Ja.readOnlyType)(e),readOnlyUrl:m+"/disk/enlarge/disk-space.html#limit",isDocsView:Object(ie.isDocsView)(e),tuningUrl:Object(Fr.getBuyButtonUrl)(e),mobileAppHeader:o,diskThreeTariffsExperiment:Object(Xa.h)(e),shouldShowOverdraftScreen:_,shouldShowOverdraftBlock:!i&&!Object(ie.isDocsPage)(e)&&g&&!p,overdraftType:b,shouldMountUploader:l,isUploaderOpenedInTouch:d&&!1,isSuggestOpenedInTouch:Object(ea.b)(e)&&!1,isOverdraftScreenOpenedInTouch:_&&!1,isVideoThemeOnboardingVisible:Object(Jo.d)(e),isSubscriptionOnboardingVisible:Object(Jo.c)(e,ls),isGeoAlbumsOnboardingVisible:Object(Rr.v)(e),isFacesAlbumsOnboardingVisible:Object(Rr.u)(e),isShareEditOnboardingVisible:Object(Jo.b)(e),isPersonalAlbumsOboardingVisible:Object(Rr.y)(e),isSidebarWithWidgetsExperiment:Object(Kr.isSidebarWithWidgetsExperiment)(e)||Object(Kr.isTavernExperiment)(e),isWidgetsVisible:w,isDocsPage:Object(ie.isDocsPage)(e),topAdExp:O,noBorderRadius:"MobileSafari"===a&&s<"14",isCoverLayerEnabled:Object(oo.isCoverLayerEnabled)(e)}}))(ds),hs=n(69),ps=n(430),ms=n(134),vs=n.n(ms),gs=n(435),ys=n.n(gs),bs=n(77),_s=n(147),Os=n(420);n(1795);h.a.extend(yr.externals,M),n(736),H.a.init("client",W),ns.router.routes=n(1806)({ns:ns,defaultFolders:Object(hs.getPreloadedData)("defaultFolders"),settings:Object(ps.preprocessSettings)(Object(hs.getPreloadedData)("settings"),Object(X.default)().getState().environment.agent.isSmartphone),config:Object(hs.getPreloadedData)("config"),environment:Object(hs.getPreloadedData)("environment")}),n.p=q.a.links.static.host+"/s3/disk/_/";!(function(){document.body.classList.remove("no-transition");var e=Object(X.default)(),t=Object(hs.getPreloadedData)("space")||{};U.default.DEFAULT_FOLDERS_DATA["/trash"].meta={size:t.trash||0},Object.keys(U.default.DEFAULT_FOLDERS_DATA).forEach((function(t){e.dispatch(Object(Zt.setResourceData)(t,Object.assign({id:t},U.default.DEFAULT_FOLDERS_DATA[t])))})),ys.a.preloadReady().then((function(){L.a.initApp();var t=e.getState(),n=ns.page.current.params.idResourceDownload;if(n&&(delete ns.page.current.params.idResourceDownload,V.a.go(ns.router.generateUrl(ns.page.current.page,ns.page.current.params)),Object(Z.isExistsResource)(t,n)?ns.action.run("resource.download",{id:n}):e.dispatch(Object(Zt.fetchSingleResource)(n)).then((function(){ns.action.run("resource.download",{id:n})}))),Object(Fr.shouldShowWelcomePopup)(t,ns.page.current.params)&&(e.dispatch(Object(Xt.updateSettings)({showWelcomePopupInSession:!0})),V.a.go(ns.router.generateUrl(ns.page.current.page,Object.assign({},ns.page.current.params,{reduxDialog:"welcome"})))),t.environment.session.loadingFailed||V.a.onBeforeFirstRender(e,Object(hs.getPreloadedData)()),ns.page.current.params.hide_overdraft_screen){var r=new URL(location.href);r.searchParams.delete("hide_overdraft_screen"),ns.history.replaceState(r.toString())}if(vs.a.hydrate(Le.a.createElement(Me.Provider,{store:e},Le.a.createElement(Os.b,null,Le.a.createElement(fs,null))),document.getElementById("app")),t.user.uid){ns.Model.get("operationsActive").revive(),Object(B.subscribe)();var i=new ge.a("/check-online");i.addOfflineEventListener((function(){e.dispatch(function(e){return{type:wr.UPDATE_ENVIRONMENT,payload:e}}({offlineTime:Date.now()}))})),i.addOnlineEventListener((function(t,n){n<=Zt.offlineThreshold||(e.dispatch(Object(bs.a)()),e.dispatch(Object(_s.c)(!0)),"listing"===Object(Fr.getPage)(e.getState())&&e.dispatch(Object(Zt.fetchCurrentListing)(!1,!0)))}))}}));var n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=e.findIndex((function(e,n){return 0===n?t<=e:t<e}));return-1===o?i+e[e.length-1]+n:0===o?r+e[0]+n:e[o-1]+n+" - "+(e[o]-1)+n},r=e.getState(),i=Object(ie.isDocsPage)(r);F.default.init(i?q.a.docsMetrikaCounterId:q.a.metrikaCounterId,X.default,null,(function(){var e={version:r.environment.session.version},t=(r.space||{}).limit,i=Object(Qt.getPercentageOfUsed)(r),o=t/1024/1024/1024;return r.user.uid&&Object.assign(e,{space:n([10,25,50,75,100],i,"%","< ","> "),"space total":n([10,50,100,300,600,1e3,2e3],o,"","","> ")}),e}),{experiments:Object(hs.getPreloadedData)("environment.session.metrikaExperiments")})})()}),(function(e,t,n){"use strict";var r,i;n.r(t),(function(e){e[e.day=0]="day",e[e.month=1]="month",e[e.year=2]="year"})(r||(r={})),(function(e){e[e.PrevCell=0]="PrevCell",e[e.NextCell=1]="NextCell",e[e.UpperCell=2]="UpperCell",e[e.LowerCell=3]="LowerCell",e[e.FirstCell=4]="FirstCell",e[e.LastCell=5]="LastCell",e[e.StartCell=6]="StartCell",e[e.EndCell=7]="EndCell",e[e.PrevView=8]="PrevView",e[e.NextView=9]="NextView",e[e.PrevExtraView=10]="PrevExtraView",e[e.NextExtraView=11]="NextExtraView"})(i||(i={}));var o=n(2),a=n(0),s=n(510);function u(e,t,n){var r=e.value,i=e.viewDate,u=t.isCalendarFocused,c=t.activeView,l=t.getCellState,d=t.focusDate,f=t.selectDate,h=l(r,i),p=h.isSelected,m=h.isDisabled,v=h.isFocused,g=h.isSameView,y=h.isToday,b=u&&v,_="range"===t.mode?t.highlightDate:null,O=Object(s.a)({disabled:m,onPress:function(){f(r)}}).pressProps;Object(a.useEffect)((function(){b&&n.current&&n.current.focus()}),[b,n]);var w=Object(o.__assign)(Object(o.__assign)({},O),{role:"button","aria-selected":p,"aria-disabled":m,"aria-hidden":!g,"aria-label":void 0});return m||(w.tabIndex=g&&v?0:-1,w.onFocus=function(){g&&!v&&d(r)}),"range"!==t.mode||m||(w.onMouseEnter=function(){null===_||void 0===_||_(r)}),y&&"day"===c&&(w["aria-current"]="date"),{cellState:h,cellProps:{role:"gridcell"},buttonProps:w}}var c=n(237);function l(e,t){var n=e.readOnly,r=e.disabled,o=t.mode,a=t.focusedDate,s=t.focusCalendar,u=t.focusDate,l=t.moveDate,d=Object(c.a)().isRTL;return{gridProps:{role:"grid","aria-readonly":n,"aria-disabled":r,"aria-multiselectable":"multiple"===o||"range"===o,onFocus:function(){s(!0)},onBlur:function(e){var t=e.relatedTarget;e.currentTarget.contains(t)||s(!1)},onKeyDown:function(e){var t=null;switch(e.key){case"ArrowLeft":t=d?i.NextCell:i.PrevCell;break;case"ArrowRight":t=d?i.PrevCell:i.NextCell;break;case"ArrowUp":t=i.UpperCell;break;case"ArrowDown":t=i.LowerCell;break;case"Home":t=e.shiftKey?i.FirstCell:i.StartCell;break;case"End":t=e.shiftKey?i.LastCell:i.EndCell;break;case"PageUp":t=e.shiftKey?i.PrevExtraView:i.PrevView;break;case"PageDown":t=e.shiftKey?i.NextExtraView:i.NextView}null!==t&&(e.preventDefault(),u(l(a,t)))}}}}var d=n(1884),f=n(554),h=n(1883),p=new Date(-621355968e5),m=new Date(864e13),v=n(52),g=n(44);function y(e){Object(g.a)(1,arguments);var t=Object(v.a)(e);return t.setDate(1),t.setHours(0,0,0,0),t}var b=n(1881);function _(e){Object(g.a)(1,arguments);var t=Object(v.a)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function O(e){Object(g.a)(1,arguments);var t=Object(v.a)(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function w(e){Object(g.a)(1,arguments);var t=Object(v.a)(e);return t.setHours(0,0,0,0),t}var E=n(58);function S(e,t){Object(g.a)(2,arguments);var n=Object(v.a)(e),r=Object(E.a)(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());return o.setMonth(n.getMonth()+r+1,0),i>=o.getDate()?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function C(e,t){return Object(g.a)(2,arguments),S(e,12*Object(E.a)(t))}function x(e,t){return Object(g.a)(2,arguments),S(e,-Object(E.a)(t))}function k(e,t){return Object(g.a)(2,arguments),C(e,-Object(E.a)(t))}function T(e,t){Object(g.a)(2,arguments);var n=w(e),r=w(t);return n.getTime()===r.getTime()}function j(e,t){Object(g.a)(2,arguments);var n=Object(v.a)(e),r=Object(v.a)(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function R(e,t){Object(g.a)(2,arguments);var n=Object(v.a)(e),r=Object(v.a)(t);return n.getFullYear()===r.getFullYear()}var P=n(675);function D(e,t){Object(g.a)(2,arguments);var n=Object(v.a)(e),r=Object(E.a)(t),i=n.getFullYear(),o=n.getDate(),a=new Date(0);a.setFullYear(i,r,15),a.setHours(0,0,0,0);var s=Object(P.a)(a);return n.setMonth(r,Math.min(o,s)),n}function I(e,t){if(Object(g.a)(2,arguments),"object"!=typeof t||null===t)throw new RangeError("values parameter must be an object");var n=Object(v.a)(e);return isNaN(n.getTime())?new Date(NaN):(null!=t.year&&n.setFullYear(t.year),null!=t.month&&(n=D(n,t.month)),null!=t.date&&n.setDate(Object(E.a)(t.date)),null!=t.hours&&n.setHours(Object(E.a)(t.hours)),null!=t.minutes&&n.setMinutes(Object(E.a)(t.minutes)),null!=t.seconds&&n.setSeconds(Object(E.a)(t.seconds)),null!=t.milliseconds&&n.setMilliseconds(Object(E.a)(t.milliseconds)),n)}function A(e,t){Object(g.a)(2,arguments);var n=Object(v.a)(e),r=Object(E.a)(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}function M(e,t){return Object(g.a)(2,arguments),A(e,7*Object(E.a)(t))}var N=n(205);function L(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())}function F(e,t){void 0===t&&(t={});var n=t.firstDayOfWeek,r=void 0===n?0:n,i=[],o=e.getMonth(),a=e.getFullYear(),s=(y(e).getDay()-r)%7;s<0&&(s+=7);for(var u=Object(P.a)(e),c=Math.ceil((s+u)/7),l=0;l<c;l++){i.push([]);for(var d=0;d<7;d++){var f=new Date(a,o,7*l+d-s+1);i[l].push(f)}}return i}function B(e,t,n){void 0===n&&(n={});var r=n.firstDayOfWeek;switch(t){case i.NextCell:return A(e,1);case i.PrevCell:return (function(e,t){return Object(g.a)(2,arguments),A(e,-Object(E.a)(t))})(e,1);case i.LowerCell:return M(e,1);case i.UpperCell:return (function(e,t){return Object(g.a)(2,arguments),M(e,-Object(E.a)(t))})(e,1);case i.FirstCell:return y(e);case i.LastCell:return (function(e){Object(g.a)(1,arguments);var t=Object(v.a)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t})(e);case i.StartCell:return Object(N.a)(e,{weekStartsOn:r});case i.EndCell:return (function(e,t){Object(g.a)(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.weekStartsOn,o=null==i?0:Object(E.a)(i),a=null==n.weekStartsOn?o:Object(E.a)(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=Object(v.a)(e),u=s.getDay(),c=6+(u<a?-7:0)-(u-a);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s})(e,{weekStartsOn:r});case i.PrevView:return x(e,1);case i.NextView:return S(e,1);case i.PrevExtraView:return k(e,1);case i.NextExtraView:return C(e,1);default:return e}}var U=4,z=3;function V(e,t){return t.getFullYear()-e.getFullYear()}function H(e){for(var t=[],n=0,r=0;n<U;n++){t.push([]);for(var i=0;i<z;i++)t[n].push(S(e,r++))}return t}function W(e,t){switch(t){case i.NextCell:return S(e,1);case i.PrevCell:return x(e,1);case i.LowerCell:return S(e,z);case i.UpperCell:return x(e,z);case i.StartCell:case i.FirstCell:return D(e,0);case i.EndCell:case i.LastCell:return D(e,11);case i.PrevView:return k(e,1);case i.NextView:return C(e,1);default:return e}}var G=n(1882),q=6,$=4,Y=q*$;function K(e){return Math.floor(e.getFullYear()/Y)*Y}function X(e){return K(e)+Y-1}function Z(e){var t=K(e);return Object(b.a)(Object(G.a)(e,t))}function J(e){var t=X(e);return O(Object(G.a)(e,t))}function Q(e,t){var n=K(e);return(K(t)-n)/Y}function ee(e,t){return C(e,t*Y)}function te(e,t){return k(e,t*Y)}function ne(e){for(var t=[],n=0,r=0;n<q;n++){t.push([]);for(var i=0;i<$;i++)t[n].push(C(e,r++))}return t}function re(e,t){switch(t){case i.NextCell:return C(e,1);case i.PrevCell:return k(e,1);case i.LowerCell:return C(e,$);case i.UpperCell:return k(e,$);case i.StartCell:case i.FirstCell:return Object(G.a)(e,K(e));case i.EndCell:case i.LastCell:return Object(G.a)(e,X(e));case i.PrevView:return te(e,1);case i.NextView:return ee(e,1);default:return e}}function ie(e,t){return e&&t?t<e?{start:t,end:e}:{start:e,end:t}:{start:null!==e&&void 0!==e?e:t,end:null}}function oe(e,t){return{day:y,month:b.a,year:Z}[e](t)}function ae(e,t){return{day:_,month:O,year:J}[e](t)}function se(e,t){return{day:w,month:y,year:b.a}[e](t)}function ue(e,t,n){return{day:L,month:V,year:Q}[e](t,n)}function ce(e,t,n){return{day:S,month:C,year:ee}[e](t,n)}function le(e,t,n){return{day:x,month:k,year:te}[e](t,n)}function de(e,t,n){return 0===ue(e,t,n)}function fe(e,t,n){if(!n.start||!n.end)return!1;var r=se(e,t);return r>=se(e,n.start)&&r<=se(e,n.end)}function he(e,t,n){return{day:T,month:j,year:R}[e](t,n)}function pe(e,t,n){return w(Object(h.a)(e.getTime(),t.getTime(),n.getTime()))}function me(e,t,n){return{day:F,month:H,year:ne}[e](t,n)}function ve(e,t,n){var r=n.getDate(),i=n.getMonth();return{day:function(e){return e},month:function(e){return I(e,{date:r})},year:function(e){return I(e,{date:r,month:i})}}[e](t)}function ge(e,t){Object(g.a)(2,arguments);var n=Object(v.a)(e),r=Object(v.a)(t);return n.getTime()===r.getTime()}function ye(e){var t=e.value,n=e.defaultFocusedDate,i=void 0===n?t:n,s=e.onChange,u=e.autoFocus,c=void 0!==u&&u,l=e.readOnly,v=void 0!==l&&l,g=e.disabled,y=void 0!==g&&g,b=e.min,_=void 0===b?p:b,O=e.max,w=void 0===O?m:O,E=e.viewsCount,S=void 0===E?1:E,C=e.minCalendarView,x=void 0===C?"day":C,k=e.defaultCalendarView,T=void 0===k?x:k,j=e.maxCalendarView,R=void 0===j?"year":j,P=Object(a.useMemo)((function(){return new Date(_)}),[_]),D=Object(a.useMemo)((function(){return new Date(w)}),[w]),I=Object(a.useMemo)((function(){return t?new Date(t):void 0}),[t]),A=Object(f.a)(),M=Object(o.__read)(Object(a.useState)((function(){return Z(T)})),2),N=M[0],L=M[1],F=Object(o.__read)(Object(a.useState)(c),2),U=F[0],z=F[1],V=Object(o.__read)(Object(a.useState)((function(){return K(i?new Date(i):new Date)})),2),H=V[0],G=V[1],q=Object(o.__read)(Object(a.useState)((function(){return X(N,H)})),2),$=q[0],Y=q[1];function K(e){return se(x,pe(e,P,D))}function X(e,t){var n=le(e,D,S-1);return ve(e,oe(e,pe(t,P,P>n?P:n)),t)}function Z(e){var t=Object(h.a)(r[e],r[x],r[R]);return r[t]}function J(e,t){void 0===t&&(t=0);var n=r[e]+t,i=r[n];return Z(null!==i&&void 0!==i?i:e)}function Q(e,t){var n=pe(se(x,t),P,D);if(!ge(H,n)){G(n);var r=ve(e,(function(e,t,n,r){var i=n-1,o=ue(e,t,r),a=Math.min(o,0)+Math.max(o,i)-i;return 0!==a?ce(e,t,a):t})(e,$,S,n),n);ge($,r)||Y(r)}}function ee(e,t){if(!(r[e]<r[x]||r[e]>r[R])){e!==N&&L(e);var n=K(t);ge(H,n)||G(n);var i=ue(N,$,X(N,n)),o=le(e,X(e,n),i);ge($,o)||Y(o)}}var te=Object(a.useMemo)((function(){return (function(e,t,n,r){for(var i=[],o=0;o<n;o++){var a=ce(e,t,o),s=ie(oe(e,a),ae(e,a));i.push({viewDate:a,viewRange:s,data:me(e,a,r)})}return i})(N,$,S,{firstDayOfWeek:A})}),[$,S,N,A]);return{mode:"single",value:I,isCalendarFocused:U,baseDate:$,focusedDate:H,activeView:N,views:te,focusCalendar:z,focusDate:function(e){Q(N,e)},selectDate:function(e){if(!v&&!y&&fe(N,e,ie(P,D))){var t=J(N,-1);t!==N?ee(t,e):(Q(t,e),v||t!==x||null===s||void 0===s||s({value:e}))}},getCellState:function(e,t){var n=new Date,r=de(N,e,t);return{isDisabled:y||!fe(N,e,ie(P,D)),isFocused:r&&he(N,e,H),isSameView:r,isSelected:!!I&&he(N,e,I),isToday:he(N,e,n),isWeekend:"day"===N&&Object(d.a)(e)}},moveDate:function(e,t){return (function(e,t,n,r){return{day:B,month:W,year:re}[e](t,n,r)})(N,e,t,{firstDayOfWeek:A})},setView:function(e){ee(e,H)},canNavigateTo:function(e){var t=oe(N,P),n=new Date(Math.max(t.getTime(),oe(N,le(N,D,S-1)).getTime()));return fe(N,e,ie(t,n))},navigateTo:function(e){var t=ve(N,e,H);if(!ge($,t)){Y(t);var n=K(function(e,t,n,r){var i=ue(e,t,n),o=i+r-1;return i>0||o<0?ce(e,t,Math.abs(i)<Math.abs(o)?i:o):t}(N,H,t,S));ge(H,n)||G(n)}},moveView:J}}function be(e){var t=e.value,n=(e.defaultValue,e.onChange),r=Object(o.__rest)(e,["value","defaultValue","onChange"]),i=ye(Object(o.__assign)(Object(o.__assign)({},r),{value:null===t||void 0===t?void 0:t[0],onChange:function(e){var r,i=null!==(r=null===t||void 0===t?void 0:t.slice())&&void 0!==r?r:[],o=i.findIndex((function(t){return ge(t,e.value)}));-1!==o?i.splice(o,1):i.push(e.value),null===n||void 0===n||n({value:i})}}));return Object(o.__assign)(Object(o.__assign)({},i),{mode:"multiple",value:t,getCellState:function(e,n){var r,a=i.getCellState(e,n);return Object(o.__assign)(Object(o.__assign)({},a),{isSelected:null!==(r=null===t||void 0===t?void 0:t.some((function(t){return he(i.activeView,t,e)})))&&void 0!==r&&r})}})}function _e(e){var t,n=e.value,r=(e.defaultValue,e.onChange),i=Object(o.__rest)(e,["value","defaultValue","onChange"]),s=Object(o.__read)(Object(a.useState)(null),2),u=s[0],c=s[1],l=ye(Object(o.__assign)(Object(o.__assign)({},i),{value:null!==(t=null===n||void 0===n?void 0:n.start)&&void 0!==t?t:void 0,onChange:function(e){c(u?null:e.value),null===r||void 0===r||r({value:ie(u,e.value)})}})),d=l.activeView,f=l.focusedDate,h=l.focusDate,p=l.getCellState,m=u?ie(u,f):n&&ie(n.start,n.end);return Object(o.__assign)(Object(o.__assign)({},l),{mode:"range",value:n,highlightDate:function(e){u&&h(e)},getCellState:function(e,t){var n=p(e,t),r=!!m&&fe(d,e,m),i=!(null===m||void 0===m||!m.start)&&he(d,e,m.start),a=!(null===m||void 0===m||!m.end)&&he(d,e,m.end),s=!!u&&he(d,e,u),c=Boolean(u)&&r,l=c?i&&s:i,f=c?a&&s:a;return Object(o.__assign)(Object(o.__assign)({},n),{isDisabled:n.isDisabled||!de(d,e,t),isRangePreview:Boolean(u)&&r,isRangePreviewStart:c&&i,isRangePreviewEnd:c&&a,isRangeSelected:!u&&r,isSelectionStart:c?i&&s:i,isSelectionEnd:c?a&&s:a,isSelected:l||f})}})}n.d(t,"CalendarNavigationAction",(function(){return i})),n.d(t,"useCalendarCell",(function(){return u})),n.d(t,"useCalendar",(function(){return l})),n.d(t,"useSingleCalendarState",(function(){return ye})),n.d(t,"useMultipleCalendarState",(function(){return be})),n.d(t,"useRangeCalendarState",(function(){return _e}))}),(function(e,t,n){"use strict";n.r(t);var r=n(6),i=n(28),o=Object(i.cn)("DateTimeField"),a=(n(1107),Object(r.createClassNameModifier)(o(),{pin:"brick-brick"})),s=(n(1108),Object(r.createClassNameModifier)(o(),{pin:"brick-clear"})),u=(n(1109),Object(r.createClassNameModifier)(o(),{pin:"brick-round"})),c=(n(1110),Object(r.createClassNameModifier)(o(),{pin:"clear-brick"})),l=(n(1111),Object(r.createClassNameModifier)(o(),{pin:"clear-clear"})),d=(n(1112),Object(r.createClassNameModifier)(o(),{pin:"clear-round"})),f=(n(1113),Object(r.createClassNameModifier)(o(),{pin:"round-brick"})),h=(n(1114),Object(r.createClassNameModifier)(o(),{pin:"round-clear"})),p=(n(1115),Object(r.createClassNameModifier)(o(),{size:"s"})),m=(n(1116),Object(r.createClassNameModifier)(o(),{size:"m"})),v=(n(1117),Object(r.createClassNameModifier)(o(),{view:"default"})),g=n(2),y=n(0),b=n.n(y),_=n(1886),O=n(65),w=(n(1118),Object(y.forwardRef)((function(e,t){var n=e.className,r=e.children,i=Object(g.__rest)(e,["className","children"]);return b.a.createElement("div",Object(g.__assign)({ref:t,className:o(null,[n])},i,{tabIndex:-1}),b.a.createElement("div",{className:o("Box")}),b.a.createElement("div",{className:o("Wrapper")},r))}))),E=(n(1122),function(e){var t=e.segment,n=e.state,r=e.className,i=Object(g.__rest)(e,["segment","state","className"]),a=t.isDisabled,s=t.isPlaceholder,u=t.isValid,c=Object(O.useDateTimeFieldSegment)(e,n).segmentProps,l=Object(O.mergeProps)(i,c);return b.a.createElement("span",Object(g.__assign)({className:o("EditableSegment",{placeholder:s,disabled:a,invalid:!u},[r])},l),t.text)});n(1121);var S=function(e){var t=e.segment,n=e.className,r=Object(g.__rest)(e,["segment","className"]);return b.a.createElement("span",Object(g.__assign)({className:o("LiteralSegment",null,[n])},r,{role:"presentation"}),t.text)};var C=function(e){var t=e.segment,n=e.state,r=Object(g.__rest)(e,["segment","state"]);return t.isEditable?b.a.createElement(E,Object(g.__assign)({},r,{segment:t,state:n})):b.a.createElement(S,{segment:t})};n(1120);var x=Object(y.forwardRef)((function(e,t){var n=e.className,r=e.state,i=Object(g.__rest)(e,["className","state"]),a=Object(O.useDateTimeField)(i),s=a.fieldProps,u=a.segmentProps;return b.a.createElement("span",Object(g.__assign)({ref:t,className:o("Control",null,[n])},s),r.segments.map((function(e,t){return b.a.createElement(C,Object(g.__assign)({key:t,segment:e,state:r},u))})))})),k=(n(1119),Object(y.forwardRef)((function(e,t){var n=e.children,r=e.className,i=e.name,a=Object(g.__rest)(e,["children","className","name"]);return b.a.createElement("span",Object(g.__assign)({ref:t,className:o("Slot",{name:i},[r])},a),n)})));n(1123);var T=function(){var e=Object(_.b)().focusNext,t=Object(O.usePress)({onPressStart:function(t){"mouse"===t.source&&e({from:t.target,tabbable:!0})}}).pressProps;return b.a.createElement("span",Object(g.__assign)({},t,{className:o("RangeDash"),role:"presentation"}))};n.d(t,"DateTimeField",(function(){return R})),n.d(t,"DateTimeRangeField",(function(){return P})),n.d(t,"cnDateTimeField",(function(){return o}));var j=Object(r.compose)(Object(r.composeU)(a,s,u,c,l,d,f,h),Object(r.composeU)(p,m),v),R=j((function(e){var t=e.addonBefore,n=e.addonAfter,r=e.className,i=e["data-testid"],a=e.autoFocus,s=Object(g.__rest)(e,["addonBefore","addonAfter","className","data-testid","autoFocus"]),u=s.disabled,c=Object(y.useRef)(null),l=Object(O.useDateTimeFieldState)(s),d=Object(g.__read)(Object(y.useState)(!1),2),f=d[0],h=d[1],p=Object(O.useFocusWithin)({disabled:u,onFocusWithinChange:h}).focusWithinProps;return b.a.createElement(w,Object(g.__assign)({className:o({disabled:u,focused:f},[r])},p,{"data-testid":i}),t&&b.a.createElement(k,{name:"before"},t),b.a.createElement(k,{ref:c,name:"control"},b.a.createElement(_.a,{scopeRef:c,autoFocus:a},b.a.createElement(x,Object(g.__assign)({state:l},s)))),n&&b.a.createElement(k,{name:"after"},n))})),P=j((function(e){var t,n=e.addonBefore,r=e.addonAfter,i=e.className,a=e.value,s=void 0===a?{start:null,end:null}:a,u=e.onChange,c=e["data-testid"],l=e.autoFocus,d=Object(g.__rest)(e,["addonBefore","addonAfter","className","value","onChange","data-testid","autoFocus"]),f=d.disabled,h=Object(y.useRef)(null),p=Object(g.__read)(Object(y.useState)(!1),2),m=p[0],v=p[1],E=Object(O.useFocusWithin)({disabled:f,onFocusWithinChange:v}).focusWithinProps,S=Object(y.useCallback)((function(e){null===u||void 0===u||u({value:{start:e.value,end:s.end}})}),[u,s.end]),C=Object(y.useCallback)((function(e){null===u||void 0===u||u({value:{start:s.start,end:e.value}})}),[u,s.start]),j=Object(O.useDateTimeFieldState)(Object(g.__assign)(Object(g.__assign)({},d),{value:s.start,onChange:S})),R=Object(O.useDateTimeFieldState)(Object(g.__assign)(Object(g.__assign)({},d),{value:s.end,onChange:C,min:null!==(t=s.start)&&void 0!==t?t:d.min}));return b.a.createElement(w,Object(g.__assign)({className:o({disabled:f,focused:m},[i])},E,{"data-testid":c}),n&&b.a.createElement(k,{name:"before"},n),b.a.createElement(k,{ref:h,name:"control"},b.a.createElement(_.a,{scopeRef:h,autoFocus:l},b.a.createElement(x,{state:j}),b.a.createElement(T,null),b.a.createElement(x,{state:R}))),r&&b.a.createElement(k,{name:"after"},r))}))}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(5),l=n.n(c),d=n(7),f=n.n(d),h=n(1),p=n.n(h),m=(n(1757),n(19)),v=n(0),g=n.n(v),y=n(9),b=n.n(y),_=n(34),O=n(22),w=n(116),E=n(287),S=n(23),C=n(41),x=n(85),k=n(11),T=n.n(k);function j(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var R=function(){return T()()("resource-rename-dialog")},P=(function(e){l()(n,e);var t=j(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onRenameDialogClose=r._onRenameDialogClose.bind(u()(r)),r._onRenameDialogSubmit=r._onRenameDialogSubmit.bind(u()(r)),r._onRenameTextChange=r._onRenameTextChange.bind(u()(r)),r._toggleConfirmationDialogVisible=r._toggleConfirmationDialogVisible.bind(u()(r)),r._cancelFileExtensionChange=r._cancelFileExtensionChange.bind(u()(r)),r._confirmFileExtensionChange=r._confirmFileExtensionChange.bind(u()(r)),r.state={renameText:r._getRenameText(),initialExtension:r.props.resource.ext||"",newExtension:r.props.resource.ext||""},r}return a()(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.visible||e.visible!==this.props.visible}},{key:"componentDidUpdate",value:function(e){(this.props.visible&&!e.visible||this.props.resource&&this.props.resource.id!==(e.resource||{}).id)&&this.setState({renameText:this._getRenameText(),initialExtension:this.props.resource.ext||"",newExtension:this.props.resource.ext||""})}},{key:"_cancelFileExtensionChange",value:function(){var e=this,t=Object(O.revertFileExtension)(this.state.renameText,this.state.initialExtension,this.state.newExtension);this.setState({renameText:t,newExtension:this.state.initialExtension},(function(){e._confirmFileExtensionChange()}))}},{key:"_confirmFileExtensionChange",value:function(){this._toggleConfirmationDialogVisible(),this._rename()}},{key:"_toggleConfirmationDialogVisible",value:function(){this.setState({isConfirmationDialogVisible:!this.state.isConfirmationDialogVisible})}},{key:"_onRenameDialogClose",value:function(){this.setState({renameText:this._getRenameText()}),this.props.onClose()}},{key:"_getRenameText",value:function(){var e=this.props,t=e.resource,n=e.nameSuffix;return Object(O.addNameSuffix)(t.name||"","dir"===t.type,n)}},{key:"_rename",value:function(){this.props.onSubmit(this.state.renameText)}},{key:"_onRenameDialogSubmit",value:function(){if("dir"!==this.props.resource.type){var e=Object(O.extname)(this.state.renameText,!1);!this.props.noChangeExtensionConfirmation&&this.state.initialExtension&&this.state.renameText&&e.toLowerCase()!==this.state.initialExtension?(this.setState({newExtension:e}),this._toggleConfirmationDialogVisible()):this._rename()}else this._rename()}},{key:"_onRenameTextChange",value:function(e){this.setState({renameText:e})}},{key:"_getValidationErrorText",value:function(){var e=this.props.resource.type,t=_.default.validateName(this.state.renameText);return t&&b.a.get(_.resourceNameValidationResultI18n,[t,e])}},{key:"_formatFileExtension",value:function(e){return e.length<10?e:"".concat(e.slice(0,7),"...")}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.text,r=e.resource,i=e.errorText,o=e.visible,a=e.isMobile,s=e.isIosSafari,u=e.progress,c=e.submitButtonText,l=void 0===c?"Сохранить":c,d=e.hasCancelButton,f=this._getValidationErrorText();return g.a.createElement(g.a.Fragment,null,g.a.createElement(E.default,{cls:R().m({hidden:this.state.isConfirmationDialogVisible}).mix(C.LISTING_PREVENT_DESELECT_CLASS),title:t,renameText:this.state.renameText,dontSelectExtention:!r||"dir"!==r.type,errorText:i||f,submitButtonText:l,submitDisabled:!Boolean(this.state.renameText)||Boolean(f),onSubmit:this._onRenameDialogSubmit,cancelButtonText:d&&!a?"Отменить":void 0,closeButtonAriaLabel:"Закрыть",onCancel:this._onRenameDialogClose,onClose:this._onRenameDialogClose,onTextChange:this._onRenameTextChange,visible:o,isIosSafari:s,autofocusButton:!0,progress:u},n?g.a.createElement("div",{className:R().e("text")},n):null),g.a.createElement(w.default,{cls:R().e("confirmation-dialog").mix(C.LISTING_PREVENT_DESELECT_CLASS),closeButtonAriaLabel:"Закрыть",title:"Расширение будет изменено!",visible:this.state.isConfirmationDialogVisible,onClose:this._toggleConfirmationDialogVisible,onCancel:this._cancelFileExtensionChange,onSubmit:this._confirmFileExtensionChange,cancelButtonText:"Оставить ."+yr.externals.entityify(this._formatFileExtension(this.state.initialExtension)),submitButtonText:this.state.newExtension?"Использовать ."+yr.externals.entityify(this._formatFileExtension(this.state.newExtension)):"Убрать расширение",autofocusButton:!0},g.a.createElement("div",{className:"rename-dialog__content"},"После изменения расширения этот файл может перестать открываться в программах")))}}]),n})(v.Component);P.defaultProps={resource:{},visible:!1,title:"Переименовать"};var D=Object(m.connect)((function(e,t){var n=t.dialog,r=e.resources,i=e.environment.agent.isMobile,o=Object(x.isIosSafariSelector)(e);if(n&&n.data){var a=n.data,s=a.resourceId,u=a.onSubmit,c=a.onClose,l=a.message,d=a.title,f=a.text,h=a.progress,p=a.nameSuffix,m=a.submitButtonText,v=a.hasCancelButton,g=a.noChangeExtensionConfirmation;return{visible:n.state===S.STATE.OPENED,isMobile:i,isIosSafari:o,resource:r[s]||{},onSubmit:u,onClose:c,title:d,text:f,progress:h,nameSuffix:p,submitButtonText:m,hasCancelButton:v,noChangeExtensionConfirmation:g,errorText:l}}return{visible:!1,isIosSafari:o,resource:{}}}))(P);D.dialogName="rename";var I=D,A=n(98),M=n(81);function N(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var L=Object(M.default)({loader:function(){return n.e(6).then(n.bind(null,2089))},isDialog:!0}),F=(function(e){l()(n,e);var t=N(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onDialogClose=r._onDialogClose.bind(u()(r)),r}return a()(n,[{key:"_onDialogClose",value:function(){this.props.closeDialog("fotkiInfo")}},{key:"render",value:function(){return this.props.visible||this.props.resourceId?g.a.createElement(A.default,{cls:T()()("fotki-info-dialog").mix(C.LISTING_PREVENT_DESELECT_CLASS),onClose:this._onDialogClose,closeButtonAriaLabel:"Закрыть",visible:this.props.visible},g.a.createElement(L,{resourceId:this.props.resourceId})):null}}]),n})(v.Component),B=Object(m.connect)((function(e,t){var n=t.dialog;return{visible:n&&n.state===S.STATE.OPENED,resourceId:n&&n.data&&n.data.resourceId}}),{closeDialog:S.closeDialog})(F);B.dialogName="fotkiInfo";var U=B,z=n(21),V=n.n(z),H=(n(1759),n(437)),W=(n(117),n(410)),G=n(12);function q(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var $=["interface elements","versions list"],Y=Object(M.default)({loader:function(){return n.e(15).then(n.bind(null,2088))},isDialog:!0}),K=(function(e){l()(n,e);var t=q(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onCloseVersionsDialog=r._onCloseVersionsDialog.bind(u()(r)),r}return a()(n,[{key:"_onCloseVersionsDialog",value:function(){this.props.closeVersionsDialog(),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];G.default.count.apply(G.default,V()($.concat(t)))})("close")}},{key:"render",value:function(){var e=this.props.visible;return g.a.createElement(H.Modal,{theme:"normal",onClose:this._onCloseVersionsDialog,visible:e,className:T()()("versions-dialog").mix(C.LISTING_PREVENT_DESELECT_CLASS)},g.a.createElement(Y,{visible:e}))}}]),n})(v.Component),X=Object(m.connect)((function(e,t){var n=t.dialog;return{visible:n&&n.state===S.STATE.OPENED}}),{closeVersionsDialog:W.a})(K);X.dialogName="versions";var Z=X,J=(n(1760),n(101)),Q=n(26);function ee(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var te=function(){return T()()("document-edit-confirmation-dialog")},ne=(function(e){l()(n,e);var t=ee(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onDialogClose=r._onDialogClose.bind(u()(r)),r._onDialogSubmit=r._onDialogSubmit.bind(u()(r)),r}return a()(n,[{key:"_onDialogClose",value:function(){this.props.closeDialog("documentEditConfirmation")}},{key:"_isPathValid",value:function(){return this.props.data.originalPath&&(this.props.data.originalPath.startsWith("/edit")||this.props.data.originalPath.startsWith("/editnew"))}},{key:"_onDialogSubmit",value:function(){this._onDialogClose(),this._isPathValid()&&this.props.openUrlWithSk(this.props.data.originalPath)}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.data;return g.a.createElement(w.default,{visible:t,cls:te(),onSubmit:this._onDialogSubmit,onClose:this._onDialogClose,onCancel:this._onDialogClose,closeButtonAriaLabel:"Закрыть",submitButtonText:"new"===n.type?"Создать":"Открыть",cancelButtonText:"Отменить"},g.a.createElement(J.a,{cls:te().e("icon"),size:"m",ext:n.ext,shadow:!0}),g.a.createElement("div",{className:te().e("text")},"new"===n.type?"Создать новый документ?":"Открыть для редактирования документ «"+yr.externals.entityify(n.fileName)+"»?"))}}]),n})(v.Component),re=Object(m.connect)((function(e,t){var n=t.dialog;return{visible:n.state===S.STATE.OPENED,data:n.data||{}}}),{closeDialog:S.closeDialog,openUrlWithSk:Q.openUrlWithSk})(ne);re.dialogName="documentEditConfirmation";var ie=re;n(1761);function oe(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var ae=function(){return T()()("invite-folder-confirmation-dialog")},se=(function(e){l()(n,e);var t=oe(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onDialogClose=r._onDialogClose.bind(u()(r)),r}return a()(n,[{key:"_onDialogClose",value:function(){this.props.closeDialog("inviteFolderConfirmation")}},{key:"render",value:function(){return g.a.createElement(w.default,{visible:this.props.visible,cls:ae(),onClose:this._onDialogClose,onCancel:this._onDialogClose,closeButtonAriaLabel:"Закрыть",cancelButtonText:"Закрыть",cancelButtonProps:{view:"raised",size:"m"}},g.a.createElement("div",{className:ae().e("text")},"Приглашение в папку не найдено или более не действительно"))}}]),n})(v.Component),ue=Object(m.connect)((function(e,t){var n=t.dialog;return{visible:n.state===S.STATE.OPENED,data:n.data||{}}}),{closeDialog:S.closeDialog})(se);ue.dialogName="inviteFolderConfirmation";var ce=ue,le=(n(1762),n(388)),de=n(103),fe=n(180),he=n(438),pe=n(18),me=n(25),ve=n(179),ge=n(64),ye=n(14);n(653);n(190).define("stateSelectFolder",{defaults:function(){return{treeLoaded:!1,creatingFolder:!1,errorId:-1}},events:{"ns-model-init":function(){var e=this,t=Object(ye.default)().getState().page.idContext,n=Object(ge.getCurrentVirtualDisk)(t),r=ns.Model.get("tree",{id:n||"/disk"});r.isValid()?this.set(".treeLoaded",!0):r.once("ns-model-changed",(function(){e.set(".treeLoaded",!0)}))}}});n(719),n(1766);n(653),n(1767),n(1830);var be,_e=n(9),Oe=n(14).default,we=n(34).default,Ee=n(23).updateDialog,Se=n(53).getActiveConfirmationOperation,Ce=n(37);function xe(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}ns.ViewCollection.define("tree",{models:{tree:"updateView"},paramsRewrite:function(e){var t,n,r;return e.id=e.id||(null===(t=Oe().getState().dialogs)||void 0===t?void 0:null===(n=t.selectFolder)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.folderId)||"/disk",e},split:{intoViews:"tree",byModel:"tree"},events:{"ns-view-htmlinit":"onhtmlinit","ns-view-htmldestroy":"onhtmldestroy","click .js-folders-toggle":"toggleSubfolders",keydown:"keydown",dblclick:"toggleSubfolders",click:"select",tap:"select"},methods:{keydown:function(e){e.keyCode===Ce.KEYS.SPACE?(this.toggleSubfolders(e),e.preventDefault()):e.keyCode===Ce.KEYS.ENTER&&(this.select(e),e.preventDefault())},onhtmlinit:function(){_e.bindAll(this,"updateSelected"),this.updateSelected(),ns.Model.get("stateTree").on("ns-model-changed.selected",this.updateSelected)},onhtmldestroy:function(){ns.Model.get("stateTree").off("ns-model-changed.selected",this.updateSelected)},updateSelected:function(){var e=ns.Model.get("stateTree").get(".selected");this.$node.toggleClass("b-tree__item_selected",e===this.params.id);var t=Oe();_e.get(t.getState(),"dialogs.selectFolder.data.folderId")!==e&&t.dispatch(Ee("selectFolder",{folderId:e})),this.$node.context.setAttribute("aria-label",[we.getAlias(this.params.id),"Уровень "+yr.externals.entityify(String(this.models.tree.data.parents?this.models.tree.data.parents.length:0)),this.models.tree.data.state.expanded?"Открыто":"Закрыто",e===this.params.id?"Выбрано":"Не выбрано",this.$node.hasClass("js-disabled")?"Недоступно":null].filter((function(e){return e})).join(" "))},select:function(e){this.$node.hasClass("js-disabled")||ns.Model.get("stateTree").select(this.params.id),e.stopPropagation()},toggleSubfolders:function(e){this.$node.hasClass("js-disabled-subtree")||this.models.tree.toggle(),e.stopPropagation()},getOperationParams:function(){var e=Se();if(!e)return{resourceIds:[]};var t=Boolean(e&&e.get(".gid")),n=e&&e.get(".idSrc"),r=Oe().getState(),i=r.statesContext.selected,o=r.resources,a=t?i:n?[n]:[],s=a.length&&Object(O.dirname)(a[0]),u=a.length>1&&a.some((function(e){return Object(O.dirname)(e)!==s}));return{isMove:e&&"move"===e.getType(),resourceIds:a,parentId:s,isSelectedAcrossSeveralFolders:u,hasGroupFolder:a.map((function(e){return o[e]})).some((function(e){var t=e.meta.group;return t&&t.gid&&t.is_root})),creatingSharedFolder:e&&e.get(".creatingSharedFolder")}}}}),be=n(1829).default;var ke=function(){return T()()("select-folder-dialog")};ns.View.define("treeWrap"),ns.layout.define("react-tree",{treeWrap:"tree&"});var Te=function(e){var t=e.type,n=e.id,r=e.state;return!["dir","vd"].includes(t)||"/trash"===n||Boolean(r&&r.disabled)},je=(function(e){l()(n,e);var t=xe(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={isUnlimWarningHidden:!1,isDisabledFolderWarningHidden:!1},r._onSelectFolder=r._onSelectFolder.bind(u()(r)),r._onBackClick=r._onBackClick.bind(u()(r)),r._onUnlimWarningClose=r._onUnlimWarningClose.bind(u()(r)),r._onDisabledFolderWarningClose=r._onDisabledFolderWarningClose.bind(u()(r)),r._onSubmit=r._onSubmit.bind(u()(r)),r._setCreateFolderFormRef=r._setCreateFolderFormRef.bind(u()(r)),r._onClose=r._onClose.bind(u()(r)),r._onMoveToVirtualDiskWarningClose=r._onMoveToVirtualDiskWarningClose.bind(u()(r)),r._getMoveToVirtualDisWarning=r._getMoveToVirtualDisWarning.bind(u()(r)),r._updatePage=r._updatePage.bind(u()(r)),r.props.diskWebSelectFolderListingExp||(r._stateSelectFolder=ns.Model.get("stateSelectFolder")),r}return a()(n,[{key:"componentDidMount",value:function(){this._countMetrika("open"),this.props.diskWebSelectFolderListingExp||this._stateSelectFolder.on("ns-model-changed.treeLoaded",this._updatePage)}},{key:"componentWillUnmount",value:function(){this.props.diskWebSelectFolderListingExp||this._stateSelectFolder.off("ns-model-changed.treeLoaded",this._updatePage)}},{key:"componentDidUpdate",value:function(e){this.state.isDisabledFolderWarningHidden&&this.props.diskWebSelectFolderListingExp&&(this.props.folderId!==e.folderId||this.props.visible&&!e.visible)&&this.setState({isDisabledFolderWarningHidden:!1}),this.props.visible&&!e.visible&&(this._countMetrika("open"),this.state.isUnlimWarningHidden&&this.setState({isUnlimWarningHidden:!1}),this._createFolderFormRef&&this._createFolderFormRef.reset())}},{key:"_countMetrika",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];G.default.count.apply(G.default,["interface elements","select folder dialog",this.props.type,this.props.diskWebSelectFolderListingExp?"listing":"tree"].concat(t))}},{key:"_updatePage",value:function(){this.props.visible&&!this.props.diskWebSelectFolderListingExp&&this.forceUpdate()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=!this.props.visible&&e.visible,n=!this.props.folderId&&e.folderId;!t&&!n||this.props.diskWebSelectFolderListingExp||(ns.Model.get("stateTree").select(e.folderId),ns.Model.get("tree",{id:Object(ge.getCurrentVirtualDisk)(e.folderId)||"/disk"}).collapse())}},{key:"_onSubmit",value:function(){var e=this.props.diskWebSelectFolderListingExp?this.props.folderId:ns.Model.get("stateTree").get(".selected");this.props.onSubmit({folderId:e}),this._countMetrika("submit",String(e.split("/").length-2))}},{key:"_onClose",value:function(){this.props.onCancel(),this._countMetrika("close")}},{key:"_onUnlimWarningClose",value:function(){this.setState({isUnlimWarningHidden:!0})}},{key:"_onDisabledFolderWarningClose",value:function(){this.setState({isDisabledFolderWarningHidden:!0})}},{key:"_onMoveToVirtualDiskWarningClose",value:function(){this.setState({isMoveToVirtualDiskWarningHidden:!0})}},{key:"_getMoveToVirtualDisWarning",value:function(){var e,t=this.props.currentResource;return"shared"===t.icon?e="При перемещении папки "+yr.externals.entityify(t.name)+" у приглашённых пользователей отключится доступ, но сохранится копия текущей версии папки.":t.meta.short_url?e="dir"===t.type?"При перемещении папки "+yr.externals.entityify(t.name)+" будет удалена публичная ссылка на неё и все публичные ссылки внутри папки.":"При перемещении файла "+yr.externals.entityify(t.name)+" публичная ссылка на него будет удалена.":"dir"===t.type&&(e="При перемещении "+yr.externals.entityify(t.name)+" все публичные ссылки внутри этой папки буду удалены."),e}},{key:"_getWarnings",value:function(){var e=this.props,t=e.unlimWarningText,n=e.disableState,r=n.disabled,i=n.text,o=[],a=Object(ge.getIsInsideVirtualDisk)(this.props.folderId);if(!t||a||this.state.isUnlimWarningHidden||o.push({key:"unlim",text:t,onClose:this._onUnlimWarningClose}),r&&!this.state.isDisabledFolderWarningHidden&&o.push({key:"disabled",text:i,onClose:this._onDisabledFolderWarningClose}),a&&!this.state.isMoveToVirtualDiskWarningHidden){var s=this._getMoveToVirtualDisWarning();s&&o.push({key:"moveToVdWarning",text:s,onClose:this._onMoveToVirtualDiskWarningClose})}return o.map((function(e){var t=e.key,n=e.text,r=e.onClose;return g.a.createElement(de.MessageBox,{className:ke().e("warning"),view:"default",size:"m",key:t,onClose:r},g.a.createElement(de.Wrapper,{align:"left",leading:g.a.createElement(fe.a,null)},n))}))}},{key:"_setCreateFolderFormRef",value:function(e){this._createFolderFormRef=e}},{key:"_getCustomFooter",value:function(){if("create-folder"!==this.props.type)return null;var e=this.props.disableState.disabled;return g.a.createElement(be,{createRef:this._setCreateFolderFormRef,dialogName:"selectFolder",disableButton:e})}},{key:"_onSelectFolder",value:function(e){this.props.updateDialog("selectFolder",{folderId:e})}},{key:"_onBackClick",value:function(){this.props.updateDialog("selectFolder",{folderId:void 0})}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.diskWebSelectFolderListingExp,r=e.folderId,i=e.title,o=e.type,a=e.submitButtonText,s=e.disableState.disabled,u=e.hasVirtualDisks,c=e.virtualDiskName,l=n?s:!this._stateSelectFolder.getData().treeLoaded||!r,d=u&&"move"!==this.props.type?g.a.createElement(me.Button,{size:"xl",view:"clear",className:ke().e("button"),"aria-label":"Ещё",onClick:this._onBackClick,iconLeft:ve.a},c||"Мой Диск"):null,f=null;t&&(f=r?n?g.a.createElement(g.a.Fragment,null,d,g.a.createElement(he.default,{cls:ke().e("listing"),folderId:r,isResourceDisabled:Te,onSelectResource:this._onSelectFolder})):g.a.createElement(g.a.Fragment,null,d,g.a.createElement(le.a,{cls:ke().e("tree"),layoutName:"react-tree",viewName:"treeWrap",renderSpin:!0})):g.a.createElement(he.default,{cls:ke().e("listing"),folderId:ge.VIRTUAL_DISKS_ROOT,isResourceDisabled:Te,onSelectResource:this._onSelectFolder}));return g.a.createElement(w.default,{cls:ke().m({touch:!1,"create-folder":"create-folder"===o}).mix(C.LISTING_PREVENT_DESELECT_CLASS),onSubmit:this._onSubmit,onClose:this._onClose,onCancel:this._onClose,visible:t,title:i?g.a.createElement("div",{className:ke().e("title")},i):null,noCloseButton:!1,submitButtonText:a||"Выбрать",submitDisabled:l,cancelButtonText:"Отменить",closeButtonAriaLabel:"Закрыть",autofocusButton:!1,useMobilePane:!1},g.a.createElement("div",{className:ke().e("content")},f,r&&this._getWarnings(),r&&this._getCustomFooter()))}}]),n})(v.Component),Re=Object(m.connect)((function(e,t){var n=t.dialog,r=n.data,i=r.title,o=r.type,a=r.unlimWarningText,s=r.submitButtonText,u=r.folderId,c=r.onSubmit,l=r.onCancel,d=r.resourceId,f=e.environment.session.experiment,h=f.diskWebSelectFolderListingExp,p=f.showVirtualDisksExp,m=e.defaultFolders.hasVirtualDisks;if(n){var v=u&&Object(ge.getCurrentVirtualDisk)(u);return{diskWebSelectFolderListingExp:h,visible:n.state===S.STATE.OPENED,folderId:u,disableState:h?(function(e){var t=e.resources,n=e.statesContext.selected,r=e.dialogs.selectFolder;if(!r||r.state!==S.STATE.OPENED)return{disabled:!1};var i,o,a=r.data,s=a.folderId,u=a.type,c=a.resourceId,l=a.creatingSharedFolder,d=t[s],f=["move","copy"].includes(u),h=[];if(f&&(o=(h=c?[c]:n).map((function(e){return t[e]})).filter(Boolean).some((function(e){var t=e.meta;return t&&t.group&&t.group.gid&&t.group.is_root}))),(d.parents||[]).map((function(e){return e.id})).concat(d.id).every((function(e){var n=t[e];return b.a.get(n,"state.blocked")||b.a.get(n,"state.part")?i="Данная папка заблокирована для действий, выберите другую":640===b.a.get(n,"meta.group.rights")?i="У вас недостаточно прав для действий в этой папке":f&&h.some((function(t){return t===e}))?i="move"===u?"Нельзя переместить папку внутри её самой":"Нельзя копировать папку внутри её самой":l&&b.a.get(n,"meta.group")?i="Нельзя создать общую папку внутри другой общей папки":"move"===u&&o&&b.a.get(n,"meta.group.gid")&&(i="Нельзя переместить общую папку в общую папку"),!i})),!i&&"move"===u){var p=h.length&&Object(O.dirname)(h[0]);h.length>1&&h.some((function(e){return Object(O.dirname)(e)!==p}))||d.id!==p||(i=1===h.length?"Перемещаемый объект уже в этой папке, выберите другую":"Перемещаемые объекты уже в этой папке, выберите другую")}return{disabled:Boolean(i),text:i}})(e):{disabled:!1},title:i,type:o,unlimWarningText:a,submitButtonText:s,onSubmit:c,onCancel:l,hasVirtualDisks:m&&p,virtualDiskName:v?Object(pe.getResourceData)(e,v,"name"):null,currentResource:Object(pe.getResourceData)(e,d),resourceId:d}}return{visible:!1}}),{updateDialog:S.updateDialog,openDialog:S.openDialog})(je);Re.dialogName="selectFolder";var Pe=Re,De=(n(1772),n(196)),Ie=n.n(De);function Ae(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var Me=function(){return T()()("client-confirmation-dialog")},Ne=(function(e){l()(n,e);var t=Ae(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onSubmit=r._onSubmit.bind(u()(r)),r._onSubmitAll=r._onSubmitAll.bind(u()(r)),r._onClose=r._onClose.bind(u()(r)),r._onRejectAll=r._onRejectAll.bind(u()(r)),r}return a()(n,[{key:"_onSubmit",value:function(){this.props.onSubmit()}},{key:"_onSubmitAll",value:function(){this.props.onSubmitAll()}},{key:"_onClose",value:function(){this.props.onReject()}},{key:"_onRejectAll",value:function(){this.props.onRejectAll()}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.isMobile,r=e.isIosSafari,i=e.title,o=e.fotkiResourceName,a=e.text,s=e.isGroup,u=e.submitButtonText,c=e.cancelButtonText,l=e.cancelAll,d=e.submitAllButtonText,f=e.actionButton,h=e.useNewDialog,p=Boolean(o),m=!n||p?"string"==typeof c?c:"Отменить":"";return h?g.a.createElement(Ie.a,{visible:t,title:i,submitButtonText:u,cancelButtonText:m,onSubmit:this._onSubmit,onClose:this._onClose,className:Me().toString(),closeI18n:"Закрыть"},a):g.a.createElement(w.default,{cls:Me().m({"no-title":!i}).mix([C.LISTING_PREVENT_DESELECT_CLASS].concat(p?"fotki-warning":[])),submitButtonText:u||"Заменить",extraButtonText:s?d||"Заменить все":"",cancelButtonText:m,onSubmit:this._onSubmit,onExtraButtonClick:this._onSubmitAll,actionButton:f,onCancel:l&&s?this._onRejectAll:this._onClose,onClose:this._onClose,closeButtonAriaLabel:"Закрыть",visible:t,isIosSafari:r,autofocusButton:!0},i?g.a.createElement("div",{className:Me().e("title")},i):null,g.a.createElement("div",{className:Me().e("content")},o?g.a.createElement("div",{className:"fotki-warning__resource-name"},o):null,a))}}]),n})(v.Component),Le=Object(m.connect)((function(e,t){var n=t.dialog;if(n){var r=n.data,i=r.isGroup,o=r.title,a=r.fotkiResourceName,s=r.text,u=r.submitButtonText,c=r.cancelButtonText,l=r.cancelAll,d=r.submitAllButtonText,f=r.actionButton,h=r.onSubmit,p=r.onSubmitAll,m=r.onReject,v=r.onRejectAll,g=r.progress,y=r.useNewDialog;return{visible:n.state===S.STATE.OPENED,isGroup:i,title:o,fotkiResourceName:a,text:s,submitButtonText:u,cancelButtonText:c,cancelAll:l,submitAllButtonText:d,actionButton:f,onSubmit:h,onSubmitAll:p,onReject:m,onRejectAll:v,progress:g,useNewDialog:y,isMobile:e.environment.agent.isMobile,isIosSafari:Object(x.isIosSafariSelector)(e)}}return{visible:!1}}))(Ne);Le.dialogName="confirmation";var Fe=Le,Be=n(70),Ue=n(60),ze=n(441),Ve=n(442),He=!0,We=function(){He=!1},Ge=function(){var e=document.getElementById("url-scheme-iframe");return e||((e=document.createElement("iframe")).id="url-scheme-iframe",e.style.display="none",document.body.appendChild(e)),e},qe=function(e,t){return He=!0,window.addEventListener("blur",We),new Promise(function(n){if(t){var r=Ge();r.contentWindow&&r.contentWindow.location.assign(e)}else window.location.assign(e);setTimeout((function(){n({info:!0,hasApp:!He}),window.removeEventListener("blur",We)}),2e3)})},$e=function(e){var t=Ge();return t.contentWindow&&t.contentWindow.location.assign(e),new Promise(function(e){setTimeout((function(){e({info:!1})}),5e3)})};var Ye=function(e,t,n){return"Firefox"===t?$e(e):qe(e,n)};var Ke=n(654),Xe=n.n(Ke),Ze=n(206);n(1773);function Je(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var Qe=function(){return T()()("download-big-folder-dialog")},et=(function(e){l()(n,e);var t=Je(n);function n(e){var r;i()(this,n),(r=t.call(this,e))._onClose=r._onClose.bind(u()(r)),r._onDownloadApp=r._onDownloadApp.bind(u()(r)),r._onLinkAboutAppClick=r._onLinkAboutAppClick.bind(u()(r)),r.state={checked:!1};var o=["YandexBrowser","Chrome"].includes(r.props.browserName),a="Windows"===r.props.osFamily;return r._tryDownloadWithApp=a&&o,r._osHasApp=["Windows","MacOS"].includes(r.props.osFamily),r._title=r.props.title,r._tryDownloadWithApp&&(r._title=r.props.titleTryDownload),r._description=r.props.description,r._tryDownloadWithApp?r._description=r.props.descriptionTryDownload:r._osHasApp&&(r._description=r.props.descriptionOsHasApp),r._buttonText=r.props.buttonText,"Windows"===r.props.osFamily&&(r._buttonText=r.props.buttonTextWindows),r}return a()(n,[{key:"componentDidMount",value:function(){var e=this,t="without buttons";if(this._tryDownloadWithApp?t="with loader":this._osHasApp&&(t="download through app"),this.props.countMetrika("open popup",t),this._tryDownloadWithApp){var n=this.props.getDownloadUrlScheme(this.props.folderId);this._timerGoToCustomUrlScheme=setTimeout((function(){e.props.countMetrika("try open url scheme"),n.then((function(t){e._promiseGoToCustomUrlScheme=Xe()(Ye(t,e.props.browserName)),e._promiseGoToCustomUrlScheme.promise.then((function(t){t.info?e.setState({checked:!0,info:!0,hasApp:t.hasApp}):e.setState({checked:!0,info:!1}),e.props.countMetrika(t.info?t.hasApp?"successed open url scheme":"failed open url scheme":"could not check url scheme")})).catch((function(){}))}))}),2e3)}}},{key:"componentWillUnmount",value:function(){this._timerGoToCustomUrlScheme&&clearTimeout(this._timerGoToCustomUrlScheme),this._promiseGoToCustomUrlScheme&&this._promiseGoToCustomUrlScheme.cancel()}},{key:"_onClose",value:function(){this.props.onClose()}},{key:"_onDownloadApp",value:function(){this.props.getLinkApp("Windows"===this.props.osFamily?{downloadFolder:this.props.folderId}:{}).then((function(e){Object(Ze.a)(e)})),this.props.countMetrika("click download app",this.props.osFamily),this.props.onClose()}},{key:"_getButtons",value:function(){if(!["Windows","MacOS"].includes(this.props.osFamily))return null;var e="Windows"===this.props.osFamily?ze.a:Ve.a;return g.a.createElement(me.Button,{className:Qe().e("button"),view:!this._tryDownloadWithApp||this.state.checked&&(!this.state.checked||!this.state.hasApp&&this.state.info)?"action":"raised",size:"m",onClick:this._onDownloadApp,iconLeft:function(t){return g.a.createElement(e,{iconSize:"m",cls:t})}},this._buttonText)}},{key:"_getSpinner",value:function(){return!this._tryDownloadWithApp||this.state.checked?null:g.a.createElement(Be.Spin,{view:"default",progress:!0,size:"xxs",className:Qe().e("spin")})}},{key:"_getLinkAboutApp",value:function(){return this._tryDownloadWithApp||!this._osHasApp?null:g.a.createElement(Ue.Link,{className:Qe().e("about-link"),target:"_blank",theme:"normal",href:this.props.linkAboutApp,onClick:this._onLinkAboutAppClick},this.props.linkAboutAppText)}},{key:"_onLinkAboutAppClick",value:function(){this.props.countMetrika("click link about app")}},{key:"_getDescription",value:function(){var e=this._description;return this._tryDownloadWithApp&&this.state.checked&&(this.state.info?this.state.hasApp||(e=this.props.descriptionNoApp):e=this.props.descriptionNoInfoApp),g.a.createElement("div",{className:Qe().e("description")},e,this._getLinkAboutApp(),this._getSpinner())}},{key:"render",value:function(){return g.a.createElement(A.default,{cls:Qe().mix(C.LISTING_PREVENT_DESELECT_CLASS),title:this._title,onClose:this._onClose,visible:!0},this._getDescription(),this._getButtons())}}]),n})(v.Component),tt=n(36);function nt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var rt=(function(e){l()(n,e);var t=nt(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onDialogClose=r._onDialogClose.bind(u()(r)),r._getLinkApp=r._getLinkApp.bind(u()(r)),r._getDownloadUrlScheme=r._getDownloadUrlScheme.bind(u()(r)),r}return a()(n,[{key:"_countMetrika",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];G.default.count.apply(G.default,["interface elements","big folder"].concat(t))}},{key:"_onDialogClose",value:function(){this.props.closeDialog("download-big-folder")}},{key:"_getLinkApp",value:function(e){return Object(tt.a)("linkApp",e.downloadFolder?{id:this.props.folderId}:{}).then((function(e){return e.url}))}},{key:"_getDownloadUrlScheme",value:function(){return Object(tt.a)("getDownloadUrlScheme",{id:this.props.folderId})}},{key:"render",value:function(){return this.props.visible?g.a.createElement(et,{title:"Папка слишком большая",titleTryDownload:"Папка скачается с помощью Яндекс.Диска для компьютера",buttonText:"Установить Яндекс.Диск",buttonTextWindows:"Установить Диск и скачать папку",description:"Её нельзя скачать целиком через браузер, но вы можете скачать её по частям.",descriptionTryDownload:"Папка слишком большая, её нельзя скачать целиком через браузер.\n Сейчас автоматически откроется программа для компьютера и начнётся скачивание",descriptionOsHasApp:"Её нельзя скачать целиком через браузер. Скачайте папку с помощью программы для компьютера.",descriptionNoApp:"Папка слишком большая, её нельзя скачать целиком через браузер.\n Не удалось обнаружить программу на компьютере. Установите её, и скачивание папки начнётся автоматически.",descriptionNoInfoApp:"Папка слишком большая, её нельзя скачать целиком через браузер.\n Сейчас автоматически откроется программа для компьютера и начнётся скачивание. Если программы нет, установите ее.",linkAboutAppText:"Подробнее",folderId:this.props.folderId,osFamily:this.props.osFamily,browserName:this.props.browserName,linkAboutApp:this.props.linkAboutApp,tryDownloadWithApp:this.props.tryDownloadWithApp,needInstallAppToDownload:this.props.needInstallAppToDownload,onClose:this._onDialogClose,getDownloadUrlScheme:this._getDownloadUrlScheme,getLinkApp:this._getLinkApp,countMetrika:this._countMetrika}):null}}]),n})(v.Component),it=Object(m.connect)((function(e,t){var n=e.environment.agent,r=n.BrowserName,i=n.OSFamily,o=e.config.links,a=t.dialog;return{visible:a.state===S.STATE.OPENED,osFamily:i,browserName:r,folderId:a.data.folderId,linkAboutApp:"".concat(o.help.disk,"actions-files/download.html#download-big-folder")}}),{closeDialog:S.closeDialog})(rt);it.dialogName="download-big-folder";var ot=it,at=n(234),st=n(31),ut=n(90),ct=n(48),lt=n(53);n(1774);function dt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var ft=function(){return T()()("select-album-dialog")},ht=(function(e){l()(n,e);var t=dt(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onClose=r._onClose.bind(u()(r)),r._onSelectAlbum=r._onSelectAlbum.bind(u()(r)),r._onBackClick=r._onBackClick.bind(u()(r)),r}return a()(n,[{key:"componentDidMount",value:function(){this.props.fetchAlbums()}},{key:"_onClose",value:function(){this.props.updateDialog("selectAlbum",{}),Object(lt.decideSelectAlbum)(!1),this.props.onCancel()}},{key:"_onSelectAlbum",value:function(e){if("new"===e)this.props.createAlbum(this.props.resourcesIds),G.default.count("interface elements","select album dialog","new");else if("faces"===e)this.props.updateDialog("selectAlbum",{albumType:e});else{if("merge"!==this.props.dialogAction){var t=this.props.resourcesIds.length>1?"group":"file";G.default.count("actions","add to album",this.props.calledFrom,t)}else G.default.count("actions","merge album",this.props.isPageAlbum?"album page":"albums list");var n=e;if("favorites"===e)n=this.props.albums.find((function(t){return t.id===e})).personalAlbumId;this.props.decideSelectAlbum(!0,n)}}},{key:"_onBackClick",value:function(){this.props.updateDialog("selectAlbum",{albumType:null})}},{key:"_getContent",value:function(){if(!this.props.visible)return null;var e=this.props.albumType&&"merge"!==this.props.dialogAction;return g.a.createElement("div",null,g.a.createElement("div",{className:ft().e("title")},e?g.a.createElement(ve.b,{onClick:this._onBackClick}):null,"Выберите альбом"),g.a.createElement("div",{className:ft().e("listing")},g.a.createElement(at.a,{scrollingElementSelector:"."+ft()+" .Modal-Wrapper",albumType:this.props.albumType,onAlbumClick:this._onSelectAlbum,albums:this.props.albums,readonly:!0})))}},{key:"render",value:function(){return g.a.createElement(A.default,{visible:this.props.visible,onClose:this._onClose,closeButtonAriaLabel:"Закрыть",cls:ft().m({noanimated:"merge"===this.props.dialogAction}).mix(C.LISTING_PREVENT_DESELECT_CLASS)},this._getContent())}}]),n})(v.Component),pt=Object(m.connect)((function(e,t){var n=t.dialog,r=n.data,i=r.onCancel,o=r.albumType,a=r.excludeAlbumsIds,s=r.action,u=Object(st.f)(e,o,a||[]),c="sidebar";return"slider"===e.page.dialog?c="slider":"/photo"===e.page.idContext&&(c="photo toolbar"),{isPageAlbum:Object(st.x)(e),dialogAction:s,calledFrom:c,albumType:o,visible:n.state===S.STATE.OPENED,albums:u,resourcesIds:("string"==typeof n.data.ids?[n.data.ids]:n.data.ids)||[],onCancel:i}}),{updateDialog:S.updateDialog,closeDialog:S.closeDialog,createAlbum:ct.createAlbum,decideSelectAlbum:lt.decideSelectAlbum,fetchAlbumsListing:ut.b,fetchAlbums:ut.a})(ht);pt.dialogName="selectAlbum";var mt=pt;function vt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var gt=(function(e){l()(n,e);var t=vt(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={title:r.props.title||r._getDefaultTitle()},r._onClose=r._onClose.bind(u()(r)),r._onSubmit=r._onSubmit.bind(u()(r)),r._onTitleChanged=r._onTitleChanged.bind(u()(r)),r}return a()(n,[{key:"componentWillReceiveProps",value:function(e){(e.visible&&!this.props.visible||this.props.title!==e.title)&&this.setState({title:e.title||this._getDefaultTitle()})}},{key:"_getDefaultTitle",value:function(){return this.props.isFacesAlbum?"Имя":"Новый альбом"}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.isIosSafari,r=e.progress,i=e.isFacesAlbum,o=this._getErrorText(),a=this.props.title?"Переименовать":i?"Укажите имя":"Укажите название альбома";return g.a.createElement(E.default,{cls:T()()("album-title-dialog").mix(C.LISTING_PREVENT_DESELECT_CLASS),visible:t,title:a,renameText:this.state.title,errorText:o,submitButtonText:this.props.title?"Сохранить":"Продолжить",submitDisabled:this._isSubmitDisabled(),closeButtonAriaLabel:"Закрыть",onClose:this._onClose,onSubmit:this._onSubmit,onTextChange:this._onTitleChanged,isIosSafari:n,progress:r,zIndex:2e3})}},{key:"_onClose",value:function(){this.props.onClose()}},{key:"_onSubmit",value:function(){this._isSubmitDisabled()||this.props.onSubmit(this.state.title)}},{key:"_onTitleChanged",value:function(e){this.setState({title:e})}},{key:"_getErrorText",value:function(){return this.props.errorText?this.props.errorText:this._isEmptyTitle()?"Название альбома не может быть пустым.":this._isLongTitle()?"Название альбома не может быть длиннее 255 символов":null}},{key:"_isEmptyTitle",value:function(){return!this.state.title.trim().length}},{key:"_isLongTitle",value:function(){return this.state.title.length>255}},{key:"_isSubmitDisabled",value:function(){return this._isEmptyTitle()||this._isLongTitle()}}]),n})(v.Component),yt=Object(m.connect)((function(e,t){var n=t.dialog,r=Object(x.isIosSafariSelector)(e);return n&&n.data?Object.assign({visible:n.state===S.STATE.OPENED,isIosSafari:r},n.data):{visible:!1,isIosSafari:r}}))(gt);yt.dialogName="album-title";var bt=yt,_t=n(709),Ot=n.n(_t),wt=n(710),Et=n.n(wt),St=n(711),Ct=n.n(St),xt=[I,U,Z,ie,ce,Pe,Fe,ot,mt,bt,Ot.a,Et.a,Ct.a].concat([n(1786).default,n(1788).default,n(1790).default]).reduce((function(e,t){return e[t.dialogName]=t,e}),{});t.default=xt}),(function(e,t,n){"use strict";n.r(t);var r,i,o,a=n(0),s=n.n(a),u=n(708),c=n.n(u),l=n(115),d=(n(1604),{iframe:"TavernPortal_iframe_F41ce"});function f(e){const t=Object(a.useMemo)(()=>{const t={[r.Widgets]:e.widgets.join(","),[r.ExpandedTimestamp]:e.expandedTimestamp,[r.DiskSk]:e.diskSk,[r.Uid]:e.uid,[r.Host]:e.host};return e.theme&&(t[r.Theme]=e.theme),e.isDark&&(t[r.IsDark]="1"),e.expanded&&(t[r.Expanded]="1"),e.hasDisk&&(t[r.HasDisk]="1"),e.timezone&&(t[r.Timezone]=e.timezone),t},[]),n=e.src+"?"+c.a.stringify(t);return s.a.createElement("iframe",{className:Object(l.classnames)(d.iframe,e.className),src:n,ref:e.iframeRef})}!(function(e){e.Widgets="widgets",e.Theme="theme",e.IsDark="is-dark",e.Expanded="expanded",e.ExpandedTimestamp="expanded-timestamp",e.HasDisk="has-disk",e.DiskSk="disk-sk",e.Timezone="timezone",e.Uid="uid",e.Host="host"})(r||(r={})),(function(e){e.Mail="mail",e.Disk="disk"})(i||(i={})),(function(e){e.Production="https://tavern.mail.yandex.ru",e.Prestable="https://tavern-prestable.mail.yandex.ru"})(o||(o={}));class h{constructor(e,t){this.target=t||window,this.origin=e,this.checkOrigin="*"!==e,this.callbacks=new WeakMap}static serializePayload(e){return JSON.stringify(e)}static deserializePayload(e){return JSON.parse(e)}send({name:e,payload:t},n){let r;if(null===n||void 0===n?void 0:n.transferable){r=[e];const t=n.anyTargetOrigin?"*":this.origin;return this.target.postMessage(r,t,n.transferable)}return r=void 0!==t?[e,h.serializePayload(t)]:[e],this.target.postMessage(r,this.origin)}subscribe(e){const t=t=>{if(this.checkOrigin&&t.origin!==this.origin)return;const{data:n}=t;if(1===n.length)return e({name:n[0]});if(2===n.length){const[t,r]=n;return e({name:t,payload:h.deserializePayload(r)})}};this.callbacks.set(e,t),this.target.addEventListener("message",t)}unsubscribe(e){const t=this.callbacks.get(e);t&&this.target.removeEventListener("message",t)}}class p{constructor(e){this.callbacks=new WeakMap,this.transport=e}subscribe(e,t,n){const r=i=>{i.name===e&&((null===n||void 0===n?void 0:n.once)&&this.transport.unsubscribe(r),t(i.payload))};this.transport.subscribe(r),(null===n||void 0===n?void 0:n.once)||this.callbacks.set(t,r)}subscribeAllEvents(e,t){const n=r=>{(null===t||void 0===t?void 0:t.once)&&this.transport.unsubscribe(n),e(r.name,r.payload)};this.transport.subscribe(n),(null===t||void 0===t?void 0:t.once)||this.callbacks.set(e,n)}unsubscribe(e){const t=this.callbacks.get(e);t&&this.transport.unsubscribe(t)}}class m{constructor(e){this.transport=e}hasPayload(e){return"payload"in e}sendEvent(e,t){if("string"!=typeof e.name)throw new Error("Only string allowed as eventName");return this.hasPayload(e)?this.transport.send({name:e.name,payload:e.payload},t):this.transport.send({name:e.name},t)}}var v;class g{constructor(e,t){this.sender=e,this.receiver=t}init(e){this.workers=e,this.receiver.subscribeAllEvents((e,t)=>{if(!this.workers)return;const n=this.workers[e];if(!n)return;const{requestId:r}=t,i=n(t);if(i instanceof Promise)return i.then(t=>{this.sender.sendEvent({name:e,payload:Object.assign(Object.assign({},t),{requestId:r})})});this.sender.sendEvent({name:e,payload:Object.assign(Object.assign({},i),{requestId:r})})})}}function y(e,t){if(!e.contentWindow)throw"No iframe window";const n=new h(t,e.contentWindow),r=new h(t,window),i=new m(n),o=new p(r);return{receiver:o,handler:new g(i,o),sender:i}}!(function(e){e.Ready="ready",e.SendMetric="sendMetric",e.SetTheme="setTheme",e.ChangeExpandState="changeExpandState",e.SetWidgets="setWidgets",e.WidgetCollapse="widgetCollapse",e.PromoWidgetShown="promoWidgetShown",e.PromoShown="promoShown",e.MemoriesWidgetShown="memoriesWidgetShown",e.SpaceWidgetLastUsageUpdate="spaceWidgetLastUsageUpdate",e.GetDatasyncData="getDatasyncData",e.GetProductsData="getProductsData",e.GetSpaceData="getSpaceData",e.GetSpaceWidgetExpandData="getSpaceWidgetExpandData",e.GetMemoriesData="getMemoriesData",e.GetPromoData="getPromoData"})(v||(v={})),n.d(t,"TavernPortal",(function(){return f})),n.d(t,"TavernURL",(function(){return o})),n.d(t,"Hosts",(function(){return i})),n.d(t,"createInterop",(function(){return y})),n.d(t,"TavernEvents",(function(){return v}))}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=n.n(i),a=(n(278),n(55)),s=n(28),u=n(87),c=n(1880),l=(n(1027),function(e){var t=e.disabled,n=e.htmlFor,r=e.id,i=e.onClick,a=e.children;return o.a.createElement("label",{"aria-hidden":"true",htmlFor:t?void 0:n,id:r,onClick:i,className:m("Label")},a)}),d=(n(1028),function(e){var t=e.checked,n=e.children,r=e.innerRef,i=e.labelledBy,a=e.onBlur,s=e.onClick,u=e.onFocus,c=e.onKeyDown,l=e.tabIndex,d=e.required;return o.a.createElement("button",{"aria-required":d,"aria-labelledby":i,"aria-pressed":t,className:m("Button"),onBlur:a,onClick:s,onFocus:u,onKeyDown:c,ref:r,tabIndex:l,type:"button"},n)}),f=function(e){var t=e.id,n=e.innerRef,r=e.checked,i=e.name,a=e.onChange,s=e.required;return o.a.createElement("input",{id:t,hidden:!0,ref:n,className:m("Control"),name:i,checked:r,value:String(r),type:"checkbox",autoComplete:"off",onChange:a,required:s})},h=(n(1026),[a.a.RIGHT,a.a.UP]),p=[a.a.LEFT,a.a.DOWN],m=Object(s.cn)("Tumbler"),v=function(e){var t=e.checked,n=e.className,s=e.controlRef,v=e.disabled,g=e.id,y=void 0===g?Object(c.a)():g,b=e.innerRef,_=e.labelAfter,O=e.labelBefore,w=e.name,E=e.onBlur,S=e.onChange,C=e.onClick,x=e.onFocus,k=e.onKeyDown,T=e.onKeyUp,j=e.tabIndex,R=e.title,P=e.autoFocus,D=e.required,I=Object(i.useRef)(null),A=Object(i.useRef)(null),M="control-"+y,N="before-label-"+y,L="after-label-"+y;Object(i.useEffect)((function(){P&&null!==I.current&&I.current.focus()}),[]);var F=Object(i.useMemo)((function(){return O&&_?t?N:L:O?N:_?L:void 0}),[t,O,_,N,L]),B=Object(i.useCallback)((function(e){null!==A.current&&A.current.click(),null!==I.current&&I.current.focus(),void 0!==C&&C(e)}),[C]),U=Object(i.useCallback)((function(){null!==I.current&&I.current.focus()}),[]),z=Object(i.useCallback)((function(e){Object(a.b)(e.keyCode,Object(r.__spread)([a.a.ENTER],p,h))&&e.preventDefault(),(t&&Object(a.b)(e.keyCode,p)||!t&&Object(a.b)(e.keyCode,h))&&null!==A.current&&A.current.click(),void 0!==k&&k(e)}),[t,k]);return o.a.createElement("span",{ref:b,className:m(null,[n]),id:y,title:R,"aria-disabled":v},O&&o.a.createElement(l,{disabled:Boolean(!t&&O&&_),htmlFor:M,id:N,onClick:U},O),o.a.createElement(d,{tabIndex:v?-1:j,innerRef:I,checked:t,onKeyDown:z,onKeyUp:T,onBlur:E,onFocus:x,onClick:B,labelledBy:F,required:D}),o.a.createElement(f,{id:M,name:w,checked:t,innerRef:Object(u.b)(A,s),onChange:S,required:D}),_&&o.a.createElement(l,{disabled:Boolean(t&&O&&_),htmlFor:M,id:L,onClick:U},_))},g=function(e){var t=e.checked,n=e.onKeyDown,s=Object(r.__rest)(e,["checked","onKeyDown"]),u=Object(i.useCallback)((function(e){(!t&&Object(a.b)(e.keyCode,h)||t&&Object(a.b)(e.keyCode,p)||e.keyCode===a.a.SPACE)&&window.document.body.classList.add("utilityfocus"),void 0!==n&&n(e)}),[t,n]);return o.a.createElement(v,Object(r.__assign)({checked:t,onKeyDown:u},s))};g.displayName=v.displayName="Tumbler";var y=n(6),b=(n(1029),Object(y.withBemMod)(m(),{size:"l"})),_=(n(1030),Object(y.withBemMod)(m(),{size:"m"})),O=(n(1031),Object(y.withBemMod)(m(),{size:"s"})),w=(n(1032),Object(y.withBemMod)(m(),{view:"default"}));n(1033);n.d(t,"Tumbler",(function(){return g})),n.d(t,"CHECKED_KEYS",(function(){return h})),n.d(t,"UNCHECKED_KEYS",(function(){return p})),n.d(t,"cnTumbler",(function(){return m})),n.d(t,"withSizeL",(function(){return b})),n.d(t,"withSizeM",(function(){return _})),n.d(t,"withSizeS",(function(){return O})),n.d(t,"withViewDefault",(function(){return w}))}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(510),o=n(1886),a=n(502);function s(e){var t=Object(o.b)().focusNext,n=Object(a.a)(e.id),s=Object(i.a)({onPressStart:function(e){var n=e.currentTarget,r=e.target,i=e.source,o=document.activeElement;"mouse"===i&&(!n.contains(o)||r!==o&&r!==n)&&t({from:r,tabbable:!0})}}).pressProps,u=Object(r.__assign)(Object(r.__assign)({},s),{role:"group",id:n,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"]});return{fieldProps:u,segmentProps:{"aria-controls":e["aria-controls"],"aria-haspopup":e["aria-haspopup"],"aria-invalid":e["aria-invalid"],"aria-labelledby":u["aria-labelledby"]||u.id}}}var u=n(0),c=n(237),l=n(512),d=n(557);function f(e,t){if(function(e){return/^[0-9\u0660-\u0669\u06f0-\u06f9]+$/.test(e)}(t)||/^[ap]$/i.test(t)){var n=(function(e){return e=e.replace(/[\u0660-\u0669]/g,(function(e){return String(e.charCodeAt(0)-1632)})).replace(/[\u06f0-\u06f9]/g,(function(e){return String(e.charCodeAt(0)-1776)})),Number(e)})(t);if("dayPeriod"===e){var r=t.toLowerCase();return"a"===r||1===n?1:"p"===r||2===n?2:null}if(isFinite(n))return n}return null}function h(e,t){var n=e.segment,a=n.type,s=n.value,h=n.max,p=n.text,m=n.isValid,v=n.isDisabled,g=t.resolvedOptions,y=t.increment,b=t.decrement,_=t.extraIncrement,O=t.extraDecrement,w=t.incrementToMax,E=t.decrementToMin,S=t.setSegmentValue,C=Object(c.a)().isRTL,x=Object(o.b)(),k=x.focusNext,T=x.focusPrevious,j=Object(r.__read)(Object(u.useState)(""),2),R=j[0],P=j[1],D=(function(e,t){var n=e.value,r=e.min,i=e.max,o={value:null!==n&&void 0!==n?n:void 0,min:r,max:i};if("hour"!==e.type)return o;var a=t.hourCycle,s=null!==n&&void 0!==n?n:0;switch(a){case"h11":o.value=s%12,o.min=0,o.max=11,i<12?(o.min=r,o.max=i):r>=12&&(o.min=r-12,o.max=i-12);break;case"h12":o.value=s%12||12,o.min=1,o.max=12,i<12?(o.min=r,o.max=i):r>=12&&(o.min=r-12,o.max=i-12),o.min=o.min||12,o.max=o.max||12,o.min>o.max&&(o.min=1,o.max=12);break;case"h24":o.value=s||24,o.min=r||24,o.max=i||24,o.min>o.max&&(o.min=1,o.max=24);break;case"h23":o.value=s,o.min=r,o.max=i;break;default:throw new Error("Invalid hour cycle")}return o})(n,g),I=Object(d.a)(Object(r.__assign)(Object(r.__assign)({},D),{textValue:p,disabled:v,onIncrement:Object(u.useCallback)((function(){return y(a)}),[y,a]),onDecrement:Object(u.useCallback)((function(){return b(a)}),[b,a]),onExtraIncrement:Object(u.useCallback)((function(){return _(a)}),[_,a]),onExtraDecrement:Object(u.useCallback)((function(){return O(a)}),[O,a]),onIncrementToMax:Object(u.useCallback)((function(){return w(a)}),[w,a]),onDecrementToMin:Object(u.useCallback)((function(){return E(a)}),[E,a])})).spinButtonProps,A=Object(i.a)({onPressStart:function(e){"mouse"===e.source&&e.currentTarget.focus()}}).pressProps,M=Object(u.useCallback)((function(e){S(a,e),(null===e||10*e>=h)&&P("")}),[h,S,a]),N={"aria-invalid":!m,tabIndex:0,onKeyDown:Object(u.useCallback)((function(e){if(!(["Tab","Shift","Alt","Meta"].includes(e.key)||e.ctrlKey||e.metaKey)){e.preventDefault();var t={from:e.currentTarget,tabbable:!0};switch(e.key){case"ArrowLeft":(C?k:T)(t);break;case"ArrowRight":(C?T:k)(t);break;case"Backspace":v||null===s?T(t):M(null);break;default:var n=R+e.key,r=f(a,n);if(v||null===r)return;e.stopPropagation(),M(r);var i=h.toString().length;n.length>=i||10*r>=h?k(t):P(n)}}}),[R,k,T,v,C,h,M,a,s]),onFocus:Object(u.useCallback)((function(){P("")}),[])};return v||(N.inputMode="numeric",N.contentEditable=!0,N.suppressContentEditableWarning=!0),{segmentProps:Object(l.a)(I,A,N)}}var p,m=n(553),v=n(1882),g={year:10,month:3,day:7,hour:2,minute:5,second:5},y=Object(v.a)(new Date(0,0,1,0,0,0,0),1),b=new Date(9999,12,0,23,59,59,999),_=n(1883);!(function(e){e[e.dayPeriod=1]="dayPeriod",e[e.second=2]="second",e[e.minute=4]="minute",e[e.hour=8]="hour",e[e.day=16]="day",e[e.month=32]="month",e[e.year=64]="year"})(p||(p={}));var O={second:0,minute:0,hour:0,day:1,month:1,year:1},w={second:59,minute:59,hour:23,day:31,month:12,year:9999},E=(function(){function e(e){void 0===e&&(e={}),this.components={day:null,hour:null,minute:null,second:null,month:null,year:null},this.filledComponentsMask=0,this.set("day",e.day),this.set("hour",e.hour),this.set("dayPeriod",e.dayPeriod),this.set("minute",e.minute),this.set("second",e.second),this.set("month",e.month),this.set("year",e.year)}return e.from=function(t){if(void 0===t&&(t=null),null===t)return new e;var n=new Date(t),r=n.getHours();return new e({dayPeriod:r<12?1:2,second:n.getSeconds(),minute:n.getMinutes(),hour:r,day:n.getDate(),month:n.getMonth()+1,year:n.getFullYear()})},e.isSame=function(e,t,n){switch(e){case"year":return C(t,n);case"month":return x(t,n);case"day":return k(t,n);case"hour":return T(t,n);case"minute":return j(t,n);case"second":return R(t,n);case"dayPeriod":return k(t,n)&&S("dayPeriod",t,n)}},e.isEqual=function(e,t){return R(e,t)},e.isDateComponentType=function(e){return e in p},e.prototype.get=function(e,t){var n,r;switch(e){case"dayPeriod":var i=this.components.hour;return null===i?null!==t&&void 0!==t?t:null:i<12?1:2;default:return null!==(r=null!==(n=this.components[e])&&void 0!==n?n:t)&&void 0!==r?r:null}},e.prototype.has=function(e){return(this.filledComponentsMask&e)===e},e.prototype.with=function(t,n){var i;return new e(Object(r.__assign)(Object(r.__assign)({},this.components),((i={})[t]=n,i)))},e.prototype.toDate=function(e){var t=this.get("month",e.getMonth()+1)-1,n=new Date;return n.setFullYear(this.get("year",e.getFullYear()),t,this.get("day",e.getDate())),n.setHours(this.get("hour",e.getHours()),this.get("minute",e.getMinutes()),this.get("second",e.getSeconds()),0),n.getMonth()!==t&&n.setDate(0),n},e.prototype.set=function(e,t){switch(void 0===t&&(t=null),e){case"dayPeriod":if(null!==t){var n=this.get("hour",0),r=n>=12;t>1!==r?this.components.hour=r?n-12:n+12:this.has(p.hour)||(this.components.hour=0),this.invalidateMask("hour",this.get("hour"))}break;default:this.components[e]=null===t?null:Object(_.a)(t,O[e],w[e])}this.invalidateMask(e,this.get(e))},e.prototype.invalidateMask=function(e,t){null===t?this.filledComponentsMask&=~p[e]:this.filledComponentsMask|=p[e]},e})();function S(e,t,n){return t.get(e)===n.get(e)}function C(e,t){return S("year",e,t)}function x(e,t){return C(e,t)&&S("month",e,t)}function k(e,t){return x(e,t)&&S("day",e,t)}function T(e,t){return k(e,t)&&S("hour",e,t)}function j(e,t){return T(e,t)&&S("minute",e,t)}function R(e,t){return j(e,t)&&S("second",e,t)}var P=n(1881),D=n(52),I=n(44);function A(e){return Object(I.a)(1,arguments),Object(D.a)(e).getTime()}var M=n(675);function N(e,t){return e.formatToParts(t).map((function(e){return"dayperiod"===e.type&&(e.type="dayPeriod"),e}))}var L=(function(){function e(e){var t=e.formatter,n=e.min,r=e.max,i=e.placeholder,o=Object(P.a)(new Date);this.formatter=t,this.resolvedOptions=(function(e){var t=e.resolvedOptions();return void 0!==t.hour&&void 0===t.hourCycle&&(t.hourCycle=t.hour12?"h12":"h23"),t})(t),this.minSpecified=Boolean(null!==n&&void 0!==n&&n),this.maxSpecified=Boolean(null!==r&&void 0!==r&&r),this.minTime=A(null!==n&&void 0!==n?n:y),this.maxTime=A(null!==r&&void 0!==r?r:b),this.min=E.from(this.minTime),this.max=E.from(this.maxTime),this.placeholder=A(null!==i&&void 0!==i?i:o),this.numberFormatter=new Intl.NumberFormat(this.resolvedOptions.locale,{useGrouping:!1}),this.placeholderParts=N(this.formatter,this.placeholder),this.requiredSegments=this.getSegmentsMaskFromFormatParts(this.placeholderParts),this.baseDate=o}return e.prototype.getSegments=function(e){var t=this;return this.formatToParts(e).map((function(n){if(!E.isDateComponentType(n.type))return{type:n.type,text:n.value,isEditable:!1};var r=e.get(n.type),i=t.getLimits(e,n.type),o=i.min,a=i.max,s=null===r,u=null===r||Object(_.b)(r,o,a),c=!s&&u&&o===a;return{type:n.type,text:n.value,isEditable:!0,value:r,min:o,max:a,isDisabled:c,isValid:u,isPlaceholder:s}}))},e.prototype.getLimits=function(e,t){var n={min:0,max:0};switch(t){case"year":n.min=this.min.get("year"),n.max=this.max.get("year");break;case"month":n.min=1,n.max=12,E.isSame("year",e,this.min)&&(n.min=this.min.get("month")),E.isSame("year",e,this.max)&&(n.max=this.max.get("month"));break;case"day":if(n.min=1,n.max=31,e.has(p.year|p.month)){var r=new Date(e.get("year"),e.get("month")-1);n.max=Object(M.a)(r)}E.isSame("month",e,this.min)&&(n.min=this.min.get("day")),E.isSame("month",e,this.max)&&(n.max=this.max.get("day"));break;case"hour":n.min=0,n.max=23,E.isSame("day",e,this.min)&&(n.min=this.min.get("hour")),E.isSame("day",e,this.max)&&(n.max=this.max.get("hour"));break;case"dayPeriod":n.min=1,n.max=2,E.isSame("day",e,this.min)&&(n.min=this.min.get("dayPeriod")),E.isSame("day",e,this.max)&&(n.max=this.max.get("dayPeriod"));break;case"minute":n.min=0,n.max=59,E.isSame("hour",e,this.min)&&(n.min=this.min.get("minute")),E.isSame("hour",e,this.max)&&(n.max=this.max.get("minute"));break;case"second":n.min=0,n.max=59,E.isSame("minute",e,this.min)&&(n.min=this.min.get("second")),E.isSame("minute",e,this.max)&&(n.max=this.max.get("second"))}return n},e.prototype.moveByStep=function(e,t,n){var r=e.get(t),i=this.getLimits(e,t),o=i.min,a=i.max;return null===r||r<o||r>a?this.getInitialValueForStep(t,n,o,a):(function(e,t,n,r,i){void 0===i&&(i=!1);var o=e;if(i){o+=t>0?1:-1;var a=Math.abs(t);o=(t>0?Math.ceil:Math.floor)(o/a)*a}else(o+=t)<n?o=r-(n-o-1):o>r&&(o=n+(o-r-1));return o<n||o>r?t>0?n:r:o})(Object(_.a)(r,o,a),n,o,a,"hour"===t||"minute"===t||"second"===t)},e.prototype.setSegmentValue=function(e,t,n){if(null!==n){var r=this.getLimits(e,t);n=Object(_.a)(n,r.min,r.max)}return e.with(t,n)},e.prototype.toDate=function(e){var t=e.toDate(this.baseDate),n=t.getDate();return e.has(this.requiredSegments)&&n===e.get("day",n)&&Object(_.b)(t.getTime(),this.minTime,this.maxTime)?t:null},e.prototype.normalizeDateComponents=function(e){var t,n,i=e;try{for(var o=Object(r.__values)(["year","minute","day","hour","month","second"]),a=o.next();!a.done;a=o.next()){var s=a.value;null===e.get(s)&&E.isSame(s,this.min,this.max)&&(i=i.with(s,this.min.get(s)))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i!==e?i:e},e.prototype.formatValue=function(e,t){var n=this.numberFormatter.format(e);return"numeric"===t?n:n.padStart(2,this.numberFormatter.format(0))},e.prototype.getInitialValueForStep=function(e,t,n,r){return"year"===e?t>0&&this.minSpecified?n:t<0&&this.maxSpecified?r:Object(_.a)(this.baseDate.getFullYear(),n,r):t>0?this.min.get(e,n):this.max.get(e,r)},e.prototype.getSegmentsMaskFromFormatParts=function(e){return e.reduce((function(e,t){return E.isDateComponentType(t.type)?e|p[t.type]:e}),0)},e.prototype.formatToParts=function(e){var t=this;return N(this.formatter,e.toDate(new Date(this.placeholder))).map((function(n,i){if(E.isDateComponentType(n.type)){var o=e.get(n.type);if(null===o)return t.placeholderParts[i];if("day"===n.type){var a=t.resolvedOptions.day;return Object(r.__assign)(Object(r.__assign)({},n),{value:t.formatValue(o,a)})}}return n}))},e})();function F(e){var t=e.value,n=void 0===t?null:t,i=e.min,o=e.max,a=e.placeholder,s=e.formatOptions,c=e.disabled,l=e.readOnly,d=e.onChange,f=Object(u.useRef)(null),h=Object(m.a)(s),p=Object(u.useMemo)((function(){return new L({formatter:h,min:i,max:o,placeholder:a})}),[h,o,i,a]),v=Object(r.__read)(Object(u.useState)((function(){return p.normalizeDateComponents(E.from(n))})),2),y=v[0],b=v[1],_=Object(u.useMemo)((function(){return f.current!==n?E.from(n):y}),[n,y]);f.current=n;var O=Object(u.useMemo)((function(){return p.getSegments(_)}),[p,_]),w=Object(u.useCallback)((function(e,t){if(!c&&!l){var n=p.setSegmentValue(_,e,t);if(!E.isEqual(_,n)){b(n);var r=p.toDate(n);r!==f.current&&(null===d||void 0===d||d({value:r})),f.current=r}}}),[c,l,p,_,d]),S=Object(u.useCallback)((function(e,t){var n=p.moveByStep(_,e,t);w(e,n)}),[p,_,w]),C=Object(u.useCallback)((function(e){return S(e,1)}),[S]),x=Object(u.useCallback)((function(e){return S(e,-1)}),[S]),k=Object(u.useCallback)((function(e){return S(e,g[e]||1)}),[S]),T=Object(u.useCallback)((function(e){return S(e,-(g[e]||1))}),[S]),j=Object(u.useCallback)((function(e){var t=p.getLimits(_,e).max;w(e,t)}),[p,w,_]),R=Object(u.useCallback)((function(e){var t=p.getLimits(_,e).min;w(e,t)}),[p,w,_]);return{resolvedOptions:p.resolvedOptions,segments:O,setSegmentValue:w,increment:C,decrement:x,extraIncrement:k,extraDecrement:T,incrementToMax:j,decrementToMin:R}}n.d(t,"useDateTimeField",(function(){return s})),n.d(t,"useDateTimeFieldSegment",(function(){return h})),n.d(t,"useDateTimeFieldState",(function(){return F}))}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(1846),o=n(445),a=n(172),s=n(428),u=n(259);function c(e,t){for(var n=new o.a(e,function(e){var n=(function(e){return!Object(u.c)(e)&&Object(s.a)(e)&&Object(a.a)(e)>=0})(e);return t&&n?t(e):n}),r=[],i=[],c=0,l=null;l=n.next();){var d=Object(a.a)(l);0===d?i.push(l):r.push({index:c++,tabIndex:d,node:l})}return r.sort((function(e,t){return e.tabIndex===t.tabIndex?e.index-t.index:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(i)}var l,d="focusTrapGuard";function f(){return document.activeElement}function h(e,t){return e.contains(t)}function p(e){var t=document.createElement("span");return t.tabIndex=e,Object.assign(t.style,{width:"1px",height:0,padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"}),t.setAttribute("aria-hidden","true"),t.dataset[d]="true",t}function m(e){return Boolean(e.dataset[d])}function v(e){e.parentNode&&e.parentNode.removeChild(e)}!(function(e){e[e.None=0]="None",e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(l||(l={}));var g=(function(){function e(){this.instances=[],this.direction=l.None,this.lastActiveElement=null,this.onDocumentFocusIn=this.onDocumentFocusIn.bind(this),this.onDocumentKeyDown=this.onDocumentKeyDown.bind(this),this.onMouseDown=this.onMouseDown.bind(this)}return e.getInstance=function(){return this.manager||(this.manager=new e),this.manager},e.prototype.activate=function(e){this.preventLastFocusIn(),0===this.instances.length&&this.attachEvents(),this.instances.push(e),this.autoFocus(e)},e.prototype.deactivate=function(e){this.preventLastFocusIn(),this.instances=this.instances.filter((function(t){return t!==e})),0===this.instances.length&&this.detachEvents()},e.prototype.autoFocus=function(e){var t=e.getScope(),n=e.getOptions().autoFocus,o=f();!n||o&&h(t,o)||(!(function(e){var t=Object(r.__read)(c(e,(function(e){return!m(e)})),1)[0];Object(i.a)(t)})(t),this.focusScope(t))},e.prototype.focusScope=function(e){var t=f();t&&h(e,t)||Object(i.a)(e,!0)},e.prototype.checkFocusInCurrentScope=function(){var e=this.instances[this.instances.length-1];e&&this.checkFocusIn(e)},e.prototype.preventLastFocusIn=function(){this.raf&&cancelAnimationFrame(this.raf)},e.prototype.checkFocusIn=function(e){var t=e.getScope(),n=this.direction,r=this.lastActiveElement,o=f();if(this.lastActiveElement=o,this.direction=l.None,o&&f()!==document.body&&!h(t,o)){var a=c(t,(function(e){return!m(e)})),s=a.indexOf(o);if(0===a.length)this.focusScope(t);else if(-1===s){var u=(function(e,t,n){return-1===e?0:t>0?(t+e+n)%t:-1})(r?a.indexOf(r):-1,a.length,n);Object(i.a)(a[u])}}},e.prototype.attachEvents=function(){document.addEventListener("focusin",this.onDocumentFocusIn,!0),document.addEventListener("keydown",this.onDocumentKeyDown,!0),document.addEventListener("mousedown",this.onMouseDown,!0)},e.prototype.detachEvents=function(){document.removeEventListener("focusin",this.onDocumentFocusIn,!0),document.removeEventListener("keydown",this.onDocumentKeyDown,!0),document.removeEventListener("mousedown",this.onMouseDown,!0)},e.prototype.onDocumentFocusIn=function(){var e=this;this.raf=requestAnimationFrame((function(){e.checkFocusInCurrentScope()}))},e.prototype.onDocumentKeyDown=function(e){"Tab"!==e.key||e.altKey||e.ctrlKey||e.metaKey||(this.direction=e.shiftKey?l.Backward:l.Forward)},e.prototype.onMouseDown=function(){this.direction=l.None},e})(),y=(function(){function e(e,t,n){void 0===n&&(n={}),this.options={autoFocus:!0},this.active=!1,this.cleanupFns=[],this.manager=e,this.scope=t,this.setOptions(n)}return e.prototype.getScope=function(){return this.scope},e.prototype.activate=function(){this.active||(this.active=!0,this.attachGuards(),this.activateInManager())},e.prototype.deactivate=function(){this.active&&(this.active=!1,this.cleanupFns.forEach((function(e){return e()})),this.cleanupFns=[])},e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(e){this.options=Object(r.__assign)(Object(r.__assign)({},this.options),e)},e.prototype.attachGuards=function(){var e=p(1),t=p(0);this.scope.insertAdjacentElement("beforebegin",e),this.scope.insertAdjacentElement("afterend",t),this.cleanupFns.push((function(){v(e),v(t)}))},e.prototype.activateInManager=function(){var e=this;this.manager.activate(this),this.cleanupFns.push((function(){e.manager.deactivate(e)}))},e})();function b(e,t){void 0===t&&(t={});var n=g.getInstance();return new y(n,e,t)}var _=n(0),O=n(1844),w=O.a?_.useLayoutEffect:_.useEffect;function E(e){var t=e.enabled,n=e.restoreFocusRef,r=Object(_.useRef)(null),i=Object(_.useRef)(null);t&&!r.current&&(r.current=O.a?document.activeElement:null),Object(_.useEffect)((function(){i.current=n?n.current:null})),Object(_.useEffect)((function(){if(t)return function(){var e=i.current||r.current;r.current=null,i.current=null,e&&e.focus&&document.body.contains(e)&&e!==document.activeElement&&e.focus()}}),[t])}function S(e){var t=e.scopeRef,n=e.enabled,r=e.restoreFocusRef,i=e.restoreFocus,o=void 0===i||i,a=e.autoFocus,s=void 0===a||a,u=Object(_.useRef)(null),c=Object(_.useRef)(null),l=Object(_.useMemo)((function(){return{autoFocus:s}}),[s]);Object(_.useEffect)((function(){u.current&&u.current.setOptions(l)}),[l]),w((function(){c.current!==t.current&&(c.current=t.current,u.current&&(u.current.deactivate(),u.current=null),c.current&&(u.current=b(c.current,l),n&&u.current.activate()))})),w((function(){if(n&&u.current)return u.current.activate(),function(){var e;null===(e=u.current)||void 0===e||e.deactivate()}}),[n]),E({enabled:n&&o,restoreFocusRef:r})}n.d(t,"createFocusTrap",(function(){return b})),n.d(t,"useFocusTrap",(function(){return S})),n.d(t,"useRestoreFocus",(function(){return E}))}),(function(e,t,n){"use strict";n.r(t);var r=n(21),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(8),l=n.n(c),d=n(5),f=n.n(d),h=n(7),p=n.n(h),m=n(1),v=n.n(m),g=(n(1591),n(19)),y=n(0),b=n.n(y),_=n(74),O=n(57),w=n(439),E=n(15);function S(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}function C(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}function x(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}function k(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}function T(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var j={"folder-plus":(function(e){f()(n,e);var t=S(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return b.a.createElement("g",{fill:"none",fillRule:"evenodd"},b.a.createElement("g",{fillRule:"nonzero"},b.a.createElement("path",{fill:"#FDEFB2",d:"M0 0h8.8L10 3h12v15H0z"}),b.a.createElement("path",{stroke:"#F4DC49",d:"M.5.5v17h21v-14H9.661l-1.2-3H.5z"})),b.a.createElement("path",{fill:"#EDC100",d:"M11 7v3H8v1h3v3h1v-3h3v-1h-3V7z"}))}}]),n})(E.default),doc:(function(e){f()(n,e);var t=C(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return b.a.createElement("g",null,b.a.createElement("defs",null,b.a.createElement("path",{id:"doc-icon-a",d:"M3 0h13l5 5v19H3z"}),b.a.createElement("path",{id:"doc-icon-c",d:"M20 5h-.362L16 1.387V5h-1V1H4v22h16V6.004h-5v-1h5V5zm1 0v19H3V0h13v.05l.007-.002L21 5z"})),b.a.createElement("g",{fill:"none",fillRule:"evenodd"},b.a.createElement("mask",{id:"doc-icon-b",fill:"#fff"},b.a.createElement("use",{xlinkHref:"#doc-icon-a"})),b.a.createElement("use",{fill:"#FFF",xlinkHref:"#doc-icon-a"}),b.a.createElement("g",{mask:"url(#doc-icon-b)"},b.a.createElement("use",{fill:"#FFF",xlinkHref:"#doc-icon-c"}),b.a.createElement("use",{fill:"#000",fillOpacity:".2",xlinkHref:"#doc-icon-c"})),b.a.createElement("path",{fill:"#999",d:"M9 5h6V4H9zM6 8h12.59V7H6zm0 3h12.59v-1H6zm0 3h12.59v-1H6zm0 3h12.59v-1H6zm0 3h12.59v-1H6z"}),b.a.createElement("path",{fill:"#2C5898",d:"M3 14l-1 3h2zm1-2h1V9.999H4z"}),b.a.createElement("g",null,b.a.createElement("path",{fill:"#FFF",d:"M6 4.085v16.83L11 22V3z"}),b.a.createElement("path",{fill:"#2B579A",d:"M0 5.806v13.388L10 21V4z"}),b.a.createElement("path",{fill:"#FFF",d:"M7.641 9.553l-.823 4.394-.009.001-.989-4.391h-.08l-1.237.003-1.087 4.368h-.017l-.857-4.363-1.342.003 1.445 5.945.558-.001.859-.002 1.012-4.205h.016l1.007 4.2.727-.001.632-.002L8.884 9.55z"}))))}}]),n})(E.default),xls:(function(e){f()(n,e);var t=x(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return b.a.createElement("g",null,b.a.createElement("defs",null,b.a.createElement("path",{id:"xls-icon-a",d:"M3 0h13l5 5v19H3z"}),b.a.createElement("path",{id:"xls-icon-c",d:"M20 5h-.362L16 1.387V5h-1V1H4v22h16V6.004h-5v-1h5V5zm1 0v19H3V0h13v.05l.007-.002L21 5z"})),b.a.createElement("g",{fill:"none",fillRule:"evenodd"},b.a.createElement("mask",{id:"xls-icon-b",fill:"#fff"},b.a.createElement("use",{xlinkHref:"#xls-icon-a"})),b.a.createElement("use",{fill:"#FFF",xlinkHref:"#xls-icon-a"}),b.a.createElement("g",{mask:"url(#xls-icon-b)"},b.a.createElement("use",{fill:"#FFF",xlinkHref:"#xls-icon-c"}),b.a.createElement("use",{fill:"#000",fillOpacity:".2",xlinkHref:"#xls-icon-c"})),b.a.createElement("path",{fill:"#999",d:"M5 11h4V9H5zm0-3h4V6H5zm5 1h4V7h-4zm5 0h4V7h-4zm-5-3h4V4h-4zm-5 8h4v-2H5zm0 3h4v-2H5zm0 3h4v-2H5z"}),b.a.createElement("path",{fill:"#86BFA0",d:"M10 12h4v-2h-4zm5 0h4v-2h-4zm-5 3h4v-2h-4zm5 0h4v-2h-4zm-5 3h4v-2h-4zm5 0h4v-2h-4zm-5 3h4v-2h-4zm5 0h4v-2h-4z"}),b.a.createElement("path",{fill:"#FFF",d:"M6 4.085v16.83L11 22V3z"}),b.a.createElement("path",{fill:"#207347",d:"M0 5.806v13.388L10 21V4z"}),b.a.createElement("path",{fill:"#FFF",d:"M6.245 9.104l-1.206 2.469h-.016L3.947 9.109l-1.722.004 1.836 3.434-1.995 3.434 1.689-.004 1.214-2.505h.025l1.216 2.499 1.672-.004-1.943-3.46L7.818 9.1z"})))}}]),n})(E.default),ppt:(function(e){f()(n,e);var t=k(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return b.a.createElement("g",null,b.a.createElement("defs",null,b.a.createElement("path",{id:"ppt-icon-a",d:"M3 0h13l5 5v19H3z"}),b.a.createElement("path",{id:"ppt-icon-c",d:"M4 24H3V0h13v1H4v22h16V5h1v19H4z"}),b.a.createElement("path",{id:"ppt-icon-f",d:"M15.61 1l-.603-.599 1-.353L21 5h-1.362L16 1.387V5h-1V1h.61zM21 5.004v1h-6v-1h6z"})),b.a.createElement("g",{fill:"none",fillRule:"evenodd"},b.a.createElement("mask",{id:"ppt-icon-b",fill:"#fff"},b.a.createElement("use",{xlinkHref:"#ppt-icon-a"})),b.a.createElement("use",{fill:"#FFF",xlinkHref:"#ppt-icon-a"}),b.a.createElement("g",{mask:"url(#ppt-icon-b)"},b.a.createElement("use",{fill:"#FFF",xlinkHref:"#ppt-icon-c"}),b.a.createElement("use",{fill:"#000",fillOpacity:".2",xlinkHref:"#ppt-icon-c"})),b.a.createElement("path",{fill:"#F5BA9D",d:"M6 17h12v-1H6zm0 3h12v-1H6z"}),b.a.createElement("path",{fill:"#FFF",d:"M7 21h1v-6H7z"}),b.a.createElement("path",{fill:"#909090",d:"M12 5a4 4 0 1 0 4 4h-4V5z"}),b.a.createElement("path",{fill:"#F5BA9D",d:"M13 4v4h4a4 4 0 0 0-4-4"}),b.a.createElement("path",{fill:"#FFF",d:"M6 4.028v15.943l5 1.03V3z"}),b.a.createElement("path",{fill:"#D04727",d:"M0 5.806L10 4v17L0 19.194z"}),b.a.createElement("g",{transform:"translate(2.35 8)"},b.a.createElement("mask",{id:"ppt-icon-e",fill:"#fff"},b.a.createElement("path",{d:"M2.051 7.999L.688 7.997.693.998h4.088v2.277l-.003 4.724H2.051z"})),b.a.createElement("path",{fill:"#FFF",d:"M2.669.998H.693L.688 7.997l1.257.002.002-2.412.604.001a2.393 2.393 0 0 0 .897-.167A2.029 2.029 0 0 0 4.5 4.464c.047-.09.088-.183.123-.28a2.646 2.646 0 0 0 .14-.617 3.07 3.07 0 0 0 .018-.336c0-.372-.043-.697-.131-.976a1.774 1.774 0 0 0-.396-.698 1.64 1.64 0 0 0-.661-.419 2.78 2.78 0 0 0-.924-.14m-.721 3.393V2.213h.497c.169 0 .316.023.442.067a.792.792 0 0 1 .315.202c.083.09.145.201.187.335a1.6 1.6 0 0 1 .062.467c0 .185-.021.346-.063.485a.882.882 0 0 1-.188.346.77.77 0 0 1-.314.207 1.286 1.286 0 0 1-.442.069h-.496",mask:"url(#ppt-icon-e)"})),b.a.createElement("g",null,b.a.createElement("use",{fill:"#FFF",xlinkHref:"#ppt-icon-f"}),b.a.createElement("use",{fill:"#000",fillOpacity:".2",xlinkHref:"#ppt-icon-f"}))))}}]),n})(E.default),album:(function(e){f()(n,e);var t=T(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return b.a.createElement("g",{fill:"none"},b.a.createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M4 0h20v20H4z"}),b.a.createElement("path",{stroke:"#C4C4C4",d:"M4.5.5v19h19V.5h-19z"}),b.a.createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M2 2h20v20H2z"}),b.a.createElement("path",{stroke:"#C4C4C4",d:"M2.5 2.5v19h19v-19h-19z"}),b.a.createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M0 4h20v20H0z"}),b.a.createElement("path",{stroke:"#C4C4C4",d:"M.5 4.5v19h19v-19H.5z"}),b.a.createElement("path",{fill:"#0073FF",d:"M3 7h14v12l-5-5-3 3-2-2-4 4V7zm3.5 5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"}))}}]),n})(E.default)},R=function(e){var t=j[e.type];return delete Object.assign({},e).type,b.a.createElement(t,e)};R.displayName="icon";var P=R,D=n(43),I=n(26),A=n(11),M=n.n(A),N=n(12),L=n(48),F=n(64);function B(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var U=function(){return M()()("context-menu-create-popup")},z=["context menu","empty"],V=(function(e){f()(n,e);var t=B(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onUploadInputChange=r._onUploadInputChange.bind(l()(r)),r._onUploadClick=r._onUploadClick.bind(l()(r)),r._resetFileInput=r._resetFileInput.bind(l()(r)),r._onCreateFolderClick=r._onCreateFolderClick.bind(l()(r)),r._onCreateAlbumClick=r._onCreateAlbumClick.bind(l()(r)),r._onPopupOutsideClick=r._onPopupOutsideClick.bind(l()(r)),r._onMenuItemClick=r._onMenuItemClick.bind(l()(r)),r._fileInputRef=b.a.createRef(),r}return u()(n,[{key:"_resetFileInput",value:function(){this._fileInputRef.current&&(this._fileInputRef.current.value="")}},{key:"_onUploadInputChange",value:function(){var e=this._fileInputRef.current&&this._fileInputRef.current.files;e&&e.length&&(this.props.upload(e).then(this._resetFileInput,this._resetFileInput),this.props.onClose())}},{key:"_onUploadClick",value:function(){this.props.maybeBlockActionOverdraft({forLite:!0})?this.props.onClose():N.default.count.apply(N.default,i()(z.concat(["upload"])))}},{key:"_onCreateFolderClick",value:function(){this.props.createFolder(this.props.idContext),this.props.onClose(),N.default.count.apply(N.default,i()(z.concat(["new folder"])))}},{key:"_onCreateResourceClick",value:function(e){this.props.openEditor(e,0===this.props.idContext.indexOf("/disk")?this.props.idContext:"/disk"),this.props.onClose(),N.default.count.apply(N.default,i()(z.concat(["new ".concat(e)])))}},{key:"_onCreateAlbumClick",value:function(){this.props.requestNewAlbumTitle(),this.props.onClose(),N.default.count.apply(N.default,i()(z.concat(["new album"])))}},{key:"_onMenuItemClick",value:function(e){switch(e.target.value){case"new-folder":this._onCreateFolderClick();break;case"docx":case"xlsx":case"pptx":this._onCreateResourceClick(e.target.value);break;case"album":this._onCreateAlbumClick();break;case"upload":this._onUploadClick()}}},{key:"_onPopupOutsideClick",value:function(){this.props.onClose(),N.default.count.apply(N.default,i()(z.concat(["close"])))}},{key:"_getResourceIconProvider",value:function(e){return function(t){return b.a.createElement(P,{cls:t,type:e})}}},{key:"render",value:function(){return b.a.createElement(_.Popup,{className:U().mix("js-prevent-deselect"),onClose:this._onPopupOutsideClick,visible:this.props.visible,view:"default",position:this.props.position,direction:["bottom-start","bottom-end","top-start","top-end"],motionless:!0},b.a.createElement(O.Menu,{className:U().e("menu"),view:"default",size:"m",wide:!0,onChange:this._onMenuItemClick},b.a.createElement(O.Group,null,b.a.createElement(O.Item,{key:"folder",value:"new-folder",className:U().e("item").m({"new-folder":!0}),icon:this._getResourceIconProvider("folder-plus")},"Новая папка"),this.props.isOfficeAllowed&&b.a.createElement(b.a.Fragment,null,b.a.createElement(O.Item,{key:"docx",value:"docx",className:U().e("item").m({word:!0}),icon:this._getResourceIconProvider("doc")},"Текстовый документ"),b.a.createElement(O.Item,{key:"xlsx",value:"xlsx",className:U().e("item").m({excel:!0}),icon:this._getResourceIconProvider("xls")},"Таблица"),b.a.createElement(O.Item,{key:"pptx",value:"pptx",className:U().e("item").m({powerpoint:!0}),icon:this._getResourceIconProvider("ppt")},"Презентация")),Object(F.getIsInsideVirtualDisk)(this.props.idContext)?null:b.a.createElement(O.Item,{key:"album",value:"album",className:U().e("item").m({album:!0}),icon:this._getResourceIconProvider("album")},"Альбом")),!this.props.hideUploadItem&&b.a.createElement(O.Group,{paddingless:!0},b.a.createElement(O.Item,{value:"upload",highlighted:!0,className:U().e("menu-item").m({type:"upload"}),icon:w.a},b.a.createElement("span",{className:U().e("upload-input-wrapper")},"Загрузить файлы",this.props.overdraftType?null:b.a.createElement("input",{ref:this._fileInputRef,type:"file",className:U().e("upload-input"),multiple:!0,onChange:this._onUploadInputChange}))))))}}]),n})(y.Component);t.default=Object(g.connect)((function(e){var t=e.page.idContext,n=e.user.isOfficeAllowed,r=Object(D.getOverdraftType)(e);return{idContext:t,isOfficeAllowed:n,overdraftType:r,hideUploadItem:Object(D.shouldNotifyOverdraft)(e)&&!r}}),{upload:I.upload,openEditor:I.openEditor,createFolder:I.createFolder,requestNewAlbumTitle:L.requestNewAlbumTitle,goToUrl:I.goToUrl,maybeBlockActionOverdraft:I.maybeBlockActionOverdraft})(V)}),(function(e,t,n){"use strict";n.r(t);var r=n(66),i=n.n(r),o=n(0),a=n.n(o),s=n(19),u=n(681),c=n.n(u),l=n(682),d=n.n(l),f=n(74),h=n(25),p=n(21),m=n.n(p),v=n(3),g=n.n(v),y=n(4),b=n.n(y),_=n(8),O=n.n(_),w=n(5),E=n.n(w),S=n(7),C=n.n(S),x=n(1),k=n.n(x),T=n(443),j=n(63),R=n(207);function P(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C()(this,n)}}var D,I=(function(e){E()(n,e);var t=P(n);function n(){return g()(this,n),t.apply(this,arguments)}return b()(n,[{key:"_getDefaultSize",value:function(){return"m"}},{key:"getContentSVG",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("path",{fill:"currentColor",d:"M1.227 5.722a.726.726 0 0 1-.675-.995L2.053.957a.726.726 0 0 1 1.275-.14l.656.961a7.749 7.749 0 0 1 12.01 6.473v.038a7.673 7.673 0 0 1-3.07 6.14A7.714 7.714 0 0 1 8.244 16c-1.559 0-3.01-.46-4.226-1.253a7.69 7.69 0 0 1-3.39-5.015.857.857 0 0 1-.015-.133 7.742 7.742 0 0 1-.035-.216.969.969 0 1 1 1.917-.28 5.813 5.813 0 0 0 11.561-.852 5.812 5.812 0 0 0-8.98-4.873L5.9 4.586a.726.726 0 0 1-.6 1.136H1.227z"}),a.a.createElement("path",{fill:"currentColor",d:"M9.116 5.345a.872.872 0 0 0-1.743 0v3.39c0 .275.13.533.349.698l1.937 1.453a.872.872 0 0 0 1.046-1.395L9.116 8.3V5.345z"}))}}]),n})(n(15).default),A=n(101),M=n(11),N=n.n(M),L=(n(1317),function(){return N()()("suggest-item")}),F=function(e){var t=e.type,n=e.ext;switch(t){case"history":return a.a.createElement(I,null);case"content":return a.a.createElement(R.a,null);case"folders":return a.a.createElement(A.a,{type:"dir"});case"files":return a.a.createElement(A.a,{ext:n});default:return null}},B=function(e){var t=e.item;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:L().e("icon")},a.a.createElement(F,{type:t.type,ext:"files"===t.type?t.key.split(".").pop():""})),a.a.createElement("div",{className:L().e("content")},a.a.createElement("div",{className:L().e("text"),dangerouslySetInnerHTML:{__html:t["suggest-text"]}})))},U=n(79),z=n(30),V=n(26),H=n(130),W=n(105),G=n(95),q=n(10),$=n.n(q),Y=n(37),K=n.n(Y),X=n(12),Z=(D={},$()(D,K.a.KEYS.ENTER,"enter"),$()(D,K.a.KEYS.ESC,"esc"),$()(D,K.a.KEYS.UP,"up"),$()(D,K.a.KEYS.RIGHT,"right"),$()(D,K.a.KEYS.DOWN,"down"),D);n(1318);function J(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C()(this,n)}}var Q=n(9),ee=(function(e){E()(n,e);var t=J(n);function n(e){var r;return g()(this,n),(r=t.call(this,e))._renderItem=r._renderItem.bind(O()(r)),r._changeActive=r._changeActive.bind(O()(r)),r._handleItemSelect=r._handleItemSelect.bind(O()(r)),r._changeQuery=r._changeQuery.bind(O()(r)),r._onSubmit=r._onSubmit.bind(O()(r)),r._onStateChanged=r._onStateChanged.bind(O()(r)),r._onKeyDown=r._onKeyDown.bind(O()(r)),r._onResizeDebounced=Q.debounce(r._onResize.bind(O()(r)),250),r}return b()(n,[{key:"componentDidMount",value:function(){var e=this.props.suggestQuery;this.props.getSuggestResult(e,{suggestTypes:e&&e.length?H.e.full:H.e.zero}),window.addEventListener("resize",this._onResizeDebounced)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._onResizeDebounced)}},{key:"componentDidUpdate",value:function(e){this.props.isSearchActive||this.props.isSearchActive===e.isSearchActive||this._suggest&&this._suggest.fold()}},{key:"_onResize",value:function(){this.props.isSearchActive&&this._suggest&&this._suggest.fold()}},{key:"_renderItem",value:function(e){return a.a.createElement(B,{item:e})}},{key:"_changeActive",value:function(e){this.props.updateSuggestActivation(e)}},{key:"_handleItemSelect",value:function(e,t){return["history","content"].includes(e.type)&&this._onSubmitText(e.text,!1),this.props.suggestItemSelectAction(e,t,!0)}},{key:"_changeQuery",value:function(e){this.props.getSuggestResult(e)}},{key:"_onSubmitText",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e||this.props.suggestQuery;n&&(t&&this.props.sendSearchMetrika("input-submit",{queryText:n}),this.props.getSuggestResult(e),this.props.searchAction(n,this.props.searchScope,"formSearch"),this.props.updateSuggestActivation(!1))}},{key:"_onSubmit",value:function(){this._onSubmitText(this.props.suggestQuery)}},{key:"_onStateChanged",value:function(e){e===j.b.UNFOLDED_ACTIVE&&(this.props.isSearchSessionStarted?this.props.sendSearchMetrika("input-focus"):this.props.startSearchSession(),X.count.apply(void 0,m()(function(e){var t="disk";return"/photo"===e?t="photo":e.startsWith("/album")?t="album":"/trash"===e?t="trash":"/journal"===e?t="history":"/attach"===e&&(t="attach"),["interface elements","search","click",t]}(this.props.idContext)))),this.props.isSuggestDisabled||Object(X.countSuggest)(e===j.b.UNFOLDED_ACTIVE?"show":"close")}},{key:"_onKeyDown",value:function(e){!(function(e){Z[e]&&X.default.count("interface elements","search suggest","navigation",Z[e])})(e.keyCode)}},{key:"render",value:function(){var e=this,t=this.props,n=t.suggestItems,r=t.suggestQuery,i=t.searchPlaceholder,o=t.isSuggestDisabled,s=t.isSliderOpened;return a.a.createElement(T.b,{ref:function(t){e._suggest=t},cls:N()()("client-suggest").toString(),suggestQuery:r,isNarrow:!0,maxLength:100,iconPosition:"right",placeholderDefault:i,placeholderCustom:i,suggestItems:n,renderItem:this._renderItem,showClose:!0,searchButtonText:"Найти",getShowText:function(e){return e.text},getItemType:function(e){return e.type},handleItemSelect:this._handleItemSelect,onTextChange:this._changeQuery,onSubmit:this._onSubmit,onActiveChange:this._changeActive,keepTextWhenFolded:!0,noSuggestPopup:o,noBubbleList:!0,theme:"ps-header",toneDefault:"suggest-ps-header-light",onStateChanged:this._onStateChanged,onKeyDown:this._onKeyDown,ignoreKeyboardEvents:s,popupClassName:this.props.popupClassName})}}]),n})(o.Component),te=Object(s.connect)((function(e){var t=e.page.idContext,n=e.suggest,r=n.items,i=n.query,o=Object(G.getThemeName)(e);return{idContext:t,suggestItems:r,suggestQuery:i,searchScope:Object(U.g)(e),searchPlaceholder:Object(U.f)(e),isSearchActive:Object(U.b)(e),isSuggestDisabled:Object(U.d)(e),isSearchSessionStarted:Object(U.c)(e),isSliderOpened:Object(z.isSliderOpened)(e),popupClassName:o&&Object(W.isPageDark)(o)&&!Object(W.isContentDark)(o)?Object(W.getContentClassName)(o):void 0}}),{searchAction:V.search,getSuggestResult:H.a,updateSuggestActivation:H.f,startSearchSession:H.c,sendSearchMetrika:H.b,suggestItemSelectAction:H.d})(ee),ne=n(431),re=n.n(ne),ie=n(54),oe=n.n(ie),ae=n(141),se=n(110),ue=n.n(se),ce=n(151).I18N,le=function(e,t){return X.default.count("interface elements","mail360 discount tooltip",e,t)},de={day:function(e){return __i18n__.i18n.convert([yr.externals.entityify(e)+" день",yr.externals.entityify(e)+" день",yr.externals.entityify(e)+" дня",yr.externals.entityify(e)+" дней"],yr.externals.entityify(e))},week:function(e){return __i18n__.i18n.convert([yr.externals.entityify(e)+" неделя",yr.externals.entityify(e)+" неделя",yr.externals.entityify(e)+" недели",yr.externals.entityify(e)+" недель"],yr.externals.entityify(e))},month:function(e){return __i18n__.i18n.convert([yr.externals.entityify(e)+" месяц",yr.externals.entityify(e)+" месяц",yr.externals.entityify(e)+" месяца",yr.externals.entityify(e)+" месяцев"],yr.externals.entityify(e))}},fe=Object(s.connect)((function(e){var t=e.config.urlsBase.mail360,n=e.environment.session.experiment.diskBlackFridayTooltipImgExp;return{mail360Origin:t,mail360DiscountTooltipData:Object(ae.getMail360DiscountTooltipData)(e),billingPromoAppearanceData:Object(ae.getBillingPromoAppearanceData)(e),diskBlackFridayTooltipImgExp:n}}))((function(e){var t=e.mail360Origin,n=e.anchor,r=e.scope,s=e.mail360DiscountTooltipData,u=e.billingPromoAppearanceData,c=e.diskBlackFridayTooltipImgExp,l="".concat(null===u||void 0===u?void 0:u.id,"_").concat(c?"gift":"discount"),d=Object(o.useState)(!0),f=i()(d,2),h=f[0],p=f[1];Object(o.useEffect)((function(){p(!1),le("show",l)}),[]);var m=Object(o.useCallback)((function(){p(!0),le("close",l)}),[l]),v=Object(o.useCallback)((function(){window.open(oe.a.addParams(t,{from:"disk_discount_promo"}),"_blank"),p(!0),le("click",l)}),[t,l]),g=s.trialPeriodsCount&&Boolean(s.trialPeriod),y=s.trialPeriod,b=de[y]&&de[y](s.trialPeriodsCount),_=new Date(s.untilDate.split("T")[0]);_.setDate(_.getDate()-1);var O=ue()(_,"D mmmm",["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]),w=s.discountPercent;return a.a.createElement(re.a,{anchor:n,visible:!h,onClose:m,onClick:v,scope:r,promoPayload:null===u||void 0===u?void 0:u.tooltip,discountPercent:w,text:g&&b?a.a.createElement(ce,{loc:yr.externals.entityify(b)+" подписки бесплатно!"+yr.externals.entityify(ce.$1)+"Успейте оформить — акция"+yr.externals.entityify(ce.$2)+"действует до "+yr.externals.entityify(O)},a.a.createElement("br",{key:"br-1"}),a.a.createElement("br",{key:"br-2"})):a.a.createElement(ce,{loc:"Не пропустите: скидка "+yr.externals.entityify(w)+"% "+yr.externals.entityify(ce.$1)+" на подписку до "+yr.externals.entityify(O)},a.a.createElement("br",null))})})),he=n(683),pe=n.n(he),me=n(684),ve=n.n(me),ge=n(45),ye=n(151).I18N,be=Object(s.connect)((function(e){return{staticOrigin:e.config.urlsBase.static}}),{saveSettings:ge.saveSettings})((function(e){var t=e.anchor,n=e.scope,r=e.saveSettings,s=e.staticOrigin,u=Object(o.useState)(!0),c=i()(u,2),l=c[0],d=c[1],f=Object(o.useCallback)((function(){d(!0)}),[]),h={text:"",img:s+pe.a,background:s+ve.a,opaque:!0,width:90,height:90,leftOffset:-48,bottomOffset:-48};return Object(o.useEffect)((function(){d(!1),r({key:"timestampLastGrassTooltipWasShown",value:String(Date.now()),serverOnly:!0})}),[r]),a.a.createElement(re.a,{anchor:t,visible:!l,onClose:f,onClick:f,scope:n,promoPayload:h,discountPercent:0,text:a.a.createElement(ye,{loc:"Тема «Трава» в вашем Диске — это единая тема Яндекс 360"+yr.externals.entityify(ye.$1)+" Меняйте настройки в Почте"},a.a.createElement("br",null)),mainOffset:0})})),_e=n(85),Oe=n(33),we=n(43),Ee=n(266),Se=n(245),Ce=n(72),xe=n(164),ke=d()(c.a),Te=Date.now();t.default=Object(s.connect)((function(e){var t=e.config,n=t.urlsBase,r=t.domain,i=t.yandexuid,o=t.links.passport.auth,a=e.user,s=e.page.currentUrl,u=e.environment.session,c=u.locale,l=u.showDocsInHeader,d=e.settings,f=d.lastShownDiscountPromoId,h=d.closedOverdraftScreen,p=d.roNoB2cTariffPromo,m=d.shouldSkipPromoTooltipInSession,v=d.timestampLastGrassTooltipWasShown,g=Object(G.getThemeName)(e);return{urlsBase:n,user:a,isUnAuth:Object(Ee.isUnAuth)(e),authLink:o,domain:r,locale:c,yandexuid:i,currentUrl:s,shouldShowYaPlus:Object(_e.shouldShowYaPlus)(e),isSearchActive:Object(U.b)(e),canShowMail360DiscountTooltip:Object(ae.canShowMail360DiscountTooltip)(e,Te),mail360DiscountTooltipData:Object(ae.getMail360DiscountTooltipData)(e),isDocsPage:Object(Oe.isDocsPage)(e),shouldShowDocuments:l||Object(Oe.isDocsPage)(e),isShownNewOverdraftScreen:Object(we.getOverdraftType)(e)&&!h,lastShownDiscountPromoId:f,showFan:a.isB2b,noCounter:Object(Ce.isSidebarWithWidgetsExperiment)(e),headerPromoToLanding:Object(Ce.isHeaderPromoToLanding)(e),enabledNoB2cTariffPromo:Boolean(p&&p.enabled),shouldSkipPromoTooltipInSession:m,themeName:g,shouldShowGrassTooltip:g===xe.ThemeName.GeneralGrass&&!Number(v)}}))((function(e){var t=e.className,n=e.urlsBase,r=e.user,s=e.isUnAuth,u=e.authLink,c=e.domain,l=e.locale,d=e.yandexuid,p=e.currentUrl,m=e.shouldShowYaPlus,v=e.isSearchActive,g=e.canShowMail360DiscountTooltip,y=e.mail360DiscountTooltipData,b=e.isDocsPage,_=e.shouldShowDocuments,O=e.lastShownDiscountPromoId,w=e.isShownNewOverdraftScreen,E=e.showFan,S=e.noCounter,C=e.headerPromoToLanding,x=e.enabledNoB2cTariffPromo,k=e.shouldSkipPromoTooltipInSession,T=e.themeName,j=e.shouldShowGrassTooltip,R=Object(o.useMemo)((function(){return{Admin:n.admin,Calendar:n.calendar,Contact:n.mail+"/#contacts",Disk:n.disk,Fan:n.fan,Mail:n.mail,Messenger:n.q,Notes:b?n.notes:"/notes",Premium:C?n.yandex360:n.mail360,Telemost:n.telemost,Documents:b?"/":n.documents}}),[n,b,C]),P=Object(o.useCallback)((function(){X.default.count.apply(X.default,arguments)}),[]),D=Object(o.useRef)(null),I=Object(o.useRef)(null),A=Object(o.useRef)(null),M=Object(o.useState)(!1),N=i()(M,2),L=N[0],F=N[1],B=n["cloud-api"];Object(o.useEffect)((function(){var e;if(Boolean(null===(e=I.current)||void 0===e?void 0:e.clientWidth)&&g){var t=y&&y.promoId;g&&(function(e){return Object(Se.setPSSetting)(B,"yadisk_web",e,String(Date.now()))})("mail360LastShownDiscountPromo").then((function(){t!==O?(function(e){return Object(Se.setPSSetting)(B,"yadisk_web","mail360LastShownDiscountPromoId",e)})(t).then((function(){F(!0)})):F(!0)}))}}),[B,g,y,L,O,r.hasProSubscription]);var U=Object(o.useCallback)((function(){window.location.assign(u)}),[u]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(ke,{links:R,allServicesLink:n.all,isB2bAdmin:r.isConnectAdmin,isB2bUser:r.isB2b,currentService:b?"Documents":"Disk",tld:c,lang:l,timeZone:r.timezone,userProps:s?void 0:{uid:r.uid,name:r.name,avatarId:r.avatarId,yu:d,avatarHost:r.avatarHost,retpath:p,ariaLabel:"Аккаунт",yaplusAvailable:m,hasPlus:r.hasYaPlus,noCounter:S},noUserName:!0,LegoPopup:f.Popup,morePopupProps:{mainOffset:8},useLegoV3:!0,theme:Object(W.isPageDark)(T)?"dark":"light",className:[t,Object(W.getPageClassName)(T)].join(" "),countMetrikaFn:P,searchOpened:v,leftContent:b||w?null:a.a.createElement(te,null),customLogoUrl:r.wsHeader&&r.wsHeader.company_logo,yandex360Link:x?"/client/disk":n.yandex360,refs:{header:D,servicesRefs:{Mail:A,Premium:I}},onlyUserHTMLInSSR:!0,showDocuments:_,showFan:E,LegoButton:h.Button,onLoginClick:U,loginButtonProps:{view:"default"},hideTuning:x}),!k&&L?a.a.createElement(fe,{anchor:I,scope:D}):null,j&&a.a.createElement(be,{anchor:A,scope:D}))}))}),(function(e,t,n){"use strict";n.r(t);var r,i=n(2),o=n(0),a=n.n(o),s=n(134),u=n(40),c=n(55),l=n(87),d=n(1887),f=n(607),h=n(608),p=n(28),m=n(427),v=(n(1433),n(1434),n(1435),Object(p.cn)("Select2")),g=((r=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.innerRef=Object(o.createRef)(),t.triggerRef=Object(o.createRef)(),t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.forwardRefs()},t.prototype.componentDidUpdate=function(){this.forwardRefs()},t.prototype.render=function(){var e=this,t=this.props,n=t.addonAfter,r=t.addonBefore,o=t.className,s=t.disabled,f=t.onBlur,h=t.onClick,p=t.onKeyDown,m=t.opened,g=t.size,y=t.theme,b=t.value,_=t.view,O=t.style,w=t.checkable,E=void 0===w||w,S=t.iconProps,C=t.renderTrigger,x=t.renderTriggerIcon,k=t.activeDescendant,T=!(!E||!Array.isArray(b))&&b.length>0,j=_||S&&S.glyph?void 0:"arrow",R=!_||S&&S.type?void 0:"carets-v";return a.a.createElement(u.ComponentRegistryConsumer,{id:v()},(function(t){var u=t.Trigger,w=t.Icon;return a.a.createElement(d.a,{components:[[u,C],[w,x]]},(function(t,u){return a.a.createElement("span",{ref:Object(l.a)(e.innerRef,e.props.innerRef),className:v({disabled:s},[o])},r,a.a.createElement(t,{width:"max",role:"listbox","aria-haspopup":"true",disabled:s,className:v("Button"),innerRef:e.triggerRef,style:O,size:g,theme:y,checked:T,view:_,onClick:h,onKeyDown:p,onBlur:f,pressKeys:[c.a.SPACE],iconRight:function(e){return a.a.createElement(u,Object(i.__assign)({size:g,className:e,direction:m?"top":"bottom",type:j,glyph:R},S))},"aria-activedescendant":k,"aria-expanded":m,"aria-multiselectable":Array.isArray(b)},e.getButtonText()),n)}))}))},t.prototype.forwardRefs=function(){Object(l.a)(this.props.triggerRef)(this.triggerRef.current)},t.prototype.getButtonText=function(){var e=this.props,t=e.value,n=e.options,r=e.showAlwaysPlaceholder,i=e.placeholder,o=[].concat(t).filter((function(e){return void 0!==e}));if(!r&&o.length>0){var a=this.getOptionsText(n,o);if(a.length>0)return a}return i},t.prototype.getOptionsText=function(e,t){return Object(m.a)((function(e){return e.items?e.items:e}),e).filter((function(e){return-1!==t.indexOf(e.value)})).map((function(e){return e.checkedText||e.content})).join(", ")},t})(o.PureComponent)).displayName=v(),r.defaultProps={placeholder:"—",value:""},r),y=new u.Registry({id:v()});y.set("Trigger",(function(){throw new Error('Для работы "Select" требуется установить компонент "Trigger" в реестр "'+v()+'".')})).set("Icon",(function(){throw new Error('Для работы "Select" требуется установить компонент "Icon" в реестр "'+v()+'".')})).set("Popup",(function(){throw new Error('Для работы "Select" требуется установить компонент "Popup" в реестр "'+v()+'".')})).set("Menu",(function(){throw new Error('Для работы "Select" требуется установить компонент "Menu" в реестр "'+v()+'".')}));var b,_=function e(t){return (function(e){return void 0!==e.items})(t)?a.a.createElement("optgroup",{key:t.title,label:t.title},t.items.map(e)):a.a.createElement("option",{key:t.value,value:t.value,disabled:t.disabled},t.content)},O=["bottom-start","bottom-end","top-start","top-end"],w=((b=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeDescendant:void 0},t.innerRef=Object(o.createRef)(),t.controlRef=Object(o.createRef)(),t.triggerRef=Object(o.createRef)(),t.popupRef=Object(o.createRef)(),t.preventClosable=!1,t.subscribeToEvents=function(){document.addEventListener("mousedown",t.onDocumentMouseDown,!0),window.addEventListener("resize",t.onWindowChange),window.addEventListener("orientationchange",t.onWindowChange)},t.unsubscribeFromEvents=function(){document.removeEventListener("mousedown",t.onDocumentMouseDown,!0),window.removeEventListener("resize",t.onWindowChange),window.removeEventListener("orientationchange",t.onWindowChange)},t.onDocumentMouseDown=function(e){var n=t.popupRef.current;null!==n&&n.contains(e.target)&&(t.preventClosable=!0)},t.onClosePopup=function(){void 0!==t.props.setOpened&&t.props.setOpened(!1)},t.onWindowChange=function(){void 0!==t.props.setOpened&&t.props.setOpened(!1)},t.onBlur=function(e){t.preventClosable?t.preventClosable=!1:(requestAnimationFrame((function(){var e=t.popupRef.current;t.props.setOpened&&e&&!e.contains(document.activeElement)&&t.props.setOpened(!1)})),void 0!==t.props.onBlur&&t.props.onBlur(e))},t.onClick=function(e){6!==e.nativeEvent.mozInputSource&&(void 0!==t.props.setOpened&&t.props.setOpened(!t.props.opened),void 0!==t.props.onClick&&t.props.onClick(e))},t.onKeyDown=function(e){Object(c.b)(e.keyCode,[c.a.ENTER])&&e.preventDefault(),Object(c.b)(e.keyCode,[c.a.UP,c.a.DOWN])&&(e.preventDefault(),void 0!==t.props.setOpened&&t.props.setOpened(!0)),Object(c.b)(e.keyCode,[c.a.SPACE])&&(void 0===t.props.setOpened||e.defaultPrevented||(e.preventDefault(),t.props.opened||t.props.setOpened(!0))),t.props.opened&&void 0!==t.props.onKeyDown&&t.props.onKeyDown(e)},t.onActiveItemChange=function(e){t.setState({activeDescendant:e})},t.onMenuChange=function(e){if(t.controlRef.current){var n=e.target.value;e.target=t.controlRef.current,e.target.value=n}Object(s.unstable_batchedUpdates)((function(){void 0!==t.props.onChange&&t.props.onChange(e),void 0!==t.props.setOpened&&(Array.isArray(t.props.value)||t.props.setOpened(!1))})),t.preventClosable&&(t.preventClosable=!1)},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.forwardRefs()},t.prototype.componentWillUnmount=function(){this.unsubscribeFromEvents()},t.prototype.componentDidUpdate=function(e){this.forwardRefs(),!e.opened&&this.props.opened?this.subscribeToEvents():e.opened&&!this.props.opened&&this.unsubscribeFromEvents()},t.prototype.render=function(){var e=this,t=this.props,n=t.addonAfter,r=(t.maxHeight,t.opened),o=t.setOpened,s=t.options,c=(t.popupRef,t.size),p=t.theme,m=t.unsafe_scope,y=void 0===m?this.innerRef:m,b=t.value,w=t.view,E=t.renderControl,S=void 0!==E&&E,C=t.renderMenu,x=Object(i.__rest)(t,["addonAfter","maxHeight","opened","setOpened","options","popupRef","size","theme","unsafe_scope","value","view","renderControl","renderMenu"]);return a.a.createElement(u.ComponentRegistryConsumer,{id:v()},(function(t){var u=t.Popup,m=t.Menu;return a.a.createElement(d.b,{component:m,render:C},(function(t){return a.a.createElement(g,Object(i.__assign)({},x,{triggerRef:e.triggerRef,activeDescendant:e.state.activeDescendant,innerRef:Object(l.a)(e.innerRef,e.props.innerRef),onBlur:e.onBlur,onClick:e.onClick,onKeyDown:e.onKeyDown,options:s,size:c,theme:p,value:b,view:w,opened:r,setOpened:o,addonAfter:a.a.createElement(a.a.Fragment,null,S&&a.a.createElement("select",Object(i.__assign)({},x,{multiple:Array.isArray(b),tabIndex:-1,value:b,ref:e.controlRef,style:{display:"none"}}),s.map(_)),a.a.createElement(u,{target:"anchor",anchor:e.triggerRef,className:v("Popup"),direction:O,view:w,theme:p,visible:r,innerRef:Object(l.a)(e.popupRef,e.props.popupRef),onClose:e.onClosePopup,scope:y,modifiers:[f.a,Object(i.__assign)(Object(i.__assign)({},h.a),{options:{maxHeight:e.props.maxHeight}})]},a.a.createElement(t,{width:"max",className:v("Menu"),focused:r,items:s,onChange:e.onMenuChange,onActiveItemChange:e.onActiveItemChange,size:c,theme:p,value:b,view:w})),n)}))}))}))},t.prototype.forwardRefs=function(){Object(l.a)(this.props.triggerRef)(this.triggerRef.current)},t})(o.PureComponent)).displayName=v()+"@desktop",b),E=Object(u.withRegistry)(y)(w),S=n(6),C=(n(1436),Object(S.withBemMod)(v(),{baseline:!0})),x=(n(1437),Object(S.withBemMod)(v(),{width:"max"}));n.d(t,"Select",(function(){return E})),n.d(t,"cnSelect",(function(){return v})),n.d(t,"withBaseline",(function(){return C})),n.d(t,"withWidthMax",(function(){return x}))}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=n(503);function a(e){if(e){var t=e.value.length;e.setSelectionRange(t,t)}}function s(e,t){var n=e.as,s=void 0===n?"input":n,u=e.type,c=void 0===u?"text":u,l=e.autoComplete,d=void 0===l?"off":l,f=Object(r.__rest)(e,["as","type","autoComplete"]),h=Object(o.a)(e,t).focusableProps,p={};return"input"===s&&(p={type:c}),Object(i.useLayoutEffect)((function(){"textarea"===s&&a(t.current)}),[s,t,e.autoFocus]),{ElementType:s,inputProps:Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({autoComplete:d},f),h),p)}}var u=n(1846);function c(e,t){var n=e.disabled,o=Object(r.__read)(Object(i.useState)(!1),2),s=o[0],c=o[1];return{isShown:s,buttonProps:{disabled:n,onPress:function(){c(!s),t.current&&Object(u.b)(t.current),requestAnimationFrame((function(){a(t.current)}))},preventFocusOnPress:!0,tabIndex:-1},inputProps:{type:s?"text":"password"}}}function l(e,t){var n=e.onChange,r=e.value,o=e.disabled;return{isActive:!(e.readOnly||o)&&Boolean(r),buttonProps:{disabled:o,onPress:Object(i.useCallback)((function(){if(t.current){Object(u.b)(t.current);var e=Object.create({});e.target=t.current,e.currentTarget=t.current,t.current.value="",null===n||void 0===n||n(e)}}),[t,n]),preventFocusOnPress:!0,tabIndex:-1}}}function d(e,t){var n=e.value,r=e.enabled;Object(i.useLayoutEffect)((function(){if(t.current&&r){var e=t.current;e.style.height="auto",e.style.height=e.scrollHeight+"px"}}),[t,n,r])}n.d(t,"useTextField",(function(){return s})),n.d(t,"usePasswordField",(function(){return c})),n.d(t,"useClearButton",(function(){return l})),n.d(t,"useAutoResize",(function(){return d}))}),(function(e,t,n){"use strict";n.r(t);var r=n(0),i=Object(r.createContext)(null),o=n(2),a=n(503),s=n(510),u=n(512),c=n(243);function l(e,t){var n,l=e.checked,d=e.defaultChecked,f=e.disabled,h=e.name,p=e.onChange,m=e.readOnly,v=e.state,g=Object(o.__rest)(e,["checked","defaultChecked","disabled","name","onChange","readOnly","state"]),y=Object(a.a)(e,t).focusableProps,b=Object(s.a)(e),_=b.isPressed,O=b.pressProps,w=Object(r.useContext)(i),E=w?w.selectedValue===e.value:null!==l&&void 0!==l?l:d,S=(null===w||void 0===w?void 0:w.isReadOnly)||m;return{isPressed:_,rootProps:O,inputProps:Object(u.a)(g,y,{type:"radio",onChange:S?void 0:function(e){var t;w?null===(t=w.setSelectedValue)||void 0===t||t.call(w,e):null===p||void 0===p||p(e)},"aria-invalid":"invalid"===v||void 0,"aria-checked":E||e.defaultChecked,"aria-readonly":S||void 0,autoComplete:Object(c.a)()?"off":void 0,checked:E,name:null!==(n=null===w||void 0===w?void 0:w.name)&&void 0!==n?n:h,disabled:(null===w||void 0===w?void 0:w.isDisabled)||f})}}function d(e){e.onChange;var t=e.disabled,n=e.readOnly,r=Object(o.__rest)(e,["onChange","disabled","readOnly"]);return{rootProps:Object(o.__assign)(Object(o.__assign)({},r),{role:"radiogroup","aria-disabled":t,"aria-readonly":n})}}var f=n(502);function h(e){var t=e.disabled,n=e.readOnly,r=e.name,i=e.value,o=e.onChange;return{isDisabled:t,name:Object(f.a)(r),isReadOnly:n,selectedValue:i,setSelectedValue:o}}n.d(t,"RadioGroupContext",(function(){return i})),n.d(t,"useRadio",(function(){return l})),n.d(t,"useRadioGroup",(function(){return d})),n.d(t,"useRadioGroupState",(function(){return h}))}),(function(e,t,n){"use strict";n.r(t);var r=n(119),i=n.n(r),o=n(56),a=n(36),s=n(12),u=n(51),c=n.n(u),l=n(34),d=n(62),f=n(21),h=n.n(f),p=n(10),m=n.n(p),v=n(31),g=n(29);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=i.a.mark((function e(){var t,n,r,a,s,u,c,l,f,p,m,y,_,O;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.select)(v.j);case 3:return t=e.sent,e.next=6,Object(o.put)(Object(d.f)({id:t,isLoading:!0}));case 6:return n={albumId:t,amount:g.PORTION_SIZE,loadAlbumData:"1"},e.next=9,Object(o.select)(v.i);case 9:return((r=e.sent).clusters&&r.clusters.length||(r.bufferedPhotos||[]).length)&&(a="",(r.bufferedPhotos||[]).length?(s=r.bufferedPhotos[r.bufferedPhotos.length-1],a=s.itemId):(u=r.clusters[r.clusters.length-1],a=u.items[u.items.length-1].itemId),n.lastItemId=a,n.loadAlbumData="0"),e.next=13,Object(o.getContext)("rawFetchModel");case 13:return c=e.sent,e.next=16,Object(o.call)(c,"albumWithItems",n);case 16:return l=e.sent,e.next=19,Object(o.getContext)("resourceHelper");case 19:return f=e.sent,e.next=22,Object(o.select)();case 22:return p=e.sent,e.next=25,Object(o.call)(f.preprocessResources,l.resources,p);case 25:if(m=e.sent,!l.album.public){e.next=30;break}return e.next=29,Object(o.call)(f.fixShortUrl,l.album.public.short_url);case 29:l.album.public.short_url=e.sent;case 30:return m=m.map((function(e){return Object.assign({},e,b({albumIds:[].concat(h()(e.albumIds||[]),[t])},b({},"favorites"===l.album.album_type?{favorite:{state:!0,itemId:l.album.items.find((function(t){return t.id===e.id})).itemId}}:{})))})),e.next=33,Object(o.put)(Object(d.a)({album:l.album,resources:m}));case 33:e.next=52;break;case 35:return e.prev=35,e.t0=e.catch(0),e.next=39,Object(o.select)(v.j);case 39:return y=e.sent,e.next=42,Object(o.put)(Object(d.f)({id:y,isLoading:!1}));case 42:return e.next=44,Object(o.getContext)("pageHelper");case 44:if(_=e.sent,"HTTP_404"!==e.t0.id){e.next=50;break}return e.next=48,Object(o.call)(_.go,"/client/albums");case 48:e.next=52;break;case 50:return e.next=52,Object(o.call)(_.go,"/client/error","preserve",{reason:"album2_fetch_error",error:e.t0});case 52:return e.prev=52,e.next=55,Object(o.cancelled)();case 55:if(!e.sent){e.next=61;break}return e.next=58,Object(o.select)(v.j);case 58:return O=e.sent,e.next=61,Object(o.put)(Object(d.f)({id:O,isLoading:!1}));case 61:return e.finish(52);case 62:case"end":return e.stop()}}),e,null,[[0,35,52,62]])})),O=n(86),w=n(13),E=Object(O.createAction)(w.ADD_TO_SELECTED,(function(e){return{payload:{resourcesIds:e}}})),S=n(113),C=i.a.mark((function e(t){var n,r,a,s,u,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.put)(Object(d.d)(!0));case 3:return e.next=6,Object(o.select)(v.i);case 6:if(n=e.sent,r=n.clusters,a=n.isCompleted,-1!==(s=r.findIndex((function(e){return e.id===t})))){e.next=12;break}return e.abrupt("break",24);case 12:return u=r[s].items,e.next=15,Object(o.put)(E(u.map((function(e){return e.id}))));case 15:return e.next=17,Object(o.select)(S.getSelectedResources);case 17:if(c=e.sent,!(a||s<r.length-1||c.length>=g.MAX_ACTIONABLE_SELECTION)){e.next=20;break}return e.abrupt("break",24);case 20:return e.next=22,Object(o.call)(_);case 22:e.next=3;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(0),setTimeout((function(){throw e.t0}),0);case 29:return e.prev=29,e.next=32,Object(o.put)(Object(d.d)(!1));case 32:return e.finish(29);case 33:case"end":return e.stop()}}),e,null,[[0,26,29,33]])})),x=i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,e.next=3,Object(o.race)({cancel1:Object(o.take)(w.DESELECT_ALL),cancel2:Object(o.take)(w.DESELECT_RESOURCES),cancel3:Object(o.take)(d.e.type),ok:Object(o.call)(C,n)});case 3:case"end":return e.stop()}}),e)})),k=i.a.mark(T);function T(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.setContext)({pageHelper:c.a,resourceHelper:l.default});case 2:return e.next=4,Object(o.all)([Object(o.takeLeading)(d.b.type,_),Object(o.takeEvery)(d.c,x)]);case 4:case"end":return e.stop()}}),k)}var j=n(676),R=n.n(j);n.d(t,"default",(function(){return I}));var P=i.a.mark(I),D=[T,R.a];function I(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.setContext)({rawFetchModel:a.a,metrikaHelper:s.default});case 2:return e.next=4,Object(o.all)(D.map(o.spawn));case 4:case"end":return e.stop()}}),P)}}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=(function(){function e(e){this.cache=null,this.factory=e}return e.prototype[Symbol.iterator]=function(){var e,t,n,i,o,a,s,u,c,l,d;return Object(r.__generator)(this,(function(f){switch(f.label){case 0:if(null!==this.cache)return[3,9];this.cache=[],f.label=1;case 1:f.trys.push([1,6,7,8]),e=Object(r.__values)(this.factory()),t=e.next(),f.label=2;case 2:return t.done?[3,5]:(a=t.value,this.cache.push(a),[4,a]);case 3:f.sent(),f.label=4;case 4:return t=e.next(),[3,2];case 5:return[3,8];case 6:return n=f.sent(),u={error:n},[3,8];case 7:try{t&&!t.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}return[7];case 8:return[2];case 9:f.trys.push([9,14,15,16]),i=Object(r.__values)(this.cache),o=i.next(),f.label=10;case 10:return o.done?[3,13]:[4,a=o.value];case 11:f.sent(),f.label=12;case 12:return o=i.next(),[3,10];case 13:return[3,16];case 14:return s=f.sent(),l={error:s},[3,16];case 15:try{o&&!o.done&&(d=i.return)&&d.call(i)}finally{if(l)throw l.error}return[7];case 16:return[2]}}))},e})();var a=(function(){function e(){}return e.prototype.build=function(e){var t=e.children,n=this;return new o(function(){var e,o,a,s,u,c,l,d,f,h,p,m,v,g;return Object(r.__generator)(this,(function(y){switch(y.label){case 0:e=[],i.Children.forEach(t,(function(t){e.push(t)})),o=0,y.label=1;case 1:y.trys.push([1,12,13,14]),a=Object(r.__values)(e),s=a.next(),y.label=2;case 2:if(s.done)return[3,11];u=s.value,c=n.getNodes({element:u},o),y.label=3;case 3:y.trys.push([3,8,9,10]),v=void 0,l=Object(r.__values)(c),d=l.next(),y.label=4;case 4:return d.done?[3,7]:[4,d.value];case 5:y.sent(),o++,y.label=6;case 6:return d=l.next(),[3,4];case 7:return[3,10];case 8:return f=y.sent(),v={error:f},[3,10];case 9:try{d&&!d.done&&(g=l.return)&&g.call(l)}finally{if(v)throw v.error}return[7];case 10:return s=a.next(),[3,2];case 11:return[3,14];case 12:return h=y.sent(),p={error:h},[3,14];case 13:try{s&&!s.done&&(m=a.return)&&m.call(a)}finally{if(p)throw p.error}return[7];case 14:return[2]}}))})},e.prototype.getNodes=function(e,t,n){var i,o,a,s,u,c,l,d,f,h,p,m,v,g,y,b;return Object(r.__generator)(this,(function(_){switch(_.label){case 0:return(i=this.getCollectionElement(e))?[3,3]:(u=this.createNode(e))?[4,u]:[3,2];case 1:_.sent(),_.label=2;case 2:return[2];case 3:o=i.type.getCollectionNode(i.props),_.label=4;case 4:_.trys.push([4,15,16,17]),a=Object(r.__values)(o),s=a.next(),_.label=5;case 5:if(s.done)return[3,14];u=s.value,c=this.getKey(i,u,t,n),l=this.getNodes(Object(r.__assign)(Object(r.__assign)({},u),{key:c}),t,n),_.label=6;case 6:_.trys.push([6,11,12,13]),y=void 0,d=Object(r.__values)(l),f=d.next(),_.label=7;case 7:if(f.done)return[3,10];if(h=f.value,e.type&&e.type!==h.type)throw new Error('Invalid node type. Expected: "'+e.type+'", actual: "'+h.type+'"');return[4,h];case 8:_.sent(),t++,_.label=9;case 9:return f=d.next(),[3,7];case 10:return[3,13];case 11:return p=_.sent(),y={error:p},[3,13];case 12:try{f&&!f.done&&(b=d.return)&&b.call(d)}finally{if(y)throw y.error}return[7];case 13:return s=a.next(),[3,5];case 14:return[3,17];case 15:return m=_.sent(),v={error:m},[3,17];case 16:try{s&&!s.done&&(g=a.return)&&g.call(a)}finally{if(v)throw v.error}return[7];case 17:return[2]}}))},e.prototype.createNode=function(e){var t=e.key,n=e.type,i=e.content,a=e.props,s=void 0===a?{}:a,u=e.hasChildren,c=void 0!==u&&u,l=e.children;if(null==t||null==n)return null;var d=this,f={type:n,key:t,props:s,content:i,hasChildren:c,children:new o(function(){var e,t,n,i,o,a,s,u,h,p,m,v,g;return Object(r.__generator)(this,(function(y){switch(y.label){case 0:if(!l||!c)return[2];e=0,y.label=1;case 1:y.trys.push([1,12,13,14]),t=Object(r.__values)(l()),n=t.next(),y.label=2;case 2:if(n.done)return[3,11];i=n.value,o=d.getNodes(i,e,f),y.label=3;case 3:y.trys.push([3,8,9,10]),v=void 0,a=Object(r.__values)(o),s=a.next(),y.label=4;case 4:return s.done?[3,7]:[4,s.value];case 5:y.sent(),e++,y.label=6;case 6:return s=a.next(),[3,4];case 7:return[3,10];case 8:return u=y.sent(),v={error:u},[3,10];case 9:try{s&&!s.done&&(g=a.return)&&g.call(a)}finally{if(v)throw v.error}return[7];case 10:return n=t.next(),[3,2];case 11:return[3,14];case 12:return h=y.sent(),p={error:h},[3,14];case 13:try{n&&!n.done&&(m=t.return)&&m.call(t)}finally{if(p)throw p.error}return[7];case 14:return[2]}}))})};return f},e.prototype.getCollectionElement=function(e){var t=e.element;if(t){if(!(function(e){return Object(i.isValidElement)(e)&&"function"==typeof e.type&&"function"==typeof e.type.getCollectionNode})(t))throw new Error("Unknown element");return t}return null},e.prototype.getKey=function(e,t,n,r){return null!=t.key?t.key:t.element?void 0:null!=e.key?e.key:(null===r||void 0===r?void 0:r.key)?(null===r||void 0===r?void 0:r.key)+"."+n:"$."+n},e})();function s(e,t){var n=e.children,r=Object(i.useRef)(t);return r.current=t,Object(i.useMemo)((function(){var e=(new a).build({children:n});return r.current(e)}),[n])}n.d(t,"CollectionBuilder",(function(){return a})),n.d(t,"useCollection",(function(){return s}))}),(function(e,t,n){"use strict";function r(e,t){var n=e.disabled,r=e.readOnly;return{groupProps:{role:"group",onKeyDown:function(e){n||r||" "===e.key&&(e.preventDefault(),e.stopPropagation(),t.setOpen(!0))}},triggerProps:{tabIndex:-1,onPress:function(){t.setOpen(!t.isOpen)}}}}n.r(t);var i=n(2),o=n(0);function a(e,t){var n=new Date(e);return Boolean(n.getHours()||n.getMinutes()||n.getSeconds()||n.getMilliseconds())?new Date(e):(t=new Date(t),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n)}function s(e){var t=e.onChange,n=e.value,r=void 0===n?null:n,s=Object(o.useMemo)((function(){return r?new Date(r):null}),[r]),u=Object(i.__read)(Object(o.useState)(!1),2),c=u[0],l=u[1];return{value:s,setValue:function(e){c&&l(!1),e.value&&s&&(e.value=a(e.value,s)),null===t||void 0===t||t({value:e.value})},isOpen:c,setOpen:l}}function u(e){var t=e.onChange,n=e.value,r=void 0===n?{start:null,end:null}:n,s=Object(i.__read)(Object(o.useState)(!1),2),u=s[0],c=s[1];return{value:r,setValue:function(e){u&&e.value.start&&e.value.end&&c(!1),e.value.start&&r.start&&(e.value.start=a(e.value.start,r.start)),e.value.end&&r.end&&(e.value.end=a(e.value.end,r.end)),null===t||void 0===t||t({value:e.value})},isOpen:u,setOpen:c}}n.d(t,"useDatePicker",(function(){return r})),n.d(t,"useDatePickerState",(function(){return s})),n.d(t,"useDateRangePickerState",(function(){return u}))}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(5),l=n.n(c),d=n(7),f=n.n(d),h=n(1),p=n.n(h),m=(n(1562),n(0)),v=n.n(m),g=n(32),y=n.n(g),b=(n(1563),n(101)),_=n(11),O=n.n(_),w=n(9),E=n.n(w),S=function(){return O()()("create-resource-button")},C=function(e){var t,n=E.a.omit(e,["type","text","cls"]);return t=["dir_plus","album"].includes(e.type)?{type:e.type}:{ext:e.type},v.a.createElement("button",y()({},n,{className:S().mix(e.cls),"aria-label":e.text}),v.a.createElement(b.a,y()({cls:S().e("icon"),size:"m"},t)),v.a.createElement("span",{className:S().e("text")},e.text))},x=n(25),k=n(74);function T(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var j=(function(e){l()(n,e);var t=T(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onPopupHide=r._onPopupHide.bind(u()(r)),r._anchor=v.a.createRef(),r}return a()(n,[{key:"_onPopupHide",value:function(){this.props.onPopupHide()}},{key:"render",value:function(){return v.a.createElement("span",{className:this.props.className,ref:this._anchor},v.a.createElement(x.Button,y()({},this.props.anchorProps,{onClick:this.props.onAnchorClick})),v.a.createElement(k.Popup,y()({},this.props.popupProps,{target:"anchor",zIndex:this.props.zIndexGroupLevel,anchor:this._anchor,visible:this.props.isPopupVisible,onClose:this._onPopupHide}),this.props.children))}}]),n})(m.PureComponent);j.defaultProps={isPopupVisible:!1};var R=j,P=n(15);function D(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var I=(function(e){l()(n,e);var t=D(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return v.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16zM7 3v4H3v2h4v4h2V9h4V7H9V3H7z"})}}]),n})(P.default),A=Object(P.iconProvider)(I),M=n(12);function N(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var L=function(){return O()()("create-resource-popup-with-anchor")},F=(function(e){l()(n,e);var t=N(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={isPopupVisible:!1},r._onAnchorClick=r._onAnchorClick.bind(u()(r)),r._closePopup=r._closePopup.bind(u()(r)),r}return a()(n,[{key:"_countMetrika",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];M.default.count.apply(M.default,t.concat(["listing"]))}},{key:"render",value:function(){var e=this,t=this.props.isOfficeAllowed;return v.a.createElement(R,{onAnchorClick:this._onAnchorClick,onPopupHide:this._closePopup,isPopupVisible:this.state.isPopupVisible,className:L(),popupProps:{view:"default",direction:["bottom-start"],mainOffset:-40-(this.props.isFirefox?1:0),className:L().e("popup").mix(this.props.popupCls)},anchorProps:{width:"max",size:"m",view:this.props.view||"raised",iconLeft:this.props.iconLeft||A,children:["Создать"],onClick:this._onAnchorClick},zIndexGroupLevel:2e3},v.a.createElement("h3",{className:L().e("title")},"Создать"),v.a.createElement("div",{className:L().e("create-items")},v.a.createElement(C,{onClick:function(){e._closePopup(),e.props.onFolderCreate(),e._countMetrika("interface elements","create new","folder")},text:"Папку",type:"dir_plus",cls:L().e("create-item")}),t?v.a.createElement(C,{onClick:function(){e._closePopup(),e.props.onEditorOpen("docx"),e._countMetrika("interface elements","create new","docx")},text:"Текстовый документ",type:"doc",cls:L().e("create-item")}):null,t?v.a.createElement(C,{onClick:function(){e._closePopup(),e.props.onEditorOpen("xlsx"),e._countMetrika("interface elements","create new","xlsx")},text:"Таблицу",type:"xls",cls:L().e("create-item")}):null,t?v.a.createElement(C,{onClick:function(){e._closePopup(),e.props.onEditorOpen("pptx"),e._countMetrika("interface elements","create new","pptx")},text:"Презентацию",type:"ppt",cls:L().e("create-item")}):null,v.a.createElement(C,{onClick:function(){e._closePopup(),e.props.onCreateAlbum(),e._countMetrika("interface elements","create new","album")},text:"Альбом",type:"album",cls:L().e("create-item")})))}},{key:"_closePopup",value:function(){this.setState({isPopupVisible:!1})}},{key:"_onAnchorClick",value:function(){var e=!this.state.isPopupVisible;e&&M.default.count("interface elements","create new","button_click"),this.setState({isPopupVisible:e})}}]),n})(m.Component);t.default=F}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=n.n(i);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s,u=["bottom","height","left","right","top","width"],c=new Map,l=function e(){var t=[];c.forEach((function(e,n){var r=n.getBoundingClientRect();(function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),u.some((function(n){return e[n]!==t[n]}))})(r,e.rect)&&(e.rect=r,t.push(e))})),t.forEach((function(e){e.callbacks.forEach((function(t){return t(e.rect)}))})),s=window.requestAnimationFrame(e)};var d="undefined"!=typeof window?i.useLayoutEffect:i.useEffect;function f(e,t){void 0===t&&(t={width:0,height:0});var n=i.useState(e.current),r=n[0],o=n[1],a=i.useReducer(h,t),u=a[0],f=a[1],p=i.useRef(!1);return d((function(){e.current!==r&&o(e.current)})),d((function(){if(r&&!p.current){p.current=!0;var e=r.getBoundingClientRect();f({rect:e})}}),[r]),i.useEffect((function(){if(r){var e=(function(e,t){return{observe:function(){var n=0===c.size;c.has(e)?c.get(e).callbacks.push(t):c.set(e,{rect:void 0,hasRectChanged:!1,callbacks:[t]}),n&&l()},unobserve:function(){var n=c.get(e);if(n){var r=n.callbacks.indexOf(t);r>=0&&n.callbacks.splice(r,1),n.callbacks.length||c.delete(e),c.size||cancelAnimationFrame(s)}}}})(r,(function(e){f({rect:e})}));return e.observe(),function(){e.unobserve()}}}),[r]),u}function h(e,t){var n=t.rect;return e.height!==n.height||e.width!==n.width?n:e}var p=function(){return 50},m=function(e){return e},v=function(e,t){return e[t?"offsetWidth":"offsetHeight"]},g=function(e){for(var t=Math.max(e.start-e.overscan,0),n=Math.min(e.end+e.overscan,e.size-1),r=[],i=t;i<=n;i++)r.push(i);return r};function y(e){var t,n=e.size,r=void 0===n?0:n,o=e.estimateSize,s=void 0===o?p:o,u=e.overscan,c=void 0===u?1:u,l=e.paddingStart,h=void 0===l?0:l,y=e.paddingEnd,_=void 0===y?0:y,O=e.parentRef,w=e.horizontal,E=e.scrollToFn,S=e.useObserver,C=e.initialRect,x=e.onScrollElement,k=e.scrollOffsetFn,T=e.keyExtractor,j=void 0===T?m:T,R=e.measureSize,P=void 0===R?v:R,D=e.rangeExtractor,I=void 0===D?g:D,A=w?"width":"height",M=w?"scrollLeft":"scrollTop",N=i.useRef({scrollOffset:0,measurements:[]}),L=i.useState(0),F=L[0],B=L[1];N.current.scrollOffset=F;var U=(S||f)(O,C)[A];N.current.outerSize=U;var z=i.useCallback((function(e){O.current&&(O.current[M]=e)}),[O,M]),V=E||z;E=i.useCallback((function(e){V(e,z)}),[z,V]);var H=i.useState({}),W=H[0],G=H[1],q=i.useCallback((function(){return G({})}),[]),$=i.useRef([]),Y=i.useMemo((function(){var e=$.current.length>0?Math.min.apply(Math,$.current):0;$.current=[];for(var t=N.current.measurements.slice(0,e),n=e;n<r;n++){var i=j(n),o=W[i],a=t[n-1]?t[n-1].end:h,u="number"==typeof o?o:s(n),c=a+u;t[n]={index:n,start:a,size:u,end:c,key:i}}return t}),[s,W,h,r,j]),K=((null==(t=Y[r-1])?void 0:t.end)||h)+_;N.current.measurements=Y,N.current.totalSize=K;var X=x?x.current:O.current,Z=i.useRef(k);Z.current=k,d((function(){if(X){var e=function(e){var t=Z.current?Z.current(e):X[M];B(t)};return e(),X.addEventListener("scroll",e,{capture:!1,passive:!0}),function(){X.removeEventListener("scroll",e)}}B(0)}),[X,M]);var J=(function(e){var t=e.measurements,n=e.outerSize,r=e.scrollOffset,i=t.length-1,o=b(0,i,(function(e){return t[e].start}),r),a=o;for(;a<i&&t[a].end<r+n;)a++;return{start:o,end:a}})(N.current),Q=J.start,ee=J.end,te=i.useMemo((function(){return I({start:Q,end:ee,overscan:c,size:Y.length})}),[Q,ee,c,Y.length,I]),ne=i.useRef(P);ne.current=P;var re=i.useMemo((function(){for(var e=[],t=function(t,n){var r=te[t],i=a(a({},Y[r]),{},{measureRef:function(e){if(e){var t=ne.current(e,w);if(t!==i.size){var n=N.current.scrollOffset;i.start<n&&z(n+(t-i.size)),$.current.push(r),G((function(e){var n;return a(a({},e),{},((n={})[i.key]=t,n))}))}}}});e.push(i)},n=0,r=te.length;n<r;n++)t(n);return e}),[te,z,w,Y]),ie=i.useRef(!1);d((function(){ie.current&&G({}),ie.current=!0}),[s]);var oe=i.useCallback((function(e,t){var n=(void 0===t?{}:t).align,r=void 0===n?"start":n,i=N.current,o=i.scrollOffset,a=i.outerSize;"auto"===r&&(r=e<=o?"start":e>=o+a?"end":"start"),"start"===r?E(e):"end"===r?E(e-a):"center"===r&&E(e-a/2)}),[E]),ae=i.useCallback((function(e,t){var n=void 0===t?{}:t,i=n.align,o=void 0===i?"auto":i,s=(function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i})(n,["align"]),u=N.current,c=u.measurements,l=u.scrollOffset,d=u.outerSize,f=c[Math.max(0,Math.min(e,r-1))];if(f){if("auto"===o)if(f.end>=l+d)o="end";else{if(!(f.start<=l))return;o="start"}var h="center"===o?f.start+f.size/2:"end"===o?f.end:f.start;oe(h,a({align:o},s))}}),[oe,r]),se=i.useCallback((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ae.apply(void 0,t),requestAnimationFrame((function(){ae.apply(void 0,t)}))}),[ae]);return{virtualItems:re,totalSize:K,scrollToOffset:oe,scrollToIndex:se,measure:q}}var b=function(e,t,n,r){for(;e<=t;){var i=(e+t)/2|0,o=n(i);if(o<r)e=i+1;else{if(!(o>r))return i;t=i-1}}return e>0?e-1:0};function _(e){var t=e.estimate,n=e.items,r=e.renderElement,a=e.focusedIndex,s=void 0===a?null:a,u=Object(i.useRef)(null),c=Object(i.useCallback)((function(e){return"number"==typeof t?t:t(n[e])}),[t,n]),l=y({size:n.length,parentRef:u,estimateSize:c});return Object(i.useEffect)((function(){null!==s&&l.scrollToIndex(s,{align:"auto"})}),[s,n.length,t]),{innerProps:{style:{position:"relative",height:l.totalSize}},containerProps:{style:{overflowY:"auto"},ref:u},virtualItems:l.virtualItems.map((function(e){return o.a.createElement(i.Fragment,{key:e.key},r({element:n[e.index],style:{transform:"translateY("+e.start+"px)",position:"absolute",top:0,left:0}}))}))}}function O(e){var t=e.collection,n=e.children,i=_({items:t,renderElement:function(e){var t=e.element,r=e.style;return o.a.createElement("div",{style:r},n({element:t}))},estimate:e.estimate,focusedIndex:e.focusedIndex}),a=i.containerProps,s=i.innerProps,u=i.virtualItems;return o.a.createElement("div",{ref:a.ref,style:Object(r.__assign)(Object(r.__assign)({},a.style),{height:e.height,maxHeight:e.maxHeight})},o.a.createElement("div",{style:s.style},u))}n.d(t,"VirtualCollection",(function(){return O})),n.d(t,"useVirtualized",(function(){return _}))}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(e){var t=Object(r.useRef)(e);t.current=e;var n=Object(r.useCallback)((function(e){var n=t.current,r=n.onFocus,i=n.onFocusChange;e.target===e.currentTarget&&(null===r||void 0===r||r(e),null===i||void 0===i||i(!0))}),[]),i=Object(r.useCallback)((function(e){var n=t.current,r=n.onBlur,i=n.onFocusChange;e.target===e.currentTarget&&(null===r||void 0===r||r(e),null===i||void 0===i||i(!1))}),[]),o={};return e.disabled||((e.onFocus||e.onFocusChange)&&(o.onFocus=n),(e.onBlur||e.onFocusChange)&&(o.onBlur=i)),{focusProps:o}}function o(e){var t=Object(r.useRef)(e),n=Object(r.useRef)({within:!1});t.current=e;var i=Object(r.useCallback)((function(e){var r=t.current,i=r.onFocusWithin,o=r.onFocusWithinChange,a=n.current;a.within||(a.within=!0,null===i||void 0===i||i(e),null===o||void 0===o||o(!0))}),[]),o=Object(r.useCallback)((function(e){var r=t.current,i=r.onBlurWithin,o=r.onFocusWithinChange,a=n.current;a.within&&!e.currentTarget.contains(e.relatedTarget)&&(a.within=!1,null===i||void 0===i||i(e),null===o||void 0===o||o(!1))}),[]),a={};return!e.disabled&&(e.onFocusWithin||e.onBlurWithin||e.onFocusWithinChange)&&(a.onFocus=i,a.onBlur=o),{focusWithinProps:a}}n.d(t,"useFocus",(function(){return i})),n.d(t,"useFocusWithin",(function(){return o}))}),(function(e,t,n){"use strict";n.r(t);var r=n(0),i=[],o=null,a=null;function s(){return i[i.length-1]}function u(e,t,n){var r=s();!r||!r.onClose||n&&n!==r.closeStrategy||"click"===t&&(function(e,t){return e.some((function(e){return e.current instanceof HTMLElement&&e.current.contains(t)}))})(r.refs,e.target)||r.onClose({nativeEvent:e,source:t})}function c(e){var t=e.key;"Escape"!==t&&"Esc"!==t||u(e,"esc")}function l(e){o=e.target,a=s(),u(e,"click","pressdown")}function d(e){var t=o;o=null;var n=a;a=null,e.button>0||n===s()&&t===e.target&&u(e,"click","pressup")}var f=Object.freeze({count:function(){return i.length},addOverlay:function(e){0===i.length&&(document.addEventListener("keyup",c),document.addEventListener("pointerdown",l,!0),document.addEventListener("click",d,!0)),i.push(e)},removeOverlay:function(e){i.splice(i.indexOf(e),1),0===i.length&&(document.removeEventListener("keyup",c),document.removeEventListener("pointerdown",l,!0),document.removeEventListener("click",d,!0))},getTopOverlayOptions:s});function h(e){var t=e.visible,n=e.onClose,i=e.essentialRefs,o=e.unsafe_strategy,a=void 0===o?"pressdown":o,s=Object(r.useRef)({onClose:n,refs:i,closeStrategy:a});s.current.onClose=n,s.current.refs=i,Object(r.useEffect)((function(){if(t){var e=s.current;return f.addOverlay(e),function(){f.removeOverlay(e)}}}),[t])}n.d(t,"useOverlay",(function(){return h}))}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(5),l=n.n(c),d=n(7),f=n.n(d),h=n(1),p=n.n(h),m=n(0),v=n.n(m),g=n(19),y=n(10),b=n.n(y),_=n(25),O=n(441),w=n(442),E=n(126),S=n(41),C=n(11),x=n.n(C);n(1595);function k(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var T=function(){return x()()("app-promo-banner")},j=(function(e){l()(n,e);var t=k(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDesktopAction",value:function(){var e=this.props,t=e.os,n=e.buttonText,r=e.getButtonLink,i=e.onClick;return v.a.createElement(_.Button,{className:T().e("install-button"),size:"l",view:"action",type:"link",target:"_blank",rel:"noopener noreferrer",url:r(),onClick:i,iconLeft:"mac"===t?function(e){return v.a.createElement(w.a,{cls:e,iconSize:"m"})}:function(e){return v.a.createElement(O.a,{cls:e,iconSize:"m"})}},n)}},{key:"render",value:function(){var e=this.props,t=e.app,n=e.cls,r=e.os,i=e.title,o=e.closeButtonAriaLabel,a=e.description,s=e.onClose;return v.a.createElement("div",{className:T().mix([n||"",S.LISTING_PREVENT_MOUSE_SELECTION_CLASS])},v.a.createElement(_.Button,{size:"m",view:"clear",className:T().e("close"),onClick:s,"aria-label":o,icon:function(e){return v.a.createElement(E.default,{cls:e,iconSize:"m"})}}),"desktop"===t?v.a.createElement("div",{className:T().e("desktop-image").m(b()({},r,!0))}):null,v.a.createElement("div",{className:T().e("right-block")},v.a.createElement("h3",{className:T().e("header")},i),v.a.createElement("div",{className:T().e("description")},a),"desktop"===t?this._getDesktopAction():null))}}]),n})(m.Component),R=n(45),P=n(12);n(1596);function D(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var I=(function(e){l()(n,e);var t=D(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onClose=r._onClose.bind(u()(r)),r._onClick=r._onClick.bind(u()(r)),r._getButtonLink=r._getButtonLink.bind(u()(r)),r}return a()(n,[{key:"_onClose",value:function(){this._metrikaCount("click_x"),this.props.saveSettings({key:"timestampLastClosedDesktopPromo",value:String(Date.now())})}},{key:"_onClick",value:function(){this._metrikaCount("click"),this._metrikaCount("download"),this.props.saveSettings({key:"timestampLastDownloadedDesktopPromo",value:String(Date.now()),serverOnly:!0})}},{key:"_getButtonLink",value:function(){var e=this.props.diskUrl;return"".concat(e,"/download/?src=Yandex.Banner.Direct")}},{key:"_metrikaCount",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];P.default.count.apply(P.default,["interface elements","top_banner_install_PO"].concat(t))}},{key:"render",value:function(){return v.a.createElement(j,{app:"desktop",title:"Установите Яндекс.Диск на компьютер",description:"Так вы сможете быстрее загружать файлы\nв облако и скачивать их",buttonText:"Установить Яндекс.Диск",closeButtonAriaLabel:"Закрыть",os:this.props.os,onClose:this._onClose,onClick:this._onClick,getButtonLink:this._getButtonLink})}},{key:"componentDidMount",value:function(){this._metrikaCount("show ".concat(this.props.os))}}]),n})(m.Component);t.default=Object(g.connect)((function(e){var t=e.environment.agent.OSFamily,n=e.config.urlsBase.disk;return{os:"MacOS"===t?"mac":"windows",diskUrl:n}}),{saveSettings:R.saveSettings})(I)}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),c=n(5),l=n.n(c),d=n(7),f=n.n(d),h=n(1),p=n.n(h),m=(n(1763),n(562),n(0)),v=n.n(m),g=n(19),y=n(25),b=n(178),_=n(233),O=n(70),w=n(23),E=n(34),S=n(22),C=n.n(S),x=n(36),k=n(29),T={INVALID_NAME:function(e){return"Название папки не может содержать символ «/»"},NAME_TOO_LONG:function(e){return"Название папки не может быть длиннее 255 символов"},FOLDER_EXISTS:function(e){return"Папка с именем «"+yr.externals.entityify(e)+"» уже существует"},OTHER:function(e){return"Не удалось создать папку «"+yr.externals.entityify(e)+"»"}},j=n(12),R=n(11),P=n.n(R);function D(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}n.d(t,"CreateFolderForm",(function(){return A}));var I=function(){return P()()("create-folder-form")},A=(function(e){l()(n,e);var t=D(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._defaultState={folderName:"Новая папка"},r.state=r._defaultState,r._onSubmit=r._onSubmit.bind(u()(r)),r._onChange=r._onChange.bind(u()(r)),r._onTooltipClose=r._onTooltipClose.bind(u()(r)),r._inputRef=v.a.createRef(),r}return a()(n,[{key:"componentDidMount",value:function(){this._doInputFocused(),this.props.createRef&&this.props.createRef(this)}},{key:"componentDidUpdate",value:function(e){e.folderId===this.props.folderId&&e.visible===this.props.visible||this._hideError(),this.props.visible&&!e.visible&&this._doInputFocused()}},{key:"componentWillUnmount",value:function(){this.props.createRef&&this.props.createRef(null)}},{key:"_doInputFocused",value:function(){var e=this;requestAnimationFrame((function(){e._inputRef.current&&(e._inputRef.current.select(),e._inputRef.current.focus())}))}},{key:"_onSubmit",value:function(e){e.preventDefault();var t=this.props.diskWebSelectFolderListingExp?this.props.folderId:ns.Model.get("stateTree").get(".selected");this.props.createFolder(t,this.state.folderName),j.default.count("interface elements","select folder dialog","create-folder",this.props.diskWebSelectFolderListingExp?"listing":"tree","submit",t.split("/").length-2)}},{key:"_hideError",value:function(){this.props.createFolderError&&this.props.updateDialog(this.props.dialogName,{createFolderError:null})}},{key:"_onChange",value:function(e){this.setState({folderName:e.target.value}),this._hideError()}},{key:"_onTooltipClose",value:function(){this._hideError()}},{key:"reset",value:function(){this.setState(this._defaultState)}},{key:"render",value:function(){var e=this.props,t=e.creatingFolder,n=e.createFolderError,r=e.disableButton,i=this.state.folderName,o=r||!i;return v.a.createElement("form",{className:I(),onSubmit:this._onSubmit},v.a.createElement(_.Tooltip,{hasTail:!0,view:"default",state:"alert",size:"s",className:I().e("error-popup").toString(),anchor:this._inputRef,direction:["top","bottom"],visible:!!n,onClose:this._onTooltipClose},v.a.createElement("div",{className:I().e("error-popup-text")},n)),v.a.createElement("div",{className:I().e("input-wrapper")},v.a.createElement(b.Textinput,{type:"text",view:"default",size:"s",value:i,name:"newFolderName",controlRef:this._inputRef,onChange:this._onChange}),v.a.createElement(O.Spin,{view:"default",className:I().e("spin"),progress:t,size:"xxs"})),v.a.createElement(y.Button,{view:"raised",size:"s",progress:t,disabled:o,className:I().e("submit"),type:"submit"},"Создать"))}}]),n})(m.Component);t.default=Object(g.connect)((function(e,t){var n=t.dialogName,r=e.dialogs,i=e.environment.session.experiment.diskWebSelectFolderListingExp,o=r[n],a=o.data,s=a.folderId,u=a.creatingFolder,c=a.createFolderError;return{visible:o.state===w.STATE.OPENED,diskWebSelectFolderListingExp:i,folderId:s,creatingFolder:u,createFolderError:c}}),{updateDialog:w.updateDialog,createFolder:function(e,t){return function(n,r){var i=E.default.validateName(t);if(t&&!i){n(Object(w.updateDialog)("selectFolder",{creatingFolder:!0}));var o=C.a.join(e,t);Object(x.a)("do-resource-create-folder",{id:o},{retriesLeft:0,retryOffline:!1}).then((function(){r().dialogs.selectFolder.data.onSubmit({folderId:o,name:t})})).catch((function(e){var r=T.OTHER;e&&e.id&&(r=(function(e){return"HTTP_412"===e||"HTTP_405"===e?k.STATUS_CREATE_FOLDER.EXISTS:k.STATUS_CREATE_FOLDER.UNKNOWN})(e.id)===k.STATUS_CREATE_FOLDER.EXISTS?T.FOLDER_EXISTS:T.OTHER),n(Object(w.updateDialog)("selectFolder",{creatingFolder:!1,createFolderError:r(t)}))}))}else{var a=i===E.NAME_VALIDATION_ERRORS.NAME_EXCEEDS_MAX_LENGTH?"NAME_TOO_LONG":"INVALID_NAME";n(Object(w.updateDialog)("selectFolder",{createFolderError:T[a](t)}))}}}})(A)}),(function(e,t,n){"use strict";n.r(t);n(1768),n(1769),n(1770),n(1771);var r=n(9),i=n.n(r);n.d(t,"listenScrollAndResize",(function(){return c})),n.d(t,"stopListenScrollAndResize",(function(){return l}));var o=$(window),a=n(735),s={},u=i.a.debounce((function(){var e={top:window.pageYOffset-window.innerHeight,bottom:window.pageYOffset+2*window.innerHeight};i.a.each(s,(function(t,n){(function(e){return!e||!e.parentNode||(e.contains?!document.body.contains(e):null===document.getElementById(e.id))})(t.node)||t.loaded?delete s[n]:a.isElInRect({el:t.node,rect:e,fnGetRectEl:a.getRect})&&t.load()}))}),100),c=function(){o.on("scroll resize",u)},l=function(){o.off("scroll resize",u)};nb.define("icon-resource",{events:{init:"onInit"},onInit:function(){this.$node=$(this.node),this.$preview=this.$node.find(".js-icon-preview"),this.$cover=this.$node.find(".js-cover-preview"),this.src=window.location.protocol+this.$preview.data("src"),this.params=this.$node.data("params"),this.load=i.a.once(this.load),0!==this.$preview.length&&(s[this.id]=this,u())},load:function(){var e=this.$preview[0];if(e){"cover"===this.params["image-sizing"]?this.$cover.css("background-image","url("+this.src+")"):this.$preview.attr("src",this.src),this.trigger("startLoading",this.src);var t=this;e.complete&&0!==e.naturalWidth?this.onPreviewLoaded():(function n(){e.complete?e.naturalWidth?t.onPreviewLoaded():t.onPreviewFailed():requestAnimationFrame(n)})()}},onPreviewLoaded:function(){this.loaded=!0,this.$node.addClass("nb-icon-resource_loaded-preview"),this.trigger("load",this.src)},onPreviewFailed:function(){this.trigger("fail",this.src)},destroy:function(){this.nbdestroy()}})}),(function(e,t,n){"use strict";n.r(t);var r=n(21),i=n.n(r),o=n(3),a=n.n(o),s=n(4),u=n.n(s),c=n(5),l=n.n(c),d=n(7),f=n.n(d),h=n(1),p=n.n(h),m=n(0),v=n.n(m),g=function(e){for(var t=[],n=0;n<e.length;n++){55296==(63488&e.charCodeAt(n))?(t.push(e.slice(n,n+2)),n++):t.push(e[n])}return t},y=n(11),b=n.n(y);n(1777);function _(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var O=[".",",",":",";","!","?","…",")","]","}","»"," ",'"',"'"],w=["(","[","{","«"," ",'"',"'"],E=(function(e){l()(n,e);var t=_(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={text:e.text},r}return u()(n,[{key:"componentDidMount",value:function(){this._createContext(this.props.font),this._updateText(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._updateContext(e.font),this._updateText(e)}},{key:"_createContext",value:function(e){this._context=document.createElement("canvas").getContext("2d"),this._updateContext(e)}},{key:"_updateContext",value:function(e){this._context&&(this._context.font=e)}},{key:"_updateText",value:function(e){this.setState({text:this._getText(e)})}},{key:"_getTextWidth",value:function(e){return this._context?this._context.measureText(e.join("").trim()).width+.5:0}},{key:"_getText",value:function(e){var t=e.numberOfRows,n=e.text,r=e.width;if(this._text=n.replace("\n"," "),this._text.normalize&&(this._text=this._text.normalize()),!r)return this._text;for(var i=[],o=0;o<t;o++){var a={characters:g(this._text.slice(i.join("").length)),width:r,currentRowNumber:o},s=o===t-1?this._getTextRowWithFiller(a):this._getTextRow(a);if(i.push(s),i.join("")===this._text)break}return i.map((function(e){return e.trim()})).join("\n")}},{key:"_getTextRow",value:function(e){var t=e.characters,n=e.width,r=e.currentRowNumber,i=this._getTextWidth(t),o=i/t.length,a=this._getMaximumBreakableLengthFromPosition({characters:t,position:Math.floor((i-n)/o)}),s=this._getUnbreakableSequenceLength(t,r);return i>n&&t.length>3?this._getTextRow({characters:this._trimRight({characters:t,trimBy:s||a>2&&a||1}),width:n,currentRowNumber:r}):t.join("")}},{key:"_getTextRowWithFiller",value:function(e){var t=e.characters,n=e.beginCharacters,r=e.endCharacters,o=e.width,a=n&&r,s=a?[].concat(i()(n),[this.props.filler],i()(r)):t,u=this._getTextWidth(s);if(u>o&&s.length>3){if(a){var c=n.length>=r.length;return this._getTextRowWithFiller({beginCharacters:this._trimRight({characters:n,trimBy:c?1:0}),endCharacters:this._trimLeft({characters:r,trimBy:c?0:1}),width:o})}var l=u/t.length,d=Math.floor((u-o)/l/2),f=.5*t.length+(d>1?d:0);return this._getTextRowWithFiller({beginCharacters:this._trimRight({characters:t,trimBy:f}),endCharacters:this._trimLeft({characters:t,trimBy:f}),width:o})}return s.join("")}},{key:"_trimRight",value:function(e){var t=e.characters,n=e.trimBy;return t.slice(0,t.length-n)}},{key:"_trimLeft",value:function(e){var t=e.characters,n=e.trimBy;return t.slice(-t.length+n)}},{key:"_getUnbreakableSequenceLength",value:function(e,t){var n=(e.join("").match(/\.\w{2,}$/g)||[])[0];if(n)return n.length-1;if(!this.props.breakWordsInFirstRow&&0===t){var r=e.lastIndexOf(" ");if(r>0)return e.length-r}var i=e[e.length-1],o=e[e.length-2];return O.indexOf(i)>-1&&O.indexOf(o)<0&&w.indexOf(o)<0||O.indexOf(i)<0&&w.indexOf(i)<0&&w.indexOf(o)>-1?2:0}},{key:"_getMaximumBreakableLengthFromPosition",value:function(e){var t=e.characters,n=e.position;if(n<2)return n;var r=t[t.length-n],i=t[t.length-n+1];return w.indexOf(r)>-1&&O.indexOf(i)<0&&w.indexOf(i)<0?n-2:O.indexOf(r)>-1?n-1:n}},{key:"render",value:function(){var e={className:b()()("clamped-text"),"aria-hidden":!0,style:{font:this.props.font,maxWidth:this.props.width||"auto"}};return this._text!==this.state.text&&(e.title=this._text),v.a.createElement("span",e,this.state.text)}}]),n})(v.a.PureComponent);E.defaultProps={filler:"…",font:"normal normal 400 normal 15px / normal Arial, sans-serif",numberOfRows:1,text:"",width:0,breakWordsInFirstRow:!1};t.default=E}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=n.n(i),a=n(156),s=n(87),u={},c={zIndexGroupLevel:0},l=function(e){var t;return(t=(function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentZIndex=0,e.innerRef=Object(i.createRef)(),e}return Object(r.__extends)(n,t),n.prototype.componentDidMount=function(){this.props.visible&&this.updateZIndexPosition()},n.prototype.componentDidUpdate=function(e){e.visible!==this.props.visible&&this.updateZIndexPosition()},n.prototype.componentWillUnmount=function(){0!==this.currentZIndex&&this.releaseZIndex(this.props.zIndexGroupLevel,this.currentZIndex)},n.prototype.render=function(){var t=this.props,n=(t.zIndexGroupLevel,Object(r.__rest)(t,["zIndexGroupLevel"]));return o.a.createElement(e,Object(r.__assign)({},n,{innerRef:Object(s.a)(this.innerRef,this.props.innerRef)}))},n.prototype.updateZIndexPosition=function(){var e=this;requestAnimationFrame((function(){var t=e.props,n=t.visible,r=t.zIndexGroupLevel;n&&0===e.currentZIndex?e.currentZIndex=e.captureZIndex(r):n||(e.currentZIndex=e.releaseZIndex(r,e.currentZIndex)),n&&(null!==e.innerRef.current?e.innerRef.current.style.zIndex=String(e.currentZIndex):e.updateZIndexPosition())}))},n.prototype.captureZIndex=function(e){var t=u[e];void 0===t&&(t=[1e3*(e+1)],u[e]=t);var n=t[t.length-1]+1;return t.push(n),n},n.prototype.releaseZIndex=function(e,t){var n=u[e];return void 0!==n&&n.length>1&&n.splice(n.indexOf(t),1),0},n})(i.PureComponent)).displayName="withZIndex("+Object(a.a)(e)+")",t.defaultProps=c,t};n.d(t,"withZIndex",(function(){return l}))}),(function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(237),a=n(552),s=n(420),u=function(e){var t=e.locale,n=e.children,r=Object(o.a)();return i.a.createElement(s.b,null,i.a.createElement(a.a,{locale:t||r.locale},n))};n.d(t,"Provider",(function(){return u}))}),(function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(28),a=(n(1424),Object(o.cn)("ListTile")),s=a("Leading"),u=a("Trailing"),c=function(e){var t=e.children,n=e.leading,r=e.trailing,o=e.className,c=e.inline,l=e.alignItems,d=e.leftSpace,f=e.rightSpace,h=e.onClick;return i.a.createElement("div",{onClick:h,className:a({inline:c,alignItems:l},[o])},n&&i.a.createElement("div",{className:s},n),i.a.createElement("div",{className:a("Wrapper",{leftSpace:d,rightSpace:f})},t),r&&i.a.createElement("div",{className:u},r))};c.displayName=a(),n.d(t,"cnListTile",(function(){return a})),n.d(t,"ListTile",(function(){return c}))}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=n.n(i),a=function(e){return Object(i.memo)((function(t){var n=t.opened,a=t.setOpened,s=Object(r.__read)(Object(i.useState)(Boolean(n)),2),u=s[0],c=s[1];Object(i.useEffect)((function(){"boolean"==typeof n&&u!==n&&c(n)}),[u,n]);var l=Object(i.useCallback)((function(e){c(e),a&&a(e)}),[a]);return o.a.createElement(e,Object(r.__assign)({},t,{opened:u,setOpened:l}))}))};n.d(t,"withTogglable",(function(){return a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(e,t){return Object(r.useMemo)((function(){return e||t?function(n){e&&o(e,n),t&&o(t,n)}:null}),[e,t])}function o(e,t){"function"==typeof e?e(t):e&&(e.current=t)}n.d(t,"useForkRef",(function(){return i}))}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(e,t){Object(r.useImperativeHandle)(t,(function(){return e.current}))}n.d(t,"useForwardedRef",(function(){return i}))}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0);function o(e){var t=Object(r.__read)(Object(i.useState)(!1),2),n=t[0],o=t[1],a=Object(i.useRef)({});return a.current={disabled:e.disabled},{isHovered:n,hoverProps:Object(i.useMemo)((function(){var e={onPointerEnter:function(){a.current.disabled||o(!0)},onPointerLeave:function(){o(!1)}};return e}),[])}}n.d(t,"useHover",(function(){return o}))}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(e){var t=e.bind,n=e.onAction,i=e.disabled,o=Object(r.useRef)({onAction:n});o.current.onAction=n,Object(r.useEffect)((function(){var e=function(e){t===e.code&&o.current.onAction(e)};return i||document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}),[i,t])}n.d(t,"useKeyBinding",(function(){return i}))}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(503),o=n(510),a=n(512),s=n(243);function u(e,t){var n,u=e.as,c=void 0===u?"button":u,l=e.disabled,d=e.href,f=e.target,h=e.rel,p=e.type,m=void 0===p?"button":p,v=(e.tabIndex,e.onPress,e.onPressEnd,e.onPressStart,e.onPressUp,e.preventFocusOnPress,Object(r.__rest)(e,["as","disabled","href","target","rel","type","tabIndex","onPress","onPressEnd","onPressStart","onPressUp","preventFocusOnPress"]));"button"===c?(n={type:m,disabled:l},Object(s.a)()&&(n.autoComplete="off")):n={role:"button",tabIndex:l?void 0:0,href:"a"===c&&l?void 0:d,target:"a"===c?f:void 0,type:"input"===c?m:void 0,disabled:"input"===c?l:void 0,"aria-disabled":l&&"input"!==c?l:void 0,rel:"a"===c?h:void 0};var g=Object(i.a)(e,t).focusableProps,y=Object(o.a)(e),b=y.isPressed,_=y.pressProps;return{buttonProps:Object(a.a)(v,n,g,_),ElementType:c,isPressed:b}}n.d(t,"useButton",(function(){return u}))}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=n(556);function a(e,t){var n=e.indeterminate,a=void 0!==n&&n,s=Object(r.__rest)(e,["indeterminate"]),u=Object(o.a)(s,t);return Object(i.useEffect)((function(){t.current&&(t.current.indeterminate=a)})),Object(r.__assign)(Object(r.__assign)({},u),{inputProps:Object(r.__assign)(Object(r.__assign)({},u.inputProps),{"aria-checked":a?"mixed":u.inputProps.checked})})}n.d(t,"useCheckbox",(function(){return a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(556);function o(e,t){var n=Object(i.a)(e,t);return Object(r.__assign)(Object(r.__assign)({},n),{inputProps:Object(r.__assign)(Object(r.__assign)({},n.inputProps),{role:"switch"})})}n.d(t,"useSwitch",(function(){return o}))}),(function(e,t,n){"use strict";n.r(t);var r=n(502);function i(e){var t=Object(r.a)(),n=Object(r.a)(e.id);return{labelProps:{id:t,htmlFor:"label"===e.behavior?n:void 0},fieldProps:{"aria-labelledby":t,id:n}}}n.d(t,"useLabel",(function(){return i}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(165),i=n.n(r),o=n(2),a=n(0),s=n(134),u=n(82),c=Object(u.a)(),l=c?document.body:null,d=function(e){var t=e.visible,n=e.keepMounted,r=void 0===n||n,u=e.children,d=e.scope,f=Object(o.__read)(Object(a.useState)(l),2),h=f[0],p=f[1],m="inplace"===d,v=Object(a.useRef)(!1);return Object(a.useEffect)((function(){"object"===i()(d)&&p(d.current)}),[d]),t&&(v.current=!0),c&&(t||r&&v.current)||!c&&t?m?u:h?Object(s.createPortal)(u,h):null:null}}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(2),i=null;function o(e){if(function(){if(null===i){i=!1;try{document.createElement("div").focus({get preventScroll(){return i=!0,!0}})}catch(e){}}return i}())e.focus({preventScroll:!0});else{var t=(function(e){for(var t=[],n=document.scrollingElement||document.documentElement,r=e.parentNode;r instanceof HTMLElement&&r!==n;)(r.offsetHeight<r.scrollHeight||r.offsetWidth<r.scrollWidth)&&t.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),r=r.parentNode;return n instanceof HTMLElement&&t.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),t})(e);e.focus(),(function(e){var t,n;try{for(var i=Object(r.__values)(e),o=i.next();!o.done;o=i.next()){var a=o.value,s=a.element,u=a.scrollTop,c=a.scrollLeft;s.scrollTop=u,s.scrollLeft=c}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}})(t)}}function a(e,t){if(e)try{t?o(e):e.focus()}catch(e){}}}),(function(e,t,n){"use strict";var r=n(0),i=(function(){function e(){this.overlays=[],this.eventTarget=null,this.onDocumentKeyUp=this.onDocumentKeyUp.bind(this),this.onDocumentMouseDown=this.onDocumentMouseDown.bind(this),this.onDocumentClick=this.onDocumentClick.bind(this)}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.count=function(){return this.overlays.length},e.prototype.addOverlay=function(e){0===this.overlays.length&&this.attachEvents(),this.overlays.push(e)},e.prototype.removeOverlay=function(e){this.overlays.splice(this.overlays.indexOf(e),1),0===this.overlays.length&&this.detachEvents()},e.prototype.getTopOverlayOptions=function(){return this.overlays[this.overlays.length-1]},e.prototype.isEssentionalClick=function(e,t){return e.some((function(e){return e.current instanceof HTMLElement&&e.current.contains(t)}))},e.prototype.handleClose=function(e,t,n){var r=this.getTopOverlayOptions();!r||!r.onClose||n&&n!==r.closeStrategy||"click"===t&&this.isEssentionalClick(r.refs,e.target)||r.onClose(e,t)},e.prototype.onDocumentKeyUp=function(e){var t=e.key;"Escape"!==t&&"Esc"!==t||this.handleClose(e,"esc")},e.prototype.onDocumentMouseDown=function(e){this.eventTarget=e.target,this.activeOverlay=this.getTopOverlayOptions(),this.handleClose(e,"click","pressdown")},e.prototype.onDocumentClick=function(e){var t=this.eventTarget;this.eventTarget=null;var n=this.activeOverlay;this.activeOverlay=null,e.button>0||n===this.getTopOverlayOptions()&&t===e.target&&this.handleClose(e,"click","pressup")},e.prototype.attachEvents=function(){document.addEventListener("keyup",this.onDocumentKeyUp),document.addEventListener("mousedown",this.onDocumentMouseDown,!0),document.addEventListener("click",this.onDocumentClick,!0)},e.prototype.detachEvents=function(){document.removeEventListener("keyup",this.onDocumentKeyUp),document.removeEventListener("mousedown",this.onDocumentMouseDown,!0),document.removeEventListener("click",this.onDocumentClick,!0)},e})();function o(e){var t=e.visible,n=e.onClose,o=e.essentialRefs,a=e.unsafe_strategy,s=void 0===a?"pressdown":a,u=Object(r.useRef)({onClose:n,refs:o,closeStrategy:s});Object(r.useEffect)((function(){u.current.onClose!==n&&(u.current.onClose=n),u.current.refs!==o&&(u.current.refs=o)}),[n,o]),Object(r.useEffect)((function(){if(t){var e=u.current,n=i.getInstance();return n.addOverlay(e),function(){n.removeOverlay(e)}}}),[t])}n.d(t,"a",(function(){return o}))}),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(82);function o(e,t){return Object(i.a)()?Object(r.useLayoutEffect)(e,t):Object(r.useEffect)(e,t)}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),i=n(0),o=n(502);function a(e){var t=Object(o.a)();return Object(r.__read)(Object(i.useState)((function(){return e?e+t.replace("xuniq",""):t})),1)[0]}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(52),i=n(44);function o(e){Object(i.a)(1,arguments);var t=Object(r.a)(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(58),i=n(52),o=n(44);function a(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),a=Object(r.a)(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(a),n)}}),(function(e,t,n){"use strict";function r(e,t,n){return void 0===t&&(t=-1/0),void 0===n&&(n=1/0),Math.min(Math.max(e,t),n)}function i(e,t,n){return e>=t&&e<=n}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(52),i=n(44);function o(e){Object(i.a)(1,arguments);var t=Object(r.a)(e).getDay();return 0===t||6===t}}),(function(e,t,n){"use strict";var r,i=n(0),o=n(1879),a=n(82);function s(){return"undefined"!=typeof window&&window.navigator&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1)}function u(e,t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e.style[r]);for(var r in t)t.hasOwnProperty(r)&&(e.style[r]=t[r]);return n}function c(e){var t=getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function l(e){return e===document.body||e===document.documentElement}var d="__scrollLockState$"+Math.random().toString(36).slice(2);function f(e){return e[d]}function h(e){var t=l(e)&&window.innerWidth-document.documentElement.clientWidth>0,n=e.scrollHeight>e.clientHeight;return t||n||(function(e){var t=getComputedStyle(e).overflowY;return/scroll/.test(t)})(e)?(function(){if("undefined"==typeof document)return 0;if(void 0===r){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.pointerEvents="none",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var i=e.offsetWidth;n===i&&(i=t.clientWidth),document.body.removeChild(t),r=n-i}return r})():0}function p(e){var t=f(e);if(t)t.count++;else{var n=h(e);!(function(e,t){e[d]=t})(e,{initialStyle:u(e,{paddingRight:parseInt(getComputedStyle(e).getPropertyValue("padding-right"),10)+n+"px",overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}),count:1})}}function m(e){var t=f(e);t&&(t.count--,0===t.count&&(u(e,t.initialStyle),(function(e){delete e[d]})(e)))}var v=(function(){var e=!1;if(!Object(a.a)())return!1;try{var t=function(){return null},n={get passive(){e=!0}};window.addEventListener("testPassive",t,n),window.removeEventListener("testPassive",t)}catch(e){}return e})()?{passive:!1}:void 0,g={count:0,lastY:0,scrollable:null,scrollX:0,scrollY:0};function y(e){if(1===e.changedTouches.length){if(g.scrollable=(function(e){for(;e&&!c(e);)e=e.parentElement;return e||document.documentElement})(e.target),l(g.scrollable))return;g.lastY=e.changedTouches[0].pageY}}function b(e){var t=g.scrollable,n=g.lastY;if(!(e.changedTouches.length>1))if(t&&!l(t)){var r=e.changedTouches[0].pageY,i=t.scrollTop,o=t.scrollHeight-t.clientHeight;(i<=0&&r>n||i>=o&&r<n)&&e.preventDefault(),g.lastY=r}else e.preventDefault()}function _(){g.scrollable&&(g.scrollable=null)}function O(e){return e||document.body}function w(e){if(Object(a.a)()){var t=O(e);p(t),s()&&(function(e){l(e)&&(g.count++,1===g.count&&(g.scrollX=window.pageXOffset,g.scrollY=window.pageYOffset,document.addEventListener("touchstart",y,v),document.addEventListener("touchmove",b,v),document.addEventListener("touchend",_,v)))})(t)}}function E(e){if(Object(a.a)()){var t=O(e);m(t),s()&&(function(e){l(e)&&0!==g.count&&(g.count--,0===g.count&&(document.removeEventListener("touchstart",y),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",_),window.scrollTo(g.scrollX,g.scrollY)))})(t)}}function S(e){var t=e.enabled,n=e.containerRef,r=Object(i.useRef)(null),a=Object(i.useRef)(!1);Object(o.a)((function(){var e=n?n.current:null;r.current!==e&&(t&&a.current&&(E(r.current),w(e)),r.current=e)})),Object(o.a)((function(){if(t)return a.current=!0,w(r.current),function(){a.current=!1,E(r.current)}}),[t])}n.d(t,"a",(function(){return S}))}),(function(e,t,n){"use strict";var r,i=n(0),o=n.n(i),a=n(2),s=n(1846),u=n(445),c=n(172),l=n(428);!(function(e){e[e.Backward=0]="Backward",e[e.Forward=1]="Forward"})(r||(r={}));var d=(function(){function e(e){this.walker=new u.a(e,function(t){return e!==t&&e.contains(t)&&Object(l.a)(t)})}return e.prototype.findElement=function(e,t){for(var n=e===r.Forward;this.walker.current;n?this.walker.next():this.walker.previous())if(t(this.walker.current))return this.walker.current;return null},e.prototype.findElementWithTabIndex=function(e,t){return this.findElement(t,(function(t){return Object(c.a)(t)===e}))},e.prototype.findFirstElementWithGreaterTabIndex=function(e){return this.findElement(e,(function(e){return Object(c.a)(e)>=0}))},e.prototype.findElementWithGreaterTabIndex=function(e){for(var t=Number.MAX_SAFE_INTEGER,n=null;this.walker.current;this.walker.next()){var r=Object(c.a)(this.walker.current);if(r>e&&(!n||r<t)&&(n=this.walker.current,t=r),t===e+1)break}return this.walker.current=n,n},e.prototype.findElementWithLowerTabIndex=function(e){for(var t=0,n=null;this.walker.current;this.walker.previous()){var r=Object(c.a)(this.walker.current);if(r<e&&r>t&&(n=this.walker.current,t=r),t===e-1)break}return this.walker.current=n,n},e.prototype.findNextFocusable=function(e){var t=this.walker.current,n=t?Object(c.a)(t):0;if(t){if(!e)return this.walker.next();if(n>=0){this.walker.next();var i=this.findElementWithTabIndex(n,r.Forward);if(i)return i}else{var o=this.findFirstElementWithGreaterTabIndex(r.Forward);if(o)return o}if(0===n)return null}if(this.walker.first(),!e)return this.walker.current;var a=this.findElementWithGreaterTabIndex(n);return a||(this.walker.first(),this.findElementWithTabIndex(0,r.Forward))},e.prototype.findPreviousFocusable=function(e){var t=this.walker.current;if(t?this.walker.previous():this.walker.last(),!e)return this.walker.current;var n,i=t?Object(c.a)(t):0;if(i<0){if(n=this.findFirstElementWithGreaterTabIndex(r.Backward))return n}else if(n=this.findElementWithTabIndex(i,r.Backward))return n;return this.walker.last(),this.findElementWithLowerTabIndex(i>0?i:Number.MAX_SAFE_INTEGER)},Object.defineProperty(e.prototype,"scope",{get:function(){return this.walker.root},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.walker.current},enumerable:!1,configurable:!0}),e.prototype.next=function(e){void 0===e&&(e={});var t=e.tabbable,n=e.from,r=e.wrap;void 0!==n&&(this.walker.current=n);var i=this.findNextFocusable(t);return!i&&r?this.findNextFocusable(t):i},e.prototype.previous=function(e){void 0===e&&(e={});var t=e.tabbable,n=e.from,r=e.wrap;void 0!==n&&(this.walker.current=n);var i=this.findPreviousFocusable(t);return!i&&r?this.findPreviousFocusable(t):i},e.prototype.first=function(e){return this.next({from:null,tabbable:e})},e.prototype.last=function(e){return this.previous({from:null,tabbable:e})},e})();n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p}));var f=Object(i.createContext)(null),h=function(e){var t=e.scopeRef,n=e.autoFocus,r=e.children,u=Object(i.useMemo)((function(){return (function(e){var t=null;function n(n){return e.current&&(null===t||void 0===t?void 0:t.scope)!==e.current&&(t=new d(e.current)),t?n(t):null}return{focusFirst:function(e){void 0===e&&(e={});var t=e.preventScroll,r=e.tabbable,i=n((function(e){return e.first(r)}));return Object(s.a)(i,t),i},focusLast:function(e){void 0===e&&(e={});var t=e.preventScroll,r=e.tabbable,i=n((function(e){return e.last(r)}));return Object(s.a)(i,t),i},focusNext:function(e){void 0===e&&(e={});var t=e.preventScroll,r=Object(a.__rest)(e,["preventScroll"]),i=n((function(e){return e.next(r)}));return Object(s.a)(i,t),i},focusPrevious:function(e){void 0===e&&(e={});var t=e.preventScroll,r=Object(a.__rest)(e,["preventScroll"]),i=n((function(e){return e.previous(r)}));return Object(s.a)(i,t),i}}})(t)}),[t]);return Object(i.useEffect)((function(){n&&u.focusFirst()}),[]),o.a.createElement(f.Provider,{value:u},r)};function p(){var e=Object(i.useContext)(f);if(!e)throw new Error("Could not find focus manager context value. Please ensure the component is wrapped in a <FocusManagerScope />");return e}}),(function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(1879);function a(e,t){var n=Object(i.useRef)(function(e){var t={state:e,setState:function(e){t.state=e,t.setters.forEach((function(e){return e(t.state)}))},setters:[]};return function(){var e=Object(r.__read)(Object(i.useState)(t.state),2),n=e[0],a=e[1];return Object(i.useEffect)((function(){return function(){t.setters=t.setters.filter((function(e){return e!==a}))}}),[]),Object(o.a)((function(){-1===t.setters.indexOf(a)&&t.setters.push(a)})),[n,t.setState]}}([e,t])).current,a=Object(r.__read)(n(),2)[1],s=Object(i.useRef)((function(e){var t=Object(r.__read)(n(),1)[0],o=Object(r.__read)(t||[],2),a=o[0],s=o[1];return void 0===t||void 0===s?Object(i.createElement)(a,e):s(e,a)})).current;return Object(i.useEffect)((function(){a([e,t])}),[a,e,t]),s}n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var s=function(e){return(0,e.children)(a(e.component,e.render))};s.displayName="RenderOverrideProvider";var u=function(e){var t=e.children,n=e.components.map((function(e){var t=Object(r.__read)(e,2);return a(t[0],t[1])}));return t.apply(void 0,Object(r.__spread)(n))};u.displayName="MultiRenderOverrideProvider"})]);